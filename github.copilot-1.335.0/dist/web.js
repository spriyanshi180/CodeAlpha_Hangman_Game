"use strict";var yz=Object.create;var x1=Object.defineProperty;var vz=Object.getOwnPropertyDescriptor;var Tz=Object.getOwnPropertyNames;var Ez=Object.getPrototypeOf,Cz=Object.prototype.hasOwnProperty;var HI=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),VI=e=>{throw TypeError(e)};var o=(e,t)=>x1(e,"name",{value:t,configurable:!0});var Iz=(e,t)=>()=>(e&&(t=e(e=0)),t);var Q=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),d0=(e,t)=>{for(var r in t)x1(e,r,{get:t[r],enumerable:!0})},KI=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Tz(t))!Cz.call(e,i)&&i!==r&&x1(e,i,{get:()=>t[i],enumerable:!(n=vz(t,i))||n.enumerable});return e};var Lt=(e,t,r)=>(r=e!=null?yz(Ez(e)):{},KI(t||!e||!e.__esModule?x1(r,"default",{value:e,enumerable:!0}):r,e)),Fh=e=>KI(x1({},"__esModule",{value:!0}),e);var c6=(e,t,r)=>{if(t!=null){typeof t!="object"&&typeof t!="function"&&VI("Object expected");var n,i;r&&(n=t[HI("asyncDispose")]),n===void 0&&(n=t[HI("dispose")],r&&(i=n)),typeof n!="function"&&VI("Object not disposable"),i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.push([r,n,t])}else r&&e.push([r]);return t},u6=(e,t,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(a,l,c,u){return u=Error(c),u.name="SuppressedError",u.error=a,u.suppressed=l,u},i=a=>t=r?new n(a,t,"An error was suppressed during disposal"):(r=!0,a),s=a=>{for(;a=e.pop();)try{var l=a[1]&&a[1].call(a[2]);if(a[0])return Promise.resolve(l).then(s,c=>(i(c),s()))}catch(c){i(c)}if(r)throw t};return s()};var JI=Q(()=>{});var $t=Q((Mh,XI)=>{(function(e,t){typeof Mh=="object"?XI.exports=Mh=t():typeof define=="function"&&define.amd?define([],t):e.CryptoJS=t()})(Mh,function(){var e=e||function(t,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof require=="function")try{n=JI()}catch{}var i=o(function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},"cryptoSecureRandomInt"),s=Object.create||function(){function x(){}return o(x,"F"),function(_){var y;return x.prototype=_,y=new x,x.prototype=null,y}}(),a={},l=a.lib={},c=l.Base=function(){return{extend:o(function(x){var _=s(this);return x&&_.mixIn(x),(!_.hasOwnProperty("init")||this.init===_.init)&&(_.init=function(){_.$super.init.apply(this,arguments)}),_.init.prototype=_,_.$super=this,_},"extend"),create:o(function(){var x=this.extend();return x.init.apply(x,arguments),x},"create"),init:o(function(){},"init"),mixIn:o(function(x){for(var _ in x)x.hasOwnProperty(_)&&(this[_]=x[_]);x.hasOwnProperty("toString")&&(this.toString=x.toString)},"mixIn"),clone:o(function(){return this.init.prototype.extend(this)},"clone")}}(),u=l.WordArray=c.extend({init:o(function(x,_){x=this.words=x||[],_!=r?this.sigBytes=_:this.sigBytes=x.length*4},"init"),toString:o(function(x){return(x||d).stringify(this)},"toString"),concat:o(function(x){var _=this.words,y=x.words,v=this.sigBytes,I=x.sigBytes;if(this.clamp(),v%4)for(var R=0;R<I;R++){var z=y[R>>>2]>>>24-R%4*8&255;_[v+R>>>2]|=z<<24-(v+R)%4*8}else for(var V=0;V<I;V+=4)_[v+V>>>2]=y[V>>>2];return this.sigBytes+=I,this},"concat"),clamp:o(function(){var x=this.words,_=this.sigBytes;x[_>>>2]&=4294967295<<32-_%4*8,x.length=t.ceil(_/4)},"clamp"),clone:o(function(){var x=c.clone.call(this);return x.words=this.words.slice(0),x},"clone"),random:o(function(x){for(var _=[],y=0;y<x;y+=4)_.push(i());return new u.init(_,x)},"random")}),f=a.enc={},d=f.Hex={stringify:o(function(x){for(var _=x.words,y=x.sigBytes,v=[],I=0;I<y;I++){var R=_[I>>>2]>>>24-I%4*8&255;v.push((R>>>4).toString(16)),v.push((R&15).toString(16))}return v.join("")},"stringify"),parse:o(function(x){for(var _=x.length,y=[],v=0;v<_;v+=2)y[v>>>3]|=parseInt(x.substr(v,2),16)<<24-v%8*4;return new u.init(y,_/2)},"parse")},m=f.Latin1={stringify:o(function(x){for(var _=x.words,y=x.sigBytes,v=[],I=0;I<y;I++){var R=_[I>>>2]>>>24-I%4*8&255;v.push(String.fromCharCode(R))}return v.join("")},"stringify"),parse:o(function(x){for(var _=x.length,y=[],v=0;v<_;v++)y[v>>>2]|=(x.charCodeAt(v)&255)<<24-v%4*8;return new u.init(y,_)},"parse")},p=f.Utf8={stringify:o(function(x){try{return decodeURIComponent(escape(m.stringify(x)))}catch{throw new Error("Malformed UTF-8 data")}},"stringify"),parse:o(function(x){return m.parse(unescape(encodeURIComponent(x)))},"parse")},g=l.BufferedBlockAlgorithm=c.extend({reset:o(function(){this._data=new u.init,this._nDataBytes=0},"reset"),_append:o(function(x){typeof x=="string"&&(x=p.parse(x)),this._data.concat(x),this._nDataBytes+=x.sigBytes},"_append"),_process:o(function(x){var _,y=this._data,v=y.words,I=y.sigBytes,R=this.blockSize,z=R*4,V=I/z;x?V=t.ceil(V):V=t.max((V|0)-this._minBufferSize,0);var $=V*R,Y=t.min($*4,I);if($){for(var P=0;P<$;P+=R)this._doProcessBlock(v,P);_=v.splice(0,$),y.sigBytes-=Y}return new u.init(_,Y)},"_process"),clone:o(function(){var x=c.clone.call(this);return x._data=this._data.clone(),x},"clone"),_minBufferSize:0}),h=l.Hasher=g.extend({cfg:c.extend(),init:o(function(x){this.cfg=this.cfg.extend(x),this.reset()},"init"),reset:o(function(){g.reset.call(this),this._doReset()},"reset"),update:o(function(x){return this._append(x),this._process(),this},"update"),finalize:o(function(x){x&&this._append(x);var _=this._doFinalize();return _},"finalize"),blockSize:512/32,_createHelper:o(function(x){return function(_,y){return new x.init(y).finalize(_)}},"_createHelper"),_createHmacHelper:o(function(x){return function(_,y){return new b.HMAC.init(x,y).finalize(_)}},"_createHmacHelper")}),b=a.algo={};return a}(Math);return e})});var b1=Q((Uh,ZI)=>{(function(e,t){typeof Uh=="object"?ZI.exports=Uh=t($t()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Uh,function(e){return function(t){var r=e,n=r.lib,i=n.Base,s=n.WordArray,a=r.x64={},l=a.Word=i.extend({init:o(function(u,f){this.high=u,this.low=f},"init")}),c=a.WordArray=i.extend({init:o(function(u,f){u=this.words=u||[],f!=t?this.sigBytes=f:this.sigBytes=u.length*8},"init"),toX32:o(function(){for(var u=this.words,f=u.length,d=[],m=0;m<f;m++){var p=u[m];d.push(p.high),d.push(p.low)}return s.create(d,this.sigBytes)},"toX32"),clone:o(function(){for(var u=i.clone.call(this),f=u.words=this.words.slice(0),d=f.length,m=0;m<d;m++)f[m]=f[m].clone();return u},"clone")})}(),e})});var eS=Q((Bh,QI)=>{(function(e,t){typeof Bh=="object"?QI.exports=Bh=t($t()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Bh,function(e){return function(){if(typeof ArrayBuffer=="function"){var t=e,r=t.lib,n=r.WordArray,i=n.init,s=n.init=function(a){if(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),(a instanceof Int8Array||typeof Uint8ClampedArray<"u"&&a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)&&(a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)),a instanceof Uint8Array){for(var l=a.byteLength,c=[],u=0;u<l;u++)c[u>>>2]|=a[u]<<24-u%4*8;i.call(this,c,l)}else i.apply(this,arguments)};s.prototype=n}}(),e.lib.WordArray})});var rS=Q((jh,tS)=>{(function(e,t){typeof jh=="object"?tS.exports=jh=t($t()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(jh,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,s=i.Utf16=i.Utf16BE={stringify:o(function(l){for(var c=l.words,u=l.sigBytes,f=[],d=0;d<u;d+=2){var m=c[d>>>2]>>>16-d%4*8&65535;f.push(String.fromCharCode(m))}return f.join("")},"stringify"),parse:o(function(l){for(var c=l.length,u=[],f=0;f<c;f++)u[f>>>1]|=l.charCodeAt(f)<<16-f%2*16;return n.create(u,c*2)},"parse")};i.Utf16LE={stringify:o(function(l){for(var c=l.words,u=l.sigBytes,f=[],d=0;d<u;d+=2){var m=a(c[d>>>2]>>>16-d%4*8&65535);f.push(String.fromCharCode(m))}return f.join("")},"stringify"),parse:o(function(l){for(var c=l.length,u=[],f=0;f<c;f++)u[f>>>1]|=a(l.charCodeAt(f)<<16-f%2*16);return n.create(u,c*2)},"parse")};function a(l){return l<<8&4278255360|l>>>8&16711935}o(a,"swapEndian")}(),e.enc.Utf16})});var vl=Q(($h,nS)=>{(function(e,t){typeof $h=="object"?nS.exports=$h=t($t()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})($h,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,s=i.Base64={stringify:o(function(l){var c=l.words,u=l.sigBytes,f=this._map;l.clamp();for(var d=[],m=0;m<u;m+=3)for(var p=c[m>>>2]>>>24-m%4*8&255,g=c[m+1>>>2]>>>24-(m+1)%4*8&255,h=c[m+2>>>2]>>>24-(m+2)%4*8&255,b=p<<16|g<<8|h,x=0;x<4&&m+x*.75<u;x++)d.push(f.charAt(b>>>6*(3-x)&63));var _=f.charAt(64);if(_)for(;d.length%4;)d.push(_);return d.join("")},"stringify"),parse:o(function(l){var c=l.length,u=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var d=0;d<u.length;d++)f[u.charCodeAt(d)]=d}var m=u.charAt(64);if(m){var p=l.indexOf(m);p!==-1&&(c=p)}return a(l,c,f)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,u){for(var f=[],d=0,m=0;m<c;m++)if(m%4){var p=u[l.charCodeAt(m-1)]<<m%4*2,g=u[l.charCodeAt(m)]>>>6-m%4*2,h=p|g;f[d>>>2]|=h<<24-d%4*8,d++}return n.create(f,d)}o(a,"parseLoop")}(),e.enc.Base64})});var oS=Q((Wh,iS)=>{(function(e,t){typeof Wh=="object"?iS.exports=Wh=t($t()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Wh,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,s=i.Base64url={stringify:o(function(l,c){c===void 0&&(c=!0);var u=l.words,f=l.sigBytes,d=c?this._safe_map:this._map;l.clamp();for(var m=[],p=0;p<f;p+=3)for(var g=u[p>>>2]>>>24-p%4*8&255,h=u[p+1>>>2]>>>24-(p+1)%4*8&255,b=u[p+2>>>2]>>>24-(p+2)%4*8&255,x=g<<16|h<<8|b,_=0;_<4&&p+_*.75<f;_++)m.push(d.charAt(x>>>6*(3-_)&63));var y=d.charAt(64);if(y)for(;m.length%4;)m.push(y);return m.join("")},"stringify"),parse:o(function(l,c){c===void 0&&(c=!0);var u=l.length,f=c?this._safe_map:this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var m=0;m<f.length;m++)d[f.charCodeAt(m)]=m}var p=f.charAt(64);if(p){var g=l.indexOf(p);g!==-1&&(u=g)}return a(l,u,d)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,c,u){for(var f=[],d=0,m=0;m<c;m++)if(m%4){var p=u[l.charCodeAt(m-1)]<<m%4*2,g=u[l.charCodeAt(m)]>>>6-m%4*2,h=p|g;f[d>>>2]|=h<<24-d%4*8,d++}return n.create(f,d)}o(a,"parseLoop")}(),e.enc.Base64url})});var Tl=Q((qh,sS)=>{(function(e,t){typeof qh=="object"?sS.exports=qh=t($t()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(qh,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,l=[];(function(){for(var p=0;p<64;p++)l[p]=t.abs(t.sin(p+1))*4294967296|0})();var c=a.MD5=s.extend({_doReset:o(function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},"_doReset"),_doProcessBlock:o(function(p,g){for(var h=0;h<16;h++){var b=g+h,x=p[b];p[b]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360}var _=this._hash.words,y=p[g+0],v=p[g+1],I=p[g+2],R=p[g+3],z=p[g+4],V=p[g+5],$=p[g+6],Y=p[g+7],P=p[g+8],w=p[g+9],H=p[g+10],N=p[g+11],T=p[g+12],E=p[g+13],D=p[g+14],S=p[g+15],A=_[0],k=_[1],O=_[2],M=_[3];A=u(A,k,O,M,y,7,l[0]),M=u(M,A,k,O,v,12,l[1]),O=u(O,M,A,k,I,17,l[2]),k=u(k,O,M,A,R,22,l[3]),A=u(A,k,O,M,z,7,l[4]),M=u(M,A,k,O,V,12,l[5]),O=u(O,M,A,k,$,17,l[6]),k=u(k,O,M,A,Y,22,l[7]),A=u(A,k,O,M,P,7,l[8]),M=u(M,A,k,O,w,12,l[9]),O=u(O,M,A,k,H,17,l[10]),k=u(k,O,M,A,N,22,l[11]),A=u(A,k,O,M,T,7,l[12]),M=u(M,A,k,O,E,12,l[13]),O=u(O,M,A,k,D,17,l[14]),k=u(k,O,M,A,S,22,l[15]),A=f(A,k,O,M,v,5,l[16]),M=f(M,A,k,O,$,9,l[17]),O=f(O,M,A,k,N,14,l[18]),k=f(k,O,M,A,y,20,l[19]),A=f(A,k,O,M,V,5,l[20]),M=f(M,A,k,O,H,9,l[21]),O=f(O,M,A,k,S,14,l[22]),k=f(k,O,M,A,z,20,l[23]),A=f(A,k,O,M,w,5,l[24]),M=f(M,A,k,O,D,9,l[25]),O=f(O,M,A,k,R,14,l[26]),k=f(k,O,M,A,P,20,l[27]),A=f(A,k,O,M,E,5,l[28]),M=f(M,A,k,O,I,9,l[29]),O=f(O,M,A,k,Y,14,l[30]),k=f(k,O,M,A,T,20,l[31]),A=d(A,k,O,M,V,4,l[32]),M=d(M,A,k,O,P,11,l[33]),O=d(O,M,A,k,N,16,l[34]),k=d(k,O,M,A,D,23,l[35]),A=d(A,k,O,M,v,4,l[36]),M=d(M,A,k,O,z,11,l[37]),O=d(O,M,A,k,Y,16,l[38]),k=d(k,O,M,A,H,23,l[39]),A=d(A,k,O,M,E,4,l[40]),M=d(M,A,k,O,y,11,l[41]),O=d(O,M,A,k,R,16,l[42]),k=d(k,O,M,A,$,23,l[43]),A=d(A,k,O,M,w,4,l[44]),M=d(M,A,k,O,T,11,l[45]),O=d(O,M,A,k,S,16,l[46]),k=d(k,O,M,A,I,23,l[47]),A=m(A,k,O,M,y,6,l[48]),M=m(M,A,k,O,Y,10,l[49]),O=m(O,M,A,k,D,15,l[50]),k=m(k,O,M,A,V,21,l[51]),A=m(A,k,O,M,T,6,l[52]),M=m(M,A,k,O,R,10,l[53]),O=m(O,M,A,k,H,15,l[54]),k=m(k,O,M,A,v,21,l[55]),A=m(A,k,O,M,P,6,l[56]),M=m(M,A,k,O,S,10,l[57]),O=m(O,M,A,k,$,15,l[58]),k=m(k,O,M,A,E,21,l[59]),A=m(A,k,O,M,z,6,l[60]),M=m(M,A,k,O,N,10,l[61]),O=m(O,M,A,k,I,15,l[62]),k=m(k,O,M,A,w,21,l[63]),_[0]=_[0]+A|0,_[1]=_[1]+k|0,_[2]=_[2]+O|0,_[3]=_[3]+M|0},"_doProcessBlock"),_doFinalize:o(function(){var p=this._data,g=p.words,h=this._nDataBytes*8,b=p.sigBytes*8;g[b>>>5]|=128<<24-b%32;var x=t.floor(h/4294967296),_=h;g[(b+64>>>9<<4)+15]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,g[(b+64>>>9<<4)+14]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,p.sigBytes=(g.length+1)*4,this._process();for(var y=this._hash,v=y.words,I=0;I<4;I++){var R=v[I];v[I]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}return y},"_doFinalize"),clone:o(function(){var p=s.clone.call(this);return p._hash=this._hash.clone(),p},"clone")});function u(p,g,h,b,x,_,y){var v=p+(g&h|~g&b)+x+y;return(v<<_|v>>>32-_)+g}o(u,"FF");function f(p,g,h,b,x,_,y){var v=p+(g&b|h&~b)+x+y;return(v<<_|v>>>32-_)+g}o(f,"GG");function d(p,g,h,b,x,_,y){var v=p+(g^h^b)+x+y;return(v<<_|v>>>32-_)+g}o(d,"HH");function m(p,g,h,b,x,_,y){var v=p+(h^(g|~b))+x+y;return(v<<_|v>>>32-_)+g}o(m,"II"),r.MD5=s._createHelper(c),r.HmacMD5=s._createHmacHelper(c)}(Math),e.MD5})});var d6=Q((Gh,aS)=>{(function(e,t){typeof Gh=="object"?aS.exports=Gh=t($t()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Gh,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.Hasher,s=t.algo,a=[],l=s.SHA1=i.extend({_doReset:o(function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:o(function(c,u){for(var f=this._hash.words,d=f[0],m=f[1],p=f[2],g=f[3],h=f[4],b=0;b<80;b++){if(b<16)a[b]=c[u+b]|0;else{var x=a[b-3]^a[b-8]^a[b-14]^a[b-16];a[b]=x<<1|x>>>31}var _=(d<<5|d>>>27)+h+a[b];b<20?_+=(m&p|~m&g)+1518500249:b<40?_+=(m^p^g)+1859775393:b<60?_+=(m&p|m&g|p&g)-1894007588:_+=(m^p^g)-899497514,h=g,g=p,p=m<<30|m>>>2,m=d,d=_}f[0]=f[0]+d|0,f[1]=f[1]+m|0,f[2]=f[2]+p|0,f[3]=f[3]+g|0,f[4]=f[4]+h|0},"_doProcessBlock"),_doFinalize:o(function(){var c=this._data,u=c.words,f=this._nDataBytes*8,d=c.sigBytes*8;return u[d>>>5]|=128<<24-d%32,u[(d+64>>>9<<4)+14]=Math.floor(f/4294967296),u[(d+64>>>9<<4)+15]=f,c.sigBytes=u.length*4,this._process(),this._hash},"_doFinalize"),clone:o(function(){var c=i.clone.call(this);return c._hash=this._hash.clone(),c},"clone")});t.SHA1=i._createHelper(l),t.HmacSHA1=i._createHmacHelper(l)}(),e.SHA1})});var Hh=Q((zh,lS)=>{(function(e,t){typeof zh=="object"?lS.exports=zh=t($t()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(zh,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,l=[],c=[];(function(){function d(h){for(var b=t.sqrt(h),x=2;x<=b;x++)if(!(h%x))return!1;return!0}o(d,"isPrime");function m(h){return(h-(h|0))*4294967296|0}o(m,"getFractionalBits");for(var p=2,g=0;g<64;)d(p)&&(g<8&&(l[g]=m(t.pow(p,1/2))),c[g]=m(t.pow(p,1/3)),g++),p++})();var u=[],f=a.SHA256=s.extend({_doReset:o(function(){this._hash=new i.init(l.slice(0))},"_doReset"),_doProcessBlock:o(function(d,m){for(var p=this._hash.words,g=p[0],h=p[1],b=p[2],x=p[3],_=p[4],y=p[5],v=p[6],I=p[7],R=0;R<64;R++){if(R<16)u[R]=d[m+R]|0;else{var z=u[R-15],V=(z<<25|z>>>7)^(z<<14|z>>>18)^z>>>3,$=u[R-2],Y=($<<15|$>>>17)^($<<13|$>>>19)^$>>>10;u[R]=V+u[R-7]+Y+u[R-16]}var P=_&y^~_&v,w=g&h^g&b^h&b,H=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),N=(_<<26|_>>>6)^(_<<21|_>>>11)^(_<<7|_>>>25),T=I+N+P+c[R]+u[R],E=H+w;I=v,v=y,y=_,_=x+T|0,x=b,b=h,h=g,g=T+E|0}p[0]=p[0]+g|0,p[1]=p[1]+h|0,p[2]=p[2]+b|0,p[3]=p[3]+x|0,p[4]=p[4]+_|0,p[5]=p[5]+y|0,p[6]=p[6]+v|0,p[7]=p[7]+I|0},"_doProcessBlock"),_doFinalize:o(function(){var d=this._data,m=d.words,p=this._nDataBytes*8,g=d.sigBytes*8;return m[g>>>5]|=128<<24-g%32,m[(g+64>>>9<<4)+14]=t.floor(p/4294967296),m[(g+64>>>9<<4)+15]=p,d.sigBytes=m.length*4,this._process(),this._hash},"_doFinalize"),clone:o(function(){var d=s.clone.call(this);return d._hash=this._hash.clone(),d},"clone")});r.SHA256=s._createHelper(f),r.HmacSHA256=s._createHmacHelper(f)}(Math),e.SHA256})});var uS=Q((Vh,cS)=>{(function(e,t,r){typeof Vh=="object"?cS.exports=Vh=t($t(),Hh()):typeof define=="function"&&define.amd?define(["./core","./sha256"],t):t(e.CryptoJS)})(Vh,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.algo,s=i.SHA256,a=i.SHA224=s.extend({_doReset:o(function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},"_doReset"),_doFinalize:o(function(){var l=s._doFinalize.call(this);return l.sigBytes-=4,l},"_doFinalize")});t.SHA224=s._createHelper(a),t.HmacSHA224=s._createHmacHelper(a)}(),e.SHA224})});var m6=Q((Kh,fS)=>{(function(e,t,r){typeof Kh=="object"?fS.exports=Kh=t($t(),b1()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(Kh,function(e){return function(){var t=e,r=t.lib,n=r.Hasher,i=t.x64,s=i.Word,a=i.WordArray,l=t.algo;function c(){return s.create.apply(s,arguments)}o(c,"X64Word_create");var u=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],f=[];(function(){for(var m=0;m<80;m++)f[m]=c()})();var d=l.SHA512=n.extend({_doReset:o(function(){this._hash=new a.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},"_doReset"),_doProcessBlock:o(function(m,p){for(var g=this._hash.words,h=g[0],b=g[1],x=g[2],_=g[3],y=g[4],v=g[5],I=g[6],R=g[7],z=h.high,V=h.low,$=b.high,Y=b.low,P=x.high,w=x.low,H=_.high,N=_.low,T=y.high,E=y.low,D=v.high,S=v.low,A=I.high,k=I.low,O=R.high,M=R.low,G=z,se=V,ye=$,xe=Y,Ue=P,He=w,Ve=H,Qe=N,F=T,ne=E,B=D,he=S,le=A,W=k,re=O,be=M,ue=0;ue<80;ue++){var me,Ee,we=f[ue];if(ue<16)Ee=we.high=m[p+ue*2]|0,me=we.low=m[p+ue*2+1]|0;else{var ke=f[ue-15],We=ke.high,Ke=ke.low,rt=(We>>>1|Ke<<31)^(We>>>8|Ke<<24)^We>>>7,nt=(Ke>>>1|We<<31)^(Ke>>>8|We<<24)^(Ke>>>7|We<<25),ct=f[ue-2],L=ct.high,Z=ct.low,fe=(L>>>19|Z<<13)^(L<<3|Z>>>29)^L>>>6,ge=(Z>>>19|L<<13)^(Z<<3|L>>>29)^(Z>>>6|L<<26),De=f[ue-7],Me=De.high,$e=De.low,Ge=f[ue-16],Re=Ge.high,q=Ge.low;me=nt+$e,Ee=rt+Me+(me>>>0<nt>>>0?1:0),me=me+ge,Ee=Ee+fe+(me>>>0<ge>>>0?1:0),me=me+q,Ee=Ee+Re+(me>>>0<q>>>0?1:0),we.high=Ee,we.low=me}var J=F&B^~F&le,ae=ne&he^~ne&W,pe=G&ye^G&Ue^ye&Ue,_e=se&xe^se&He^xe&He,Te=(G>>>28|se<<4)^(G<<30|se>>>2)^(G<<25|se>>>7),Ae=(se>>>28|G<<4)^(se<<30|G>>>2)^(se<<25|G>>>7),Ye=(F>>>14|ne<<18)^(F>>>18|ne<<14)^(F<<23|ne>>>9),ft=(ne>>>14|F<<18)^(ne>>>18|F<<14)^(ne<<23|F>>>9),Ie=u[ue],Nt=Ie.high,St=Ie.low,it=be+ft,dt=re+Ye+(it>>>0<be>>>0?1:0),it=it+ae,dt=dt+J+(it>>>0<ae>>>0?1:0),it=it+St,dt=dt+Nt+(it>>>0<St>>>0?1:0),it=it+me,dt=dt+Ee+(it>>>0<me>>>0?1:0),Rt=Ae+_e,Ut=Te+pe+(Rt>>>0<Ae>>>0?1:0);re=le,be=W,le=B,W=he,B=F,he=ne,ne=Qe+it|0,F=Ve+dt+(ne>>>0<Qe>>>0?1:0)|0,Ve=Ue,Qe=He,Ue=ye,He=xe,ye=G,xe=se,se=it+Rt|0,G=dt+Ut+(se>>>0<it>>>0?1:0)|0}V=h.low=V+se,h.high=z+G+(V>>>0<se>>>0?1:0),Y=b.low=Y+xe,b.high=$+ye+(Y>>>0<xe>>>0?1:0),w=x.low=w+He,x.high=P+Ue+(w>>>0<He>>>0?1:0),N=_.low=N+Qe,_.high=H+Ve+(N>>>0<Qe>>>0?1:0),E=y.low=E+ne,y.high=T+F+(E>>>0<ne>>>0?1:0),S=v.low=S+he,v.high=D+B+(S>>>0<he>>>0?1:0),k=I.low=k+W,I.high=A+le+(k>>>0<W>>>0?1:0),M=R.low=M+be,R.high=O+re+(M>>>0<be>>>0?1:0)},"_doProcessBlock"),_doFinalize:o(function(){var m=this._data,p=m.words,g=this._nDataBytes*8,h=m.sigBytes*8;p[h>>>5]|=128<<24-h%32,p[(h+128>>>10<<5)+30]=Math.floor(g/4294967296),p[(h+128>>>10<<5)+31]=g,m.sigBytes=p.length*4,this._process();var b=this._hash.toX32();return b},"_doFinalize"),clone:o(function(){var m=n.clone.call(this);return m._hash=this._hash.clone(),m},"clone"),blockSize:1024/32});t.SHA512=n._createHelper(d),t.HmacSHA512=n._createHmacHelper(d)}(),e.SHA512})});var mS=Q((Yh,dS)=>{(function(e,t,r){typeof Yh=="object"?dS.exports=Yh=t($t(),b1(),m6()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],t):t(e.CryptoJS)})(Yh,function(e){return function(){var t=e,r=t.x64,n=r.Word,i=r.WordArray,s=t.algo,a=s.SHA512,l=s.SHA384=a.extend({_doReset:o(function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},"_doReset"),_doFinalize:o(function(){var c=a._doFinalize.call(this);return c.sigBytes-=16,c},"_doFinalize")});t.SHA384=a._createHelper(l),t.HmacSHA384=a._createHmacHelper(l)}(),e.SHA384})});var gS=Q((Jh,pS)=>{(function(e,t,r){typeof Jh=="object"?pS.exports=Jh=t($t(),b1()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(Jh,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.x64,l=a.Word,c=r.algo,u=[],f=[],d=[];(function(){for(var g=1,h=0,b=0;b<24;b++){u[g+5*h]=(b+1)*(b+2)/2%64;var x=h%5,_=(2*g+3*h)%5;g=x,h=_}for(var g=0;g<5;g++)for(var h=0;h<5;h++)f[g+5*h]=h+(2*g+3*h)%5*5;for(var y=1,v=0;v<24;v++){for(var I=0,R=0,z=0;z<7;z++){if(y&1){var V=(1<<z)-1;V<32?R^=1<<V:I^=1<<V-32}y&128?y=y<<1^113:y<<=1}d[v]=l.create(I,R)}})();var m=[];(function(){for(var g=0;g<25;g++)m[g]=l.create()})();var p=c.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:o(function(){for(var g=this._state=[],h=0;h<25;h++)g[h]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},"_doReset"),_doProcessBlock:o(function(g,h){for(var b=this._state,x=this.blockSize/2,_=0;_<x;_++){var y=g[h+2*_],v=g[h+2*_+1];y=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,v=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360;var I=b[_];I.high^=v,I.low^=y}for(var R=0;R<24;R++){for(var z=0;z<5;z++){for(var V=0,$=0,Y=0;Y<5;Y++){var I=b[z+5*Y];V^=I.high,$^=I.low}var P=m[z];P.high=V,P.low=$}for(var z=0;z<5;z++)for(var w=m[(z+4)%5],H=m[(z+1)%5],N=H.high,T=H.low,V=w.high^(N<<1|T>>>31),$=w.low^(T<<1|N>>>31),Y=0;Y<5;Y++){var I=b[z+5*Y];I.high^=V,I.low^=$}for(var E=1;E<25;E++){var V,$,I=b[E],D=I.high,S=I.low,A=u[E];A<32?(V=D<<A|S>>>32-A,$=S<<A|D>>>32-A):(V=S<<A-32|D>>>64-A,$=D<<A-32|S>>>64-A);var k=m[f[E]];k.high=V,k.low=$}var O=m[0],M=b[0];O.high=M.high,O.low=M.low;for(var z=0;z<5;z++)for(var Y=0;Y<5;Y++){var E=z+5*Y,I=b[E],G=m[E],se=m[(z+1)%5+5*Y],ye=m[(z+2)%5+5*Y];I.high=G.high^~se.high&ye.high,I.low=G.low^~se.low&ye.low}var I=b[0],xe=d[R];I.high^=xe.high,I.low^=xe.low}},"_doProcessBlock"),_doFinalize:o(function(){var g=this._data,h=g.words,b=this._nDataBytes*8,x=g.sigBytes*8,_=this.blockSize*32;h[x>>>5]|=1<<24-x%32,h[(t.ceil((x+1)/_)*_>>>5)-1]|=128,g.sigBytes=h.length*4,this._process();for(var y=this._state,v=this.cfg.outputLength/8,I=v/8,R=[],z=0;z<I;z++){var V=y[z],$=V.high,Y=V.low;$=($<<8|$>>>24)&16711935|($<<24|$>>>8)&4278255360,Y=(Y<<8|Y>>>24)&16711935|(Y<<24|Y>>>8)&4278255360,R.push(Y),R.push($)}return new i.init(R,v)},"_doFinalize"),clone:o(function(){for(var g=s.clone.call(this),h=g._state=this._state.slice(0),b=0;b<25;b++)h[b]=h[b].clone();return g},"clone")});r.SHA3=s._createHelper(p),r.HmacSHA3=s._createHmacHelper(p)}(Math),e.SHA3})});var xS=Q((Xh,hS)=>{(function(e,t){typeof Xh=="object"?hS.exports=Xh=t($t()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Xh,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,l=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=i.create([0,1518500249,1859775393,2400959708,2840853838]),m=i.create([1352829926,1548603684,1836072691,2053994217,0]),p=a.RIPEMD160=s.extend({_doReset:o(function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:o(function(v,I){for(var R=0;R<16;R++){var z=I+R,V=v[z];v[z]=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360}var $=this._hash.words,Y=d.words,P=m.words,w=l.words,H=c.words,N=u.words,T=f.words,E,D,S,A,k,O,M,G,se,ye;O=E=$[0],M=D=$[1],G=S=$[2],se=A=$[3],ye=k=$[4];for(var xe,R=0;R<80;R+=1)xe=E+v[I+w[R]]|0,R<16?xe+=g(D,S,A)+Y[0]:R<32?xe+=h(D,S,A)+Y[1]:R<48?xe+=b(D,S,A)+Y[2]:R<64?xe+=x(D,S,A)+Y[3]:xe+=_(D,S,A)+Y[4],xe=xe|0,xe=y(xe,N[R]),xe=xe+k|0,E=k,k=A,A=y(S,10),S=D,D=xe,xe=O+v[I+H[R]]|0,R<16?xe+=_(M,G,se)+P[0]:R<32?xe+=x(M,G,se)+P[1]:R<48?xe+=b(M,G,se)+P[2]:R<64?xe+=h(M,G,se)+P[3]:xe+=g(M,G,se)+P[4],xe=xe|0,xe=y(xe,T[R]),xe=xe+ye|0,O=ye,ye=se,se=y(G,10),G=M,M=xe;xe=$[1]+S+se|0,$[1]=$[2]+A+ye|0,$[2]=$[3]+k+O|0,$[3]=$[4]+E+M|0,$[4]=$[0]+D+G|0,$[0]=xe},"_doProcessBlock"),_doFinalize:o(function(){var v=this._data,I=v.words,R=this._nDataBytes*8,z=v.sigBytes*8;I[z>>>5]|=128<<24-z%32,I[(z+64>>>9<<4)+14]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,v.sigBytes=(I.length+1)*4,this._process();for(var V=this._hash,$=V.words,Y=0;Y<5;Y++){var P=$[Y];$[Y]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360}return V},"_doFinalize"),clone:o(function(){var v=s.clone.call(this);return v._hash=this._hash.clone(),v},"clone")});function g(v,I,R){return v^I^R}o(g,"f1");function h(v,I,R){return v&I|~v&R}o(h,"f2");function b(v,I,R){return(v|~I)^R}o(b,"f3");function x(v,I,R){return v&R|I&~R}o(x,"f4");function _(v,I,R){return v^(I|~R)}o(_,"f5");function y(v,I){return v<<I|v>>>32-I}o(y,"rotl"),r.RIPEMD160=s._createHelper(p),r.HmacRIPEMD160=s._createHmacHelper(p)}(Math),e.RIPEMD160})});var Qh=Q((Zh,bS)=>{(function(e,t){typeof Zh=="object"?bS.exports=Zh=t($t()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Zh,function(e){(function(){var t=e,r=t.lib,n=r.Base,i=t.enc,s=i.Utf8,a=t.algo,l=a.HMAC=n.extend({init:o(function(c,u){c=this._hasher=new c.init,typeof u=="string"&&(u=s.parse(u));var f=c.blockSize,d=f*4;u.sigBytes>d&&(u=c.finalize(u)),u.clamp();for(var m=this._oKey=u.clone(),p=this._iKey=u.clone(),g=m.words,h=p.words,b=0;b<f;b++)g[b]^=1549556828,h[b]^=909522486;m.sigBytes=p.sigBytes=d,this.reset()},"init"),reset:o(function(){var c=this._hasher;c.reset(),c.update(this._iKey)},"reset"),update:o(function(c){return this._hasher.update(c),this},"update"),finalize:o(function(c){var u=this._hasher,f=u.finalize(c);u.reset();var d=u.finalize(this._oKey.clone().concat(f));return d},"finalize")})})()})});var yS=Q((e2,_S)=>{(function(e,t,r){typeof e2=="object"?_S.exports=e2=t($t(),Hh(),Qh()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],t):t(e.CryptoJS)})(e2,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,s=t.algo,a=s.SHA256,l=s.HMAC,c=s.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:25e4}),init:o(function(u){this.cfg=this.cfg.extend(u)},"init"),compute:o(function(u,f){for(var d=this.cfg,m=l.create(d.hasher,u),p=i.create(),g=i.create([1]),h=p.words,b=g.words,x=d.keySize,_=d.iterations;h.length<x;){var y=m.update(f).finalize(g);m.reset();for(var v=y.words,I=v.length,R=y,z=1;z<_;z++){R=m.finalize(R),m.reset();for(var V=R.words,$=0;$<I;$++)v[$]^=V[$]}p.concat(y),b[0]++}return p.sigBytes=x*4,p},"compute")});t.PBKDF2=function(u,f,d){return c.create(d).compute(u,f)}}(),e.PBKDF2})});var pa=Q((t2,vS)=>{(function(e,t,r){typeof t2=="object"?vS.exports=t2=t($t(),d6(),Qh()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],t):t(e.CryptoJS)})(t2,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,s=t.algo,a=s.MD5,l=s.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:1}),init:o(function(c){this.cfg=this.cfg.extend(c)},"init"),compute:o(function(c,u){for(var f,d=this.cfg,m=d.hasher.create(),p=i.create(),g=p.words,h=d.keySize,b=d.iterations;g.length<h;){f&&m.update(f),f=m.update(c).finalize(u),m.reset();for(var x=1;x<b;x++)f=m.finalize(f),m.reset();p.concat(f)}return p.sigBytes=h*4,p},"compute")});t.EvpKDF=function(c,u,f){return l.create(f).compute(c,u)}}(),e.EvpKDF})});var Rn=Q((r2,TS)=>{(function(e,t,r){typeof r2=="object"?TS.exports=r2=t($t(),pa()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],t):t(e.CryptoJS)})(r2,function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,i=n.Base,s=n.WordArray,a=n.BufferedBlockAlgorithm,l=r.enc,c=l.Utf8,u=l.Base64,f=r.algo,d=f.EvpKDF,m=n.Cipher=a.extend({cfg:i.extend(),createEncryptor:o(function(P,w){return this.create(this._ENC_XFORM_MODE,P,w)},"createEncryptor"),createDecryptor:o(function(P,w){return this.create(this._DEC_XFORM_MODE,P,w)},"createDecryptor"),init:o(function(P,w,H){this.cfg=this.cfg.extend(H),this._xformMode=P,this._key=w,this.reset()},"init"),reset:o(function(){a.reset.call(this),this._doReset()},"reset"),process:o(function(P){return this._append(P),this._process()},"process"),finalize:o(function(P){P&&this._append(P);var w=this._doFinalize();return w},"finalize"),keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function P(w){return typeof w=="string"?Y:z}return o(P,"selectCipherStrategy"),function(w){return{encrypt:o(function(H,N,T){return P(N).encrypt(w,H,N,T)},"encrypt"),decrypt:o(function(H,N,T){return P(N).decrypt(w,H,N,T)},"decrypt")}}}()}),p=n.StreamCipher=m.extend({_doFinalize:o(function(){var P=this._process(!0);return P},"_doFinalize"),blockSize:1}),g=r.mode={},h=n.BlockCipherMode=i.extend({createEncryptor:o(function(P,w){return this.Encryptor.create(P,w)},"createEncryptor"),createDecryptor:o(function(P,w){return this.Decryptor.create(P,w)},"createDecryptor"),init:o(function(P,w){this._cipher=P,this._iv=w},"init")}),b=g.CBC=function(){var P=h.extend();P.Encryptor=P.extend({processBlock:o(function(H,N){var T=this._cipher,E=T.blockSize;w.call(this,H,N,E),T.encryptBlock(H,N),this._prevBlock=H.slice(N,N+E)},"processBlock")}),P.Decryptor=P.extend({processBlock:o(function(H,N){var T=this._cipher,E=T.blockSize,D=H.slice(N,N+E);T.decryptBlock(H,N),w.call(this,H,N,E),this._prevBlock=D},"processBlock")});function w(H,N,T){var E,D=this._iv;D?(E=D,this._iv=t):E=this._prevBlock;for(var S=0;S<T;S++)H[N+S]^=E[S]}return o(w,"xorBlock"),P}(),x=r.pad={},_=x.Pkcs7={pad:o(function(P,w){for(var H=w*4,N=H-P.sigBytes%H,T=N<<24|N<<16|N<<8|N,E=[],D=0;D<N;D+=4)E.push(T);var S=s.create(E,N);P.concat(S)},"pad"),unpad:o(function(P){var w=P.words[P.sigBytes-1>>>2]&255;P.sigBytes-=w},"unpad")},y=n.BlockCipher=m.extend({cfg:m.cfg.extend({mode:b,padding:_}),reset:o(function(){var P;m.reset.call(this);var w=this.cfg,H=w.iv,N=w.mode;this._xformMode==this._ENC_XFORM_MODE?P=N.createEncryptor:(P=N.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==P?this._mode.init(this,H&&H.words):(this._mode=P.call(N,this,H&&H.words),this._mode.__creator=P)},"reset"),_doProcessBlock:o(function(P,w){this._mode.processBlock(P,w)},"_doProcessBlock"),_doFinalize:o(function(){var P,w=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(w.pad(this._data,this.blockSize),P=this._process(!0)):(P=this._process(!0),w.unpad(P)),P},"_doFinalize"),blockSize:128/32}),v=n.CipherParams=i.extend({init:o(function(P){this.mixIn(P)},"init"),toString:o(function(P){return(P||this.formatter).stringify(this)},"toString")}),I=r.format={},R=I.OpenSSL={stringify:o(function(P){var w,H=P.ciphertext,N=P.salt;return N?w=s.create([1398893684,1701076831]).concat(N).concat(H):w=H,w.toString(u)},"stringify"),parse:o(function(P){var w,H=u.parse(P),N=H.words;return N[0]==1398893684&&N[1]==1701076831&&(w=s.create(N.slice(2,4)),N.splice(0,4),H.sigBytes-=16),v.create({ciphertext:H,salt:w})},"parse")},z=n.SerializableCipher=i.extend({cfg:i.extend({format:R}),encrypt:o(function(P,w,H,N){N=this.cfg.extend(N);var T=P.createEncryptor(H,N),E=T.finalize(w),D=T.cfg;return v.create({ciphertext:E,key:H,iv:D.iv,algorithm:P,mode:D.mode,padding:D.padding,blockSize:P.blockSize,formatter:N.format})},"encrypt"),decrypt:o(function(P,w,H,N){N=this.cfg.extend(N),w=this._parse(w,N.format);var T=P.createDecryptor(H,N).finalize(w.ciphertext);return T},"decrypt"),_parse:o(function(P,w){return typeof P=="string"?w.parse(P,this):P},"_parse")}),V=r.kdf={},$=V.OpenSSL={execute:o(function(P,w,H,N,T){if(N||(N=s.random(64/8)),T)var E=d.create({keySize:w+H,hasher:T}).compute(P,N);else var E=d.create({keySize:w+H}).compute(P,N);var D=s.create(E.words.slice(w),H*4);return E.sigBytes=w*4,v.create({key:E,iv:D,salt:N})},"execute")},Y=n.PasswordBasedCipher=z.extend({cfg:z.cfg.extend({kdf:$}),encrypt:o(function(P,w,H,N){N=this.cfg.extend(N);var T=N.kdf.execute(H,P.keySize,P.ivSize,N.salt,N.hasher);N.iv=T.iv;var E=z.encrypt.call(this,P,w,T.key,N);return E.mixIn(T),E},"encrypt"),decrypt:o(function(P,w,H,N){N=this.cfg.extend(N),w=this._parse(w,N.format);var T=N.kdf.execute(H,P.keySize,P.ivSize,w.salt,N.hasher);N.iv=T.iv;var E=z.decrypt.call(this,P,w,T.key,N);return E},"decrypt")})}()})});var CS=Q((n2,ES)=>{(function(e,t,r){typeof n2=="object"?ES.exports=n2=t($t(),Rn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(n2,function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize;r.call(this,n,i,a,s),this._prevBlock=n.slice(i,i+a)},"processBlock")}),t.Decryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,l=n.slice(i,i+a);r.call(this,n,i,a,s),this._prevBlock=l},"processBlock")});function r(n,i,s,a){var l,c=this._iv;c?(l=c.slice(0),this._iv=void 0):l=this._prevBlock,a.encryptBlock(l,0);for(var u=0;u<s;u++)n[i+u]^=l[u]}return o(r,"generateKeystreamAndEncrypt"),t}(),e.mode.CFB})});var SS=Q((i2,IS)=>{(function(e,t,r){typeof i2=="object"?IS.exports=i2=t($t(),Rn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(i2,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,l=this._iv,c=this._counter;l&&(c=this._counter=l.slice(0),this._iv=void 0);var u=c.slice(0);s.encryptBlock(u,0),c[a-1]=c[a-1]+1|0;for(var f=0;f<a;f++)n[i+f]^=u[f]},"processBlock")});return t.Decryptor=r,t}(),e.mode.CTR})});var PS=Q((o2,wS)=>{(function(e,t,r){typeof o2=="object"?wS.exports=o2=t($t(),Rn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(o2,function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(s){if((s>>24&255)===255){var a=s>>16&255,l=s>>8&255,c=s&255;a===255?(a=0,l===255?(l=0,c===255?c=0:++c):++l):++a,s=0,s+=a<<16,s+=l<<8,s+=c}else s+=1<<24;return s}o(r,"incWord");function n(s){return(s[0]=r(s[0]))===0&&(s[1]=r(s[1])),s}o(n,"incCounter");var i=t.Encryptor=t.extend({processBlock:o(function(s,a){var l=this._cipher,c=l.blockSize,u=this._iv,f=this._counter;u&&(f=this._counter=u.slice(0),this._iv=void 0),n(f);var d=f.slice(0);l.encryptBlock(d,0);for(var m=0;m<c;m++)s[a+m]^=d[m]},"processBlock")});return t.Decryptor=i,t}(),e.mode.CTRGladman})});var DS=Q((s2,RS)=>{(function(e,t,r){typeof s2=="object"?RS.exports=s2=t($t(),Rn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(s2,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,l=this._iv,c=this._keystream;l&&(c=this._keystream=l.slice(0),this._iv=void 0),s.encryptBlock(c,0);for(var u=0;u<a;u++)n[i+u]^=c[u]},"processBlock")});return t.Decryptor=r,t}(),e.mode.OFB})});var NS=Q((a2,AS)=>{(function(e,t,r){typeof a2=="object"?AS.exports=a2=t($t(),Rn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(a2,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:o(function(r,n){this._cipher.encryptBlock(r,n)},"processBlock")}),t.Decryptor=t.extend({processBlock:o(function(r,n){this._cipher.decryptBlock(r,n)},"processBlock")}),t}(),e.mode.ECB})});var OS=Q((l2,kS)=>{(function(e,t,r){typeof l2=="object"?kS.exports=l2=t($t(),Rn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(l2,function(e){return e.pad.AnsiX923={pad:o(function(t,r){var n=t.sigBytes,i=r*4,s=i-n%i,a=n+s-1;t.clamp(),t.words[a>>>2]|=s<<24-a%4*8,t.sigBytes+=s},"pad"),unpad:o(function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r},"unpad")},e.pad.Ansix923})});var MS=Q((c2,LS)=>{(function(e,t,r){typeof c2=="object"?LS.exports=c2=t($t(),Rn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(c2,function(e){return e.pad.Iso10126={pad:o(function(t,r){var n=r*4,i=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},"pad"),unpad:o(function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r},"unpad")},e.pad.Iso10126})});var BS=Q((u2,US)=>{(function(e,t,r){typeof u2=="object"?US.exports=u2=t($t(),Rn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(u2,function(e){return e.pad.Iso97971={pad:o(function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},"pad"),unpad:o(function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--},"unpad")},e.pad.Iso97971})});var $S=Q((f2,jS)=>{(function(e,t,r){typeof f2=="object"?jS.exports=f2=t($t(),Rn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(f2,function(e){return e.pad.ZeroPadding={pad:o(function(t,r){var n=r*4;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},"pad"),unpad:o(function(t){for(var r=t.words,n=t.sigBytes-1,n=t.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}},"unpad")},e.pad.ZeroPadding})});var qS=Q((d2,WS)=>{(function(e,t,r){typeof d2=="object"?WS.exports=d2=t($t(),Rn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(d2,function(e){return e.pad.NoPadding={pad:o(function(){},"pad"),unpad:o(function(){},"unpad")},e.pad.NoPadding})});var zS=Q((m2,GS)=>{(function(e,t,r){typeof m2=="object"?GS.exports=m2=t($t(),Rn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(m2,function(e){return function(t){var r=e,n=r.lib,i=n.CipherParams,s=r.enc,a=s.Hex,l=r.format,c=l.Hex={stringify:o(function(u){return u.ciphertext.toString(a)},"stringify"),parse:o(function(u){var f=a.parse(u);return i.create({ciphertext:f})},"parse")}}(),e.format.Hex})});var VS=Q((p2,HS)=>{(function(e,t,r){typeof p2=="object"?HS.exports=p2=t($t(),vl(),Tl(),pa(),Rn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(p2,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo,s=[],a=[],l=[],c=[],u=[],f=[],d=[],m=[],p=[],g=[];(function(){for(var x=[],_=0;_<256;_++)_<128?x[_]=_<<1:x[_]=_<<1^283;for(var y=0,v=0,_=0;_<256;_++){var I=v^v<<1^v<<2^v<<3^v<<4;I=I>>>8^I&255^99,s[y]=I,a[I]=y;var R=x[y],z=x[R],V=x[z],$=x[I]*257^I*16843008;l[y]=$<<24|$>>>8,c[y]=$<<16|$>>>16,u[y]=$<<8|$>>>24,f[y]=$;var $=V*16843009^z*65537^R*257^y*16843008;d[I]=$<<24|$>>>8,m[I]=$<<16|$>>>16,p[I]=$<<8|$>>>24,g[I]=$,y?(y=R^x[x[x[V^R]]],v^=x[x[v]]):y=v=1}})();var h=[0,1,2,4,8,16,32,64,128,27,54],b=i.AES=n.extend({_doReset:o(function(){var x;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var _=this._keyPriorReset=this._key,y=_.words,v=_.sigBytes/4,I=this._nRounds=v+6,R=(I+1)*4,z=this._keySchedule=[],V=0;V<R;V++)V<v?z[V]=y[V]:(x=z[V-1],V%v?v>6&&V%v==4&&(x=s[x>>>24]<<24|s[x>>>16&255]<<16|s[x>>>8&255]<<8|s[x&255]):(x=x<<8|x>>>24,x=s[x>>>24]<<24|s[x>>>16&255]<<16|s[x>>>8&255]<<8|s[x&255],x^=h[V/v|0]<<24),z[V]=z[V-v]^x);for(var $=this._invKeySchedule=[],Y=0;Y<R;Y++){var V=R-Y;if(Y%4)var x=z[V];else var x=z[V-4];Y<4||V<=4?$[Y]=x:$[Y]=d[s[x>>>24]]^m[s[x>>>16&255]]^p[s[x>>>8&255]]^g[s[x&255]]}}},"_doReset"),encryptBlock:o(function(x,_){this._doCryptBlock(x,_,this._keySchedule,l,c,u,f,s)},"encryptBlock"),decryptBlock:o(function(x,_){var y=x[_+1];x[_+1]=x[_+3],x[_+3]=y,this._doCryptBlock(x,_,this._invKeySchedule,d,m,p,g,a);var y=x[_+1];x[_+1]=x[_+3],x[_+3]=y},"decryptBlock"),_doCryptBlock:o(function(x,_,y,v,I,R,z,V){for(var $=this._nRounds,Y=x[_]^y[0],P=x[_+1]^y[1],w=x[_+2]^y[2],H=x[_+3]^y[3],N=4,T=1;T<$;T++){var E=v[Y>>>24]^I[P>>>16&255]^R[w>>>8&255]^z[H&255]^y[N++],D=v[P>>>24]^I[w>>>16&255]^R[H>>>8&255]^z[Y&255]^y[N++],S=v[w>>>24]^I[H>>>16&255]^R[Y>>>8&255]^z[P&255]^y[N++],A=v[H>>>24]^I[Y>>>16&255]^R[P>>>8&255]^z[w&255]^y[N++];Y=E,P=D,w=S,H=A}var E=(V[Y>>>24]<<24|V[P>>>16&255]<<16|V[w>>>8&255]<<8|V[H&255])^y[N++],D=(V[P>>>24]<<24|V[w>>>16&255]<<16|V[H>>>8&255]<<8|V[Y&255])^y[N++],S=(V[w>>>24]<<24|V[H>>>16&255]<<16|V[Y>>>8&255]<<8|V[P&255])^y[N++],A=(V[H>>>24]<<24|V[Y>>>16&255]<<16|V[P>>>8&255]<<8|V[w&255])^y[N++];x[_]=E,x[_+1]=D,x[_+2]=S,x[_+3]=A},"_doCryptBlock"),keySize:256/32});t.AES=n._createHelper(b)}(),e.AES})});var YS=Q((g2,KS)=>{(function(e,t,r){typeof g2=="object"?KS.exports=g2=t($t(),vl(),Tl(),pa(),Rn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(g2,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.BlockCipher,s=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=s.DES=i.extend({_doReset:o(function(){for(var h=this._key,b=h.words,x=[],_=0;_<56;_++){var y=a[_]-1;x[_]=b[y>>>5]>>>31-y%32&1}for(var v=this._subKeys=[],I=0;I<16;I++){for(var R=v[I]=[],z=c[I],_=0;_<24;_++)R[_/6|0]|=x[(l[_]-1+z)%28]<<31-_%6,R[4+(_/6|0)]|=x[28+(l[_+24]-1+z)%28]<<31-_%6;R[0]=R[0]<<1|R[0]>>>31;for(var _=1;_<7;_++)R[_]=R[_]>>>(_-1)*4+3;R[7]=R[7]<<5|R[7]>>>27}for(var V=this._invSubKeys=[],_=0;_<16;_++)V[_]=v[15-_]},"_doReset"),encryptBlock:o(function(h,b){this._doCryptBlock(h,b,this._subKeys)},"encryptBlock"),decryptBlock:o(function(h,b){this._doCryptBlock(h,b,this._invSubKeys)},"decryptBlock"),_doCryptBlock:o(function(h,b,x){this._lBlock=h[b],this._rBlock=h[b+1],m.call(this,4,252645135),m.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),m.call(this,1,1431655765);for(var _=0;_<16;_++){for(var y=x[_],v=this._lBlock,I=this._rBlock,R=0,z=0;z<8;z++)R|=u[z][((I^y[z])&f[z])>>>0];this._lBlock=I,this._rBlock=v^R}var V=this._lBlock;this._lBlock=this._rBlock,this._rBlock=V,m.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),m.call(this,16,65535),m.call(this,4,252645135),h[b]=this._lBlock,h[b+1]=this._rBlock},"_doCryptBlock"),keySize:64/32,ivSize:64/32,blockSize:64/32});function m(h,b){var x=(this._lBlock>>>h^this._rBlock)&b;this._rBlock^=x,this._lBlock^=x<<h}o(m,"exchangeLR");function p(h,b){var x=(this._rBlock>>>h^this._lBlock)&b;this._lBlock^=x,this._rBlock^=x<<h}o(p,"exchangeRL"),t.DES=i._createHelper(d);var g=s.TripleDES=i.extend({_doReset:o(function(){var h=this._key,b=h.words;if(b.length!==2&&b.length!==4&&b.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var x=b.slice(0,2),_=b.length<4?b.slice(0,2):b.slice(2,4),y=b.length<6?b.slice(0,2):b.slice(4,6);this._des1=d.createEncryptor(n.create(x)),this._des2=d.createEncryptor(n.create(_)),this._des3=d.createEncryptor(n.create(y))},"_doReset"),encryptBlock:o(function(h,b){this._des1.encryptBlock(h,b),this._des2.decryptBlock(h,b),this._des3.encryptBlock(h,b)},"encryptBlock"),decryptBlock:o(function(h,b){this._des3.decryptBlock(h,b),this._des2.encryptBlock(h,b),this._des1.decryptBlock(h,b)},"decryptBlock"),keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=i._createHelper(g)}(),e.TripleDES})});var XS=Q((h2,JS)=>{(function(e,t,r){typeof h2=="object"?JS.exports=h2=t($t(),vl(),Tl(),pa(),Rn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(h2,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,s=i.RC4=n.extend({_doReset:o(function(){for(var c=this._key,u=c.words,f=c.sigBytes,d=this._S=[],m=0;m<256;m++)d[m]=m;for(var m=0,p=0;m<256;m++){var g=m%f,h=u[g>>>2]>>>24-g%4*8&255;p=(p+d[m]+h)%256;var b=d[m];d[m]=d[p],d[p]=b}this._i=this._j=0},"_doReset"),_doProcessBlock:o(function(c,u){c[u]^=a.call(this)},"_doProcessBlock"),keySize:256/32,ivSize:0});function a(){for(var c=this._S,u=this._i,f=this._j,d=0,m=0;m<4;m++){u=(u+1)%256,f=(f+c[u])%256;var p=c[u];c[u]=c[f],c[f]=p,d|=c[(c[u]+c[f])%256]<<24-m*8}return this._i=u,this._j=f,d}o(a,"generateKeystreamWord"),t.RC4=n._createHelper(s);var l=i.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:o(function(){s._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)a.call(this)},"_doReset")});t.RC4Drop=n._createHelper(l)}(),e.RC4})});var QS=Q((x2,ZS)=>{(function(e,t,r){typeof x2=="object"?ZS.exports=x2=t($t(),vl(),Tl(),pa(),Rn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(x2,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,s=[],a=[],l=[],c=i.Rabbit=n.extend({_doReset:o(function(){for(var f=this._key.words,d=this.cfg.iv,m=0;m<4;m++)f[m]=(f[m]<<8|f[m]>>>24)&16711935|(f[m]<<24|f[m]>>>8)&4278255360;var p=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],g=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var m=0;m<4;m++)u.call(this);for(var m=0;m<8;m++)g[m]^=p[m+4&7];if(d){var h=d.words,b=h[0],x=h[1],_=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,y=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,v=_>>>16|y&4294901760,I=y<<16|_&65535;g[0]^=_,g[1]^=v,g[2]^=y,g[3]^=I,g[4]^=_,g[5]^=v,g[6]^=y,g[7]^=I;for(var m=0;m<4;m++)u.call(this)}},"_doReset"),_doProcessBlock:o(function(f,d){var m=this._X;u.call(this),s[0]=m[0]^m[5]>>>16^m[3]<<16,s[1]=m[2]^m[7]>>>16^m[5]<<16,s[2]=m[4]^m[1]>>>16^m[7]<<16,s[3]=m[6]^m[3]>>>16^m[1]<<16;for(var p=0;p<4;p++)s[p]=(s[p]<<8|s[p]>>>24)&16711935|(s[p]<<24|s[p]>>>8)&4278255360,f[d+p]^=s[p]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function u(){for(var f=this._X,d=this._C,m=0;m<8;m++)a[m]=d[m];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<a[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<a[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<a[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<a[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<a[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<a[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<a[6]>>>0?1:0)|0,this._b=d[7]>>>0<a[7]>>>0?1:0;for(var m=0;m<8;m++){var p=f[m]+d[m],g=p&65535,h=p>>>16,b=((g*g>>>17)+g*h>>>15)+h*h,x=((p&4294901760)*p|0)+((p&65535)*p|0);l[m]=b^x}f[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,f[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,f[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,f[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,f[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,f[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,f[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,f[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}o(u,"nextState"),t.Rabbit=n._createHelper(c)}(),e.Rabbit})});var tw=Q((b2,ew)=>{(function(e,t,r){typeof b2=="object"?ew.exports=b2=t($t(),vl(),Tl(),pa(),Rn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(b2,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,s=[],a=[],l=[],c=i.RabbitLegacy=n.extend({_doReset:o(function(){var f=this._key.words,d=this.cfg.iv,m=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],p=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var g=0;g<4;g++)u.call(this);for(var g=0;g<8;g++)p[g]^=m[g+4&7];if(d){var h=d.words,b=h[0],x=h[1],_=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,y=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,v=_>>>16|y&4294901760,I=y<<16|_&65535;p[0]^=_,p[1]^=v,p[2]^=y,p[3]^=I,p[4]^=_,p[5]^=v,p[6]^=y,p[7]^=I;for(var g=0;g<4;g++)u.call(this)}},"_doReset"),_doProcessBlock:o(function(f,d){var m=this._X;u.call(this),s[0]=m[0]^m[5]>>>16^m[3]<<16,s[1]=m[2]^m[7]>>>16^m[5]<<16,s[2]=m[4]^m[1]>>>16^m[7]<<16,s[3]=m[6]^m[3]>>>16^m[1]<<16;for(var p=0;p<4;p++)s[p]=(s[p]<<8|s[p]>>>24)&16711935|(s[p]<<24|s[p]>>>8)&4278255360,f[d+p]^=s[p]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function u(){for(var f=this._X,d=this._C,m=0;m<8;m++)a[m]=d[m];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<a[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<a[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<a[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<a[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<a[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<a[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<a[6]>>>0?1:0)|0,this._b=d[7]>>>0<a[7]>>>0?1:0;for(var m=0;m<8;m++){var p=f[m]+d[m],g=p&65535,h=p>>>16,b=((g*g>>>17)+g*h>>>15)+h*h,x=((p&4294901760)*p|0)+((p&65535)*p|0);l[m]=b^x}f[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,f[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,f[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,f[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,f[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,f[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,f[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,f[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}o(u,"nextState"),t.RabbitLegacy=n._createHelper(c)}(),e.RabbitLegacy})});var nw=Q((_2,rw)=>{(function(e,t,r){typeof _2=="object"?rw.exports=_2=t($t(),vl(),Tl(),pa(),Rn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(_2,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo;let s=16,a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function u(g,h){let b=h>>24&255,x=h>>16&255,_=h>>8&255,y=h&255,v=g.sbox[0][b]+g.sbox[1][x];return v=v^g.sbox[2][_],v=v+g.sbox[3][y],v}o(u,"F");function f(g,h,b){let x=h,_=b,y;for(let v=0;v<s;++v)x=x^g.pbox[v],_=u(g,x)^_,y=x,x=_,_=y;return y=x,x=_,_=y,_=_^g.pbox[s],x=x^g.pbox[s+1],{left:x,right:_}}o(f,"BlowFish_Encrypt");function d(g,h,b){let x=h,_=b,y;for(let v=s+1;v>1;--v)x=x^g.pbox[v],_=u(g,x)^_,y=x,x=_,_=y;return y=x,x=_,_=y,_=_^g.pbox[1],x=x^g.pbox[0],{left:x,right:_}}o(d,"BlowFish_Decrypt");function m(g,h,b){for(let I=0;I<4;I++){g.sbox[I]=[];for(let R=0;R<256;R++)g.sbox[I][R]=l[I][R]}let x=0;for(let I=0;I<s+2;I++)g.pbox[I]=a[I]^h[x],x++,x>=b&&(x=0);let _=0,y=0,v=0;for(let I=0;I<s+2;I+=2)v=f(g,_,y),_=v.left,y=v.right,g.pbox[I]=_,g.pbox[I+1]=y;for(let I=0;I<4;I++)for(let R=0;R<256;R+=2)v=f(g,_,y),_=v.left,y=v.right,g.sbox[I][R]=_,g.sbox[I][R+1]=y;return!0}o(m,"BlowFishInit");var p=i.Blowfish=n.extend({_doReset:o(function(){if(this._keyPriorReset!==this._key){var g=this._keyPriorReset=this._key,h=g.words,b=g.sigBytes/4;m(c,h,b)}},"_doReset"),encryptBlock:o(function(g,h){var b=f(c,g[h],g[h+1]);g[h]=b.left,g[h+1]=b.right},"encryptBlock"),decryptBlock:o(function(g,h){var b=d(c,g[h],g[h+1]);g[h]=b.left,g[h+1]=b.right},"decryptBlock"),blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=n._createHelper(p)}(),e.Blowfish})});var _1=Q((y2,iw)=>{(function(e,t,r){typeof y2=="object"?iw.exports=y2=t($t(),b1(),eS(),rS(),vl(),oS(),Tl(),d6(),Hh(),uS(),m6(),mS(),gS(),xS(),Qh(),yS(),pa(),Rn(),CS(),SS(),PS(),DS(),NS(),OS(),MS(),BS(),$S(),qS(),zS(),VS(),YS(),XS(),QS(),tw(),nw()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],t):e.CryptoJS=t(e.CryptoJS)})(y2,function(e){return e})});var Xc=Q(Un=>{Un.endianness=function(){return"LE"};Un.hostname=function(){return typeof location<"u"?location.hostname:""};Un.loadavg=function(){return[]};Un.uptime=function(){return 0};Un.freemem=function(){return Number.MAX_VALUE};Un.totalmem=function(){return Number.MAX_VALUE};Un.cpus=function(){return[]};Un.type=function(){return"Browser"};Un.release=function(){return typeof navigator<"u"?navigator.appVersion:""};Un.networkInterfaces=Un.getNetworkInterfaces=function(){return{}};Un.arch=function(){return"javascript"};Un.platform=function(){return"browser"};Un.tmpdir=Un.tmpDir=function(){return"/tmp"};Un.EOL=`
`;Un.homedir=function(){return"/"}});var $f=Q((ghe,dw)=>{"use strict";function g0(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}o(g0,"assertPath");function fw(e,t){for(var r="",n=0,i=-1,s=0,a,l=0;l<=e.length;++l){if(l<e.length)a=e.charCodeAt(l);else{if(a===47)break;a=47}if(a===47){if(!(i===l-1||s===1))if(i!==l-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){var c=r.lastIndexOf("/");if(c!==r.length-1){c===-1?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),i=l,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=l,s=0;continue}}t&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+="/"+e.slice(i+1,l):r=e.slice(i+1,l),n=l-i-1;i=l,s=0}else a===46&&s!==-1?++s:s=-1}return r}o(fw,"normalizeStringPosix");function Az(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+e+n:n}o(Az,"_format");var jf={resolve:o(function(){for(var t="",r=!1,n,i=arguments.length-1;i>=-1&&!r;i--){var s;i>=0?s=arguments[i]:(n===void 0&&(n=process.cwd()),s=n),g0(s),s.length!==0&&(t=s+"/"+t,r=s.charCodeAt(0)===47)}return t=fw(t,!r),r?t.length>0?"/"+t:"/":t.length>0?t:"."},"resolve"),normalize:o(function(t){if(g0(t),t.length===0)return".";var r=t.charCodeAt(0)===47,n=t.charCodeAt(t.length-1)===47;return t=fw(t,!r),t.length===0&&!r&&(t="."),t.length>0&&n&&(t+="/"),r?"/"+t:t},"normalize"),isAbsolute:o(function(t){return g0(t),t.length>0&&t.charCodeAt(0)===47},"isAbsolute"),join:o(function(){if(arguments.length===0)return".";for(var t,r=0;r<arguments.length;++r){var n=arguments[r];g0(n),n.length>0&&(t===void 0?t=n:t+="/"+n)}return t===void 0?".":jf.normalize(t)},"join"),relative:o(function(t,r){if(g0(t),g0(r),t===r||(t=jf.resolve(t),r=jf.resolve(r),t===r))return"";for(var n=1;n<t.length&&t.charCodeAt(n)===47;++n);for(var i=t.length,s=i-n,a=1;a<r.length&&r.charCodeAt(a)===47;++a);for(var l=r.length,c=l-a,u=s<c?s:c,f=-1,d=0;d<=u;++d){if(d===u){if(c>u){if(r.charCodeAt(a+d)===47)return r.slice(a+d+1);if(d===0)return r.slice(a+d)}else s>u&&(t.charCodeAt(n+d)===47?f=d:d===0&&(f=0));break}var m=t.charCodeAt(n+d),p=r.charCodeAt(a+d);if(m!==p)break;m===47&&(f=d)}var g="";for(d=n+f+1;d<=i;++d)(d===i||t.charCodeAt(d)===47)&&(g.length===0?g+="..":g+="/..");return g.length>0?g+r.slice(a+f):(a+=f,r.charCodeAt(a)===47&&++a,r.slice(a))},"relative"),_makeLong:o(function(t){return t},"_makeLong"),dirname:o(function(t){if(g0(t),t.length===0)return".";for(var r=t.charCodeAt(0),n=r===47,i=-1,s=!0,a=t.length-1;a>=1;--a)if(r=t.charCodeAt(a),r===47){if(!s){i=a;break}}else s=!1;return i===-1?n?"/":".":n&&i===1?"//":t.slice(0,i)},"dirname"),basename:o(function(t,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');g0(t);var n=0,i=-1,s=!0,a;if(r!==void 0&&r.length>0&&r.length<=t.length){if(r.length===t.length&&r===t)return"";var l=r.length-1,c=-1;for(a=t.length-1;a>=0;--a){var u=t.charCodeAt(a);if(u===47){if(!s){n=a+1;break}}else c===-1&&(s=!1,c=a+1),l>=0&&(u===r.charCodeAt(l)?--l===-1&&(i=a):(l=-1,i=c))}return n===i?i=c:i===-1&&(i=t.length),t.slice(n,i)}else{for(a=t.length-1;a>=0;--a)if(t.charCodeAt(a)===47){if(!s){n=a+1;break}}else i===-1&&(s=!1,i=a+1);return i===-1?"":t.slice(n,i)}},"basename"),extname:o(function(t){g0(t);for(var r=-1,n=0,i=-1,s=!0,a=0,l=t.length-1;l>=0;--l){var c=t.charCodeAt(l);if(c===47){if(!s){n=l+1;break}continue}i===-1&&(s=!1,i=l+1),c===46?r===-1?r=l:a!==1&&(a=1):r!==-1&&(a=-1)}return r===-1||i===-1||a===0||a===1&&r===i-1&&r===n+1?"":t.slice(r,i)},"extname"),format:o(function(t){if(t===null||typeof t!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return Az("/",t)},"format"),parse:o(function(t){g0(t);var r={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return r;var n=t.charCodeAt(0),i=n===47,s;i?(r.root="/",s=1):s=0;for(var a=-1,l=0,c=-1,u=!0,f=t.length-1,d=0;f>=s;--f){if(n=t.charCodeAt(f),n===47){if(!u){l=f+1;break}continue}c===-1&&(u=!1,c=f+1),n===46?a===-1?a=f:d!==1&&(d=1):a!==-1&&(d=-1)}return a===-1||c===-1||d===0||d===1&&a===c-1&&a===l+1?c!==-1&&(l===0&&i?r.base=r.name=t.slice(1,c):r.base=r.name=t.slice(l,c)):(l===0&&i?(r.name=t.slice(1,a),r.base=t.slice(1,c)):(r.name=t.slice(l,a),r.base=t.slice(l,c)),r.ext=t.slice(a,c)),l>0?r.dir=t.slice(0,l-1):i&&(r.dir="/"),r},"parse"),sep:"/",delimiter:":",win32:null,posix:null};jf.posix=jf;dw.exports=jf});var MR=Q(C0=>{"use strict";Object.defineProperty(C0,"__esModule",{value:!0});C0.bytePairEncode=C0.BinaryMap=C0.binaryMapKey=void 0;var PJ=o((e,t,r)=>{let n=r-t,i=16777215>>>Math.max(0,(3-n)*8),s=(e[t+0]|e[t+1]<<8|e[t+2]<<16)&i,a=16777215>>>Math.min(31,Math.max(0,(6-n)*8)),l=(e[t+3]|e[t+4]<<8|e[t+5]<<16)&a;return s+16777216*l},"binaryMapKey");C0.binaryMapKey=PJ;var a7=class e{static{o(this,"BinaryMap")}constructor(){this.nested=new Map,this.final=new Map}get(t,r=0,n=t.length){let i=n<6+r,s=(0,C0.binaryMapKey)(t,r,n);return i?this.final.get(s):this.nested.get(s)?.get(t,6+r,n)}set(t,r){let n=(0,C0.binaryMapKey)(t,0,t.length);if(t.length<6){this.final.set(n,r);return}let s=this.nested.get(n);if(s instanceof e)s.set(t.subarray(6),r);else{let a=new e;a.set(t.subarray(6),r),this.nested.set(n,a)}}};C0.BinaryMap=a7;var E0=new Int32Array(128),ki=new Int32Array(128);function RJ(e,t,r){if(r===1)return[t.get(e)];let n=2147483647,i=-1;for(;E0.length<r*2;)ki=new Int32Array(ki.length*2),E0=new Int32Array(E0.length*2);for(let c=0;c<r-1;c++){let u=t.get(e,c,c+2)??2147483647;u<n&&(n=u,i=c),ki[c]=c,E0[c]=u}ki[r-1]=r-1,E0[r-1]=2147483647,ki[r]=r,E0[r]=2147483647;let s=r+1;function a(c,u=0){if(c+u+2<s){let f=t.get(e,ki[c],ki[c+u+2]);if(f!==void 0)return f}return 2147483647}for(o(a,"getRank");n!==2147483647;){E0[ki[i]]=a(i,1),i>0&&(E0[ki[i-1]]=a(i-1,1));for(let c=i+1;c<s-1;c++)ki[c]=ki[c+1];s--,i=-1,n=2147483647;for(let c=0;c<s-1;c++){let u=E0[ki[c]];E0[ki[c]]<n&&(n=u,i=c)}}let l=[];for(let c=0;c<s-1;c++)l.push(t.get(e,ki[c],ki[c+1]));return l}o(RJ,"bytePairEncode");C0.bytePairEncode=RJ});var UR=Q(u5=>{"use strict";Object.defineProperty(u5,"__esModule",{value:!0});u5.makeTextEncoder=void 0;var l7=class{static{o(this,"UniversalTextEncoder")}constructor(){this.length=0,this.encoder=new TextEncoder}encode(t){let r=this.encoder.encode(t);return this.length=r.length,r}},c7=class{static{o(this,"NodeTextEncoder")}constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(t){for(;;){if(this.length=this.buffer.write(t,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(t)}}},DJ=o(()=>typeof Buffer<"u"?new c7:new l7,"makeTextEncoder");u5.makeTextEncoder=DJ});var BR=Q(f5=>{"use strict";Object.defineProperty(f5,"__esModule",{value:!0});f5.LRUCache=void 0;var u7=class{static{o(this,"LRUCache")}constructor(t){this.size=t,this.nodes=new Map}get(t){let r=this.nodes.get(t);if(r)return this.moveToHead(r),r.value}set(t,r){let n=this.nodes.get(t);if(n)n.value=r,this.moveToHead(n);else{let i=new f7(t,r);this.nodes.set(t,i),this.addNode(i),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(t){this.removeNode(t),t.next=void 0,t.prev=void 0,this.addNode(t)}addNode(t){this.head&&(this.head.prev=t,t.next=this.head),this.tail||(this.tail=t),this.head=t}removeNode(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}};f5.LRUCache=u7;var f7=class{static{o(this,"Node")}constructor(t,r){this.key=t,this.value=r}}});var m7=Q(m5=>{"use strict";Object.defineProperty(m5,"__esModule",{value:!0});m5.TikTokenizer=void 0;var d5=MR(),AJ=UR(),NJ=BR();function kJ(e){let t=new Map;try{let i=require("fs").readFileSync(e,"utf-8");return r(i),t}catch(n){throw new Error(`Failed to load from BPE encoder file stream: ${n}`)}function r(n){for(let i of n.split(/[\r\n]+/)){if(i.trim()==="")continue;let s=i.split(" ");if(s.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let a=new Uint8Array(Buffer.from(s[0],"base64")),l=parseInt(s[1]);if(!isNaN(l))t.set(a,l);else throw new Error(`Can't parse ${s[1]} to integer`)}}o(r,"processBpeRanks")}o(kJ,"loadTikTokenBpe");function OJ(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(OJ,"escapeRegExp");var d7=class{static{o(this,"TikTokenizer")}constructor(t,r,n,i=8192){this.textEncoder=(0,AJ.makeTextEncoder)(),this.textDecoder=new TextDecoder("utf-8"),this.cache=new NJ.LRUCache(i);let s=typeof t=="string"?kJ(t):t;this.init(s,r,n)}init(t,r,n){this.encoder=new d5.BinaryMap;for(let[i,s]of t)this.encoder.set(i,s);this.regex=new RegExp(n,"gu"),this.specialTokensRegex=new RegExp(Array.from(r.keys()).map(i=>OJ(i)).join("|")),this.specialTokensEncoder=r,this.decoder=new Map;for(let[i,s]of t)this.decoder.set(s,i);if(t.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[i,s]of r)this.specialTokensDecoder.set(s,i)}findNextSpecialToken(t,r,n){let i=r,s=null;if(n&&this.specialTokensRegex)for(;s=t.slice(i).match(this.specialTokensRegex),!(!s||n&&n.includes(s[0]));)i+=s.index+1;let a=s?i+s.index:t.length;return[s,a]}encode(t,r){let n=[],i=0;for(;;){let s,a;if([s,a]=this.findNextSpecialToken(t,i,r),a>i&&this.encodeByIndex(t,n,i,a),s){if(i=i+this.encodeSpecialToken(n,s),i>=t.length)break}else break}return n}encodeSpecialToken(t,r){let n=this.specialTokensEncoder?.get(r[0]);return t.push(n),r.index+r[0].length}encodeByIndex(t,r,n,i){let s,a=t.substring(n,i);for(this.regex.lastIndex=0;s=this.regex.exec(a);){let l=this.cache.get(s[0]);if(l)for(let c of l)r.push(c);else{let c=this.textEncoder.encode(s[0]),u=this.encoder.get(c,0,this.textEncoder.length);if(u!==void 0)r.push(u),this.cache.set(s[0],[u]);else{let f=(0,d5.bytePairEncode)(c,this.encoder,this.textEncoder.length);for(let d of f)r.push(d);this.cache.set(s[0],f)}}}}encodeTrimSuffixByIndex(t,r,n,i,s,a,l){let c,u=t.substring(n,i);for(this.regex.lastIndex=0;c=this.regex.exec(u);){let f=c[0],d=this.cache.get(f);if(d)if(a+d.length<=s)a+=d.length,l+=f.length,r.push(...d);else{let m=s-a;a+=m,l+=f.length,r.push(...d.slice(0,m));break}else{let m=this.textEncoder.encode(f),p=this.encoder.get(m,0,m.length);if(p!==void 0)if(this.cache.set(f,[p]),a+1<=s)a++,l+=f.length,r.push(p);else break;else{let g=(0,d5.bytePairEncode)(m,this.encoder,this.textEncoder.length);if(this.cache.set(f,g),a+g.length<=s){a+=g.length,l+=f.length;for(let h of g)r.push(h)}else{let h=s-a;a+=h,l+=f.length;for(let b=0;b<h;b++)r.push(g[b]);break}}}if(a>=s)break}return{tokenCount:a,encodeLength:l}}encodeTrimSuffix(t,r,n){let i=[],s=0,a=0,l=0;for(;;){let u,f;if([u,f]=this.findNextSpecialToken(t,s,n),f>s){let{tokenCount:d,encodeLength:m}=this.encodeTrimSuffixByIndex(t,i,s,f,r,a,l);if(a=d,l=m,a>=r)break}if(u!==null){if(a++,a<=r&&(s=s+this.encodeSpecialToken(i,u),l+=u[0].length,s>=t.length)||a>=r)break}else break}let c=l===t.length?t:t.slice(0,l);return{tokenIds:i,text:c}}encodeTrimPrefix(t,r,n){let i=[],s=0,a=0,l=0,c=new Map;for(c.set(a,l);;){let m,p;if([m,p]=this.findNextSpecialToken(t,s,n),p>s){let g,h=t.substring(s,p);for(this.regex.lastIndex=0;g=this.regex.exec(h);){let b=g[0],x=this.cache.get(b);if(x)a+=x.length,l+=b.length,i.push(...x),c.set(a,l);else{let _=this.textEncoder.encode(b),y=this.encoder.get(_);if(y!==void 0)this.cache.set(b,[y]),a++,l+=b.length,i.push(y),c.set(a,l);else{let v=(0,d5.bytePairEncode)(_,this.encoder,this.textEncoder.length);this.cache.set(b,v),a+=v.length,l+=b.length;for(let I of v)i.push(I);c.set(a,l)}}}}if(m!==null){if(s=s+this.encodeSpecialToken(i,m),a++,l+=m[0].length,c.set(a,l),s>=t.length)break}else break}if(a<=r)return{tokenIds:i,text:t};let u=a-r,f=0,d=0;for(let[m,p]of c)if(m>=u){f=m,d=p;break}if(f>r){let m=this.encode(t,n),p=m.slice(m.length-r);return{tokenIds:p,text:this.decode(p)}}return{tokenIds:i.slice(f),text:t.slice(d)}}decode(t){let r=[];for(let n of t){let i=[],s=this.decoder?.get(n);if(s!==void 0)i=Array.from(s);else{let a=this.specialTokensDecoder?.get(n);if(a!==void 0){let l=this.textEncoder.encode(a);i=Array.from(l.subarray(0,this.textEncoder.length))}}r.push(...i)}return this.textDecoder.decode(new Uint8Array(r))}};m5.TikTokenizer=d7});var YR=Q(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});vn.createTokenizer=vn.createByEncoderName=vn.createByModelName=vn.getRegexByModel=vn.getRegexByEncoder=vn.getSpecialTokensByModel=vn.getSpecialTokensByEncoder=vn.MODEL_TO_ENCODING=void 0;var LJ=m7(),FJ=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);vn.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var p5="<|endoftext|>",jR="<|fim_prefix|>",$R="<|fim_middle|>",WR="<|fim_suffix|>",qR="<|endofprompt|>",W1="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",GR="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",MJ=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],zR=MJ.join("|");function p7(e){let t="";if(vn.MODEL_TO_ENCODING.has(e))t=vn.MODEL_TO_ENCODING.get(e);else for(let[r,n]of FJ)if(e.startsWith(r)){t=n;break}return t}o(p7,"getEncoderFromModelName");async function UJ(e,t){let r=require("fs"),n=await fetch(e);if(!n.ok)throw new Error(`Failed to fetch file from ${e}. Status code: ${n.status}`);let i=await n.text();r.writeFileSync(t,i)}o(UJ,"fetchAndSaveFile");function g7(e){let t=new Map([[p5,50256]]);switch(e){case"o200k_base":t=new Map([[p5,199999],[qR,200018]]);break;case"cl100k_base":t=new Map([[p5,100257],[jR,100258],[$R,100259],[WR,100260],[qR,100276]]);break;case"p50k_edit":t=new Map([[p5,50256],[jR,50281],[$R,50282],[WR,50283]]);break;default:break}return t}o(g7,"getSpecialTokensByEncoder");vn.getSpecialTokensByEncoder=g7;function BJ(e){let t=p7(e);return g7(t)}o(BJ,"getSpecialTokensByModel");vn.getSpecialTokensByModel=BJ;function HR(e){switch(e){case"o200k_base":return zR;case"cl100k_base":return GR;default:break}return W1}o(HR,"getRegexByEncoder");vn.getRegexByEncoder=HR;function jJ(e){let t=p7(e);return HR(t)}o(jJ,"getRegexByModel");vn.getRegexByModel=jJ;async function $J(e,t=null){return VR(p7(e),t)}o($J,"createByModelName");vn.createByModelName=$J;async function VR(e,t=null){let r,n,i=g7(e);switch(e){case"o200k_base":r=zR,n="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":r=GR,n="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":r=W1,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":r=W1,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":r=W1,n="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":r=W1,n="https://raw.githubusercontent.com/microsoft/Tokenizer/main/model/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${e}]`)}t!==null&&(i=new Map([...i,...t]));let s=require("fs"),a=$f(),l=a.basename(n),c=a.resolve("","..","model");s.existsSync(c)||s.mkdirSync(c,{recursive:!0});let u=a.resolve(c,l);return s.existsSync(u)||(console.log(`Downloading file from ${n}`),await UJ(n,u),console.log(`Saved file to ${u}`)),KR(u,i,r)}o(VR,"createByEncoderName");vn.createByEncoderName=VR;function KR(e,t,r,n=8192){return new LJ.TikTokenizer(e,t,r,n)}o(KR,"createTokenizer");vn.createTokenizer=KR});var JR=Q(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.createTokenizer=Tn.createByEncoderName=Tn.createByModelName=Tn.getSpecialTokensByModel=Tn.getSpecialTokensByEncoder=Tn.getRegexByModel=Tn.getRegexByEncoder=Tn.MODEL_TO_ENCODING=Tn.TikTokenizer=void 0;var WJ=m7();Object.defineProperty(Tn,"TikTokenizer",{enumerable:!0,get:o(function(){return WJ.TikTokenizer},"get")});var Ll=YR();Object.defineProperty(Tn,"MODEL_TO_ENCODING",{enumerable:!0,get:o(function(){return Ll.MODEL_TO_ENCODING},"get")});Object.defineProperty(Tn,"getRegexByEncoder",{enumerable:!0,get:o(function(){return Ll.getRegexByEncoder},"get")});Object.defineProperty(Tn,"getRegexByModel",{enumerable:!0,get:o(function(){return Ll.getRegexByModel},"get")});Object.defineProperty(Tn,"getSpecialTokensByEncoder",{enumerable:!0,get:o(function(){return Ll.getSpecialTokensByEncoder},"get")});Object.defineProperty(Tn,"getSpecialTokensByModel",{enumerable:!0,get:o(function(){return Ll.getSpecialTokensByModel},"get")});Object.defineProperty(Tn,"createByModelName",{enumerable:!0,get:o(function(){return Ll.createByModelName},"get")});Object.defineProperty(Tn,"createByEncoderName",{enumerable:!0,get:o(function(){return Ll.createByEncoderName},"get")});Object.defineProperty(Tn,"createTokenizer",{enumerable:!0,get:o(function(){return Ll.createTokenizer},"get")})});var D7=Q((bSe,TD)=>{"use strict";TD.exports=o(function(t,r){r===!0&&(r=0);var n="";if(typeof t=="string")try{n=new URL(t).protocol}catch{}else t&&t.constructor===URL&&(n=t.protocol);var i=n.split(/\:|\+/).filter(Boolean);return typeof r=="number"?i[r]:i},"protocols")});var CD=Q((ySe,ED)=>{"use strict";var Lte=D7();function Fte(e){var t={protocols:[],protocol:null,port:null,resource:"",host:"",user:"",password:"",pathname:"",hash:"",search:"",href:e,query:{},parse_failed:!1};try{var r=new URL(e);t.protocols=Lte(r),t.protocol=t.protocols[0],t.port=r.port,t.resource=r.hostname,t.host=r.host,t.user=r.username||"",t.password=r.password||"",t.pathname=r.pathname,t.hash=r.hash.slice(1),t.search=r.search.slice(1),t.href=r.href,t.query=Object.fromEntries(r.searchParams)}catch{t.protocols=["file"],t.protocol=t.protocols[0],t.port="",t.resource="",t.user="",t.pathname="",t.hash="",t.search="",t.href=e,t.query={},t.parse_failed=!0}return t}o(Fte,"parsePath");ED.exports=Fte});var DD=Q((TSe,RD)=>{"use strict";var Mte=CD();function Ute(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}o(Ute,"_interopDefaultLegacy");var Bte=Ute(Mte);function jte(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=o(function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(t,i);return new s}return t.apply(this,arguments)},"a");r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:o(function(){return e[n]},"get")})}),r}o(jte,"getAugmentedNamespace");var SD={},$te="text/plain",Wte="us-ascii",ID=o((e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),"testParameter"),qte=o((e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:n,data:i,hash:s}=r.groups,a=n.split(";");s=t?"":s;let l=!1;a[a.length-1]==="base64"&&(a.pop(),l=!0);let c=(a.shift()||"").toLowerCase(),f=[...a.map(d=>{let[m,p=""]=d.split("=").map(g=>g.trim());return m==="charset"&&(p=p.toLowerCase(),p===Wte)?"":`${m}${p?`=${p}`:""}`}).filter(Boolean)];return l&&f.push("base64"),(f.length>0||c&&c!==$te)&&f.unshift(c),`data:${f.join(";")},${l?i.trim():i}${s?`#${s}`:""}`},"normalizeDataURL");function Gte(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return qte(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let i=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),t.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),t.stripAuthentication&&(i.username="",i.password=""),t.stripHash?i.hash="":t.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname){let a=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,l=0,c="";for(;;){let f=a.exec(i.pathname);if(!f)break;let d=f[0],m=f.index,p=i.pathname.slice(l,m);c+=p.replace(/\/{2,}/g,"/"),c+=d,l=m+d.length}let u=i.pathname.slice(l,i.pathname.length);c+=u.replace(/\/{2,}/g,"/"),i.pathname=c}if(i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let a=i.pathname.split("/"),l=a[a.length-1];ID(l,t.removeDirectoryIndex)&&(a=a.slice(0,-1),i.pathname=a.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let a of[...i.searchParams.keys()])ID(a,t.removeQueryParameters)&&i.searchParams.delete(a);if(t.removeQueryParameters===!0&&(i.search=""),t.sortQueryParameters){i.searchParams.sort();try{i.search=decodeURIComponent(i.search)}catch{}}t.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,""));let s=e;return e=i.toString(),!t.removeSingleSlash&&i.pathname==="/"&&!s.endsWith("/")&&i.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}o(Gte,"normalizeUrl");var zte=Object.freeze({__proto__:null,default:Gte}),Hte=jte(zte);Object.defineProperty(SD,"__esModule",{value:!0});var Vte=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kte=Hte,Yte=wD(Kte),Jte=Bte.default,Xte=wD(Jte);function wD(e){return e&&e.__esModule?e:{default:e}}o(wD,"_interopRequireDefault");var PD=o(function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=/^(?:([a-zA-Z_][a-zA-Z0-9_-]{0,31})@|https?:\/\/)([\w\.\-@]+)[\/:](([\~,\.\w,\-,\_,\/,\s]|%[0-9A-Fa-f]{2})+?(?:\.git|\/)?)$/,i=o(function(c){var u=new Error(c);throw u.subject_url=t,u},"throwErr");(typeof t!="string"||!t.trim())&&i("Invalid url."),t.length>e.MAX_INPUT_LENGTH&&i("Input exceeds maximum length. If needed, change the value of parseUrl.MAX_INPUT_LENGTH."),r&&((typeof r>"u"?"undefined":Vte(r))!=="object"&&(r={stripHash:!1}),t=(0,Yte.default)(t,r));var s=(0,Xte.default)(t);if(s.parse_failed){var a=s.href.match(n);a?(s.protocols=["ssh"],s.protocol="ssh",s.resource=a[2],s.host=a[2],s.user=a[1],s.pathname="/"+a[3],s.parse_failed=!1):i("URL parsing failed.")}return s},"parseUrl");PD.MAX_INPUT_LENGTH=2048;var Zte=SD.default=PD;RD.exports=Zte});var kD=Q((CSe,ND)=>{"use strict";var Qte=D7();function AD(e){if(Array.isArray(e))return e.indexOf("ssh")!==-1||e.indexOf("rsync")!==-1;if(typeof e!="string")return!1;var t=Qte(e);if(e=e.substring(e.indexOf("://")+3),AD(t))return!0;var r=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!e.match(r)&&e.indexOf("@")<e.indexOf(":")}o(AD,"isSsh");ND.exports=AD});var FD=Q((SSe,LD)=>{"use strict";var ere=DD(),OD=kD();function tre(e){let t=ere(e);return t.token="",t.password==="x-oauth-basic"?t.token=t.user:t.user==="x-token-auth"&&(t.token=t.password),OD(t.protocols)||t.protocols.length===0&&OD(e)?t.protocol="ssh":t.protocols.length?t.protocol=t.protocols[0]:(t.protocol="file",t.protocols=["file"]),t.href=t.href.replace(/\/$/,""),t}o(tre,"gitUp");LD.exports=tre});var UD=Q((PSe,MD)=>{"use strict";var rre=FD();function A7(e,t){if(t=t||[],typeof e!="string")throw new Error("The url must be a string.");if(!t.every(function(_){return typeof _=="string"}))throw new Error("The refs should contain only strings");var r=/^([a-z\d-]{1,39})\/([-\.\w]{1,100})$/i;r.test(e)&&(e="https://github.com/"+e);var n=rre(e),i=n.resource.split("."),s=null;switch(n.toString=function(_){return A7.stringify(this,_)},n.source=i.length>2?i.slice(1-i.length).join("."):n.source=n.resource,n.git_suffix=/\.git$/.test(n.pathname),n.name=decodeURIComponent((n.pathname||n.href).replace(/(^\/)|(\/$)/g,"").replace(/\.git$/,"")),n.owner=decodeURIComponent(n.user),n.source){case"git.cloudforge.com":n.owner=n.user,n.organization=i[0],n.source="cloudforge.com";break;case"visualstudio.com":if(n.resource==="vs-ssh.visualstudio.com"){s=n.name.split("/"),s.length===4&&(n.organization=s[1],n.owner=s[2],n.name=s[3],n.full_name=s[2]+"/"+s[3]);break}else{s=n.name.split("/"),s.length===2?(n.owner=s[1],n.name=s[1],n.full_name="_git/"+n.name):s.length===3?(n.name=s[2],s[0]==="DefaultCollection"?(n.owner=s[2],n.organization=s[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=s[0],n.full_name=n.owner+"/_git/"+n.name)):s.length===4&&(n.organization=s[0],n.owner=s[1],n.name=s[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name);break}case"dev.azure.com":case"azure.com":if(n.resource==="ssh.dev.azure.com"){s=n.name.split("/"),s.length===4&&(n.organization=s[1],n.owner=s[2],n.name=s[3]);break}else{s=n.name.split("/"),s.length===5?(n.organization=s[0],n.owner=s[1],n.name=s[4],n.full_name="_git/"+n.name):s.length===3?(n.name=s[2],s[0]==="DefaultCollection"?(n.owner=s[2],n.organization=s[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=s[0],n.full_name=n.owner+"/_git/"+n.name)):s.length===4&&(n.organization=s[0],n.owner=s[1],n.name=s[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name),n.query&&n.query.path&&(n.filepath=n.query.path.replace(/^\/+/g,"")),n.query&&n.query.version&&(n.ref=n.query.version.replace(/^GB/,""));break}default:s=n.name.split("/");var a=s.length-1;if(s.length>=2){var l=s.indexOf("-",2),c=s.indexOf("blob",2),u=s.indexOf("tree",2),f=s.indexOf("commit",2),d=s.indexOf("issues",2),m=s.indexOf("src",2),p=s.indexOf("raw",2),g=s.indexOf("edit",2);a=l>0?l-1:c>0&&u>0?Math.min(c-1,u-1):c>0?c-1:d>0?d-1:u>0?u-1:f>0?f-1:m>0?m-1:p>0?p-1:g>0?g-1:a,n.owner=s.slice(0,a).join("/"),n.name=s[a],f&&d<0&&(n.commit=s[a+2])}n.ref="",n.filepathtype="",n.filepath="";var h=s.length>a&&s[a+1]==="-"?a+1:a;s.length>h+2&&["raw","src","blob","tree","edit"].indexOf(s[h+1])>=0&&(n.filepathtype=s[h+1],n.ref=s[h+2],s.length>h+3&&(n.filepath=s.slice(h+3).join("/"))),n.organization=n.owner;break}n.full_name||(n.full_name=n.owner,n.name&&(n.full_name&&(n.full_name+="/"),n.full_name+=n.name)),n.owner.startsWith("scm/")&&(n.source="bitbucket-server",n.owner=n.owner.replace("scm/",""),n.organization=n.owner,n.full_name=n.owner+"/"+n.name);var b=/(projects|users)\/(.*?)\/repos\/(.*?)((\/.*$)|$)/,x=b.exec(n.pathname);return x!=null&&(n.source="bitbucket-server",x[1]==="users"?n.owner="~"+x[2]:n.owner=x[2],n.organization=n.owner,n.name=x[3],s=x[4].split("/"),s.length>1&&(["raw","browse"].indexOf(s[1])>=0?(n.filepathtype=s[1],s.length>2&&(n.filepath=s.slice(2).join("/"))):s[1]==="commits"&&s.length>2&&(n.commit=s[2])),n.full_name=n.owner+"/"+n.name,n.query.at?n.ref=n.query.at:n.ref=""),t.length!==0&&n.ref&&(n.ref=ore(n.href,t)||n.ref,n.filepath=n.href.split(n.ref+"/")[1]),n}o(A7,"gitUrlParse");A7.stringify=function(e,t){t=t||(e.protocols&&e.protocols.length?e.protocols.join("+"):e.protocol);var r=e.port?":"+e.port:"",n=e.user||"git",i=e.git_suffix?".git":"";switch(t){case"ssh":return r?"ssh://"+n+"@"+e.resource+r+"/"+e.full_name+i:n+"@"+e.resource+":"+e.full_name+i;case"git+ssh":case"ssh+git":case"ftp":case"ftps":return t+"://"+n+"@"+e.resource+r+"/"+e.full_name+i;case"http":case"https":var s=e.token?nre(e):e.user&&(e.protocols.includes("http")||e.protocols.includes("https"))?e.user+"@":"";return t+"://"+s+e.resource+r+"/"+ire(e)+i;default:return e.href}};function nre(e){switch(e.source){case"bitbucket.org":return"x-token-auth:"+e.token+"@";default:return e.token+"@"}}o(nre,"buildToken");function ire(e){switch(e.source){case"bitbucket-server":return"scm/"+e.full_name;default:var t=e.full_name.split("/").map(function(r){return encodeURIComponent(r)}).join("/");return t}}o(ire,"buildPath");function ore(e,t){var r="";return t.forEach(function(n){e.includes(n)&&n.length>r.length&&(r=n)}),r}o(ore,"findLongestMatchingSubstring");MD.exports=A7});var VD=Q((exports,module)=>{var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;class Parser{static{o(this,"Parser")}constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=o((e,t)=>{throw t},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(e){return Module.locateFile?Module.locateFile(e,scriptDirectory):scriptDirectory+e}o(locateFile,"locateFile");function logExceptionOnExit(e){e instanceof ExitStatus||err("exiting due to exception: "+e)}if(o(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=$f();scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":"/",read_=o((e,t)=>(e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFileSync(e,t?void 0:"utf8")),"read_"),readBinary=o(e=>{var t=read_(e,!0);return t.buffer||(t=new Uint8Array(t)),t},"readBinary"),readAsync=o((e,t,r)=>{e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFile(e,function(n,i){n?r(n):t(i.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=o((e,t)=>{if(keepRuntimeAlive())throw process.exitCode=e,t;logExceptionOnExit(t),process.exit(e)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=o(e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=o(e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)},"readBinary")),readAsync=o((e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{n.status==200||n.status==0&&n.response?t(n.response):r()},n.onerror=r,n.send(null)},"readAsync"),setWindowTitle=o(e=>document.title=e,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(e,t,r){for(var n=t+r,i=t;e[i]&&!(i>=n);)++i;if(i-t>16&&e.buffer&&UTF8Decoder)return UTF8Decoder.decode(e.subarray(t,i));for(var s="";t<i;){var a=e[t++];if(128&a){var l=63&e[t++];if((224&a)!=192){var c=63&e[t++];if((a=(240&a)==224?(15&a)<<12|l<<6|c:(7&a)<<18|l<<12|c<<6|63&e[t++])<65536)s+=String.fromCharCode(a);else{var u=a-65536;s+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else s+=String.fromCharCode((31&a)<<6|l)}else s+=String.fromCharCode(a)}return s}o(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(e,t){return e?UTF8ArrayToString(HEAPU8,e,t):""}o(UTF8ToString,"UTF8ToString");function stringToUTF8Array(e,t,r,n){if(!(n>0))return 0;for(var i=r,s=r+n-1,a=0;a<e.length;++a){var l=e.charCodeAt(a);if(l>=55296&&l<=57343&&(l=65536+((1023&l)<<10)|1023&e.charCodeAt(++a)),l<=127){if(r>=s)break;t[r++]=l}else if(l<=2047){if(r+1>=s)break;t[r++]=192|l>>6,t[r++]=128|63&l}else if(l<=65535){if(r+2>=s)break;t[r++]=224|l>>12,t[r++]=128|l>>6&63,t[r++]=128|63&l}else{if(r+3>=s)break;t[r++]=240|l>>18,t[r++]=128|l>>12&63,t[r++]=128|l>>6&63,t[r++]=128|63&l}}return t[r]=0,r-i}o(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(e,t,r){return stringToUTF8Array(e,HEAPU8,t,r)}o(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t}o(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(e){buffer=e,Module.HEAP8=HEAP8=new Int8Array(e),Module.HEAP16=HEAP16=new Int16Array(e),Module.HEAP32=HEAP32=new Int32Array(e),Module.HEAPU8=HEAPU8=new Uint8Array(e),Module.HEAPU16=HEAPU16=new Uint16Array(e),Module.HEAPU32=HEAPU32=new Uint32Array(e),Module.HEAPF32=HEAPF32=new Float32Array(e),Module.HEAPF64=HEAPF64=new Float64Array(e)}o(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}o(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}o(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}o(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}o(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}o(postRun,"postRun");function addOnPreRun(e){__ATPRERUN__.unshift(e)}o(addOnPreRun,"addOnPreRun");function addOnInit(e){__ATINIT__.unshift(e)}o(addOnInit,"addOnInit");function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}o(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}o(addRunDependency,"addRunDependency");function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}o(removeRunDependency,"removeRunDependency");function abort(e){throw Module.onAbort&&Module.onAbort(e),err(e="Aborted("+e+")"),ABORT=!0,EXITSTATUS=1,e+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(e)}o(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(e){return e.startsWith(dataURIPrefix)}o(isDataURI,"isDataURI");function isFileURI(e){return e.startsWith("file://")}o(isFileURI,"isFileURI");function getBinary(e){try{if(e==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(e);throw"both async and sync fetching of the wasm failed"}catch(t){abort(t)}}o(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return e.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(e,t){readAsync(wasmBinaryFile,function(r){e(new Uint8Array(r))},t)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}o(getBinaryPromise,"getBinaryPromise");function createWasm(){var e={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function t(i,s){var a=i.exports;a=relocateExports(a,1024);var l=getDylinkMetadata(s);l.neededDynlibs&&(dynamicLibraries=l.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(a,"main"),Module.asm=a,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}o(t,"t");function r(i){t(i.instance,i.module)}o(r,"r");function n(i){return getBinaryPromise().then(function(s){return WebAssembly.instantiate(s,e)}).then(function(s){return s}).then(i,function(s){err("failed to asynchronously prepare wasm: "+s),abort(s)})}if(o(n,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(e,t)}catch(i){return err("Module.instantiateWasm callback failed with error: "+i),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?n(r):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(i){return WebAssembly.instantiateStreaming(i,e).then(r,function(s){return err("wasm streaming compile failed: "+s),err("falling back to ArrayBuffer instantiation"),n(r)})}),{}}o(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}o(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:o(function(e,t){var r=GOT[t];return r||(r=GOT[t]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(t)||(r.required=!0),r},"get")};function callRuntimeCallbacks(e){for(;e.length>0;)e.shift()(Module)}o(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(e){var t=0,r=0;function n(){for(var x=0,_=1;;){var y=e[t++];if(x+=(127&y)*_,_*=128,!(128&y))break}return x}o(n,"_");function i(){var x=n();return UTF8ArrayToString(e,(t+=x)-x,x)}o(i,"n");function s(x,_){if(x)throw new Error(_)}o(s,"s");var a="dylink.0";if(e instanceof WebAssembly.Module){var l=WebAssembly.Module.customSections(e,a);l.length===0&&(a="dylink",l=WebAssembly.Module.customSections(e,a)),s(l.length===0,"need dylink section"),r=(e=new Uint8Array(l[0])).length}else{s(new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),s(e[8]!==0,"need the dylink section to be first"),t=9;var c=n();r=t+c,a=i()}var u={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(a=="dylink"){u.memorySize=n(),u.memoryAlign=n(),u.tableSize=n(),u.tableAlign=n();for(var f=n(),d=0;d<f;++d){var m=i();u.neededDynlibs.push(m)}}else for(s(a!=="dylink.0");t<r;){var p=e[t++],g=n();if(p===1)u.memorySize=n(),u.memoryAlign=n(),u.tableSize=n(),u.tableAlign=n();else if(p===2)for(f=n(),d=0;d<f;++d)m=i(),u.neededDynlibs.push(m);else if(p===3)for(var h=n();h--;){var b=i();256&n()&&u.tlsExports.add(b)}else if(p===4)for(h=n();h--;)i(),b=i(),(3&n())==1&&u.weakImports.add(b);else t+=g}return u}o(getDylinkMetadata,"getDylinkMetadata");function getValue(e,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];case"*":return HEAPU32[e>>2];default:abort("invalid type for getValue: "+t)}return null}o(getValue,"getValue");function asmjsMangle(e){return e.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(e)?e:"_"+e}o(asmjsMangle,"asmjsMangle");function mergeLibSymbols(e,t){for(var r in e)if(e.hasOwnProperty(r)){asmLibraryArg.hasOwnProperty(r)||(asmLibraryArg[r]=e[r]);var n=asmjsMangle(r);Module.hasOwnProperty(n)||(Module[n]=e[r]),r=="__main_argc_argv"&&(Module._main=e[r])}}o(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(e,t,r){var n=Module["dynCall_"+e];return r&&r.length?n.apply(null,[t].concat(r)):n.call(null,t)}o(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(e){var t=wasmTableMirror[e];return t||(e>=wasmTableMirror.length&&(wasmTableMirror.length=e+1),wasmTableMirror[e]=t=wasmTable.get(e)),t}o(getWasmTableEntry,"getWasmTableEntry");function dynCall(e,t,r){return e.includes("j")?dynCallLegacy(e,t,r):getWasmTableEntry(t).apply(null,r)}o(dynCall,"dynCall");function createInvokeFunction(e){return function(){var t=stackSave();try{return dynCall(e,arguments[0],Array.prototype.slice.call(arguments,1))}catch(r){if(stackRestore(t),r!==r+0)throw r;_setThrew(1,0)}}}o(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(e,t){return HEAPU8.fill(0,e,e+t),e}o(zeroMemory,"zeroMemory");function getMemory(e){if(runtimeInitialized)return zeroMemory(_malloc(e),e);var t=___heap_base,r=t+e+15&-16;return ___heap_base=r,GOT.__heap_base.value=r,t}o(getMemory,"getMemory");function isInternalSym(e){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(e)}o(isInternalSym,"isInternalSym");function uleb128Encode(e,t){e<128?t.push(e):t.push(e%128|128,e>>7)}o(uleb128Encode,"uleb128Encode");function sigToWasmTypes(e){for(var t={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},r={parameters:[],results:e[0]=="v"?[]:[t[e[0]]]},n=1;n<e.length;++n)r.parameters.push(t[e[n]]),e[n]==="j"&&r.parameters.push("i32");return r}o(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(e,t){var r=e.slice(0,1),n=e.slice(1),i={i:127,p:127,j:126,f:125,d:124};t.push(96),uleb128Encode(n.length,t);for(var s=0;s<n.length;++s)t.push(i[n[s]]);r=="v"?t.push(0):t.push(1,i[r])}o(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(e,t){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(t),e);var r=[1];generateFuncType(t,r);var n=[0,97,115,109,1,0,0,0,1];uleb128Encode(r.length,n),n.push.apply(n,r),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var i=new WebAssembly.Module(new Uint8Array(n));return new WebAssembly.Instance(i,{e:{f:e}}).exports.f}o(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(e,t){if(functionsInTableMap)for(var r=e;r<e+t;r++){var n=getWasmTableEntry(r);n&&functionsInTableMap.set(n,r)}}o(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(e){throw e instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":e}return wasmTable.length-1}o(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(e,t){wasmTable.set(e,t),wasmTableMirror[e]=wasmTable.get(e)}o(setWasmTableEntry,"setWasmTableEntry");function addFunction(e,t){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(e))return functionsInTableMap.get(e);var r=getEmptyTableSlot();try{setWasmTableEntry(r,e)}catch(n){if(!(n instanceof TypeError))throw n;setWasmTableEntry(r,convertJsFunctionToWasm(e,t))}return functionsInTableMap.set(e,r),r}o(addFunction,"addFunction");function updateGOT(e,t){for(var r in e)if(!isInternalSym(r)){var n=e[r];r.startsWith("orig$")&&(r=r.split("$")[1],t=!0),GOT[r]||(GOT[r]=new WebAssembly.Global({value:"i32",mutable:!0})),(t||GOT[r].value==0)&&(typeof n=="function"?GOT[r].value=addFunction(n):typeof n=="number"?GOT[r].value=n:err("unhandled export type for `"+r+"`: "+typeof n))}}o(updateGOT,"updateGOT");function relocateExports(e,t,r){var n={};for(var i in e){var s=e[i];typeof s=="object"&&(s=s.value),typeof s=="number"&&(s+=t),n[i]=s}return updateGOT(n,r),n}o(relocateExports,"relocateExports");function resolveGlobalSymbol(e,t){var r;return t&&(r=asmLibraryArg["orig$"+e]),r||(r=asmLibraryArg[e])&&r.stub&&(r=void 0),r||(r=Module[asmjsMangle(e)]),!r&&e.startsWith("invoke_")&&(r=createInvokeFunction(e.split("_")[1])),r}o(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(e,t){return Math.ceil(e/t)*t}o(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(e){var t=resolveGlobalSymbol(e,!1);return t||(t=moduleExports[e]),t}o(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:o(function(e,t){switch(t){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(t in asmLibraryArg)return asmLibraryArg[t];var r;return t in e||(e[t]=function(){return r||(r=resolveSymbol(t)),r.apply(null,arguments)}),e[t]},"get")},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(o(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(o(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(e){return postInstantiation(e.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return o(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(e,t){return e.then(function(){return loadDynamicLibrary(t,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(e){loadDynamicLibrary(e,flags)}),loadModule())}o(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(e,t,r){t=t||{global:!0,nodelete:!0};var n=LDSO.loadedLibsByName[e];if(n)return t.global&&!n.global&&(n.global=!0,n.module!=="loading"&&mergeLibSymbols(n.module,e)),t.nodelete&&n.refcount!==1/0&&(n.refcount=1/0),n.refcount++,r&&(LDSO.loadedLibsByHandle[r]=n),!t.loadAsync||Promise.resolve(!0);function i(l){if(t.fs&&t.fs.findObject(l)){var c=t.fs.readFile(l,{encoding:"binary"});return c instanceof Uint8Array||(c=new Uint8Array(c)),t.loadAsync?Promise.resolve(c):c}if(l=locateFile(l),t.loadAsync)return new Promise(function(u,f){readAsync(l,d=>u(new Uint8Array(d)),f)});if(!readBinary)throw new Error(l+": file not found, and synchronous loading of external files is not available");return readBinary(l)}o(i,"n");function s(){if(typeof preloadedWasm<"u"&&preloadedWasm[e]){var l=preloadedWasm[e];return t.loadAsync?Promise.resolve(l):l}return t.loadAsync?i(e).then(function(c){return loadWebAssemblyModule(c,t,r)}):loadWebAssemblyModule(i(e),t,r)}o(s,"s");function a(l){n.global&&mergeLibSymbols(l,e),n.module=l}return o(a,"a"),n={refcount:t.nodelete?1/0:1,name:e,module:"loading",global:t.global},LDSO.loadedLibsByName[e]=n,r&&(LDSO.loadedLibsByHandle[r]=n),t.loadAsync?s().then(function(l){return a(l),!0}):(a(s()),!0)}o(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var e in GOT)if(GOT[e].value==0){var t=resolveGlobalSymbol(e,!0);if(!t&&!GOT[e].required)continue;if(typeof t=="function")GOT[e].value=addFunction(t,t.sig);else{if(typeof t!="number")throw new Error("bad export type for `"+e+"`: "+typeof t);GOT[e].value=t}}}o(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(e,t){return e.then(function(){return loadDynamicLibrary(t,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}o(preloadDylibs,"preloadDylibs");function setValue(e,t,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;case"*":HEAPU32[e>>2]=t;break;default:abort("invalid type for setValue: "+r)}}o(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}o(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}o(_abort,"_abort");function _emscripten_date_now(){return Date.now()}o(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(e,t,r){HEAPU8.copyWithin(e,t,t+r)}o(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}o(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(e){try{return wasmMemory.grow(e-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}o(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(e){var t=HEAPU8.length;e>>>=0;var r=getHeapMax();if(e>r)return!1;for(var n=1;n<=4;n*=2){var i=t*(1+.2/n);if(i=Math.min(i,e+100663296),emscripten_realloc_buffer(Math.min(r,(s=Math.max(e,i))+((a=65536)-s%a)%a)))return!0}var s,a;return!1}o(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:o(function(e,t,r){if(PATH.isAbs(t))return t;var n;if(e===-100?n=FS.cwd():n=SYSCALLS.getStreamFromFD(e).path,t.length==0){if(!r)throw new FS.ErrnoError(44);return n}return PATH.join2(n,t)},"calculateAt"),doStat:o(function(e,t,r){try{var n=e(t)}catch(l){if(l&&l.node&&PATH.normalize(t)!==PATH.normalize(FS.getPath(l.node)))return-54;throw l}HEAP32[r>>2]=n.dev,HEAP32[r+8>>2]=n.ino,HEAP32[r+12>>2]=n.mode,HEAPU32[r+16>>2]=n.nlink,HEAP32[r+20>>2]=n.uid,HEAP32[r+24>>2]=n.gid,HEAP32[r+28>>2]=n.rdev,tempI64=[n.size>>>0,(tempDouble=n.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+40>>2]=tempI64[0],HEAP32[r+44>>2]=tempI64[1],HEAP32[r+48>>2]=4096,HEAP32[r+52>>2]=n.blocks;var i=n.atime.getTime(),s=n.mtime.getTime(),a=n.ctime.getTime();return tempI64=[Math.floor(i/1e3)>>>0,(tempDouble=Math.floor(i/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+56>>2]=tempI64[0],HEAP32[r+60>>2]=tempI64[1],HEAPU32[r+64>>2]=i%1e3*1e3,tempI64=[Math.floor(s/1e3)>>>0,(tempDouble=Math.floor(s/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+72>>2]=tempI64[0],HEAP32[r+76>>2]=tempI64[1],HEAPU32[r+80>>2]=s%1e3*1e3,tempI64=[Math.floor(a/1e3)>>>0,(tempDouble=Math.floor(a/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+88>>2]=tempI64[0],HEAP32[r+92>>2]=tempI64[1],HEAPU32[r+96>>2]=a%1e3*1e3,tempI64=[n.ino>>>0,(tempDouble=n.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+104>>2]=tempI64[0],HEAP32[r+108>>2]=tempI64[1],0},"doStat"),doMsync:o(function(e,t,r,n,i){if(!FS.isFile(t.node.mode))throw new FS.ErrnoError(43);if(2&n)return 0;var s=HEAPU8.slice(e,e+r);FS.msync(t,s,i,r,n)},"doMsync"),varargs:void 0,get:o(function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},"get"),getStr:o(function(e){return UTF8ToString(e)},"getStr"),getStreamFromFD:o(function(e){var t=FS.getStream(e);if(!t)throw new FS.ErrnoError(8);return t},"getStreamFromFD")};function _proc_exit(e){EXITSTATUS=e,keepRuntimeAlive()||(Module.onExit&&Module.onExit(e),ABORT=!0),quit_(e,new ExitStatus(e))}o(_proc_exit,"_proc_exit");function exitJS(e,t){EXITSTATUS=e,_proc_exit(e)}o(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(e){try{var t=SYSCALLS.getStreamFromFD(e);return FS.close(t),0}catch(r){if(typeof FS>"u"||!(r instanceof FS.ErrnoError))throw r;return r.errno}}o(_fd_close,"_fd_close");function convertI32PairToI53Checked(e,t){return t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN}o(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(e,t,r,n,i){try{var s=convertI32PairToI53Checked(t,r);if(isNaN(s))return 61;var a=SYSCALLS.getStreamFromFD(e);return FS.llseek(a,s,n),tempI64=[a.position>>>0,(tempDouble=a.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[i>>2]=tempI64[0],HEAP32[i+4>>2]=tempI64[1],a.getdents&&s===0&&n===0&&(a.getdents=null),0}catch(l){if(typeof FS>"u"||!(l instanceof FS.ErrnoError))throw l;return l.errno}}o(_fd_seek,"_fd_seek");function doWritev(e,t,r,n){for(var i=0,s=0;s<r;s++){var a=HEAPU32[t>>2],l=HEAPU32[t+4>>2];t+=8;var c=FS.write(e,HEAP8,a,l,n);if(c<0)return-1;i+=c,n!==void 0&&(n+=c)}return i}o(doWritev,"doWritev");function _fd_write(e,t,r,n){try{var i=doWritev(SYSCALLS.getStreamFromFD(e),t,r);return HEAPU32[n>>2]=i,0}catch(s){if(typeof FS>"u"||!(s instanceof FS.ErrnoError))throw s;return s.errno}}o(_fd_write,"_fd_write");function _tree_sitter_log_callback(e,t){if(currentLogCallback){let r=UTF8ToString(t);currentLogCallback(r,e!==0)}}o(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(e,t,r,n,i){var s=currentParseCallback(t,{row:r,column:n});typeof s=="string"?(setValue(i,s.length,"i32"),stringToUTF16(s,e,10240)):setValue(i,0,"i32")}o(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(e){if(e instanceof ExitStatus||e=="unwind")return EXITSTATUS;quit_(1,e)}o(handleException,"handleException");function allocateUTF8OnStack(e){var t=lengthBytesUTF8(e)+1,r=stackAlloc(t);return stringToUTF8Array(e,HEAP8,r,t),r}o(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(e,t,r){if(r===void 0&&(r=2147483647),r<2)return 0;for(var n=t,i=(r-=2)<2*e.length?r/2:e.length,s=0;s<i;++s){var a=e.charCodeAt(s);HEAP16[t>>1]=a,t+=2}return HEAP16[t>>1]=0,t-n}o(stringToUTF16,"stringToUTF16");function AsciiToString(e){for(var t="";;){var r=HEAPU8[e++>>0];if(!r)return t;t+=String.fromCharCode(r)}}o(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(e){var t=Module._main;if(t){(e=e||[]).unshift(thisProgram);var r=e.length,n=stackAlloc(4*(r+1)),i=n>>2;e.forEach(a=>{HEAP32[i++]=allocateUTF8OnStack(a)}),HEAP32[i]=0;try{var s=t(r,n);return exitJS(s,!0),s}catch(a){return handleException(a)}}}o(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=o(function e(){calledRun||run(),calledRun||(dependenciesFulfilled=e)},"e");var dylibsLoaded=!1;function run(e){function t(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(e),postRun()))}o(t,"t"),e=e||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1)):t()))}if(o(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static{o(this,"ParserImpl")}static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(t){let r;if(t){if(t.constructor!==Language)throw new Error("Argument must be a Language");{r=t[0];let n=C._ts_language_version(r);if(n<MIN_COMPATIBLE_VERSION||VERSION<n)throw new Error(`Incompatible language version ${n}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else r=0,t=null;return this.language=t,C._ts_parser_set_language(this[0],r),this}getLanguage(){return this.language}parse(t,r,n){if(typeof t=="string")currentParseCallback=o((c,u,f)=>t.slice(c,f),"currentParseCallback");else{if(typeof t!="function")throw new Error("Argument must be a string or a function");currentParseCallback=t}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let i=0,s=0;if(n&&n.includedRanges){i=n.includedRanges.length,s=C._calloc(i,SIZE_OF_RANGE);let c=s;for(let u=0;u<i;u++)marshalRange(c,n.includedRanges[u]),c+=SIZE_OF_RANGE}let a=C._ts_parser_parse_wasm(this[0],this[1],r?r[0]:0,s,i);if(!a)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let l=new Tree(INTERNAL,a,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,l}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(t){C._ts_parser_set_timeout_micros(this[0],t)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(t){if(t){if(typeof t!="function")throw new Error("Logger callback must be a function")}else t=null;return this.logCallback=t,this}getLogger(){return this.logCallback}}class Tree{static{o(this,"Tree")}constructor(t,r,n,i){assertInternal(t),this[0]=r,this.language=n,this.textCallback=i}copy(){let t=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,t,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(t){marshalEdit(t),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(t){if(t.constructor!==Tree)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],t[0]);let r=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),i=new Array(r);if(r>0){let s=n;for(let a=0;a<r;a++)i[a]=unmarshalRange(s),s+=SIZE_OF_RANGE;C._free(n)}return i}}class Node{static{o(this,"Node")}constructor(t,r){assertInternal(t),this.tree=r}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(t){return this.id===t.id}child(t){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],t),unmarshalNode(this.tree)}namedChild(t){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],t),unmarshalNode(this.tree)}childForFieldId(t){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],t),unmarshalNode(this.tree)}childForFieldName(t){let r=this.tree.language.fields.indexOf(t);if(r!==-1)return this.childForFieldId(r)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let t=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(t),t>0){let n=r;for(let i=0;i<t;i++)this._children[i]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let t=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(t),t>0){let n=r;for(let i=0;i<t;i++)this._namedChildren[i]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._namedChildren}descendantsOfType(t,r,n){Array.isArray(t)||(t=[t]),r||(r=ZERO_POINT),n||(n=ZERO_POINT);let i=[],s=this.tree.language.types;for(let f=0,d=s.length;f<d;f++)t.includes(s[f])&&i.push(f);let a=C._malloc(SIZE_OF_INT*i.length);for(let f=0,d=i.length;f<d;f++)setValue(a+f*SIZE_OF_INT,i[f],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],a,i.length,r.row,r.column,n.row,n.column);let l=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),u=new Array(l);if(l>0){let f=c;for(let d=0;d<l;d++)u[d]=unmarshalNode(this.tree,f),f+=SIZE_OF_NODE}return C._free(c),C._free(a),u}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(t,r=t){if(typeof t!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,t,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(t,r=t){if(typeof t!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,t,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(t,r=t){if(!isPoint(t)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,t),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(t,r=t){if(!isPoint(t)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,t),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let t=C._ts_node_to_string_wasm(this.tree[0]),r=AsciiToString(t);return C._free(t),r}}class TreeCursor{static{o(this,"TreeCursor")}constructor(t,r){assertInternal(t),this.tree=r,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(t){marshalNode(t),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let t=C._ts_tree_cursor_start_index_wasm(this.tree[0]),r=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,t,r)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoNextSibling(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoParent(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}}class Language{static{o(this,"Language")}constructor(t,r){assertInternal(t),this[0]=r,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let n=0,i=this.types.length;n<i;n++)C._ts_language_symbol_type(this[0],n)<2&&(this.types[n]=UTF8ToString(C._ts_language_symbol_name(this[0],n)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let n=0,i=this.fields.length;n<i;n++){let s=C._ts_language_field_name_for_id(this[0],n);this.fields[n]=s!==0?UTF8ToString(s):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(t){let r=this.fields.indexOf(t);return r!==-1?r:null}fieldNameForId(t){return this.fields[t]||null}idForNodeType(t,r){let n=lengthBytesUTF8(t),i=C._malloc(n+1);stringToUTF8(t,i,n+1);let s=C._ts_language_symbol_for_name(this[0],i,n,r);return C._free(i),s||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(t){let r=C._ts_language_symbol_name(this[0],t);return r?UTF8ToString(r):null}nodeTypeIsNamed(t){return!!C._ts_language_type_is_named_wasm(this[0],t)}nodeTypeIsVisible(t){return!!C._ts_language_type_is_visible_wasm(this[0],t)}query(t){let r=lengthBytesUTF8(t),n=C._malloc(r+1);stringToUTF8(t,n,r+1);let i=C._ts_query_new(this[0],n,r,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!i){let h=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),b=UTF8ToString(n,getValue(TRANSFER_BUFFER,"i32")).length,x=t.substr(b,100).split(`
`)[0],_,y=x.match(QUERY_WORD_REGEX)[0];switch(h){case 2:_=new RangeError(`Bad node name '${y}'`);break;case 3:_=new RangeError(`Bad field name '${y}'`);break;case 4:_=new RangeError(`Bad capture name @${y}`);break;case 5:_=new TypeError(`Bad pattern structure at offset ${b}: '${x}'...`),y="";break;default:_=new SyntaxError(`Bad syntax at offset ${b}: '${x}'...`),y=""}throw _.index=b,_.length=y.length,C._free(n),_}let s=C._ts_query_string_count(i),a=C._ts_query_capture_count(i),l=C._ts_query_pattern_count(i),c=new Array(a),u=new Array(s);for(let h=0;h<a;h++){let b=C._ts_query_capture_name_for_id(i,h,TRANSFER_BUFFER),x=getValue(TRANSFER_BUFFER,"i32");c[h]=UTF8ToString(b,x)}for(let h=0;h<s;h++){let b=C._ts_query_string_value_for_id(i,h,TRANSFER_BUFFER),x=getValue(TRANSFER_BUFFER,"i32");u[h]=UTF8ToString(b,x)}let f=new Array(l),d=new Array(l),m=new Array(l),p=new Array(l),g=new Array(l);for(let h=0;h<l;h++){let b=C._ts_query_predicates_for_pattern(i,h,TRANSFER_BUFFER),x=getValue(TRANSFER_BUFFER,"i32");p[h]=[],g[h]=[];let _=[],y=b;for(let v=0;v<x;v++){let I=getValue(y,"i32");y+=SIZE_OF_INT;let R=getValue(y,"i32");if(y+=SIZE_OF_INT,I===PREDICATE_STEP_TYPE_CAPTURE)_.push({type:"capture",name:c[R]});else if(I===PREDICATE_STEP_TYPE_STRING)_.push({type:"string",value:u[R]});else if(_.length>0){if(_[0].type!=="string")throw new Error("Predicates must begin with a literal value");let z=_[0].value,V=!0;switch(z){case"not-eq?":V=!1;case"eq?":if(_.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(_.length-1));if(_[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${_[1].value}"`);if(_[2].type==="capture"){let w=_[1].name,H=_[2].name;g[h].push(function(N){let T,E;for(let D of N)D.name===w&&(T=D.node),D.name===H&&(E=D.node);return T===void 0||E===void 0||T.text===E.text===V})}else{let w=_[1].name,H=_[2].value;g[h].push(function(N){for(let T of N)if(T.name===w)return T.node.text===H===V;return!0})}break;case"not-match?":V=!1;case"match?":if(_.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${_.length-1}.`);if(_[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${_[1].value}".`);if(_[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${_[2].value}.`);let $=_[1].name,Y=new RegExp(_[2].value);g[h].push(function(w){for(let H of w)if(H.name===$)return Y.test(H.node.text)===V;return!0});break;case"set!":if(_.length<2||_.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${_.length-1}.`);if(_.some(w=>w.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');f[h]||(f[h]={}),f[h][_[1].value]=_[2]?_[2].value:null;break;case"is?":case"is-not?":if(_.length<2||_.length>3)throw new Error(`Wrong number of arguments to \`#${z}\` predicate. Expected 1 or 2. Got ${_.length-1}.`);if(_.some(w=>w.type!=="string"))throw new Error(`Arguments to \`#${z}\` predicate must be a strings.".`);let P=z==="is?"?d:m;P[h]||(P[h]={}),P[h][_[1].value]=_[2]?_[2].value:null;break;default:p[h].push({operator:z,operands:_.slice(1)})}_.length=0}}Object.freeze(f[h]),Object.freeze(d[h]),Object.freeze(m[h])}return C._free(n),new Query(INTERNAL,i,c,g,p,Object.freeze(f),Object.freeze(d),Object.freeze(m))}static load(t){let r;if(t instanceof Uint8Array)r=Promise.resolve(t);else{let i=t;if(typeof process<"u"&&process.versions&&process.versions.node){let s=require("fs");r=Promise.resolve(s.readFileSync(i))}else r=fetch(i).then(s=>s.arrayBuffer().then(a=>{if(s.ok)return new Uint8Array(a);{let l=new TextDecoder("utf-8").decode(a);throw new Error(`Language.load failed with status ${s.status}.

${l}`)}}))}let n=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return r.then(i=>n(i,{loadAsync:!0})).then(i=>{let s=Object.keys(i),a=s.find(c=>LANGUAGE_FUNCTION_REGEX.test(c)&&!c.includes("external_scanner_"));a||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(s,null,2)}`);let l=i[a]();return new Language(INTERNAL,l)})}}class Query{static{o(this,"Query")}constructor(t,r,n,i,s,a,l,c){assertInternal(t),this[0]=r,this.captureNames=n,this.textPredicates=i,this.predicates=s,this.setProperties=a,this.assertedProperties=l,this.refutedProperties=c,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(t,r,n,i){r||(r=ZERO_POINT),n||(n=ZERO_POINT),i||(i={});let s=i.matchLimit;if(s===void 0)s=0;else if(typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(t),C._ts_query_matches_wasm(this[0],t.tree[0],r.row,r.column,n.row,n.column,s);let a=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),u=new Array(a);this.exceededMatchLimit=!!c;let f=0,d=l;for(let m=0;m<a;m++){let p=getValue(d,"i32");d+=SIZE_OF_INT;let g=getValue(d,"i32");d+=SIZE_OF_INT;let h=new Array(g);if(d=unmarshalCaptures(this,t.tree,d,h),this.textPredicates[p].every(b=>b(h))){u[f++]={pattern:p,captures:h};let b=this.setProperties[p];b&&(u[m].setProperties=b);let x=this.assertedProperties[p];x&&(u[m].assertedProperties=x);let _=this.refutedProperties[p];_&&(u[m].refutedProperties=_)}}return u.length=f,C._free(l),u}captures(t,r,n,i){r||(r=ZERO_POINT),n||(n=ZERO_POINT),i||(i={});let s=i.matchLimit;if(s===void 0)s=0;else if(typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(t),C._ts_query_captures_wasm(this[0],t.tree[0],r.row,r.column,n.row,n.column,s);let a=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),u=[];this.exceededMatchLimit=!!c;let f=[],d=l;for(let m=0;m<a;m++){let p=getValue(d,"i32");d+=SIZE_OF_INT;let g=getValue(d,"i32");d+=SIZE_OF_INT;let h=getValue(d,"i32");if(d+=SIZE_OF_INT,f.length=g,d=unmarshalCaptures(this,t.tree,d,f),this.textPredicates[p].every(b=>b(f))){let b=f[h],x=this.setProperties[p];x&&(b.setProperties=x);let _=this.assertedProperties[p];_&&(b.assertedProperties=_);let y=this.refutedProperties[p];y&&(b.refutedProperties=y),u.push(b)}}return C._free(l),u}predicatesForPattern(t){return this.predicates[t]}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(e,t,r){let n=r-t,i=e.textCallback(t,null,r);for(t+=i.length;t<r;){let s=e.textCallback(t,null,r);if(!(s&&s.length>0))break;t+=s.length,i+=s}return t>r&&(i=i.slice(0,n)),i}o(getText,"getText");function unmarshalCaptures(e,t,r,n){for(let i=0,s=n.length;i<s;i++){let a=getValue(r,"i32"),l=unmarshalNode(t,r+=SIZE_OF_INT);r+=SIZE_OF_NODE,n[i]={name:e.captureNames[a],node:l}}return r}o(unmarshalCaptures,"unmarshalCaptures");function assertInternal(e){if(e!==INTERNAL)throw new Error("Illegal constructor")}o(assertInternal,"assertInternal");function isPoint(e){return e&&typeof e.row=="number"&&typeof e.column=="number"}o(isPoint,"isPoint");function marshalNode(e){let t=TRANSFER_BUFFER;setValue(t,e.id,"i32"),t+=SIZE_OF_INT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.startPosition.row,"i32"),t+=SIZE_OF_INT,setValue(t,e.startPosition.column,"i32"),t+=SIZE_OF_INT,setValue(t,e[0],"i32")}o(marshalNode,"marshalNode");function unmarshalNode(e,t=TRANSFER_BUFFER){let r=getValue(t,"i32");if(r===0)return null;let n=getValue(t+=SIZE_OF_INT,"i32"),i=getValue(t+=SIZE_OF_INT,"i32"),s=getValue(t+=SIZE_OF_INT,"i32"),a=getValue(t+=SIZE_OF_INT,"i32"),l=new Node(INTERNAL,e);return l.id=r,l.startIndex=n,l.startPosition={row:i,column:s},l[0]=a,l}o(unmarshalNode,"unmarshalNode");function marshalTreeCursor(e,t=TRANSFER_BUFFER){setValue(t+0*SIZE_OF_INT,e[0],"i32"),setValue(t+1*SIZE_OF_INT,e[1],"i32"),setValue(t+2*SIZE_OF_INT,e[2],"i32")}o(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(e){e[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),e[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),e[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}o(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(e,t){setValue(e,t.row,"i32"),setValue(e+SIZE_OF_INT,t.column,"i32")}o(marshalPoint,"marshalPoint");function unmarshalPoint(e){return{row:getValue(e,"i32"),column:getValue(e+SIZE_OF_INT,"i32")}}o(unmarshalPoint,"unmarshalPoint");function marshalRange(e,t){marshalPoint(e,t.startPosition),marshalPoint(e+=SIZE_OF_POINT,t.endPosition),setValue(e+=SIZE_OF_POINT,t.startIndex,"i32"),setValue(e+=SIZE_OF_INT,t.endIndex,"i32"),e+=SIZE_OF_INT}o(marshalRange,"marshalRange");function unmarshalRange(e){let t={};return t.startPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.endPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.startIndex=getValue(e,"i32"),e+=SIZE_OF_INT,t.endIndex=getValue(e,"i32"),t}o(unmarshalRange,"unmarshalRange");function marshalEdit(e){let t=TRANSFER_BUFFER;marshalPoint(t,e.startPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.oldEndPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.newEndPosition),t+=SIZE_OF_POINT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.oldEndIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.newEndIndex,"i32"),t+=SIZE_OF_INT}o(marshalEdit,"marshalEdit");for(let e of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,e,{value:ParserImpl.prototype[e],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}}return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});var Td=Q(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});xi.stringArray=xi.array=xi.func=xi.error=xi.number=xi.string=xi.boolean=void 0;function Sne(e){return e===!0||e===!1}o(Sne,"boolean");xi.boolean=Sne;function xA(e){return typeof e=="string"||e instanceof String}o(xA,"string");xi.string=xA;function wne(e){return typeof e=="number"||e instanceof Number}o(wne,"number");xi.number=wne;function Pne(e){return e instanceof Error}o(Pne,"error");xi.error=Pne;function Rne(e){return typeof e=="function"}o(Rne,"func");xi.func=Rne;function bA(e){return Array.isArray(e)}o(bA,"array");xi.array=bA;function Dne(e){return bA(e)&&e.every(t=>xA(t))}o(Dne,"stringArray");xi.stringArray=Dne});var L9=Q(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.Message=Je.NotificationType9=Je.NotificationType8=Je.NotificationType7=Je.NotificationType6=Je.NotificationType5=Je.NotificationType4=Je.NotificationType3=Je.NotificationType2=Je.NotificationType1=Je.NotificationType0=Je.NotificationType=Je.RequestType9=Je.RequestType8=Je.RequestType7=Je.RequestType6=Je.RequestType5=Je.RequestType4=Je.RequestType3=Je.RequestType2=Je.RequestType1=Je.RequestType=Je.RequestType0=Je.AbstractMessageSignature=Je.ParameterStructures=Je.ResponseError=Je.ErrorCodes=void 0;var bu=Td(),f9;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(f9||(Je.ErrorCodes=f9={}));var d9=class e extends Error{static{o(this,"ResponseError")}constructor(t,r,n){super(r),this.code=bu.number(t)?t:f9.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,e.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};Je.ResponseError=d9;var Qi=class e{static{o(this,"ParameterStructures")}constructor(t){this.kind=t}static is(t){return t===e.auto||t===e.byName||t===e.byPosition}toString(){return this.kind}};Je.ParameterStructures=Qi;Qi.auto=new Qi("auto");Qi.byPosition=new Qi("byPosition");Qi.byName=new Qi("byName");var Lr=class{static{o(this,"AbstractMessageSignature")}constructor(t,r){this.method=t,this.numberOfParams=r}get parameterStructures(){return Qi.auto}};Je.AbstractMessageSignature=Lr;var m9=class extends Lr{static{o(this,"RequestType0")}constructor(t){super(t,0)}};Je.RequestType0=m9;var p9=class extends Lr{static{o(this,"RequestType")}constructor(t,r=Qi.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Je.RequestType=p9;var g9=class extends Lr{static{o(this,"RequestType1")}constructor(t,r=Qi.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Je.RequestType1=g9;var h9=class extends Lr{static{o(this,"RequestType2")}constructor(t){super(t,2)}};Je.RequestType2=h9;var x9=class extends Lr{static{o(this,"RequestType3")}constructor(t){super(t,3)}};Je.RequestType3=x9;var b9=class extends Lr{static{o(this,"RequestType4")}constructor(t){super(t,4)}};Je.RequestType4=b9;var _9=class extends Lr{static{o(this,"RequestType5")}constructor(t){super(t,5)}};Je.RequestType5=_9;var y9=class extends Lr{static{o(this,"RequestType6")}constructor(t){super(t,6)}};Je.RequestType6=y9;var v9=class extends Lr{static{o(this,"RequestType7")}constructor(t){super(t,7)}};Je.RequestType7=v9;var T9=class extends Lr{static{o(this,"RequestType8")}constructor(t){super(t,8)}};Je.RequestType8=T9;var E9=class extends Lr{static{o(this,"RequestType9")}constructor(t){super(t,9)}};Je.RequestType9=E9;var C9=class extends Lr{static{o(this,"NotificationType")}constructor(t,r=Qi.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Je.NotificationType=C9;var I9=class extends Lr{static{o(this,"NotificationType0")}constructor(t){super(t,0)}};Je.NotificationType0=I9;var S9=class extends Lr{static{o(this,"NotificationType1")}constructor(t,r=Qi.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Je.NotificationType1=S9;var w9=class extends Lr{static{o(this,"NotificationType2")}constructor(t){super(t,2)}};Je.NotificationType2=w9;var P9=class extends Lr{static{o(this,"NotificationType3")}constructor(t){super(t,3)}};Je.NotificationType3=P9;var R9=class extends Lr{static{o(this,"NotificationType4")}constructor(t){super(t,4)}};Je.NotificationType4=R9;var D9=class extends Lr{static{o(this,"NotificationType5")}constructor(t){super(t,5)}};Je.NotificationType5=D9;var A9=class extends Lr{static{o(this,"NotificationType6")}constructor(t){super(t,6)}};Je.NotificationType6=A9;var N9=class extends Lr{static{o(this,"NotificationType7")}constructor(t){super(t,7)}};Je.NotificationType7=N9;var k9=class extends Lr{static{o(this,"NotificationType8")}constructor(t){super(t,8)}};Je.NotificationType8=k9;var O9=class extends Lr{static{o(this,"NotificationType9")}constructor(t){super(t,9)}};Je.NotificationType9=O9;var _A;(function(e){function t(i){let s=i;return s&&bu.string(s.method)&&(bu.string(s.id)||bu.number(s.id))}o(t,"isRequest"),e.isRequest=t;function r(i){let s=i;return s&&bu.string(s.method)&&i.id===void 0}o(r,"isNotification"),e.isNotification=r;function n(i){let s=i;return s&&(s.result!==void 0||!!s.error)&&(bu.string(s.id)||bu.number(s.id)||s.id===null)}o(n,"isResponse"),e.isResponse=n})(_A||(Je.Message=_A={}))});var M9=Q($l=>{"use strict";var yA;Object.defineProperty($l,"__esModule",{value:!0});$l.LRUCache=$l.LinkedMap=$l.Touch=void 0;var bi;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(bi||($l.Touch=bi={}));var J5=class{static{o(this,"LinkedMap")}constructor(){this[yA]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,r=bi.None){let n=this._map.get(t);if(n)return r!==bi.None&&this.touch(n,r),n.value}set(t,r,n=bi.None){let i=this._map.get(t);if(i)i.value=r,n!==bi.None&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case bi.None:this.addItemLast(i);break;case bi.First:this.addItemFirst(i);break;case bi.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.key,done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}values(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.value,done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}entries(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:[r.key,r.value],done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}[(yA=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==bi.First&&r!==bi.Last)){if(r===bi.First){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===bi.Last){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}};$l.LinkedMap=J5;var F9=class extends J5{static{o(this,"LRUCache")}constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=bi.AsNew){return super.get(t,r)}peek(t){return super.get(t,bi.None)}set(t,r){return super.set(t,r,bi.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};$l.LRUCache=F9});var TA=Q(X5=>{"use strict";Object.defineProperty(X5,"__esModule",{value:!0});X5.Disposable=void 0;var vA;(function(e){function t(r){return{dispose:r}}o(t,"create"),e.create=t})(vA||(X5.Disposable=vA={}))});var Wl=Q(j9=>{"use strict";Object.defineProperty(j9,"__esModule",{value:!0});var U9;function B9(){if(U9===void 0)throw new Error("No runtime abstraction layer installed");return U9}o(B9,"RAL");(function(e){function t(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");U9=r}o(t,"install"),e.install=t})(B9||(B9={}));j9.default=B9});var Cd=Q(Ed=>{"use strict";Object.defineProperty(Ed,"__esModule",{value:!0});Ed.Emitter=Ed.Event=void 0;var Ane=Wl(),EA;(function(e){let t={dispose(){}};e.None=function(){return t}})(EA||(Ed.Event=EA={}));var $9=class{static{o(this,"CallbackList")}add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:o(()=>this.remove(t,r),"dispose")})}remove(t,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===t)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,a=n.length;s<a;s++)try{r.push(n[s].apply(i[s],t))}catch(l){(0,Ane.default)().console.error(l)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Z5=class e{static{o(this,"Emitter")}constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new $9),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let i={dispose:o(()=>{this._callbacks&&(this._callbacks.remove(t,r),i.dispose=e._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(n)&&n.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Ed.Emitter=Z5;Z5._noop=function(){}});var t4=Q(Id=>{"use strict";Object.defineProperty(Id,"__esModule",{value:!0});Id.CancellationTokenSource=Id.CancellationToken=void 0;var Nne=Wl(),kne=Td(),W9=Cd(),Q5;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:W9.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:W9.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||kne.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}o(t,"is"),e.is=t})(Q5||(Id.CancellationToken=Q5={}));var One=Object.freeze(function(e,t){let r=(0,Nne.default)().timer.setTimeout(e.bind(t),0);return{dispose(){r.dispose()}}}),e4=class{static{o(this,"MutableToken")}constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?One:(this._emitter||(this._emitter=new W9.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},q9=class{static{o(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new e4),this._token}cancel(){this._token?this._token.cancel():this._token=Q5.Cancelled}dispose(){this._token?this._token instanceof e4&&this._token.dispose():this._token=Q5.None}};Id.CancellationTokenSource=q9});var CA=Q(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});Sd.SharedArrayReceiverStrategy=Sd.SharedArraySenderStrategy=void 0;var Lne=t4(),xp;(function(e){e.Continue=0,e.Cancelled=1})(xp||(xp={}));var G9=class{static{o(this,"SharedArraySenderStrategy")}constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=xp.Continue,this.buffers.set(t.id,r),t.$cancellationData=r}async sendCancellation(t,r){let n=this.buffers.get(r);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,xp.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}};Sd.SharedArraySenderStrategy=G9;var z9=class{static{o(this,"SharedArrayBufferCancellationToken")}constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===xp.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},H9=class{static{o(this,"SharedArrayBufferCancellationTokenSource")}constructor(t){this.token=new z9(t)}cancel(){}dispose(){}},V9=class{static{o(this,"SharedArrayReceiverStrategy")}constructor(){this.kind="request"}createCancellationTokenSource(t){let r=t.$cancellationData;return r===void 0?new Lne.CancellationTokenSource:new H9(r)}};Sd.SharedArrayReceiverStrategy=V9});var Y9=Q(r4=>{"use strict";Object.defineProperty(r4,"__esModule",{value:!0});r4.Semaphore=void 0;var Fne=Wl(),K9=class{static{o(this,"Semaphore")}constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((r,n)=>{this._waiting.push({thunk:t,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Fne.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=t.thunk();r instanceof Promise?r.then(n=>{this._active--,t.resolve(n),this.runNext()},n=>{this._active--,t.reject(n),this.runNext()}):(this._active--,t.resolve(r),this.runNext())}catch(r){this._active--,t.reject(r),this.runNext()}}};r4.Semaphore=K9});var SA=Q(ql=>{"use strict";Object.defineProperty(ql,"__esModule",{value:!0});ql.ReadableStreamMessageReader=ql.AbstractMessageReader=ql.MessageReader=void 0;var X9=Wl(),wd=Td(),J9=Cd(),Mne=Y9(),IA;(function(e){function t(r){let n=r;return n&&wd.func(n.listen)&&wd.func(n.dispose)&&wd.func(n.onError)&&wd.func(n.onClose)&&wd.func(n.onPartialMessage)}o(t,"is"),e.is=t})(IA||(ql.MessageReader=IA={}));var n4=class{static{o(this,"AbstractMessageReader")}constructor(){this.errorEmitter=new J9.Emitter,this.closeEmitter=new J9.Emitter,this.partialMessageEmitter=new J9.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${wd.string(t.message)?t.message:"unknown"}`)}};ql.AbstractMessageReader=n4;var Z9;(function(e){function t(r){let n,i,s,a=new Map,l,c=new Map;if(r===void 0||typeof r=="string")n=r??"utf-8";else{if(n=r.charset??"utf-8",r.contentDecoder!==void 0&&(s=r.contentDecoder,a.set(s.name,s)),r.contentDecoders!==void 0)for(let u of r.contentDecoders)a.set(u.name,u);if(r.contentTypeDecoder!==void 0&&(l=r.contentTypeDecoder,c.set(l.name,l)),r.contentTypeDecoders!==void 0)for(let u of r.contentTypeDecoders)c.set(u.name,u)}return l===void 0&&(l=(0,X9.default)().applicationJson.decoder,c.set(l.name,l)),{charset:n,contentDecoder:s,contentDecoders:a,contentTypeDecoder:l,contentTypeDecoders:c}}o(t,"fromOptions"),e.fromOptions=t})(Z9||(Z9={}));var Q9=class extends n4{static{o(this,"ReadableStreamMessageReader")}constructor(t,r){super(),this.readable=t,this.options=Z9.fromOptions(r),this.buffer=(0,X9.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new Mne.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(t){try{for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let s=parseInt(i);if(isNaN(s)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=s}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,X9.default)().timer.setTimeout((t,r)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};ql.ReadableStreamMessageReader=Q9});var AA=Q(Gl=>{"use strict";Object.defineProperty(Gl,"__esModule",{value:!0});Gl.WriteableStreamMessageWriter=Gl.AbstractMessageWriter=Gl.MessageWriter=void 0;var wA=Wl(),bp=Td(),Une=Y9(),PA=Cd(),Bne="Content-Length: ",RA=`\r
`,DA;(function(e){function t(r){let n=r;return n&&bp.func(n.dispose)&&bp.func(n.onClose)&&bp.func(n.onError)&&bp.func(n.write)}o(t,"is"),e.is=t})(DA||(Gl.MessageWriter=DA={}));var i4=class{static{o(this,"AbstractMessageWriter")}constructor(){this.errorEmitter=new PA.Emitter,this.closeEmitter=new PA.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,r,n){this.errorEmitter.fire([this.asError(t),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${bp.string(t.message)?t.message:"unknown"}`)}};Gl.AbstractMessageWriter=i4;var e_;(function(e){function t(r){return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:(0,wA.default)().applicationJson.encoder}:{charset:r.charset??"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:r.contentTypeEncoder??(0,wA.default)().applicationJson.encoder}}o(t,"fromOptions"),e.fromOptions=t})(e_||(e_={}));var t_=class extends i4{static{o(this,"WriteableStreamMessageWriter")}constructor(t,r){super(),this.writable=t,this.options=e_.fromOptions(r),this.errorCount=0,this.writeSemaphore=new Une.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(Bne,n.byteLength.toString(),RA),i.push(RA),this.doWrite(t,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(t,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){this.writable.end()}};Gl.WriteableStreamMessageWriter=t_});var NA=Q(o4=>{"use strict";Object.defineProperty(o4,"__esModule",{value:!0});o4.AbstractMessageBuffer=void 0;var jne=13,$ne=10,Wne=`\r
`,r_=class{static{o(this,"AbstractMessageBuffer")}constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let r=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let r=0,n=0,i=0,s=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];for(i=0;i<u.length;){switch(u[i]){case jne:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case $ne:switch(r){case 1:r=2;break;case 3:r=4,i++;break e;default:r=0}break;default:r=0}i++}s+=u.byteLength,n++}if(r!==4)return;let a=this._read(s+i),l=new Map,c=this.toString(a,"ascii").split(Wne);if(c.length<2)return l;for(let u=0;u<c.length-2;u++){let f=c[u],d=f.indexOf(":");if(d===-1)throw new Error(`Message header must separate key and value using ':'
${f}`);let m=f.substr(0,d),p=f.substr(d+1).trim();l.set(t?m.toLowerCase():m,p)}return l}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(s)}if(this._chunks[0].byteLength>t){let s=this._chunks[0],a=this.asNative(s,t);return this._chunks[0]=s.slice(t),this._totalLength-=t,a}let r=this.allocNative(t),n=0,i=0;for(;t>0;){let s=this._chunks[i];if(s.byteLength>t){let a=s.slice(0,t);r.set(a,n),n+=t,this._chunks[i]=s.slice(t),this._totalLength-=t,t-=t}else r.set(s,n),n+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,t-=s.byteLength}return r}};o4.AbstractMessageBuffer=r_});var MA=Q(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.createMessageConnection=ht.ConnectionOptions=ht.MessageStrategy=ht.CancellationStrategy=ht.CancellationSenderStrategy=ht.CancellationReceiverStrategy=ht.RequestCancellationReceiverStrategy=ht.IdCancellationReceiverStrategy=ht.ConnectionStrategy=ht.ConnectionError=ht.ConnectionErrors=ht.LogTraceNotification=ht.SetTraceNotification=ht.TraceFormat=ht.TraceValues=ht.Trace=ht.NullLogger=ht.ProgressType=ht.ProgressToken=void 0;var kA=Wl(),Qr=Td(),ut=L9(),OA=M9(),_p=Cd(),n_=t4(),Tp;(function(e){e.type=new ut.NotificationType("$/cancelRequest")})(Tp||(Tp={}));var i_;(function(e){function t(r){return typeof r=="string"||typeof r=="number"}o(t,"is"),e.is=t})(i_||(ht.ProgressToken=i_={}));var yp;(function(e){e.type=new ut.NotificationType("$/progress")})(yp||(yp={}));var o_=class{static{o(this,"ProgressType")}constructor(){}};ht.ProgressType=o_;var s_;(function(e){function t(r){return Qr.func(r)}o(t,"is"),e.is=t})(s_||(s_={}));ht.NullLogger=Object.freeze({error:o(()=>{},"error"),warn:o(()=>{},"warn"),info:o(()=>{},"info"),log:o(()=>{},"log")});var ur;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(ur||(ht.Trace=ur={}));var LA;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(LA||(ht.TraceValues=LA={}));(function(e){function t(n){if(!Qr.string(n))return e.Off;switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}o(t,"fromString"),e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}o(r,"toString"),e.toString=r})(ur||(ht.Trace=ur={}));var Ao;(function(e){e.Text="text",e.JSON="json"})(Ao||(ht.TraceFormat=Ao={}));(function(e){function t(r){return Qr.string(r)?(r=r.toLowerCase(),r==="json"?e.JSON:e.Text):e.Text}o(t,"fromString"),e.fromString=t})(Ao||(ht.TraceFormat=Ao={}));var a_;(function(e){e.type=new ut.NotificationType("$/setTrace")})(a_||(ht.SetTraceNotification=a_={}));var s4;(function(e){e.type=new ut.NotificationType("$/logTrace")})(s4||(ht.LogTraceNotification=s4={}));var vp;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(vp||(ht.ConnectionErrors=vp={}));var Pd=class e extends Error{static{o(this,"ConnectionError")}constructor(t,r){super(r),this.code=t,Object.setPrototypeOf(this,e.prototype)}};ht.ConnectionError=Pd;var l_;(function(e){function t(r){let n=r;return n&&Qr.func(n.cancelUndispatched)}o(t,"is"),e.is=t})(l_||(ht.ConnectionStrategy=l_={}));var a4;(function(e){function t(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&Qr.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Qr.func(n.dispose))}o(t,"is"),e.is=t})(a4||(ht.IdCancellationReceiverStrategy=a4={}));var c_;(function(e){function t(r){let n=r;return n&&n.kind==="request"&&Qr.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Qr.func(n.dispose))}o(t,"is"),e.is=t})(c_||(ht.RequestCancellationReceiverStrategy=c_={}));var l4;(function(e){e.Message=Object.freeze({createCancellationTokenSource(r){return new n_.CancellationTokenSource}});function t(r){return a4.is(r)||c_.is(r)}o(t,"is"),e.is=t})(l4||(ht.CancellationReceiverStrategy=l4={}));var c4;(function(e){e.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(Tp.type,{id:n})},cleanup(r){}});function t(r){let n=r;return n&&Qr.func(n.sendCancellation)&&Qr.func(n.cleanup)}o(t,"is"),e.is=t})(c4||(ht.CancellationSenderStrategy=c4={}));var u4;(function(e){e.Message=Object.freeze({receiver:l4.Message,sender:c4.Message});function t(r){let n=r;return n&&l4.is(n.receiver)&&c4.is(n.sender)}o(t,"is"),e.is=t})(u4||(ht.CancellationStrategy=u4={}));var f4;(function(e){function t(r){let n=r;return n&&Qr.func(n.handleMessage)}o(t,"is"),e.is=t})(f4||(ht.MessageStrategy=f4={}));var FA;(function(e){function t(r){let n=r;return n&&(u4.is(n.cancellationStrategy)||l_.is(n.connectionStrategy)||f4.is(n.messageStrategy))}o(t,"is"),e.is=t})(FA||(ht.ConnectionOptions=FA={}));var Ys;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(Ys||(Ys={}));function qne(e,t,r,n){let i=r!==void 0?r:ht.NullLogger,s=0,a=0,l=0,c="2.0",u,f=new Map,d,m=new Map,p=new Map,g,h=new OA.LinkedMap,b=new Map,x=new Set,_=new Map,y=ur.Off,v=Ao.Text,I,R=Ys.New,z=new _p.Emitter,V=new _p.Emitter,$=new _p.Emitter,Y=new _p.Emitter,P=new _p.Emitter,w=n&&n.cancellationStrategy?n.cancellationStrategy:u4.Message;function H(L){if(L===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+L.toString()}o(H,"createRequestQueueKey");function N(L){return L===null?"res-unknown-"+(++l).toString():"res-"+L.toString()}o(N,"createResponseQueueKey");function T(){return"not-"+(++a).toString()}o(T,"createNotificationQueueKey");function E(L,Z){ut.Message.isRequest(Z)?L.set(H(Z.id),Z):ut.Message.isResponse(Z)?L.set(N(Z.id),Z):L.set(T(),Z)}o(E,"addMessageToQueue");function D(L){}o(D,"cancelUndispatched");function S(){return R===Ys.Listening}o(S,"isListening");function A(){return R===Ys.Closed}o(A,"isClosed");function k(){return R===Ys.Disposed}o(k,"isDisposed");function O(){(R===Ys.New||R===Ys.Listening)&&(R=Ys.Closed,V.fire(void 0))}o(O,"closeHandler");function M(L){z.fire([L,void 0,void 0])}o(M,"readErrorHandler");function G(L){z.fire(L)}o(G,"writeErrorHandler"),e.onClose(O),e.onError(M),t.onClose(O),t.onError(G);function se(){g||h.size===0||(g=(0,kA.default)().timer.setImmediate(()=>{g=void 0,xe()}))}o(se,"triggerMessageQueue");function ye(L){ut.Message.isRequest(L)?He(L):ut.Message.isNotification(L)?Qe(L):ut.Message.isResponse(L)?Ve(L):F(L)}o(ye,"handleMessage");function xe(){if(h.size===0)return;let L=h.shift();try{let Z=n?.messageStrategy;f4.is(Z)?Z.handleMessage(L,ye):ye(L)}finally{se()}}o(xe,"processMessageQueue");let Ue=o(L=>{try{if(ut.Message.isNotification(L)&&L.method===Tp.type.method){let Z=L.params.id,fe=H(Z),ge=h.get(fe);if(ut.Message.isRequest(ge)){let Me=n?.connectionStrategy,$e=Me&&Me.cancelUndispatched?Me.cancelUndispatched(ge,D):void 0;if($e&&($e.error!==void 0||$e.result!==void 0)){h.delete(fe),_.delete(Z),$e.id=ge.id,le($e,L.method,Date.now()),t.write($e).catch(()=>i.error("Sending response for canceled message failed."));return}}let De=_.get(Z);if(De!==void 0){De.cancel(),re(L);return}else x.add(Z)}E(h,L)}finally{se()}},"callback");function He(L){if(k())return;function Z(Re,q,J){let ae={jsonrpc:c,id:L.id};Re instanceof ut.ResponseError?ae.error=Re.toJson():ae.result=Re===void 0?null:Re,le(ae,q,J),t.write(ae).catch(()=>i.error("Sending response failed."))}o(Z,"reply");function fe(Re,q,J){let ae={jsonrpc:c,id:L.id,error:Re.toJson()};le(ae,q,J),t.write(ae).catch(()=>i.error("Sending response failed."))}o(fe,"replyError");function ge(Re,q,J){Re===void 0&&(Re=null);let ae={jsonrpc:c,id:L.id,result:Re};le(ae,q,J),t.write(ae).catch(()=>i.error("Sending response failed."))}o(ge,"replySuccess"),W(L);let De=f.get(L.method),Me,$e;De&&(Me=De.type,$e=De.handler);let Ge=Date.now();if($e||u){let Re=L.id??String(Date.now()),q=a4.is(w.receiver)?w.receiver.createCancellationTokenSource(Re):w.receiver.createCancellationTokenSource(L);L.id!==null&&x.has(L.id)&&q.cancel(),L.id!==null&&_.set(Re,q);try{let J;if($e)if(L.params===void 0){if(Me!==void 0&&Me.numberOfParams!==0){fe(new ut.ResponseError(ut.ErrorCodes.InvalidParams,`Request ${L.method} defines ${Me.numberOfParams} params but received none.`),L.method,Ge);return}J=$e(q.token)}else if(Array.isArray(L.params)){if(Me!==void 0&&Me.parameterStructures===ut.ParameterStructures.byName){fe(new ut.ResponseError(ut.ErrorCodes.InvalidParams,`Request ${L.method} defines parameters by name but received parameters by position`),L.method,Ge);return}J=$e(...L.params,q.token)}else{if(Me!==void 0&&Me.parameterStructures===ut.ParameterStructures.byPosition){fe(new ut.ResponseError(ut.ErrorCodes.InvalidParams,`Request ${L.method} defines parameters by position but received parameters by name`),L.method,Ge);return}J=$e(L.params,q.token)}else u&&(J=u(L.method,L.params,q.token));let ae=J;J?ae.then?ae.then(pe=>{_.delete(Re),Z(pe,L.method,Ge)},pe=>{_.delete(Re),pe instanceof ut.ResponseError?fe(pe,L.method,Ge):pe&&Qr.string(pe.message)?fe(new ut.ResponseError(ut.ErrorCodes.InternalError,`Request ${L.method} failed with message: ${pe.message}`),L.method,Ge):fe(new ut.ResponseError(ut.ErrorCodes.InternalError,`Request ${L.method} failed unexpectedly without providing any details.`),L.method,Ge)}):(_.delete(Re),Z(J,L.method,Ge)):(_.delete(Re),ge(J,L.method,Ge))}catch(J){_.delete(Re),J instanceof ut.ResponseError?Z(J,L.method,Ge):J&&Qr.string(J.message)?fe(new ut.ResponseError(ut.ErrorCodes.InternalError,`Request ${L.method} failed with message: ${J.message}`),L.method,Ge):fe(new ut.ResponseError(ut.ErrorCodes.InternalError,`Request ${L.method} failed unexpectedly without providing any details.`),L.method,Ge)}}else fe(new ut.ResponseError(ut.ErrorCodes.MethodNotFound,`Unhandled method ${L.method}`),L.method,Ge)}o(He,"handleRequest");function Ve(L){if(!k())if(L.id===null)L.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(L.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let Z=L.id,fe=b.get(Z);if(be(L,fe),fe!==void 0){b.delete(Z);try{if(L.error){let ge=L.error;fe.reject(new ut.ResponseError(ge.code,ge.message,ge.data))}else if(L.result!==void 0)fe.resolve(L.result);else throw new Error("Should never happen.")}catch(ge){ge.message?i.error(`Response handler '${fe.method}' failed with message: ${ge.message}`):i.error(`Response handler '${fe.method}' failed unexpectedly.`)}}}}o(Ve,"handleResponse");function Qe(L){if(k())return;let Z,fe;if(L.method===Tp.type.method){let ge=L.params.id;x.delete(ge),re(L);return}else{let ge=m.get(L.method);ge&&(fe=ge.handler,Z=ge.type)}if(fe||d)try{if(re(L),fe)if(L.params===void 0)Z!==void 0&&Z.numberOfParams!==0&&Z.parameterStructures!==ut.ParameterStructures.byName&&i.error(`Notification ${L.method} defines ${Z.numberOfParams} params but received none.`),fe();else if(Array.isArray(L.params)){let ge=L.params;L.method===yp.type.method&&ge.length===2&&i_.is(ge[0])?fe({token:ge[0],value:ge[1]}):(Z!==void 0&&(Z.parameterStructures===ut.ParameterStructures.byName&&i.error(`Notification ${L.method} defines parameters by name but received parameters by position`),Z.numberOfParams!==L.params.length&&i.error(`Notification ${L.method} defines ${Z.numberOfParams} params but received ${ge.length} arguments`)),fe(...ge))}else Z!==void 0&&Z.parameterStructures===ut.ParameterStructures.byPosition&&i.error(`Notification ${L.method} defines parameters by position but received parameters by name`),fe(L.params);else d&&d(L.method,L.params)}catch(ge){ge.message?i.error(`Notification handler '${L.method}' failed with message: ${ge.message}`):i.error(`Notification handler '${L.method}' failed unexpectedly.`)}else $.fire(L)}o(Qe,"handleNotification");function F(L){if(!L){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(L,null,4)}`);let Z=L;if(Qr.string(Z.id)||Qr.number(Z.id)){let fe=Z.id,ge=b.get(fe);ge&&ge.reject(new Error("The received response has neither a result nor an error property."))}}o(F,"handleInvalidMessage");function ne(L){if(L!=null)switch(y){case ur.Verbose:return JSON.stringify(L,null,4);case ur.Compact:return JSON.stringify(L);default:return}}o(ne,"stringifyTrace");function B(L){if(!(y===ur.Off||!I))if(v===Ao.Text){let Z;(y===ur.Verbose||y===ur.Compact)&&L.params&&(Z=`Params: ${ne(L.params)}

`),I.log(`Sending request '${L.method} - (${L.id})'.`,Z)}else ue("send-request",L)}o(B,"traceSendingRequest");function he(L){if(!(y===ur.Off||!I))if(v===Ao.Text){let Z;(y===ur.Verbose||y===ur.Compact)&&(L.params?Z=`Params: ${ne(L.params)}

`:Z=`No parameters provided.

`),I.log(`Sending notification '${L.method}'.`,Z)}else ue("send-notification",L)}o(he,"traceSendingNotification");function le(L,Z,fe){if(!(y===ur.Off||!I))if(v===Ao.Text){let ge;(y===ur.Verbose||y===ur.Compact)&&(L.error&&L.error.data?ge=`Error data: ${ne(L.error.data)}

`:L.result?ge=`Result: ${ne(L.result)}

`:L.error===void 0&&(ge=`No result returned.

`)),I.log(`Sending response '${Z} - (${L.id})'. Processing request took ${Date.now()-fe}ms`,ge)}else ue("send-response",L)}o(le,"traceSendingResponse");function W(L){if(!(y===ur.Off||!I))if(v===Ao.Text){let Z;(y===ur.Verbose||y===ur.Compact)&&L.params&&(Z=`Params: ${ne(L.params)}

`),I.log(`Received request '${L.method} - (${L.id})'.`,Z)}else ue("receive-request",L)}o(W,"traceReceivedRequest");function re(L){if(!(y===ur.Off||!I||L.method===s4.type.method))if(v===Ao.Text){let Z;(y===ur.Verbose||y===ur.Compact)&&(L.params?Z=`Params: ${ne(L.params)}

`:Z=`No parameters provided.

`),I.log(`Received notification '${L.method}'.`,Z)}else ue("receive-notification",L)}o(re,"traceReceivedNotification");function be(L,Z){if(!(y===ur.Off||!I))if(v===Ao.Text){let fe;if((y===ur.Verbose||y===ur.Compact)&&(L.error&&L.error.data?fe=`Error data: ${ne(L.error.data)}

`:L.result?fe=`Result: ${ne(L.result)}

`:L.error===void 0&&(fe=`No result returned.

`)),Z){let ge=L.error?` Request failed: ${L.error.message} (${L.error.code}).`:"";I.log(`Received response '${Z.method} - (${L.id})' in ${Date.now()-Z.timerStart}ms.${ge}`,fe)}else I.log(`Received response ${L.id} without active response promise.`,fe)}else ue("receive-response",L)}o(be,"traceReceivedResponse");function ue(L,Z){if(!I||y===ur.Off)return;let fe={isLSPMessage:!0,type:L,message:Z,timestamp:Date.now()};I.log(fe)}o(ue,"logLSPMessage");function me(){if(A())throw new Pd(vp.Closed,"Connection is closed.");if(k())throw new Pd(vp.Disposed,"Connection is disposed.")}o(me,"throwIfClosedOrDisposed");function Ee(){if(S())throw new Pd(vp.AlreadyListening,"Connection is already listening")}o(Ee,"throwIfListening");function we(){if(!S())throw new Error("Call listen() first.")}o(we,"throwIfNotListening");function ke(L){return L===void 0?null:L}o(ke,"undefinedToNull");function We(L){if(L!==null)return L}o(We,"nullToUndefined");function Ke(L){return L!=null&&!Array.isArray(L)&&typeof L=="object"}o(Ke,"isNamedParam");function rt(L,Z){switch(L){case ut.ParameterStructures.auto:return Ke(Z)?We(Z):[ke(Z)];case ut.ParameterStructures.byName:if(!Ke(Z))throw new Error("Received parameters by name but param is not an object literal.");return We(Z);case ut.ParameterStructures.byPosition:return[ke(Z)];default:throw new Error(`Unknown parameter structure ${L.toString()}`)}}o(rt,"computeSingleParam");function nt(L,Z){let fe,ge=L.numberOfParams;switch(ge){case 0:fe=void 0;break;case 1:fe=rt(L.parameterStructures,Z[0]);break;default:fe=[];for(let De=0;De<Z.length&&De<ge;De++)fe.push(ke(Z[De]));if(Z.length<ge)for(let De=Z.length;De<ge;De++)fe.push(null);break}return fe}o(nt,"computeMessageParams");let ct={sendNotification:o((L,...Z)=>{me();let fe,ge;if(Qr.string(L)){fe=L;let Me=Z[0],$e=0,Ge=ut.ParameterStructures.auto;ut.ParameterStructures.is(Me)&&($e=1,Ge=Me);let Re=Z.length,q=Re-$e;switch(q){case 0:ge=void 0;break;case 1:ge=rt(Ge,Z[$e]);break;default:if(Ge===ut.ParameterStructures.byName)throw new Error(`Received ${q} parameters for 'by Name' notification parameter structure.`);ge=Z.slice($e,Re).map(J=>ke(J));break}}else{let Me=Z;fe=L.method,ge=nt(L,Me)}let De={jsonrpc:c,method:fe,params:ge};return he(De),t.write(De).catch(Me=>{throw i.error("Sending notification failed."),Me})},"sendNotification"),onNotification:o((L,Z)=>{me();let fe;return Qr.func(L)?d=L:Z&&(Qr.string(L)?(fe=L,m.set(L,{type:void 0,handler:Z})):(fe=L.method,m.set(L.method,{type:L,handler:Z}))),{dispose:o(()=>{fe!==void 0?m.delete(fe):d=void 0},"dispose")}},"onNotification"),onProgress:o((L,Z,fe)=>{if(p.has(Z))throw new Error(`Progress handler for token ${Z} already registered`);return p.set(Z,fe),{dispose:o(()=>{p.delete(Z)},"dispose")}},"onProgress"),sendProgress:o((L,Z,fe)=>ct.sendNotification(yp.type,{token:Z,value:fe}),"sendProgress"),onUnhandledProgress:Y.event,sendRequest:o((L,...Z)=>{me(),we();let fe,ge,De;if(Qr.string(L)){fe=L;let Re=Z[0],q=Z[Z.length-1],J=0,ae=ut.ParameterStructures.auto;ut.ParameterStructures.is(Re)&&(J=1,ae=Re);let pe=Z.length;n_.CancellationToken.is(q)&&(pe=pe-1,De=q);let _e=pe-J;switch(_e){case 0:ge=void 0;break;case 1:ge=rt(ae,Z[J]);break;default:if(ae===ut.ParameterStructures.byName)throw new Error(`Received ${_e} parameters for 'by Name' request parameter structure.`);ge=Z.slice(J,pe).map(Te=>ke(Te));break}}else{let Re=Z;fe=L.method,ge=nt(L,Re);let q=L.numberOfParams;De=n_.CancellationToken.is(Re[q])?Re[q]:void 0}let Me=s++,$e;De&&($e=De.onCancellationRequested(()=>{let Re=w.sender.sendCancellation(ct,Me);return Re===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${Me}`),Promise.resolve()):Re.catch(()=>{i.log(`Sending cancellation messages for id ${Me} failed`)})}));let Ge={jsonrpc:c,id:Me,method:fe,params:ge};return B(Ge),typeof w.sender.enableCancellation=="function"&&w.sender.enableCancellation(Ge),new Promise(async(Re,q)=>{let J=o(_e=>{Re(_e),w.sender.cleanup(Me),$e?.dispose()},"resolveWithCleanup"),ae=o(_e=>{q(_e),w.sender.cleanup(Me),$e?.dispose()},"rejectWithCleanup"),pe={method:fe,timerStart:Date.now(),resolve:J,reject:ae};try{await t.write(Ge),b.set(Me,pe)}catch(_e){throw i.error("Sending request failed."),pe.reject(new ut.ResponseError(ut.ErrorCodes.MessageWriteError,_e.message?_e.message:"Unknown reason")),_e}})},"sendRequest"),onRequest:o((L,Z)=>{me();let fe=null;return s_.is(L)?(fe=void 0,u=L):Qr.string(L)?(fe=null,Z!==void 0&&(fe=L,f.set(L,{handler:Z,type:void 0}))):Z!==void 0&&(fe=L.method,f.set(L.method,{type:L,handler:Z})),{dispose:o(()=>{fe!==null&&(fe!==void 0?f.delete(fe):u=void 0)},"dispose")}},"onRequest"),hasPendingResponse:o(()=>b.size>0,"hasPendingResponse"),trace:o(async(L,Z,fe)=>{let ge=!1,De=Ao.Text;fe!==void 0&&(Qr.boolean(fe)?ge=fe:(ge=fe.sendNotification||!1,De=fe.traceFormat||Ao.Text)),y=L,v=De,y===ur.Off?I=void 0:I=Z,ge&&!A()&&!k()&&await ct.sendNotification(a_.type,{value:ur.toString(L)})},"trace"),onError:z.event,onClose:V.event,onUnhandledNotification:$.event,onDispose:P.event,end:o(()=>{t.end()},"end"),dispose:o(()=>{if(k())return;R=Ys.Disposed,P.fire(void 0);let L=new ut.ResponseError(ut.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let Z of b.values())Z.reject(L);b=new Map,_=new Map,x=new Set,h=new OA.LinkedMap,Qr.func(t.dispose)&&t.dispose(),Qr.func(e.dispose)&&e.dispose()},"dispose"),listen:o(()=>{me(),Ee(),R=Ys.Listening,e.listen(Ue)},"listen"),inspect:o(()=>{(0,kA.default)().console.log("inspect")},"inspect")};return ct.onNotification(s4.type,L=>{if(y===ur.Off||!I)return;let Z=y===ur.Verbose||y===ur.Compact;I.log(L.message,Z?L.verbose:void 0)}),ct.onNotification(yp.type,L=>{let Z=p.get(L.token);Z?Z(L.value):Y.fire(L)}),ct}o(qne,"createMessageConnection");ht.createMessageConnection=qne});var d4=Q(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.ProgressType=ce.ProgressToken=ce.createMessageConnection=ce.NullLogger=ce.ConnectionOptions=ce.ConnectionStrategy=ce.AbstractMessageBuffer=ce.WriteableStreamMessageWriter=ce.AbstractMessageWriter=ce.MessageWriter=ce.ReadableStreamMessageReader=ce.AbstractMessageReader=ce.MessageReader=ce.SharedArrayReceiverStrategy=ce.SharedArraySenderStrategy=ce.CancellationToken=ce.CancellationTokenSource=ce.Emitter=ce.Event=ce.Disposable=ce.LRUCache=ce.Touch=ce.LinkedMap=ce.ParameterStructures=ce.NotificationType9=ce.NotificationType8=ce.NotificationType7=ce.NotificationType6=ce.NotificationType5=ce.NotificationType4=ce.NotificationType3=ce.NotificationType2=ce.NotificationType1=ce.NotificationType0=ce.NotificationType=ce.ErrorCodes=ce.ResponseError=ce.RequestType9=ce.RequestType8=ce.RequestType7=ce.RequestType6=ce.RequestType5=ce.RequestType4=ce.RequestType3=ce.RequestType2=ce.RequestType1=ce.RequestType0=ce.RequestType=ce.Message=ce.RAL=void 0;ce.MessageStrategy=ce.CancellationStrategy=ce.CancellationSenderStrategy=ce.CancellationReceiverStrategy=ce.ConnectionError=ce.ConnectionErrors=ce.LogTraceNotification=ce.SetTraceNotification=ce.TraceFormat=ce.TraceValues=ce.Trace=void 0;var Pr=L9();Object.defineProperty(ce,"Message",{enumerable:!0,get:o(function(){return Pr.Message},"get")});Object.defineProperty(ce,"RequestType",{enumerable:!0,get:o(function(){return Pr.RequestType},"get")});Object.defineProperty(ce,"RequestType0",{enumerable:!0,get:o(function(){return Pr.RequestType0},"get")});Object.defineProperty(ce,"RequestType1",{enumerable:!0,get:o(function(){return Pr.RequestType1},"get")});Object.defineProperty(ce,"RequestType2",{enumerable:!0,get:o(function(){return Pr.RequestType2},"get")});Object.defineProperty(ce,"RequestType3",{enumerable:!0,get:o(function(){return Pr.RequestType3},"get")});Object.defineProperty(ce,"RequestType4",{enumerable:!0,get:o(function(){return Pr.RequestType4},"get")});Object.defineProperty(ce,"RequestType5",{enumerable:!0,get:o(function(){return Pr.RequestType5},"get")});Object.defineProperty(ce,"RequestType6",{enumerable:!0,get:o(function(){return Pr.RequestType6},"get")});Object.defineProperty(ce,"RequestType7",{enumerable:!0,get:o(function(){return Pr.RequestType7},"get")});Object.defineProperty(ce,"RequestType8",{enumerable:!0,get:o(function(){return Pr.RequestType8},"get")});Object.defineProperty(ce,"RequestType9",{enumerable:!0,get:o(function(){return Pr.RequestType9},"get")});Object.defineProperty(ce,"ResponseError",{enumerable:!0,get:o(function(){return Pr.ResponseError},"get")});Object.defineProperty(ce,"ErrorCodes",{enumerable:!0,get:o(function(){return Pr.ErrorCodes},"get")});Object.defineProperty(ce,"NotificationType",{enumerable:!0,get:o(function(){return Pr.NotificationType},"get")});Object.defineProperty(ce,"NotificationType0",{enumerable:!0,get:o(function(){return Pr.NotificationType0},"get")});Object.defineProperty(ce,"NotificationType1",{enumerable:!0,get:o(function(){return Pr.NotificationType1},"get")});Object.defineProperty(ce,"NotificationType2",{enumerable:!0,get:o(function(){return Pr.NotificationType2},"get")});Object.defineProperty(ce,"NotificationType3",{enumerable:!0,get:o(function(){return Pr.NotificationType3},"get")});Object.defineProperty(ce,"NotificationType4",{enumerable:!0,get:o(function(){return Pr.NotificationType4},"get")});Object.defineProperty(ce,"NotificationType5",{enumerable:!0,get:o(function(){return Pr.NotificationType5},"get")});Object.defineProperty(ce,"NotificationType6",{enumerable:!0,get:o(function(){return Pr.NotificationType6},"get")});Object.defineProperty(ce,"NotificationType7",{enumerable:!0,get:o(function(){return Pr.NotificationType7},"get")});Object.defineProperty(ce,"NotificationType8",{enumerable:!0,get:o(function(){return Pr.NotificationType8},"get")});Object.defineProperty(ce,"NotificationType9",{enumerable:!0,get:o(function(){return Pr.NotificationType9},"get")});Object.defineProperty(ce,"ParameterStructures",{enumerable:!0,get:o(function(){return Pr.ParameterStructures},"get")});var u_=M9();Object.defineProperty(ce,"LinkedMap",{enumerable:!0,get:o(function(){return u_.LinkedMap},"get")});Object.defineProperty(ce,"LRUCache",{enumerable:!0,get:o(function(){return u_.LRUCache},"get")});Object.defineProperty(ce,"Touch",{enumerable:!0,get:o(function(){return u_.Touch},"get")});var Gne=TA();Object.defineProperty(ce,"Disposable",{enumerable:!0,get:o(function(){return Gne.Disposable},"get")});var UA=Cd();Object.defineProperty(ce,"Event",{enumerable:!0,get:o(function(){return UA.Event},"get")});Object.defineProperty(ce,"Emitter",{enumerable:!0,get:o(function(){return UA.Emitter},"get")});var BA=t4();Object.defineProperty(ce,"CancellationTokenSource",{enumerable:!0,get:o(function(){return BA.CancellationTokenSource},"get")});Object.defineProperty(ce,"CancellationToken",{enumerable:!0,get:o(function(){return BA.CancellationToken},"get")});var jA=CA();Object.defineProperty(ce,"SharedArraySenderStrategy",{enumerable:!0,get:o(function(){return jA.SharedArraySenderStrategy},"get")});Object.defineProperty(ce,"SharedArrayReceiverStrategy",{enumerable:!0,get:o(function(){return jA.SharedArrayReceiverStrategy},"get")});var f_=SA();Object.defineProperty(ce,"MessageReader",{enumerable:!0,get:o(function(){return f_.MessageReader},"get")});Object.defineProperty(ce,"AbstractMessageReader",{enumerable:!0,get:o(function(){return f_.AbstractMessageReader},"get")});Object.defineProperty(ce,"ReadableStreamMessageReader",{enumerable:!0,get:o(function(){return f_.ReadableStreamMessageReader},"get")});var d_=AA();Object.defineProperty(ce,"MessageWriter",{enumerable:!0,get:o(function(){return d_.MessageWriter},"get")});Object.defineProperty(ce,"AbstractMessageWriter",{enumerable:!0,get:o(function(){return d_.AbstractMessageWriter},"get")});Object.defineProperty(ce,"WriteableStreamMessageWriter",{enumerable:!0,get:o(function(){return d_.WriteableStreamMessageWriter},"get")});var zne=NA();Object.defineProperty(ce,"AbstractMessageBuffer",{enumerable:!0,get:o(function(){return zne.AbstractMessageBuffer},"get")});var ti=MA();Object.defineProperty(ce,"ConnectionStrategy",{enumerable:!0,get:o(function(){return ti.ConnectionStrategy},"get")});Object.defineProperty(ce,"ConnectionOptions",{enumerable:!0,get:o(function(){return ti.ConnectionOptions},"get")});Object.defineProperty(ce,"NullLogger",{enumerable:!0,get:o(function(){return ti.NullLogger},"get")});Object.defineProperty(ce,"createMessageConnection",{enumerable:!0,get:o(function(){return ti.createMessageConnection},"get")});Object.defineProperty(ce,"ProgressToken",{enumerable:!0,get:o(function(){return ti.ProgressToken},"get")});Object.defineProperty(ce,"ProgressType",{enumerable:!0,get:o(function(){return ti.ProgressType},"get")});Object.defineProperty(ce,"Trace",{enumerable:!0,get:o(function(){return ti.Trace},"get")});Object.defineProperty(ce,"TraceValues",{enumerable:!0,get:o(function(){return ti.TraceValues},"get")});Object.defineProperty(ce,"TraceFormat",{enumerable:!0,get:o(function(){return ti.TraceFormat},"get")});Object.defineProperty(ce,"SetTraceNotification",{enumerable:!0,get:o(function(){return ti.SetTraceNotification},"get")});Object.defineProperty(ce,"LogTraceNotification",{enumerable:!0,get:o(function(){return ti.LogTraceNotification},"get")});Object.defineProperty(ce,"ConnectionErrors",{enumerable:!0,get:o(function(){return ti.ConnectionErrors},"get")});Object.defineProperty(ce,"ConnectionError",{enumerable:!0,get:o(function(){return ti.ConnectionError},"get")});Object.defineProperty(ce,"CancellationReceiverStrategy",{enumerable:!0,get:o(function(){return ti.CancellationReceiverStrategy},"get")});Object.defineProperty(ce,"CancellationSenderStrategy",{enumerable:!0,get:o(function(){return ti.CancellationSenderStrategy},"get")});Object.defineProperty(ce,"CancellationStrategy",{enumerable:!0,get:o(function(){return ti.CancellationStrategy},"get")});Object.defineProperty(ce,"MessageStrategy",{enumerable:!0,get:o(function(){return ti.MessageStrategy},"get")});var Hne=Wl();ce.RAL=Hne.default});var WA=Q(h_=>{"use strict";Object.defineProperty(h_,"__esModule",{value:!0});var D0=d4(),m4=class e extends D0.AbstractMessageBuffer{static{o(this,"MessageBuffer")}constructor(t="utf-8"){super(t),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return e.emptyBuffer}fromString(t,r){return new TextEncoder().encode(t)}toString(t,r){return r==="ascii"?this.asciiDecoder.decode(t):new TextDecoder(r).decode(t)}asNative(t,r){return r===void 0?t:t.slice(0,r)}allocNative(t){return new Uint8Array(t)}};m4.emptyBuffer=new Uint8Array(0);var m_=class{static{o(this,"ReadableStreamWrapper")}constructor(t){this.socket=t,this._onData=new D0.Emitter,this._messageListener=r=>{r.data.arrayBuffer().then(i=>{this._onData.fire(new Uint8Array(i))},()=>{(0,D0.RAL)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(t){return this.socket.addEventListener("close",t),D0.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),D0.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),D0.Disposable.create(()=>this.socket.removeEventListener("end",t))}onData(t){return this._onData.event(t)}},p_=class{static{o(this,"WritableStreamWrapper")}constructor(t){this.socket=t}onClose(t){return this.socket.addEventListener("close",t),D0.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),D0.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),D0.Disposable.create(()=>this.socket.removeEventListener("end",t))}write(t,r){if(typeof t=="string"){if(r!==void 0&&r!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${r}`);this.socket.send(t)}else this.socket.send(t);return Promise.resolve()}end(){this.socket.close()}},Vne=new TextEncoder,$A=Object.freeze({messageBuffer:Object.freeze({create:o(e=>new m4(e),"create")}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:o((e,t)=>{if(t.charset!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${t.charset}`);return Promise.resolve(Vne.encode(JSON.stringify(e,void 0,0)))},"encode")}),decoder:Object.freeze({name:"application/json",decode:o((e,t)=>{if(!(e instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(t.charset).decode(e)))},"decode")})}),stream:Object.freeze({asReadableStream:o(e=>new m_(e),"asReadableStream"),asWritableStream:o(e=>new p_(e),"asWritableStream")}),console,timer:Object.freeze({setTimeout(e,t,...r){let n=setTimeout(e,t,...r);return{dispose:o(()=>clearTimeout(n),"dispose")}},setImmediate(e,...t){let r=setTimeout(e,0,...t);return{dispose:o(()=>clearTimeout(r),"dispose")}},setInterval(e,t,...r){let n=setInterval(e,t,...r);return{dispose:o(()=>clearInterval(n),"dispose")}}})});function g_(){return $A}o(g_,"RIL");(function(e){function t(){D0.RAL.install($A)}o(t,"install"),e.install=t})(g_||(g_={}));h_.default=g_});var _u=Q(No=>{"use strict";var Kne=No&&No.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Yne=No&&No.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Kne(t,e,r)};Object.defineProperty(No,"__esModule",{value:!0});No.createMessageConnection=No.BrowserMessageWriter=No.BrowserMessageReader=void 0;var Jne=WA();Jne.default.install();var Rd=d4();Yne(d4(),No);var x_=class extends Rd.AbstractMessageReader{static{o(this,"BrowserMessageReader")}constructor(t){super(),this._onData=new Rd.Emitter,this._messageListener=r=>{this._onData.fire(r.data)},t.addEventListener("error",r=>this.fireError(r)),t.onmessage=this._messageListener}listen(t){return this._onData.event(t)}};No.BrowserMessageReader=x_;var b_=class extends Rd.AbstractMessageWriter{static{o(this,"BrowserMessageWriter")}constructor(t){super(),this.port=t,this.errorCount=0,t.addEventListener("error",r=>this.fireError(r))}write(t){try{return this.port.postMessage(t),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};No.BrowserMessageWriter=b_;function Xne(e,t,r,n){return r===void 0&&(r=Rd.NullLogger),Rd.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Rd.createMessageConnection)(e,t,r,n)}o(Xne,"createMessageConnection");No.createMessageConnection=Xne});var __=Q((LRe,qA)=>{"use strict";qA.exports=_u()});var T4={};d0(T4,{AnnotatedTextEdit:()=>ka,ChangeAnnotation:()=>yu,ChangeAnnotationIdentifier:()=>ni,CodeAction:()=>ey,CodeActionContext:()=>Q_,CodeActionKind:()=>Z_,CodeActionTriggerKind:()=>Rp,CodeDescription:()=>R_,CodeLens:()=>ty,Color:()=>g4,ColorInformation:()=>E_,ColorPresentation:()=>C_,Command:()=>vu,CompletionItem:()=>j_,CompletionItemKind:()=>O_,CompletionItemLabelDetails:()=>B_,CompletionItemTag:()=>F_,CompletionList:()=>$_,CreateFile:()=>Ad,DeleteFile:()=>kd,Diagnostic:()=>Ip,DiagnosticRelatedInformation:()=>h4,DiagnosticSeverity:()=>w_,DiagnosticTag:()=>P_,DocumentHighlight:()=>H_,DocumentHighlightKind:()=>z_,DocumentLink:()=>ny,DocumentSymbol:()=>X_,DocumentUri:()=>y_,EOL:()=>Zne,FoldingRange:()=>S_,FoldingRangeKind:()=>I_,FormattingOptions:()=>ry,Hover:()=>W_,InlayHint:()=>dy,InlayHintKind:()=>y4,InlayHintLabelPart:()=>v4,InlineCompletionContext:()=>by,InlineCompletionItem:()=>py,InlineCompletionList:()=>gy,InlineCompletionTriggerKind:()=>hy,InlineValueContext:()=>fy,InlineValueEvaluatableExpression:()=>uy,InlineValueText:()=>ly,InlineValueVariableLookup:()=>cy,InsertReplaceEdit:()=>M_,InsertTextFormat:()=>L_,InsertTextMode:()=>U_,Location:()=>Cp,LocationLink:()=>T_,MarkedString:()=>Pp,MarkupContent:()=>Od,MarkupKind:()=>_4,OptionalVersionedTextDocumentIdentifier:()=>wp,ParameterInformation:()=>q_,Position:()=>ri,Range:()=>Er,RenameFile:()=>Nd,SelectedCompletionInfo:()=>xy,SelectionRange:()=>iy,SemanticTokenModifiers:()=>sy,SemanticTokenTypes:()=>oy,SemanticTokens:()=>ay,SignatureInformation:()=>G_,StringValue:()=>my,SymbolInformation:()=>Y_,SymbolKind:()=>V_,SymbolTag:()=>K_,TextDocument:()=>yy,TextDocumentEdit:()=>Sp,TextDocumentIdentifier:()=>A_,TextDocumentItem:()=>k_,TextEdit:()=>A0,URI:()=>p4,VersionedTextDocumentIdentifier:()=>N_,WorkspaceChange:()=>D_,WorkspaceEdit:()=>x4,WorkspaceFolder:()=>_y,WorkspaceSymbol:()=>J_,integer:()=>v_,uinteger:()=>Ep});var y_,p4,v_,Ep,ri,Er,Cp,T_,g4,E_,C_,I_,S_,h4,w_,P_,R_,Ip,vu,A0,yu,ni,ka,Sp,Ad,Nd,kd,x4,Dd,b4,D_,A_,N_,wp,k_,_4,Od,O_,L_,F_,M_,U_,B_,j_,$_,Pp,W_,q_,G_,z_,H_,V_,K_,Y_,J_,X_,Z_,Rp,Q_,ey,ty,ry,ny,iy,oy,sy,ay,ly,cy,uy,fy,y4,v4,dy,my,py,gy,hy,xy,by,_y,Zne,yy,vy,X,Dp=Iz(()=>{"use strict";(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(y_||(y_={}));(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(p4||(p4={}));(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(v_||(v_={}));(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(Ep||(Ep={}));(function(e){function t(n,i){return n===Number.MAX_VALUE&&(n=Ep.MAX_VALUE),i===Number.MAX_VALUE&&(i=Ep.MAX_VALUE),{line:n,character:i}}o(t,"create"),e.create=t;function r(n){let i=n;return X.objectLiteral(i)&&X.uinteger(i.line)&&X.uinteger(i.character)}o(r,"is"),e.is=r})(ri||(ri={}));(function(e){function t(n,i,s,a){if(X.uinteger(n)&&X.uinteger(i)&&X.uinteger(s)&&X.uinteger(a))return{start:ri.create(n,i),end:ri.create(s,a)};if(ri.is(n)&&ri.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${s}, ${a}]`)}o(t,"create"),e.create=t;function r(n){let i=n;return X.objectLiteral(i)&&ri.is(i.start)&&ri.is(i.end)}o(r,"is"),e.is=r})(Er||(Er={}));(function(e){function t(n,i){return{uri:n,range:i}}o(t,"create"),e.create=t;function r(n){let i=n;return X.objectLiteral(i)&&Er.is(i.range)&&(X.string(i.uri)||X.undefined(i.uri))}o(r,"is"),e.is=r})(Cp||(Cp={}));(function(e){function t(n,i,s,a){return{targetUri:n,targetRange:i,targetSelectionRange:s,originSelectionRange:a}}o(t,"create"),e.create=t;function r(n){let i=n;return X.objectLiteral(i)&&Er.is(i.targetRange)&&X.string(i.targetUri)&&Er.is(i.targetSelectionRange)&&(Er.is(i.originSelectionRange)||X.undefined(i.originSelectionRange))}o(r,"is"),e.is=r})(T_||(T_={}));(function(e){function t(n,i,s,a){return{red:n,green:i,blue:s,alpha:a}}o(t,"create"),e.create=t;function r(n){let i=n;return X.objectLiteral(i)&&X.numberRange(i.red,0,1)&&X.numberRange(i.green,0,1)&&X.numberRange(i.blue,0,1)&&X.numberRange(i.alpha,0,1)}o(r,"is"),e.is=r})(g4||(g4={}));(function(e){function t(n,i){return{range:n,color:i}}o(t,"create"),e.create=t;function r(n){let i=n;return X.objectLiteral(i)&&Er.is(i.range)&&g4.is(i.color)}o(r,"is"),e.is=r})(E_||(E_={}));(function(e){function t(n,i,s){return{label:n,textEdit:i,additionalTextEdits:s}}o(t,"create"),e.create=t;function r(n){let i=n;return X.objectLiteral(i)&&X.string(i.label)&&(X.undefined(i.textEdit)||A0.is(i))&&(X.undefined(i.additionalTextEdits)||X.typedArray(i.additionalTextEdits,A0.is))}o(r,"is"),e.is=r})(C_||(C_={}));(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(I_||(I_={}));(function(e){function t(n,i,s,a,l,c){let u={startLine:n,endLine:i};return X.defined(s)&&(u.startCharacter=s),X.defined(a)&&(u.endCharacter=a),X.defined(l)&&(u.kind=l),X.defined(c)&&(u.collapsedText=c),u}o(t,"create"),e.create=t;function r(n){let i=n;return X.objectLiteral(i)&&X.uinteger(i.startLine)&&X.uinteger(i.startLine)&&(X.undefined(i.startCharacter)||X.uinteger(i.startCharacter))&&(X.undefined(i.endCharacter)||X.uinteger(i.endCharacter))&&(X.undefined(i.kind)||X.string(i.kind))}o(r,"is"),e.is=r})(S_||(S_={}));(function(e){function t(n,i){return{location:n,message:i}}o(t,"create"),e.create=t;function r(n){let i=n;return X.defined(i)&&Cp.is(i.location)&&X.string(i.message)}o(r,"is"),e.is=r})(h4||(h4={}));(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(w_||(w_={}));(function(e){e.Unnecessary=1,e.Deprecated=2})(P_||(P_={}));(function(e){function t(r){let n=r;return X.objectLiteral(n)&&X.string(n.href)}o(t,"is"),e.is=t})(R_||(R_={}));(function(e){function t(n,i,s,a,l,c){let u={range:n,message:i};return X.defined(s)&&(u.severity=s),X.defined(a)&&(u.code=a),X.defined(l)&&(u.source=l),X.defined(c)&&(u.relatedInformation=c),u}o(t,"create"),e.create=t;function r(n){var i;let s=n;return X.defined(s)&&Er.is(s.range)&&X.string(s.message)&&(X.number(s.severity)||X.undefined(s.severity))&&(X.integer(s.code)||X.string(s.code)||X.undefined(s.code))&&(X.undefined(s.codeDescription)||X.string((i=s.codeDescription)===null||i===void 0?void 0:i.href))&&(X.string(s.source)||X.undefined(s.source))&&(X.undefined(s.relatedInformation)||X.typedArray(s.relatedInformation,h4.is))}o(r,"is"),e.is=r})(Ip||(Ip={}));(function(e){function t(n,i,...s){let a={title:n,command:i};return X.defined(s)&&s.length>0&&(a.arguments=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return X.defined(i)&&X.string(i.title)&&X.string(i.command)}o(r,"is"),e.is=r})(vu||(vu={}));(function(e){function t(s,a){return{range:s,newText:a}}o(t,"replace"),e.replace=t;function r(s,a){return{range:{start:s,end:s},newText:a}}o(r,"insert"),e.insert=r;function n(s){return{range:s,newText:""}}o(n,"del"),e.del=n;function i(s){let a=s;return X.objectLiteral(a)&&X.string(a.newText)&&Er.is(a.range)}o(i,"is"),e.is=i})(A0||(A0={}));(function(e){function t(n,i,s){let a={label:n};return i!==void 0&&(a.needsConfirmation=i),s!==void 0&&(a.description=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return X.objectLiteral(i)&&X.string(i.label)&&(X.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(X.string(i.description)||i.description===void 0)}o(r,"is"),e.is=r})(yu||(yu={}));(function(e){function t(r){let n=r;return X.string(n)}o(t,"is"),e.is=t})(ni||(ni={}));(function(e){function t(s,a,l){return{range:s,newText:a,annotationId:l}}o(t,"replace"),e.replace=t;function r(s,a,l){return{range:{start:s,end:s},newText:a,annotationId:l}}o(r,"insert"),e.insert=r;function n(s,a){return{range:s,newText:"",annotationId:a}}o(n,"del"),e.del=n;function i(s){let a=s;return A0.is(a)&&(yu.is(a.annotationId)||ni.is(a.annotationId))}o(i,"is"),e.is=i})(ka||(ka={}));(function(e){function t(n,i){return{textDocument:n,edits:i}}o(t,"create"),e.create=t;function r(n){let i=n;return X.defined(i)&&wp.is(i.textDocument)&&Array.isArray(i.edits)}o(r,"is"),e.is=r})(Sp||(Sp={}));(function(e){function t(n,i,s){let a={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="create"&&X.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||X.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||X.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||ni.is(i.annotationId))}o(r,"is"),e.is=r})(Ad||(Ad={}));(function(e){function t(n,i,s,a){let l={kind:"rename",oldUri:n,newUri:i};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(l.options=s),a!==void 0&&(l.annotationId=a),l}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="rename"&&X.string(i.oldUri)&&X.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||X.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||X.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||ni.is(i.annotationId))}o(r,"is"),e.is=r})(Nd||(Nd={}));(function(e){function t(n,i,s){let a={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="delete"&&X.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||X.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||X.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||ni.is(i.annotationId))}o(r,"is"),e.is=r})(kd||(kd={}));(function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>X.string(i.kind)?Ad.is(i)||Nd.is(i)||kd.is(i):Sp.is(i)))}o(t,"is"),e.is=t})(x4||(x4={}));Dd=class{static{o(this,"TextEditChangeImpl")}constructor(t,r){this.edits=t,this.changeAnnotations=r}insert(t,r,n){let i,s;if(n===void 0?i=A0.insert(t,r):ni.is(n)?(s=n,i=ka.insert(t,r,n)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(n),i=ka.insert(t,r,s)),this.edits.push(i),s!==void 0)return s}replace(t,r,n){let i,s;if(n===void 0?i=A0.replace(t,r):ni.is(n)?(s=n,i=ka.replace(t,r,n)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(n),i=ka.replace(t,r,s)),this.edits.push(i),s!==void 0)return s}delete(t,r){let n,i;if(r===void 0?n=A0.del(t):ni.is(r)?(i=r,n=ka.del(t,r)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(r),n=ka.del(t,i)),this.edits.push(n),i!==void 0)return i}add(t){this.edits.push(t)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(t){if(t===void 0)throw new Error("Text edit change is not configured to manage change annotations.")}},b4=class{static{o(this,"ChangeAnnotations")}constructor(t){this._annotations=t===void 0?Object.create(null):t,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(t,r){let n;if(ni.is(t)?n=t:(n=this.nextId(),r=t),this._annotations[n]!==void 0)throw new Error(`Id ${n} is already in use.`);if(r===void 0)throw new Error(`No annotation provided for id ${n}`);return this._annotations[n]=r,this._size++,n}nextId(){return this._counter++,this._counter.toString()}},D_=class{static{o(this,"WorkspaceChange")}constructor(t){this._textEditChanges=Object.create(null),t!==void 0?(this._workspaceEdit=t,t.documentChanges?(this._changeAnnotations=new b4(t.changeAnnotations),t.changeAnnotations=this._changeAnnotations.all(),t.documentChanges.forEach(r=>{if(Sp.is(r)){let n=new Dd(r.edits,this._changeAnnotations);this._textEditChanges[r.textDocument.uri]=n}})):t.changes&&Object.keys(t.changes).forEach(r=>{let n=new Dd(t.changes[r]);this._textEditChanges[r]=n})):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(t){if(wp.is(t)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let r={uri:t.uri,version:t.version},n=this._textEditChanges[r.uri];if(!n){let i=[],s={textDocument:r,edits:i};this._workspaceEdit.documentChanges.push(s),n=new Dd(i,this._changeAnnotations),this._textEditChanges[r.uri]=n}return n}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");let r=this._textEditChanges[t];if(!r){let n=[];this._workspaceEdit.changes[t]=n,r=new Dd(n),this._textEditChanges[t]=r}return r}}initDocumentChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new b4,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))}createFile(t,r,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;yu.is(r)||ni.is(r)?i=r:n=r;let s,a;if(i===void 0?s=Ad.create(t,n):(a=ni.is(i)?i:this._changeAnnotations.manage(i),s=Ad.create(t,n,a)),this._workspaceEdit.documentChanges.push(s),a!==void 0)return a}renameFile(t,r,n,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let s;yu.is(n)||ni.is(n)?s=n:i=n;let a,l;if(s===void 0?a=Nd.create(t,r,i):(l=ni.is(s)?s:this._changeAnnotations.manage(s),a=Nd.create(t,r,i,l)),this._workspaceEdit.documentChanges.push(a),l!==void 0)return l}deleteFile(t,r,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;yu.is(r)||ni.is(r)?i=r:n=r;let s,a;if(i===void 0?s=kd.create(t,n):(a=ni.is(i)?i:this._changeAnnotations.manage(i),s=kd.create(t,n,a)),this._workspaceEdit.documentChanges.push(s),a!==void 0)return a}};(function(e){function t(n){return{uri:n}}o(t,"create"),e.create=t;function r(n){let i=n;return X.defined(i)&&X.string(i.uri)}o(r,"is"),e.is=r})(A_||(A_={}));(function(e){function t(n,i){return{uri:n,version:i}}o(t,"create"),e.create=t;function r(n){let i=n;return X.defined(i)&&X.string(i.uri)&&X.integer(i.version)}o(r,"is"),e.is=r})(N_||(N_={}));(function(e){function t(n,i){return{uri:n,version:i}}o(t,"create"),e.create=t;function r(n){let i=n;return X.defined(i)&&X.string(i.uri)&&(i.version===null||X.integer(i.version))}o(r,"is"),e.is=r})(wp||(wp={}));(function(e){function t(n,i,s,a){return{uri:n,languageId:i,version:s,text:a}}o(t,"create"),e.create=t;function r(n){let i=n;return X.defined(i)&&X.string(i.uri)&&X.string(i.languageId)&&X.integer(i.version)&&X.string(i.text)}o(r,"is"),e.is=r})(k_||(k_={}));(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){let n=r;return n===e.PlainText||n===e.Markdown}o(t,"is"),e.is=t})(_4||(_4={}));(function(e){function t(r){let n=r;return X.objectLiteral(r)&&_4.is(n.kind)&&X.string(n.value)}o(t,"is"),e.is=t})(Od||(Od={}));(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(O_||(O_={}));(function(e){e.PlainText=1,e.Snippet=2})(L_||(L_={}));(function(e){e.Deprecated=1})(F_||(F_={}));(function(e){function t(n,i,s){return{newText:n,insert:i,replace:s}}o(t,"create"),e.create=t;function r(n){let i=n;return i&&X.string(i.newText)&&Er.is(i.insert)&&Er.is(i.replace)}o(r,"is"),e.is=r})(M_||(M_={}));(function(e){e.asIs=1,e.adjustIndentation=2})(U_||(U_={}));(function(e){function t(r){let n=r;return n&&(X.string(n.detail)||n.detail===void 0)&&(X.string(n.description)||n.description===void 0)}o(t,"is"),e.is=t})(B_||(B_={}));(function(e){function t(r){return{label:r}}o(t,"create"),e.create=t})(j_||(j_={}));(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}o(t,"create"),e.create=t})($_||($_={}));(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(t,"fromPlainText"),e.fromPlainText=t;function r(n){let i=n;return X.string(i)||X.objectLiteral(i)&&X.string(i.language)&&X.string(i.value)}o(r,"is"),e.is=r})(Pp||(Pp={}));(function(e){function t(r){let n=r;return!!n&&X.objectLiteral(n)&&(Od.is(n.contents)||Pp.is(n.contents)||X.typedArray(n.contents,Pp.is))&&(r.range===void 0||Er.is(r.range))}o(t,"is"),e.is=t})(W_||(W_={}));(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}o(t,"create"),e.create=t})(q_||(q_={}));(function(e){function t(r,n,...i){let s={label:r};return X.defined(n)&&(s.documentation=n),X.defined(i)?s.parameters=i:s.parameters=[],s}o(t,"create"),e.create=t})(G_||(G_={}));(function(e){e.Text=1,e.Read=2,e.Write=3})(z_||(z_={}));(function(e){function t(r,n){let i={range:r};return X.number(n)&&(i.kind=n),i}o(t,"create"),e.create=t})(H_||(H_={}));(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(V_||(V_={}));(function(e){e.Deprecated=1})(K_||(K_={}));(function(e){function t(r,n,i,s,a){let l={name:r,kind:n,location:{uri:s,range:i}};return a&&(l.containerName=a),l}o(t,"create"),e.create=t})(Y_||(Y_={}));(function(e){function t(r,n,i,s){return s!==void 0?{name:r,kind:n,location:{uri:i,range:s}}:{name:r,kind:n,location:{uri:i}}}o(t,"create"),e.create=t})(J_||(J_={}));(function(e){function t(n,i,s,a,l,c){let u={name:n,detail:i,kind:s,range:a,selectionRange:l};return c!==void 0&&(u.children=c),u}o(t,"create"),e.create=t;function r(n){let i=n;return i&&X.string(i.name)&&X.number(i.kind)&&Er.is(i.range)&&Er.is(i.selectionRange)&&(i.detail===void 0||X.string(i.detail))&&(i.deprecated===void 0||X.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}o(r,"is"),e.is=r})(X_||(X_={}));(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(Z_||(Z_={}));(function(e){e.Invoked=1,e.Automatic=2})(Rp||(Rp={}));(function(e){function t(n,i,s){let a={diagnostics:n};return i!=null&&(a.only=i),s!=null&&(a.triggerKind=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return X.defined(i)&&X.typedArray(i.diagnostics,Ip.is)&&(i.only===void 0||X.typedArray(i.only,X.string))&&(i.triggerKind===void 0||i.triggerKind===Rp.Invoked||i.triggerKind===Rp.Automatic)}o(r,"is"),e.is=r})(Q_||(Q_={}));(function(e){function t(n,i,s){let a={title:n},l=!0;return typeof i=="string"?(l=!1,a.kind=i):vu.is(i)?a.command=i:a.edit=i,l&&s!==void 0&&(a.kind=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return i&&X.string(i.title)&&(i.diagnostics===void 0||X.typedArray(i.diagnostics,Ip.is))&&(i.kind===void 0||X.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||vu.is(i.command))&&(i.isPreferred===void 0||X.boolean(i.isPreferred))&&(i.edit===void 0||x4.is(i.edit))}o(r,"is"),e.is=r})(ey||(ey={}));(function(e){function t(n,i){let s={range:n};return X.defined(i)&&(s.data=i),s}o(t,"create"),e.create=t;function r(n){let i=n;return X.defined(i)&&Er.is(i.range)&&(X.undefined(i.command)||vu.is(i.command))}o(r,"is"),e.is=r})(ty||(ty={}));(function(e){function t(n,i){return{tabSize:n,insertSpaces:i}}o(t,"create"),e.create=t;function r(n){let i=n;return X.defined(i)&&X.uinteger(i.tabSize)&&X.boolean(i.insertSpaces)}o(r,"is"),e.is=r})(ry||(ry={}));(function(e){function t(n,i,s){return{range:n,target:i,data:s}}o(t,"create"),e.create=t;function r(n){let i=n;return X.defined(i)&&Er.is(i.range)&&(X.undefined(i.target)||X.string(i.target))}o(r,"is"),e.is=r})(ny||(ny={}));(function(e){function t(n,i){return{range:n,parent:i}}o(t,"create"),e.create=t;function r(n){let i=n;return X.objectLiteral(i)&&Er.is(i.range)&&(i.parent===void 0||e.is(i.parent))}o(r,"is"),e.is=r})(iy||(iy={}));(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(oy||(oy={}));(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(sy||(sy={}));(function(e){function t(r){let n=r;return X.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}o(t,"is"),e.is=t})(ay||(ay={}));(function(e){function t(n,i){return{range:n,text:i}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Er.is(i.range)&&X.string(i.text)}o(r,"is"),e.is=r})(ly||(ly={}));(function(e){function t(n,i,s){return{range:n,variableName:i,caseSensitiveLookup:s}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Er.is(i.range)&&X.boolean(i.caseSensitiveLookup)&&(X.string(i.variableName)||i.variableName===void 0)}o(r,"is"),e.is=r})(cy||(cy={}));(function(e){function t(n,i){return{range:n,expression:i}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Er.is(i.range)&&(X.string(i.expression)||i.expression===void 0)}o(r,"is"),e.is=r})(uy||(uy={}));(function(e){function t(n,i){return{frameId:n,stoppedLocation:i}}o(t,"create"),e.create=t;function r(n){let i=n;return X.defined(i)&&Er.is(n.stoppedLocation)}o(r,"is"),e.is=r})(fy||(fy={}));(function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}o(t,"is"),e.is=t})(y4||(y4={}));(function(e){function t(n){return{value:n}}o(t,"create"),e.create=t;function r(n){let i=n;return X.objectLiteral(i)&&(i.tooltip===void 0||X.string(i.tooltip)||Od.is(i.tooltip))&&(i.location===void 0||Cp.is(i.location))&&(i.command===void 0||vu.is(i.command))}o(r,"is"),e.is=r})(v4||(v4={}));(function(e){function t(n,i,s){let a={position:n,label:i};return s!==void 0&&(a.kind=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return X.objectLiteral(i)&&ri.is(i.position)&&(X.string(i.label)||X.typedArray(i.label,v4.is))&&(i.kind===void 0||y4.is(i.kind))&&i.textEdits===void 0||X.typedArray(i.textEdits,A0.is)&&(i.tooltip===void 0||X.string(i.tooltip)||Od.is(i.tooltip))&&(i.paddingLeft===void 0||X.boolean(i.paddingLeft))&&(i.paddingRight===void 0||X.boolean(i.paddingRight))}o(r,"is"),e.is=r})(dy||(dy={}));(function(e){function t(r){return{kind:"snippet",value:r}}o(t,"createSnippet"),e.createSnippet=t})(my||(my={}));(function(e){function t(r,n,i,s){return{insertText:r,filterText:n,range:i,command:s}}o(t,"create"),e.create=t})(py||(py={}));(function(e){function t(r){return{items:r}}o(t,"create"),e.create=t})(gy||(gy={}));(function(e){e.Invoked=0,e.Automatic=1})(hy||(hy={}));(function(e){function t(r,n){return{range:r,text:n}}o(t,"create"),e.create=t})(xy||(xy={}));(function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}o(t,"create"),e.create=t})(by||(by={}));(function(e){function t(r){let n=r;return X.objectLiteral(n)&&p4.is(n.uri)&&X.string(n.name)}o(t,"is"),e.is=t})(_y||(_y={}));Zne=[`
`,`\r
`,"\r"];(function(e){function t(s,a,l,c){return new vy(s,a,l,c)}o(t,"create"),e.create=t;function r(s){let a=s;return!!(X.defined(a)&&X.string(a.uri)&&(X.undefined(a.languageId)||X.string(a.languageId))&&X.uinteger(a.lineCount)&&X.func(a.getText)&&X.func(a.positionAt)&&X.func(a.offsetAt))}o(r,"is"),e.is=r;function n(s,a){let l=s.getText(),c=i(a,(f,d)=>{let m=f.range.start.line-d.range.start.line;return m===0?f.range.start.character-d.range.start.character:m}),u=l.length;for(let f=c.length-1;f>=0;f--){let d=c[f],m=s.offsetAt(d.range.start),p=s.offsetAt(d.range.end);if(p<=u)l=l.substring(0,m)+d.newText+l.substring(p,l.length);else throw new Error("Overlapping edit");u=m}return l}o(n,"applyEdits"),e.applyEdits=n;function i(s,a){if(s.length<=1)return s;let l=s.length/2|0,c=s.slice(0,l),u=s.slice(l);i(c,a),i(u,a);let f=0,d=0,m=0;for(;f<c.length&&d<u.length;)a(c[f],u[d])<=0?s[m++]=c[f++]:s[m++]=u[d++];for(;f<c.length;)s[m++]=c[f++];for(;d<u.length;)s[m++]=u[d++];return s}o(i,"mergeSort")})(yy||(yy={}));vy=class{static{o(this,"FullTextDocument")}constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,n=!0;for(let i=0;i<r.length;i++){n&&(t.push(i),n=!1);let s=r.charAt(i);n=s==="\r"||s===`
`,s==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return ri.create(0,t);for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let s=n-1;return ri.create(s,t-r[s])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)}get lineCount(){return this.getLineOffsets().length}};(function(e){let t=Object.prototype.toString;function r(p){return typeof p<"u"}o(r,"defined"),e.defined=r;function n(p){return typeof p>"u"}o(n,"undefined"),e.undefined=n;function i(p){return p===!0||p===!1}o(i,"boolean"),e.boolean=i;function s(p){return t.call(p)==="[object String]"}o(s,"string"),e.string=s;function a(p){return t.call(p)==="[object Number]"}o(a,"number"),e.number=a;function l(p,g,h){return t.call(p)==="[object Number]"&&g<=p&&p<=h}o(l,"numberRange"),e.numberRange=l;function c(p){return t.call(p)==="[object Number]"&&-2147483648<=p&&p<=2147483647}o(c,"integer"),e.integer=c;function u(p){return t.call(p)==="[object Number]"&&0<=p&&p<=2147483647}o(u,"uinteger"),e.uinteger=u;function f(p){return t.call(p)==="[object Function]"}o(f,"func"),e.func=f;function d(p){return p!==null&&typeof p=="object"}o(d,"objectLiteral"),e.objectLiteral=d;function m(p,g){return Array.isArray(p)&&p.every(g)}o(m,"typedArray"),e.typedArray=m})(X||(X={}))});var Hr=Q(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.ProtocolNotificationType=eo.ProtocolNotificationType0=eo.ProtocolRequestType=eo.ProtocolRequestType0=eo.RegistrationType=eo.MessageDirection=void 0;var Ld=_u(),GA;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(GA||(eo.MessageDirection=GA={}));var Ty=class{static{o(this,"RegistrationType")}constructor(t){this.method=t}};eo.RegistrationType=Ty;var Ey=class extends Ld.RequestType0{static{o(this,"ProtocolRequestType0")}constructor(t){super(t)}};eo.ProtocolRequestType0=Ey;var Cy=class extends Ld.RequestType{static{o(this,"ProtocolRequestType")}constructor(t){super(t,Ld.ParameterStructures.byName)}};eo.ProtocolRequestType=Cy;var Iy=class extends Ld.NotificationType0{static{o(this,"ProtocolNotificationType0")}constructor(t){super(t)}};eo.ProtocolNotificationType0=Iy;var Sy=class extends Ld.NotificationType{static{o(this,"ProtocolNotificationType")}constructor(t){super(t,Ld.ParameterStructures.byName)}};eo.ProtocolNotificationType=Sy});var E4=Q(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});En.objectLiteral=En.typedArray=En.stringArray=En.array=En.func=En.error=En.number=En.string=En.boolean=void 0;function Qne(e){return e===!0||e===!1}o(Qne,"boolean");En.boolean=Qne;function zA(e){return typeof e=="string"||e instanceof String}o(zA,"string");En.string=zA;function eie(e){return typeof e=="number"||e instanceof Number}o(eie,"number");En.number=eie;function tie(e){return e instanceof Error}o(tie,"error");En.error=tie;function rie(e){return typeof e=="function"}o(rie,"func");En.func=rie;function HA(e){return Array.isArray(e)}o(HA,"array");En.array=HA;function nie(e){return HA(e)&&e.every(t=>zA(t))}o(nie,"stringArray");En.stringArray=nie;function iie(e,t){return Array.isArray(e)&&e.every(t)}o(iie,"typedArray");En.typedArray=iie;function oie(e){return e!==null&&typeof e=="object"}o(oie,"objectLiteral");En.objectLiteral=oie});var YA=Q(C4=>{"use strict";Object.defineProperty(C4,"__esModule",{value:!0});C4.ImplementationRequest=void 0;var VA=Hr(),KA;(function(e){e.method="textDocument/implementation",e.messageDirection=VA.MessageDirection.clientToServer,e.type=new VA.ProtocolRequestType(e.method)})(KA||(C4.ImplementationRequest=KA={}))});var ZA=Q(I4=>{"use strict";Object.defineProperty(I4,"__esModule",{value:!0});I4.TypeDefinitionRequest=void 0;var JA=Hr(),XA;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=JA.MessageDirection.clientToServer,e.type=new JA.ProtocolRequestType(e.method)})(XA||(I4.TypeDefinitionRequest=XA={}))});var tN=Q(Fd=>{"use strict";Object.defineProperty(Fd,"__esModule",{value:!0});Fd.DidChangeWorkspaceFoldersNotification=Fd.WorkspaceFoldersRequest=void 0;var S4=Hr(),QA;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=S4.MessageDirection.serverToClient,e.type=new S4.ProtocolRequestType0(e.method)})(QA||(Fd.WorkspaceFoldersRequest=QA={}));var eN;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=S4.MessageDirection.clientToServer,e.type=new S4.ProtocolNotificationType(e.method)})(eN||(Fd.DidChangeWorkspaceFoldersNotification=eN={}))});var iN=Q(w4=>{"use strict";Object.defineProperty(w4,"__esModule",{value:!0});w4.ConfigurationRequest=void 0;var rN=Hr(),nN;(function(e){e.method="workspace/configuration",e.messageDirection=rN.MessageDirection.serverToClient,e.type=new rN.ProtocolRequestType(e.method)})(nN||(w4.ConfigurationRequest=nN={}))});var aN=Q(Md=>{"use strict";Object.defineProperty(Md,"__esModule",{value:!0});Md.ColorPresentationRequest=Md.DocumentColorRequest=void 0;var P4=Hr(),oN;(function(e){e.method="textDocument/documentColor",e.messageDirection=P4.MessageDirection.clientToServer,e.type=new P4.ProtocolRequestType(e.method)})(oN||(Md.DocumentColorRequest=oN={}));var sN;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=P4.MessageDirection.clientToServer,e.type=new P4.ProtocolRequestType(e.method)})(sN||(Md.ColorPresentationRequest=sN={}))});var uN=Q(Ud=>{"use strict";Object.defineProperty(Ud,"__esModule",{value:!0});Ud.FoldingRangeRefreshRequest=Ud.FoldingRangeRequest=void 0;var R4=Hr(),lN;(function(e){e.method="textDocument/foldingRange",e.messageDirection=R4.MessageDirection.clientToServer,e.type=new R4.ProtocolRequestType(e.method)})(lN||(Ud.FoldingRangeRequest=lN={}));var cN;(function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=R4.MessageDirection.serverToClient,e.type=new R4.ProtocolRequestType0(e.method)})(cN||(Ud.FoldingRangeRefreshRequest=cN={}))});var mN=Q(D4=>{"use strict";Object.defineProperty(D4,"__esModule",{value:!0});D4.DeclarationRequest=void 0;var fN=Hr(),dN;(function(e){e.method="textDocument/declaration",e.messageDirection=fN.MessageDirection.clientToServer,e.type=new fN.ProtocolRequestType(e.method)})(dN||(D4.DeclarationRequest=dN={}))});var hN=Q(A4=>{"use strict";Object.defineProperty(A4,"__esModule",{value:!0});A4.SelectionRangeRequest=void 0;var pN=Hr(),gN;(function(e){e.method="textDocument/selectionRange",e.messageDirection=pN.MessageDirection.clientToServer,e.type=new pN.ProtocolRequestType(e.method)})(gN||(A4.SelectionRangeRequest=gN={}))});var yN=Q(zl=>{"use strict";Object.defineProperty(zl,"__esModule",{value:!0});zl.WorkDoneProgressCancelNotification=zl.WorkDoneProgressCreateRequest=zl.WorkDoneProgress=void 0;var sie=_u(),N4=Hr(),xN;(function(e){e.type=new sie.ProgressType;function t(r){return r===e.type}o(t,"is"),e.is=t})(xN||(zl.WorkDoneProgress=xN={}));var bN;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=N4.MessageDirection.serverToClient,e.type=new N4.ProtocolRequestType(e.method)})(bN||(zl.WorkDoneProgressCreateRequest=bN={}));var _N;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=N4.MessageDirection.clientToServer,e.type=new N4.ProtocolNotificationType(e.method)})(_N||(zl.WorkDoneProgressCancelNotification=_N={}))});var CN=Q(Hl=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});Hl.CallHierarchyOutgoingCallsRequest=Hl.CallHierarchyIncomingCallsRequest=Hl.CallHierarchyPrepareRequest=void 0;var Bd=Hr(),vN;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=Bd.MessageDirection.clientToServer,e.type=new Bd.ProtocolRequestType(e.method)})(vN||(Hl.CallHierarchyPrepareRequest=vN={}));var TN;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=Bd.MessageDirection.clientToServer,e.type=new Bd.ProtocolRequestType(e.method)})(TN||(Hl.CallHierarchyIncomingCallsRequest=TN={}));var EN;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=Bd.MessageDirection.clientToServer,e.type=new Bd.ProtocolRequestType(e.method)})(EN||(Hl.CallHierarchyOutgoingCallsRequest=EN={}))});var DN=Q(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});to.SemanticTokensRefreshRequest=to.SemanticTokensRangeRequest=to.SemanticTokensDeltaRequest=to.SemanticTokensRequest=to.SemanticTokensRegistrationType=to.TokenFormat=void 0;var Oa=Hr(),IN;(function(e){e.Relative="relative"})(IN||(to.TokenFormat=IN={}));var Ap;(function(e){e.method="textDocument/semanticTokens",e.type=new Oa.RegistrationType(e.method)})(Ap||(to.SemanticTokensRegistrationType=Ap={}));var SN;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=Oa.MessageDirection.clientToServer,e.type=new Oa.ProtocolRequestType(e.method),e.registrationMethod=Ap.method})(SN||(to.SemanticTokensRequest=SN={}));var wN;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=Oa.MessageDirection.clientToServer,e.type=new Oa.ProtocolRequestType(e.method),e.registrationMethod=Ap.method})(wN||(to.SemanticTokensDeltaRequest=wN={}));var PN;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=Oa.MessageDirection.clientToServer,e.type=new Oa.ProtocolRequestType(e.method),e.registrationMethod=Ap.method})(PN||(to.SemanticTokensRangeRequest=PN={}));var RN;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=Oa.MessageDirection.serverToClient,e.type=new Oa.ProtocolRequestType0(e.method)})(RN||(to.SemanticTokensRefreshRequest=RN={}))});var kN=Q(k4=>{"use strict";Object.defineProperty(k4,"__esModule",{value:!0});k4.ShowDocumentRequest=void 0;var AN=Hr(),NN;(function(e){e.method="window/showDocument",e.messageDirection=AN.MessageDirection.serverToClient,e.type=new AN.ProtocolRequestType(e.method)})(NN||(k4.ShowDocumentRequest=NN={}))});var FN=Q(O4=>{"use strict";Object.defineProperty(O4,"__esModule",{value:!0});O4.LinkedEditingRangeRequest=void 0;var ON=Hr(),LN;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=ON.MessageDirection.clientToServer,e.type=new ON.ProtocolRequestType(e.method)})(LN||(O4.LinkedEditingRangeRequest=LN={}))});var GN=Q(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.WillDeleteFilesRequest=_i.DidDeleteFilesNotification=_i.DidRenameFilesNotification=_i.WillRenameFilesRequest=_i.DidCreateFilesNotification=_i.WillCreateFilesRequest=_i.FileOperationPatternKind=void 0;var as=Hr(),MN;(function(e){e.file="file",e.folder="folder"})(MN||(_i.FileOperationPatternKind=MN={}));var UN;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=as.MessageDirection.clientToServer,e.type=new as.ProtocolRequestType(e.method)})(UN||(_i.WillCreateFilesRequest=UN={}));var BN;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=as.MessageDirection.clientToServer,e.type=new as.ProtocolNotificationType(e.method)})(BN||(_i.DidCreateFilesNotification=BN={}));var jN;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=as.MessageDirection.clientToServer,e.type=new as.ProtocolRequestType(e.method)})(jN||(_i.WillRenameFilesRequest=jN={}));var $N;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=as.MessageDirection.clientToServer,e.type=new as.ProtocolNotificationType(e.method)})($N||(_i.DidRenameFilesNotification=$N={}));var WN;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=as.MessageDirection.clientToServer,e.type=new as.ProtocolNotificationType(e.method)})(WN||(_i.DidDeleteFilesNotification=WN={}));var qN;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=as.MessageDirection.clientToServer,e.type=new as.ProtocolRequestType(e.method)})(qN||(_i.WillDeleteFilesRequest=qN={}))});var YN=Q(Vl=>{"use strict";Object.defineProperty(Vl,"__esModule",{value:!0});Vl.MonikerRequest=Vl.MonikerKind=Vl.UniquenessLevel=void 0;var zN=Hr(),HN;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(HN||(Vl.UniquenessLevel=HN={}));var VN;(function(e){e.$import="import",e.$export="export",e.local="local"})(VN||(Vl.MonikerKind=VN={}));var KN;(function(e){e.method="textDocument/moniker",e.messageDirection=zN.MessageDirection.clientToServer,e.type=new zN.ProtocolRequestType(e.method)})(KN||(Vl.MonikerRequest=KN={}))});var QN=Q(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});Kl.TypeHierarchySubtypesRequest=Kl.TypeHierarchySupertypesRequest=Kl.TypeHierarchyPrepareRequest=void 0;var jd=Hr(),JN;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=jd.MessageDirection.clientToServer,e.type=new jd.ProtocolRequestType(e.method)})(JN||(Kl.TypeHierarchyPrepareRequest=JN={}));var XN;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=jd.MessageDirection.clientToServer,e.type=new jd.ProtocolRequestType(e.method)})(XN||(Kl.TypeHierarchySupertypesRequest=XN={}));var ZN;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=jd.MessageDirection.clientToServer,e.type=new jd.ProtocolRequestType(e.method)})(ZN||(Kl.TypeHierarchySubtypesRequest=ZN={}))});var rk=Q($d=>{"use strict";Object.defineProperty($d,"__esModule",{value:!0});$d.InlineValueRefreshRequest=$d.InlineValueRequest=void 0;var L4=Hr(),ek;(function(e){e.method="textDocument/inlineValue",e.messageDirection=L4.MessageDirection.clientToServer,e.type=new L4.ProtocolRequestType(e.method)})(ek||($d.InlineValueRequest=ek={}));var tk;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=L4.MessageDirection.serverToClient,e.type=new L4.ProtocolRequestType0(e.method)})(tk||($d.InlineValueRefreshRequest=tk={}))});var sk=Q(Yl=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});Yl.InlayHintRefreshRequest=Yl.InlayHintResolveRequest=Yl.InlayHintRequest=void 0;var Wd=Hr(),nk;(function(e){e.method="textDocument/inlayHint",e.messageDirection=Wd.MessageDirection.clientToServer,e.type=new Wd.ProtocolRequestType(e.method)})(nk||(Yl.InlayHintRequest=nk={}));var ik;(function(e){e.method="inlayHint/resolve",e.messageDirection=Wd.MessageDirection.clientToServer,e.type=new Wd.ProtocolRequestType(e.method)})(ik||(Yl.InlayHintResolveRequest=ik={}));var ok;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=Wd.MessageDirection.serverToClient,e.type=new Wd.ProtocolRequestType0(e.method)})(ok||(Yl.InlayHintRefreshRequest=ok={}))});var mk=Q(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});ls.DiagnosticRefreshRequest=ls.WorkspaceDiagnosticRequest=ls.DocumentDiagnosticRequest=ls.DocumentDiagnosticReportKind=ls.DiagnosticServerCancellationData=void 0;var dk=_u(),aie=E4(),qd=Hr(),ak;(function(e){function t(r){let n=r;return n&&aie.boolean(n.retriggerRequest)}o(t,"is"),e.is=t})(ak||(ls.DiagnosticServerCancellationData=ak={}));var lk;(function(e){e.Full="full",e.Unchanged="unchanged"})(lk||(ls.DocumentDiagnosticReportKind=lk={}));var ck;(function(e){e.method="textDocument/diagnostic",e.messageDirection=qd.MessageDirection.clientToServer,e.type=new qd.ProtocolRequestType(e.method),e.partialResult=new dk.ProgressType})(ck||(ls.DocumentDiagnosticRequest=ck={}));var uk;(function(e){e.method="workspace/diagnostic",e.messageDirection=qd.MessageDirection.clientToServer,e.type=new qd.ProtocolRequestType(e.method),e.partialResult=new dk.ProgressType})(uk||(ls.WorkspaceDiagnosticRequest=uk={}));var fk;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=qd.MessageDirection.serverToClient,e.type=new qd.ProtocolRequestType0(e.method)})(fk||(ls.DiagnosticRefreshRequest=fk={}))});var yk=Q(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.DidCloseNotebookDocumentNotification=nn.DidSaveNotebookDocumentNotification=nn.DidChangeNotebookDocumentNotification=nn.NotebookCellArrayChange=nn.DidOpenNotebookDocumentNotification=nn.NotebookDocumentSyncRegistrationType=nn.NotebookDocument=nn.NotebookCell=nn.ExecutionSummary=nn.NotebookCellKind=void 0;var Np=(Dp(),Fh(T4)),Js=E4(),N0=Hr(),wy;(function(e){e.Markup=1,e.Code=2;function t(r){return r===1||r===2}o(t,"is"),e.is=t})(wy||(nn.NotebookCellKind=wy={}));var Py;(function(e){function t(i,s){let a={executionOrder:i};return(s===!0||s===!1)&&(a.success=s),a}o(t,"create"),e.create=t;function r(i){let s=i;return Js.objectLiteral(s)&&Np.uinteger.is(s.executionOrder)&&(s.success===void 0||Js.boolean(s.success))}o(r,"is"),e.is=r;function n(i,s){return i===s?!0:i==null||s===null||s===void 0?!1:i.executionOrder===s.executionOrder&&i.success===s.success}o(n,"equals"),e.equals=n})(Py||(nn.ExecutionSummary=Py={}));var F4;(function(e){function t(s,a){return{kind:s,document:a}}o(t,"create"),e.create=t;function r(s){let a=s;return Js.objectLiteral(a)&&wy.is(a.kind)&&Np.DocumentUri.is(a.document)&&(a.metadata===void 0||Js.objectLiteral(a.metadata))}o(r,"is"),e.is=r;function n(s,a){let l=new Set;return s.document!==a.document&&l.add("document"),s.kind!==a.kind&&l.add("kind"),s.executionSummary!==a.executionSummary&&l.add("executionSummary"),(s.metadata!==void 0||a.metadata!==void 0)&&!i(s.metadata,a.metadata)&&l.add("metadata"),(s.executionSummary!==void 0||a.executionSummary!==void 0)&&!Py.equals(s.executionSummary,a.executionSummary)&&l.add("executionSummary"),l}o(n,"diff"),e.diff=n;function i(s,a){if(s===a)return!0;if(s==null||a===null||a===void 0||typeof s!=typeof a||typeof s!="object")return!1;let l=Array.isArray(s),c=Array.isArray(a);if(l!==c)return!1;if(l&&c){if(s.length!==a.length)return!1;for(let u=0;u<s.length;u++)if(!i(s[u],a[u]))return!1}if(Js.objectLiteral(s)&&Js.objectLiteral(a)){let u=Object.keys(s),f=Object.keys(a);if(u.length!==f.length||(u.sort(),f.sort(),!i(u,f)))return!1;for(let d=0;d<u.length;d++){let m=u[d];if(!i(s[m],a[m]))return!1}}return!0}o(i,"equalsMetadata")})(F4||(nn.NotebookCell=F4={}));var pk;(function(e){function t(n,i,s,a){return{uri:n,notebookType:i,version:s,cells:a}}o(t,"create"),e.create=t;function r(n){let i=n;return Js.objectLiteral(i)&&Js.string(i.uri)&&Np.integer.is(i.version)&&Js.typedArray(i.cells,F4.is)}o(r,"is"),e.is=r})(pk||(nn.NotebookDocument=pk={}));var Gd;(function(e){e.method="notebookDocument/sync",e.messageDirection=N0.MessageDirection.clientToServer,e.type=new N0.RegistrationType(e.method)})(Gd||(nn.NotebookDocumentSyncRegistrationType=Gd={}));var gk;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=N0.MessageDirection.clientToServer,e.type=new N0.ProtocolNotificationType(e.method),e.registrationMethod=Gd.method})(gk||(nn.DidOpenNotebookDocumentNotification=gk={}));var hk;(function(e){function t(n){let i=n;return Js.objectLiteral(i)&&Np.uinteger.is(i.start)&&Np.uinteger.is(i.deleteCount)&&(i.cells===void 0||Js.typedArray(i.cells,F4.is))}o(t,"is"),e.is=t;function r(n,i,s){let a={start:n,deleteCount:i};return s!==void 0&&(a.cells=s),a}o(r,"create"),e.create=r})(hk||(nn.NotebookCellArrayChange=hk={}));var xk;(function(e){e.method="notebookDocument/didChange",e.messageDirection=N0.MessageDirection.clientToServer,e.type=new N0.ProtocolNotificationType(e.method),e.registrationMethod=Gd.method})(xk||(nn.DidChangeNotebookDocumentNotification=xk={}));var bk;(function(e){e.method="notebookDocument/didSave",e.messageDirection=N0.MessageDirection.clientToServer,e.type=new N0.ProtocolNotificationType(e.method),e.registrationMethod=Gd.method})(bk||(nn.DidSaveNotebookDocumentNotification=bk={}));var _k;(function(e){e.method="notebookDocument/didClose",e.messageDirection=N0.MessageDirection.clientToServer,e.type=new N0.ProtocolNotificationType(e.method),e.registrationMethod=Gd.method})(_k||(nn.DidCloseNotebookDocumentNotification=_k={}))});var Ek=Q(M4=>{"use strict";Object.defineProperty(M4,"__esModule",{value:!0});M4.InlineCompletionRequest=void 0;var vk=Hr(),Tk;(function(e){e.method="textDocument/inlineCompletion",e.messageDirection=vk.MessageDirection.clientToServer,e.type=new vk.ProtocolRequestType(e.method)})(Tk||(M4.InlineCompletionRequest=Tk={}))});var FO=Q(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.WorkspaceSymbolRequest=U.CodeActionResolveRequest=U.CodeActionRequest=U.DocumentSymbolRequest=U.DocumentHighlightRequest=U.ReferencesRequest=U.DefinitionRequest=U.SignatureHelpRequest=U.SignatureHelpTriggerKind=U.HoverRequest=U.CompletionResolveRequest=U.CompletionRequest=U.CompletionTriggerKind=U.PublishDiagnosticsNotification=U.WatchKind=U.RelativePattern=U.FileChangeType=U.DidChangeWatchedFilesNotification=U.WillSaveTextDocumentWaitUntilRequest=U.WillSaveTextDocumentNotification=U.TextDocumentSaveReason=U.DidSaveTextDocumentNotification=U.DidCloseTextDocumentNotification=U.DidChangeTextDocumentNotification=U.TextDocumentContentChangeEvent=U.DidOpenTextDocumentNotification=U.TextDocumentSyncKind=U.TelemetryEventNotification=U.LogMessageNotification=U.ShowMessageRequest=U.ShowMessageNotification=U.MessageType=U.DidChangeConfigurationNotification=U.ExitNotification=U.ShutdownRequest=U.InitializedNotification=U.InitializeErrorCodes=U.InitializeRequest=U.WorkDoneProgressOptions=U.TextDocumentRegistrationOptions=U.StaticRegistrationOptions=U.PositionEncodingKind=U.FailureHandlingKind=U.ResourceOperationKind=U.UnregistrationRequest=U.RegistrationRequest=U.DocumentSelector=U.NotebookCellTextDocumentFilter=U.NotebookDocumentFilter=U.TextDocumentFilter=void 0;U.MonikerRequest=U.MonikerKind=U.UniquenessLevel=U.WillDeleteFilesRequest=U.DidDeleteFilesNotification=U.WillRenameFilesRequest=U.DidRenameFilesNotification=U.WillCreateFilesRequest=U.DidCreateFilesNotification=U.FileOperationPatternKind=U.LinkedEditingRangeRequest=U.ShowDocumentRequest=U.SemanticTokensRegistrationType=U.SemanticTokensRefreshRequest=U.SemanticTokensRangeRequest=U.SemanticTokensDeltaRequest=U.SemanticTokensRequest=U.TokenFormat=U.CallHierarchyPrepareRequest=U.CallHierarchyOutgoingCallsRequest=U.CallHierarchyIncomingCallsRequest=U.WorkDoneProgressCancelNotification=U.WorkDoneProgressCreateRequest=U.WorkDoneProgress=U.SelectionRangeRequest=U.DeclarationRequest=U.FoldingRangeRefreshRequest=U.FoldingRangeRequest=U.ColorPresentationRequest=U.DocumentColorRequest=U.ConfigurationRequest=U.DidChangeWorkspaceFoldersNotification=U.WorkspaceFoldersRequest=U.TypeDefinitionRequest=U.ImplementationRequest=U.ApplyWorkspaceEditRequest=U.ExecuteCommandRequest=U.PrepareRenameRequest=U.RenameRequest=U.PrepareSupportDefaultBehavior=U.DocumentOnTypeFormattingRequest=U.DocumentRangesFormattingRequest=U.DocumentRangeFormattingRequest=U.DocumentFormattingRequest=U.DocumentLinkResolveRequest=U.DocumentLinkRequest=U.CodeLensRefreshRequest=U.CodeLensResolveRequest=U.CodeLensRequest=U.WorkspaceSymbolResolveRequest=void 0;U.InlineCompletionRequest=U.DidCloseNotebookDocumentNotification=U.DidSaveNotebookDocumentNotification=U.DidChangeNotebookDocumentNotification=U.NotebookCellArrayChange=U.DidOpenNotebookDocumentNotification=U.NotebookDocumentSyncRegistrationType=U.NotebookDocument=U.NotebookCell=U.ExecutionSummary=U.NotebookCellKind=U.DiagnosticRefreshRequest=U.WorkspaceDiagnosticRequest=U.DocumentDiagnosticRequest=U.DocumentDiagnosticReportKind=U.DiagnosticServerCancellationData=U.InlayHintRefreshRequest=U.InlayHintResolveRequest=U.InlayHintRequest=U.InlineValueRefreshRequest=U.InlineValueRequest=U.TypeHierarchySupertypesRequest=U.TypeHierarchySubtypesRequest=U.TypeHierarchyPrepareRequest=void 0;var ve=Hr(),Ck=(Dp(),Fh(T4)),Wn=E4(),lie=YA();Object.defineProperty(U,"ImplementationRequest",{enumerable:!0,get:o(function(){return lie.ImplementationRequest},"get")});var cie=ZA();Object.defineProperty(U,"TypeDefinitionRequest",{enumerable:!0,get:o(function(){return cie.TypeDefinitionRequest},"get")});var NO=tN();Object.defineProperty(U,"WorkspaceFoldersRequest",{enumerable:!0,get:o(function(){return NO.WorkspaceFoldersRequest},"get")});Object.defineProperty(U,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:o(function(){return NO.DidChangeWorkspaceFoldersNotification},"get")});var uie=iN();Object.defineProperty(U,"ConfigurationRequest",{enumerable:!0,get:o(function(){return uie.ConfigurationRequest},"get")});var kO=aN();Object.defineProperty(U,"DocumentColorRequest",{enumerable:!0,get:o(function(){return kO.DocumentColorRequest},"get")});Object.defineProperty(U,"ColorPresentationRequest",{enumerable:!0,get:o(function(){return kO.ColorPresentationRequest},"get")});var OO=uN();Object.defineProperty(U,"FoldingRangeRequest",{enumerable:!0,get:o(function(){return OO.FoldingRangeRequest},"get")});Object.defineProperty(U,"FoldingRangeRefreshRequest",{enumerable:!0,get:o(function(){return OO.FoldingRangeRefreshRequest},"get")});var fie=mN();Object.defineProperty(U,"DeclarationRequest",{enumerable:!0,get:o(function(){return fie.DeclarationRequest},"get")});var die=hN();Object.defineProperty(U,"SelectionRangeRequest",{enumerable:!0,get:o(function(){return die.SelectionRangeRequest},"get")});var ky=yN();Object.defineProperty(U,"WorkDoneProgress",{enumerable:!0,get:o(function(){return ky.WorkDoneProgress},"get")});Object.defineProperty(U,"WorkDoneProgressCreateRequest",{enumerable:!0,get:o(function(){return ky.WorkDoneProgressCreateRequest},"get")});Object.defineProperty(U,"WorkDoneProgressCancelNotification",{enumerable:!0,get:o(function(){return ky.WorkDoneProgressCancelNotification},"get")});var Oy=CN();Object.defineProperty(U,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:o(function(){return Oy.CallHierarchyIncomingCallsRequest},"get")});Object.defineProperty(U,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:o(function(){return Oy.CallHierarchyOutgoingCallsRequest},"get")});Object.defineProperty(U,"CallHierarchyPrepareRequest",{enumerable:!0,get:o(function(){return Oy.CallHierarchyPrepareRequest},"get")});var zd=DN();Object.defineProperty(U,"TokenFormat",{enumerable:!0,get:o(function(){return zd.TokenFormat},"get")});Object.defineProperty(U,"SemanticTokensRequest",{enumerable:!0,get:o(function(){return zd.SemanticTokensRequest},"get")});Object.defineProperty(U,"SemanticTokensDeltaRequest",{enumerable:!0,get:o(function(){return zd.SemanticTokensDeltaRequest},"get")});Object.defineProperty(U,"SemanticTokensRangeRequest",{enumerable:!0,get:o(function(){return zd.SemanticTokensRangeRequest},"get")});Object.defineProperty(U,"SemanticTokensRefreshRequest",{enumerable:!0,get:o(function(){return zd.SemanticTokensRefreshRequest},"get")});Object.defineProperty(U,"SemanticTokensRegistrationType",{enumerable:!0,get:o(function(){return zd.SemanticTokensRegistrationType},"get")});var mie=kN();Object.defineProperty(U,"ShowDocumentRequest",{enumerable:!0,get:o(function(){return mie.ShowDocumentRequest},"get")});var pie=FN();Object.defineProperty(U,"LinkedEditingRangeRequest",{enumerable:!0,get:o(function(){return pie.LinkedEditingRangeRequest},"get")});var Tu=GN();Object.defineProperty(U,"FileOperationPatternKind",{enumerable:!0,get:o(function(){return Tu.FileOperationPatternKind},"get")});Object.defineProperty(U,"DidCreateFilesNotification",{enumerable:!0,get:o(function(){return Tu.DidCreateFilesNotification},"get")});Object.defineProperty(U,"WillCreateFilesRequest",{enumerable:!0,get:o(function(){return Tu.WillCreateFilesRequest},"get")});Object.defineProperty(U,"DidRenameFilesNotification",{enumerable:!0,get:o(function(){return Tu.DidRenameFilesNotification},"get")});Object.defineProperty(U,"WillRenameFilesRequest",{enumerable:!0,get:o(function(){return Tu.WillRenameFilesRequest},"get")});Object.defineProperty(U,"DidDeleteFilesNotification",{enumerable:!0,get:o(function(){return Tu.DidDeleteFilesNotification},"get")});Object.defineProperty(U,"WillDeleteFilesRequest",{enumerable:!0,get:o(function(){return Tu.WillDeleteFilesRequest},"get")});var Ly=YN();Object.defineProperty(U,"UniquenessLevel",{enumerable:!0,get:o(function(){return Ly.UniquenessLevel},"get")});Object.defineProperty(U,"MonikerKind",{enumerable:!0,get:o(function(){return Ly.MonikerKind},"get")});Object.defineProperty(U,"MonikerRequest",{enumerable:!0,get:o(function(){return Ly.MonikerRequest},"get")});var Fy=QN();Object.defineProperty(U,"TypeHierarchyPrepareRequest",{enumerable:!0,get:o(function(){return Fy.TypeHierarchyPrepareRequest},"get")});Object.defineProperty(U,"TypeHierarchySubtypesRequest",{enumerable:!0,get:o(function(){return Fy.TypeHierarchySubtypesRequest},"get")});Object.defineProperty(U,"TypeHierarchySupertypesRequest",{enumerable:!0,get:o(function(){return Fy.TypeHierarchySupertypesRequest},"get")});var LO=rk();Object.defineProperty(U,"InlineValueRequest",{enumerable:!0,get:o(function(){return LO.InlineValueRequest},"get")});Object.defineProperty(U,"InlineValueRefreshRequest",{enumerable:!0,get:o(function(){return LO.InlineValueRefreshRequest},"get")});var My=sk();Object.defineProperty(U,"InlayHintRequest",{enumerable:!0,get:o(function(){return My.InlayHintRequest},"get")});Object.defineProperty(U,"InlayHintResolveRequest",{enumerable:!0,get:o(function(){return My.InlayHintResolveRequest},"get")});Object.defineProperty(U,"InlayHintRefreshRequest",{enumerable:!0,get:o(function(){return My.InlayHintRefreshRequest},"get")});var kp=mk();Object.defineProperty(U,"DiagnosticServerCancellationData",{enumerable:!0,get:o(function(){return kp.DiagnosticServerCancellationData},"get")});Object.defineProperty(U,"DocumentDiagnosticReportKind",{enumerable:!0,get:o(function(){return kp.DocumentDiagnosticReportKind},"get")});Object.defineProperty(U,"DocumentDiagnosticRequest",{enumerable:!0,get:o(function(){return kp.DocumentDiagnosticRequest},"get")});Object.defineProperty(U,"WorkspaceDiagnosticRequest",{enumerable:!0,get:o(function(){return kp.WorkspaceDiagnosticRequest},"get")});Object.defineProperty(U,"DiagnosticRefreshRequest",{enumerable:!0,get:o(function(){return kp.DiagnosticRefreshRequest},"get")});var k0=yk();Object.defineProperty(U,"NotebookCellKind",{enumerable:!0,get:o(function(){return k0.NotebookCellKind},"get")});Object.defineProperty(U,"ExecutionSummary",{enumerable:!0,get:o(function(){return k0.ExecutionSummary},"get")});Object.defineProperty(U,"NotebookCell",{enumerable:!0,get:o(function(){return k0.NotebookCell},"get")});Object.defineProperty(U,"NotebookDocument",{enumerable:!0,get:o(function(){return k0.NotebookDocument},"get")});Object.defineProperty(U,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:o(function(){return k0.NotebookDocumentSyncRegistrationType},"get")});Object.defineProperty(U,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:o(function(){return k0.DidOpenNotebookDocumentNotification},"get")});Object.defineProperty(U,"NotebookCellArrayChange",{enumerable:!0,get:o(function(){return k0.NotebookCellArrayChange},"get")});Object.defineProperty(U,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:o(function(){return k0.DidChangeNotebookDocumentNotification},"get")});Object.defineProperty(U,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:o(function(){return k0.DidSaveNotebookDocumentNotification},"get")});Object.defineProperty(U,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:o(function(){return k0.DidCloseNotebookDocumentNotification},"get")});var gie=Ek();Object.defineProperty(U,"InlineCompletionRequest",{enumerable:!0,get:o(function(){return gie.InlineCompletionRequest},"get")});var Ry;(function(e){function t(r){let n=r;return Wn.string(n)||Wn.string(n.language)||Wn.string(n.scheme)||Wn.string(n.pattern)}o(t,"is"),e.is=t})(Ry||(U.TextDocumentFilter=Ry={}));var Dy;(function(e){function t(r){let n=r;return Wn.objectLiteral(n)&&(Wn.string(n.notebookType)||Wn.string(n.scheme)||Wn.string(n.pattern))}o(t,"is"),e.is=t})(Dy||(U.NotebookDocumentFilter=Dy={}));var Ay;(function(e){function t(r){let n=r;return Wn.objectLiteral(n)&&(Wn.string(n.notebook)||Dy.is(n.notebook))&&(n.language===void 0||Wn.string(n.language))}o(t,"is"),e.is=t})(Ay||(U.NotebookCellTextDocumentFilter=Ay={}));var Ny;(function(e){function t(r){if(!Array.isArray(r))return!1;for(let n of r)if(!Wn.string(n)&&!Ry.is(n)&&!Ay.is(n))return!1;return!0}o(t,"is"),e.is=t})(Ny||(U.DocumentSelector=Ny={}));var Ik;(function(e){e.method="client/registerCapability",e.messageDirection=ve.MessageDirection.serverToClient,e.type=new ve.ProtocolRequestType(e.method)})(Ik||(U.RegistrationRequest=Ik={}));var Sk;(function(e){e.method="client/unregisterCapability",e.messageDirection=ve.MessageDirection.serverToClient,e.type=new ve.ProtocolRequestType(e.method)})(Sk||(U.UnregistrationRequest=Sk={}));var wk;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(wk||(U.ResourceOperationKind=wk={}));var Pk;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(Pk||(U.FailureHandlingKind=Pk={}));var Rk;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(Rk||(U.PositionEncodingKind=Rk={}));var Dk;(function(e){function t(r){let n=r;return n&&Wn.string(n.id)&&n.id.length>0}o(t,"hasId"),e.hasId=t})(Dk||(U.StaticRegistrationOptions=Dk={}));var Ak;(function(e){function t(r){let n=r;return n&&(n.documentSelector===null||Ny.is(n.documentSelector))}o(t,"is"),e.is=t})(Ak||(U.TextDocumentRegistrationOptions=Ak={}));var Nk;(function(e){function t(n){let i=n;return Wn.objectLiteral(i)&&(i.workDoneProgress===void 0||Wn.boolean(i.workDoneProgress))}o(t,"is"),e.is=t;function r(n){let i=n;return i&&Wn.boolean(i.workDoneProgress)}o(r,"hasWorkDoneProgress"),e.hasWorkDoneProgress=r})(Nk||(U.WorkDoneProgressOptions=Nk={}));var kk;(function(e){e.method="initialize",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(kk||(U.InitializeRequest=kk={}));var Ok;(function(e){e.unknownProtocolVersion=1})(Ok||(U.InitializeErrorCodes=Ok={}));var Lk;(function(e){e.method="initialized",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolNotificationType(e.method)})(Lk||(U.InitializedNotification=Lk={}));var Fk;(function(e){e.method="shutdown",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType0(e.method)})(Fk||(U.ShutdownRequest=Fk={}));var Mk;(function(e){e.method="exit",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolNotificationType0(e.method)})(Mk||(U.ExitNotification=Mk={}));var Uk;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolNotificationType(e.method)})(Uk||(U.DidChangeConfigurationNotification=Uk={}));var Bk;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4,e.Debug=5})(Bk||(U.MessageType=Bk={}));var jk;(function(e){e.method="window/showMessage",e.messageDirection=ve.MessageDirection.serverToClient,e.type=new ve.ProtocolNotificationType(e.method)})(jk||(U.ShowMessageNotification=jk={}));var $k;(function(e){e.method="window/showMessageRequest",e.messageDirection=ve.MessageDirection.serverToClient,e.type=new ve.ProtocolRequestType(e.method)})($k||(U.ShowMessageRequest=$k={}));var Wk;(function(e){e.method="window/logMessage",e.messageDirection=ve.MessageDirection.serverToClient,e.type=new ve.ProtocolNotificationType(e.method)})(Wk||(U.LogMessageNotification=Wk={}));var qk;(function(e){e.method="telemetry/event",e.messageDirection=ve.MessageDirection.serverToClient,e.type=new ve.ProtocolNotificationType(e.method)})(qk||(U.TelemetryEventNotification=qk={}));var Gk;(function(e){e.None=0,e.Full=1,e.Incremental=2})(Gk||(U.TextDocumentSyncKind=Gk={}));var zk;(function(e){e.method="textDocument/didOpen",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolNotificationType(e.method)})(zk||(U.DidOpenTextDocumentNotification=zk={}));var Hk;(function(e){function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}o(t,"isIncremental"),e.isIncremental=t;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}o(r,"isFull"),e.isFull=r})(Hk||(U.TextDocumentContentChangeEvent=Hk={}));var Vk;(function(e){e.method="textDocument/didChange",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolNotificationType(e.method)})(Vk||(U.DidChangeTextDocumentNotification=Vk={}));var Kk;(function(e){e.method="textDocument/didClose",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolNotificationType(e.method)})(Kk||(U.DidCloseTextDocumentNotification=Kk={}));var Yk;(function(e){e.method="textDocument/didSave",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolNotificationType(e.method)})(Yk||(U.DidSaveTextDocumentNotification=Yk={}));var Jk;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(Jk||(U.TextDocumentSaveReason=Jk={}));var Xk;(function(e){e.method="textDocument/willSave",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolNotificationType(e.method)})(Xk||(U.WillSaveTextDocumentNotification=Xk={}));var Zk;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(Zk||(U.WillSaveTextDocumentWaitUntilRequest=Zk={}));var Qk;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolNotificationType(e.method)})(Qk||(U.DidChangeWatchedFilesNotification=Qk={}));var eO;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(eO||(U.FileChangeType=eO={}));var tO;(function(e){function t(r){let n=r;return Wn.objectLiteral(n)&&(Ck.URI.is(n.baseUri)||Ck.WorkspaceFolder.is(n.baseUri))&&Wn.string(n.pattern)}o(t,"is"),e.is=t})(tO||(U.RelativePattern=tO={}));var rO;(function(e){e.Create=1,e.Change=2,e.Delete=4})(rO||(U.WatchKind=rO={}));var nO;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=ve.MessageDirection.serverToClient,e.type=new ve.ProtocolNotificationType(e.method)})(nO||(U.PublishDiagnosticsNotification=nO={}));var iO;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(iO||(U.CompletionTriggerKind=iO={}));var oO;(function(e){e.method="textDocument/completion",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(oO||(U.CompletionRequest=oO={}));var sO;(function(e){e.method="completionItem/resolve",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(sO||(U.CompletionResolveRequest=sO={}));var aO;(function(e){e.method="textDocument/hover",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(aO||(U.HoverRequest=aO={}));var lO;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(lO||(U.SignatureHelpTriggerKind=lO={}));var cO;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(cO||(U.SignatureHelpRequest=cO={}));var uO;(function(e){e.method="textDocument/definition",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(uO||(U.DefinitionRequest=uO={}));var fO;(function(e){e.method="textDocument/references",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(fO||(U.ReferencesRequest=fO={}));var dO;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(dO||(U.DocumentHighlightRequest=dO={}));var mO;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(mO||(U.DocumentSymbolRequest=mO={}));var pO;(function(e){e.method="textDocument/codeAction",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(pO||(U.CodeActionRequest=pO={}));var gO;(function(e){e.method="codeAction/resolve",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(gO||(U.CodeActionResolveRequest=gO={}));var hO;(function(e){e.method="workspace/symbol",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(hO||(U.WorkspaceSymbolRequest=hO={}));var xO;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(xO||(U.WorkspaceSymbolResolveRequest=xO={}));var bO;(function(e){e.method="textDocument/codeLens",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(bO||(U.CodeLensRequest=bO={}));var _O;(function(e){e.method="codeLens/resolve",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(_O||(U.CodeLensResolveRequest=_O={}));var yO;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=ve.MessageDirection.serverToClient,e.type=new ve.ProtocolRequestType0(e.method)})(yO||(U.CodeLensRefreshRequest=yO={}));var vO;(function(e){e.method="textDocument/documentLink",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(vO||(U.DocumentLinkRequest=vO={}));var TO;(function(e){e.method="documentLink/resolve",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(TO||(U.DocumentLinkResolveRequest=TO={}));var EO;(function(e){e.method="textDocument/formatting",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(EO||(U.DocumentFormattingRequest=EO={}));var CO;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(CO||(U.DocumentRangeFormattingRequest=CO={}));var IO;(function(e){e.method="textDocument/rangesFormatting",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(IO||(U.DocumentRangesFormattingRequest=IO={}));var SO;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(SO||(U.DocumentOnTypeFormattingRequest=SO={}));var wO;(function(e){e.Identifier=1})(wO||(U.PrepareSupportDefaultBehavior=wO={}));var PO;(function(e){e.method="textDocument/rename",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(PO||(U.RenameRequest=PO={}));var RO;(function(e){e.method="textDocument/prepareRename",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(RO||(U.PrepareRenameRequest=RO={}));var DO;(function(e){e.method="workspace/executeCommand",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(DO||(U.ExecuteCommandRequest=DO={}));var AO;(function(e){e.method="workspace/applyEdit",e.messageDirection=ve.MessageDirection.serverToClient,e.type=new ve.ProtocolRequestType("workspace/applyEdit")})(AO||(U.ApplyWorkspaceEditRequest=AO={}))});var UO=Q(U4=>{"use strict";Object.defineProperty(U4,"__esModule",{value:!0});U4.createProtocolConnection=void 0;var MO=_u();function hie(e,t,r,n){return MO.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,MO.createMessageConnection)(e,t,r,n)}o(hie,"createProtocolConnection");U4.createProtocolConnection=hie});var jO=Q(ro=>{"use strict";var xie=ro&&ro.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),B4=ro&&ro.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&xie(t,e,r)};Object.defineProperty(ro,"__esModule",{value:!0});ro.LSPErrorCodes=ro.createProtocolConnection=void 0;B4(_u(),ro);B4((Dp(),Fh(T4)),ro);B4(Hr(),ro);B4(FO(),ro);var bie=UO();Object.defineProperty(ro,"createProtocolConnection",{enumerable:!0,get:o(function(){return bie.createProtocolConnection},"get")});var BO;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(BO||(ro.LSPErrorCodes=BO={}))});var yi=Q(O0=>{"use strict";var _ie=O0&&O0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$O=O0&&O0.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&_ie(t,e,r)};Object.defineProperty(O0,"__esModule",{value:!0});O0.createProtocolConnection=void 0;var yie=__();$O(__(),O0);$O(jO(),O0);function vie(e,t,r,n){return(0,yie.createMessageConnection)(e,t,r,n)}o(vie,"createProtocolConnection");O0.createProtocolConnection=vie});var Wy=Q((FAe,$y)=>{"use strict";var Vd=typeof Reflect=="object"?Reflect:null,sL=Vd&&typeof Vd.apply=="function"?Vd.apply:o(function(t,r,n){return Function.prototype.apply.call(t,r,n)},"ReflectApply"),z4;Vd&&typeof Vd.ownKeys=="function"?z4=Vd.ownKeys:Object.getOwnPropertySymbols?z4=o(function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))},"ReflectOwnKeys"):z4=o(function(t){return Object.getOwnPropertyNames(t)},"ReflectOwnKeys");function roe(e){console&&console.warn&&console.warn(e)}o(roe,"ProcessEmitWarning");var lL=Number.isNaN||o(function(t){return t!==t},"NumberIsNaN");function yr(){yr.init.call(this)}o(yr,"EventEmitter");$y.exports=yr;$y.exports.once=soe;yr.EventEmitter=yr;yr.prototype._events=void 0;yr.prototype._eventsCount=0;yr.prototype._maxListeners=void 0;var aL=10;function H4(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}o(H4,"checkListener");Object.defineProperty(yr,"defaultMaxListeners",{enumerable:!0,get:o(function(){return aL},"get"),set:o(function(e){if(typeof e!="number"||e<0||lL(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");aL=e},"set")});yr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};yr.prototype.setMaxListeners=o(function(t){if(typeof t!="number"||t<0||lL(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},"setMaxListeners");function cL(e){return e._maxListeners===void 0?yr.defaultMaxListeners:e._maxListeners}o(cL,"_getMaxListeners");yr.prototype.getMaxListeners=o(function(){return cL(this)},"getMaxListeners");yr.prototype.emit=o(function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=t==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var l=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw l.context=a,l}var c=s[t];if(c===void 0)return!1;if(typeof c=="function")sL(c,this,r);else for(var u=c.length,f=pL(c,u),n=0;n<u;++n)sL(f[n],this,r);return!0},"emit");function uL(e,t,r,n){var i,s,a;if(H4(r),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),a=s[t]),a===void 0)a=s[t]=r,++e._eventsCount;else if(typeof a=="function"?a=s[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),i=cL(e),i>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,roe(l)}return e}o(uL,"_addListener");yr.prototype.addListener=o(function(t,r){return uL(this,t,r,!1)},"addListener");yr.prototype.on=yr.prototype.addListener;yr.prototype.prependListener=o(function(t,r){return uL(this,t,r,!0)},"prependListener");function noe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}o(noe,"onceWrapper");function fL(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=noe.bind(n);return i.listener=r,n.wrapFn=i,i}o(fL,"_onceWrap");yr.prototype.once=o(function(t,r){return H4(r),this.on(t,fL(this,t,r)),this},"once");yr.prototype.prependOnceListener=o(function(t,r){return H4(r),this.prependListener(t,fL(this,t,r)),this},"prependOnceListener");yr.prototype.removeListener=o(function(t,r){var n,i,s,a,l;if(H4(r),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(s=-1,a=n.length-1;a>=0;a--)if(n[a]===r||n[a].listener===r){l=n[a].listener,s=a;break}if(s<0)return this;s===0?n.shift():ioe(n,s),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,l||r)}return this},"removeListener");yr.prototype.off=yr.prototype.removeListener;yr.prototype.removeAllListeners=o(function(t){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var s=Object.keys(n),a;for(i=0;i<s.length;++i)a=s[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(t,r[i]);return this},"removeAllListeners");function dL(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?ooe(i):pL(i,i.length)}o(dL,"_listeners");yr.prototype.listeners=o(function(t){return dL(this,t,!0)},"listeners");yr.prototype.rawListeners=o(function(t){return dL(this,t,!1)},"rawListeners");yr.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):mL.call(e,t)};yr.prototype.listenerCount=mL;function mL(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}o(mL,"listenerCount");yr.prototype.eventNames=o(function(){return this._eventsCount>0?z4(this._events):[]},"eventNames");function pL(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}o(pL,"arrayClone");function ioe(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}o(ioe,"spliceOne");function ooe(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}o(ooe,"unwrapListeners");function soe(e,t){return new Promise(function(r,n){function i(a){e.removeListener(t,s),n(a)}o(i,"errorListener");function s(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}o(s,"resolver"),gL(e,t,s,{once:!0}),t!=="error"&&aoe(e,i,{once:!0})})}o(soe,"once");function aoe(e,t,r){typeof e.on=="function"&&gL(e,"error",t,r)}o(aoe,"addErrorHandlerIfEventEmitter");function gL(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,o(function i(s){n.once&&e.removeEventListener(t,i),r(s)},"wrapListener"));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}o(gL,"eventTargetAgnosticAddListener")});var KU=Q((uGe,VU)=>{"use strict";VU.exports=zU;function zU(e,t,r){e instanceof RegExp&&(e=GU(e,r)),t instanceof RegExp&&(t=GU(t,r));var n=HU(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}o(zU,"balanced");function GU(e,t){var r=t.match(e);return r?r[0]:null}o(GU,"maybeMatch");zU.range=HU;function HU(e,t,r){var n,i,s,a,l,c=r.indexOf(e),u=r.indexOf(t,c+1),f=c;if(c>=0&&u>0){if(e===t)return[c,u];for(n=[],s=r.length;f>=0&&!l;)f==c?(n.push(f),c=r.indexOf(e,f+1)):n.length==1?l=[n.pop(),u]:(i=n.pop(),i<s&&(s=i,a=u),u=r.indexOf(t,f+1)),f=c<u&&c>=0?c:u;n.length&&(l=[s,a])}return l}o(HU,"range")});var rB=Q((dGe,tB)=>{var YU=KU();tB.exports=Nae;var JU="\0SLASH"+Math.random()+"\0",XU="\0OPEN"+Math.random()+"\0",EE="\0CLOSE"+Math.random()+"\0",ZU="\0COMMA"+Math.random()+"\0",QU="\0PERIOD"+Math.random()+"\0";function TE(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}o(TE,"numeric");function Dae(e){return e.split("\\\\").join(JU).split("\\{").join(XU).split("\\}").join(EE).split("\\,").join(ZU).split("\\.").join(QU)}o(Dae,"escapeBraces");function Aae(e){return e.split(JU).join("\\").split(XU).join("{").split(EE).join("}").split(ZU).join(",").split(QU).join(".")}o(Aae,"unescapeBraces");function eB(e){if(!e)return[""];var t=[],r=YU("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,s=r.post,a=n.split(",");a[a.length-1]+="{"+i+"}";var l=eB(s);return s.length&&(a[a.length-1]+=l.shift(),a.push.apply(a,l)),t.push.apply(t,a),t}o(eB,"parseCommaParts");function Nae(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),qg(Dae(e),!0).map(Aae)):[]}o(Nae,"expandTop");function kae(e){return"{"+e+"}"}o(kae,"embrace");function Oae(e){return/^-?0\d/.test(e)}o(Oae,"isPadded");function Lae(e,t){return e<=t}o(Lae,"lte");function Fae(e,t){return e>=t}o(Fae,"gte");function qg(e,t){var r=[],n=YU("{","}",e);if(!n)return[e];var i=n.pre,s=n.post.length?qg(n.post,!1):[""];if(/\$$/.test(n.pre))for(var a=0;a<s.length;a++){var l=i+"{"+n.body+"}"+s[a];r.push(l)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),f=c||u,d=n.body.indexOf(",")>=0;if(!f&&!d)return n.post.match(/,(?!,).*\}/)?(e=n.pre+"{"+n.body+EE+n.post,qg(e)):[e];var m;if(f)m=n.body.split(/\.\./);else if(m=eB(n.body),m.length===1&&(m=qg(m[0],!1).map(kae),m.length===1))return s.map(function(Y){return n.pre+m[0]+Y});var p;if(f){var g=TE(m[0]),h=TE(m[1]),b=Math.max(m[0].length,m[1].length),x=m.length==3?Math.abs(TE(m[2])):1,_=Lae,y=h<g;y&&(x*=-1,_=Fae);var v=m.some(Oae);p=[];for(var I=g;_(I,h);I+=x){var R;if(u)R=String.fromCharCode(I),R==="\\"&&(R="");else if(R=String(I),v){var z=b-R.length;if(z>0){var V=new Array(z+1).join("0");I<0?R="-"+V+R.slice(1):R=V+R}}p.push(R)}}else{p=[];for(var $=0;$<m.length;$++)p.push.apply(p,qg(m[$],!1))}for(var $=0;$<p.length;$++)for(var a=0;a<s.length;a++){var l=i+p[$]+s[a];(!t||f||l)&&r.push(l)}}return r}o(qg,"expand")});var wh=Q((Smt,Cq)=>{var Ude="2.0.0",Bde=Number.MAX_SAFE_INTEGER||9007199254740991,jde=16,$de=250,Wde=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Cq.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:jde,MAX_SAFE_BUILD_LENGTH:$de,MAX_SAFE_INTEGER:Bde,RELEASE_TYPES:Wde,SEMVER_SPEC_VERSION:Ude,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Ph=Q((wmt,Iq)=>{var qde=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};Iq.exports=qde});var m1=Q((da,Sq)=>{var{MAX_SAFE_COMPONENT_LENGTH:EI,MAX_SAFE_BUILD_LENGTH:Gde,MAX_LENGTH:zde}=wh(),Hde=Ph();da=Sq.exports={};var Vde=da.re=[],Kde=da.safeRe=[],Le=da.src=[],Yde=da.safeSrc=[],Fe=da.t={},Jde=0,CI="[a-zA-Z0-9-]",Xde=[["\\s",1],["\\d",zde],[CI,Gde]],Zde=o(e=>{for(let[t,r]of Xde)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},"makeSafeRegex"),_t=o((e,t,r)=>{let n=Zde(t),i=Jde++;Hde(e,i,t),Fe[e]=i,Le[i]=t,Yde[i]=n,Vde[i]=new RegExp(t,r?"g":void 0),Kde[i]=new RegExp(n,r?"g":void 0)},"createToken");_t("NUMERICIDENTIFIER","0|[1-9]\\d*");_t("NUMERICIDENTIFIERLOOSE","\\d+");_t("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${CI}*`);_t("MAINVERSION",`(${Le[Fe.NUMERICIDENTIFIER]})\\.(${Le[Fe.NUMERICIDENTIFIER]})\\.(${Le[Fe.NUMERICIDENTIFIER]})`);_t("MAINVERSIONLOOSE",`(${Le[Fe.NUMERICIDENTIFIERLOOSE]})\\.(${Le[Fe.NUMERICIDENTIFIERLOOSE]})\\.(${Le[Fe.NUMERICIDENTIFIERLOOSE]})`);_t("PRERELEASEIDENTIFIER",`(?:${Le[Fe.NUMERICIDENTIFIER]}|${Le[Fe.NONNUMERICIDENTIFIER]})`);_t("PRERELEASEIDENTIFIERLOOSE",`(?:${Le[Fe.NUMERICIDENTIFIERLOOSE]}|${Le[Fe.NONNUMERICIDENTIFIER]})`);_t("PRERELEASE",`(?:-(${Le[Fe.PRERELEASEIDENTIFIER]}(?:\\.${Le[Fe.PRERELEASEIDENTIFIER]})*))`);_t("PRERELEASELOOSE",`(?:-?(${Le[Fe.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Le[Fe.PRERELEASEIDENTIFIERLOOSE]})*))`);_t("BUILDIDENTIFIER",`${CI}+`);_t("BUILD",`(?:\\+(${Le[Fe.BUILDIDENTIFIER]}(?:\\.${Le[Fe.BUILDIDENTIFIER]})*))`);_t("FULLPLAIN",`v?${Le[Fe.MAINVERSION]}${Le[Fe.PRERELEASE]}?${Le[Fe.BUILD]}?`);_t("FULL",`^${Le[Fe.FULLPLAIN]}$`);_t("LOOSEPLAIN",`[v=\\s]*${Le[Fe.MAINVERSIONLOOSE]}${Le[Fe.PRERELEASELOOSE]}?${Le[Fe.BUILD]}?`);_t("LOOSE",`^${Le[Fe.LOOSEPLAIN]}$`);_t("GTLT","((?:<|>)?=?)");_t("XRANGEIDENTIFIERLOOSE",`${Le[Fe.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);_t("XRANGEIDENTIFIER",`${Le[Fe.NUMERICIDENTIFIER]}|x|X|\\*`);_t("XRANGEPLAIN",`[v=\\s]*(${Le[Fe.XRANGEIDENTIFIER]})(?:\\.(${Le[Fe.XRANGEIDENTIFIER]})(?:\\.(${Le[Fe.XRANGEIDENTIFIER]})(?:${Le[Fe.PRERELEASE]})?${Le[Fe.BUILD]}?)?)?`);_t("XRANGEPLAINLOOSE",`[v=\\s]*(${Le[Fe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Le[Fe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Le[Fe.XRANGEIDENTIFIERLOOSE]})(?:${Le[Fe.PRERELEASELOOSE]})?${Le[Fe.BUILD]}?)?)?`);_t("XRANGE",`^${Le[Fe.GTLT]}\\s*${Le[Fe.XRANGEPLAIN]}$`);_t("XRANGELOOSE",`^${Le[Fe.GTLT]}\\s*${Le[Fe.XRANGEPLAINLOOSE]}$`);_t("COERCEPLAIN",`(^|[^\\d])(\\d{1,${EI}})(?:\\.(\\d{1,${EI}}))?(?:\\.(\\d{1,${EI}}))?`);_t("COERCE",`${Le[Fe.COERCEPLAIN]}(?:$|[^\\d])`);_t("COERCEFULL",Le[Fe.COERCEPLAIN]+`(?:${Le[Fe.PRERELEASE]})?(?:${Le[Fe.BUILD]})?(?:$|[^\\d])`);_t("COERCERTL",Le[Fe.COERCE],!0);_t("COERCERTLFULL",Le[Fe.COERCEFULL],!0);_t("LONETILDE","(?:~>?)");_t("TILDETRIM",`(\\s*)${Le[Fe.LONETILDE]}\\s+`,!0);da.tildeTrimReplace="$1~";_t("TILDE",`^${Le[Fe.LONETILDE]}${Le[Fe.XRANGEPLAIN]}$`);_t("TILDELOOSE",`^${Le[Fe.LONETILDE]}${Le[Fe.XRANGEPLAINLOOSE]}$`);_t("LONECARET","(?:\\^)");_t("CARETTRIM",`(\\s*)${Le[Fe.LONECARET]}\\s+`,!0);da.caretTrimReplace="$1^";_t("CARET",`^${Le[Fe.LONECARET]}${Le[Fe.XRANGEPLAIN]}$`);_t("CARETLOOSE",`^${Le[Fe.LONECARET]}${Le[Fe.XRANGEPLAINLOOSE]}$`);_t("COMPARATORLOOSE",`^${Le[Fe.GTLT]}\\s*(${Le[Fe.LOOSEPLAIN]})$|^$`);_t("COMPARATOR",`^${Le[Fe.GTLT]}\\s*(${Le[Fe.FULLPLAIN]})$|^$`);_t("COMPARATORTRIM",`(\\s*)${Le[Fe.GTLT]}\\s*(${Le[Fe.LOOSEPLAIN]}|${Le[Fe.XRANGEPLAIN]})`,!0);da.comparatorTrimReplace="$1$2$3";_t("HYPHENRANGE",`^\\s*(${Le[Fe.XRANGEPLAIN]})\\s+-\\s+(${Le[Fe.XRANGEPLAIN]})\\s*$`);_t("HYPHENRANGELOOSE",`^\\s*(${Le[Fe.XRANGEPLAINLOOSE]})\\s+-\\s+(${Le[Fe.XRANGEPLAINLOOSE]})\\s*$`);_t("STAR","(<|>)?=?\\s*\\*");_t("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");_t("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Y8=Q((Rmt,wq)=>{var Qde=Object.freeze({loose:!0}),eme=Object.freeze({}),tme=o(e=>e?typeof e!="object"?Qde:e:eme,"parseOptions");wq.exports=tme});var II=Q((Amt,Dq)=>{var Pq=/^[0-9]+$/,Rq=o((e,t)=>{let r=Pq.test(e),n=Pq.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},"compareIdentifiers"),rme=o((e,t)=>Rq(t,e),"rcompareIdentifiers");Dq.exports={compareIdentifiers:Rq,rcompareIdentifiers:rme}});var Ri=Q((kmt,Oq)=>{var J8=Ph(),{MAX_LENGTH:Aq,MAX_SAFE_INTEGER:X8}=wh(),{safeRe:Nq,safeSrc:kq,t:Z8}=m1(),nme=Y8(),{compareIdentifiers:p1}=II(),SI=class e{static{o(this,"SemVer")}constructor(t,r){if(r=nme(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>Aq)throw new TypeError(`version is longer than ${Aq} characters`);J8("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?Nq[Z8.LOOSE]:Nq[Z8.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>X8||this.major<0)throw new TypeError("Invalid major version");if(this.minor>X8||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>X8||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<X8)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(J8("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),p1(this.major,t.major)||p1(this.minor,t.minor)||p1(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=t.prerelease[r];if(J8("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return p1(n,i)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{let n=this.build[r],i=t.build[r];if(J8("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return p1(n,i)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let i=new RegExp(`^${this.options.loose?kq[Z8.PRERELEASELOOSE]:kq[Z8.PRERELEASE]}$`),s=`-${r}`.match(i);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),p1(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Oq.exports=SI});var Lf=Q((Lmt,Fq)=>{var Lq=Ri(),ime=o((e,t,r=!1)=>{if(e instanceof Lq)return e;try{return new Lq(e,t)}catch(n){if(!r)return null;throw n}},"parse");Fq.exports=ime});var Uq=Q((Mmt,Mq)=>{var ome=Lf(),sme=o((e,t)=>{let r=ome(e,t);return r?r.version:null},"valid");Mq.exports=sme});var jq=Q((Bmt,Bq)=>{var ame=Lf(),lme=o((e,t)=>{let r=ame(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},"clean");Bq.exports=lme});var qq=Q(($mt,Wq)=>{var $q=Ri(),cme=o((e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new $q(e instanceof $q?e.version:e,r).inc(t,n,i).version}catch{return null}},"inc");Wq.exports=cme});var Hq=Q((qmt,zq)=>{var Gq=Lf(),ume=o((e,t)=>{let r=Gq(e,null,!0),n=Gq(t,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,a=s?r:n,l=s?n:r,c=!!a.prerelease.length;if(!!l.prerelease.length&&!c){if(!l.patch&&!l.minor)return"major";if(l.compareMain(a)===0)return l.minor&&!l.patch?"minor":"patch"}let f=c?"pre":"";return r.major!==n.major?f+"major":r.minor!==n.minor?f+"minor":r.patch!==n.patch?f+"patch":"prerelease"},"diff");zq.exports=ume});var Kq=Q((zmt,Vq)=>{var fme=Ri(),dme=o((e,t)=>new fme(e,t).major,"major");Vq.exports=dme});var Jq=Q((Vmt,Yq)=>{var mme=Ri(),pme=o((e,t)=>new mme(e,t).minor,"minor");Yq.exports=pme});var Zq=Q((Ymt,Xq)=>{var gme=Ri(),hme=o((e,t)=>new gme(e,t).patch,"patch");Xq.exports=hme});var eG=Q((Xmt,Qq)=>{var xme=Lf(),bme=o((e,t)=>{let r=xme(e,t);return r&&r.prerelease.length?r.prerelease:null},"prerelease");Qq.exports=bme});var Ps=Q((Qmt,rG)=>{var tG=Ri(),_me=o((e,t,r)=>new tG(e,r).compare(new tG(t,r)),"compare");rG.exports=_me});var iG=Q((t1t,nG)=>{var yme=Ps(),vme=o((e,t,r)=>yme(t,e,r),"rcompare");nG.exports=vme});var sG=Q((n1t,oG)=>{var Tme=Ps(),Eme=o((e,t)=>Tme(e,t,!0),"compareLoose");oG.exports=Eme});var Q8=Q((o1t,lG)=>{var aG=Ri(),Cme=o((e,t,r)=>{let n=new aG(e,r),i=new aG(t,r);return n.compare(i)||n.compareBuild(i)},"compareBuild");lG.exports=Cme});var uG=Q((a1t,cG)=>{var Ime=Q8(),Sme=o((e,t)=>e.sort((r,n)=>Ime(r,n,t)),"sort");cG.exports=Sme});var dG=Q((c1t,fG)=>{var wme=Q8(),Pme=o((e,t)=>e.sort((r,n)=>wme(n,r,t)),"rsort");fG.exports=Pme});var Rh=Q((f1t,mG)=>{var Rme=Ps(),Dme=o((e,t,r)=>Rme(e,t,r)>0,"gt");mG.exports=Dme});var e6=Q((m1t,pG)=>{var Ame=Ps(),Nme=o((e,t,r)=>Ame(e,t,r)<0,"lt");pG.exports=Nme});var wI=Q((g1t,gG)=>{var kme=Ps(),Ome=o((e,t,r)=>kme(e,t,r)===0,"eq");gG.exports=Ome});var PI=Q((x1t,hG)=>{var Lme=Ps(),Fme=o((e,t,r)=>Lme(e,t,r)!==0,"neq");hG.exports=Fme});var t6=Q((_1t,xG)=>{var Mme=Ps(),Ume=o((e,t,r)=>Mme(e,t,r)>=0,"gte");xG.exports=Ume});var r6=Q((v1t,bG)=>{var Bme=Ps(),jme=o((e,t,r)=>Bme(e,t,r)<=0,"lte");bG.exports=jme});var RI=Q((E1t,_G)=>{var $me=wI(),Wme=PI(),qme=Rh(),Gme=t6(),zme=e6(),Hme=r6(),Vme=o((e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return $me(e,r,n);case"!=":return Wme(e,r,n);case">":return qme(e,r,n);case">=":return Gme(e,r,n);case"<":return zme(e,r,n);case"<=":return Hme(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}},"cmp");_G.exports=Vme});var vG=Q((I1t,yG)=>{var Kme=Ri(),Yme=Lf(),{safeRe:n6,t:i6}=m1(),Jme=o((e,t)=>{if(e instanceof Kme)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?n6[i6.COERCEFULL]:n6[i6.COERCE]);else{let c=t.includePrerelease?n6[i6.COERCERTLFULL]:n6[i6.COERCERTL],u;for(;(u=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||u.index+u[0].length!==r.index+r[0].length)&&(r=u),c.lastIndex=u.index+u[1].length+u[2].length;c.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",s=r[4]||"0",a=t.includePrerelease&&r[5]?`-${r[5]}`:"",l=t.includePrerelease&&r[6]?`+${r[6]}`:"";return Yme(`${n}.${i}.${s}${a}${l}`,t)},"coerce");yG.exports=Jme});var EG=Q((w1t,TG)=>{var DI=class{static{o(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(t){let r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(t,r)}return this}};TG.exports=DI});var Rs=Q((R1t,wG)=>{var Xme=/\s+/g,AI=class e{static{o(this,"Range")}constructor(t,r){if(r=Qme(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof NI)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().replace(Xme," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!IG(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&s1e(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");let r=this.set[t];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){let n=((this.options.includePrerelease&&i1e)|(this.options.loose&&o1e))+":"+t,i=CG.get(n);if(i)return i;let s=this.options.loose,a=s?yo[Wi.HYPHENRANGELOOSE]:yo[Wi.HYPHENRANGE];t=t.replace(a,h1e(this.options.includePrerelease)),Wr("hyphen replace",t),t=t.replace(yo[Wi.COMPARATORTRIM],t1e),Wr("comparator trim",t),t=t.replace(yo[Wi.TILDETRIM],r1e),Wr("tilde trim",t),t=t.replace(yo[Wi.CARETTRIM],n1e),Wr("caret trim",t);let l=t.split(" ").map(d=>a1e(d,this.options)).join(" ").split(/\s+/).map(d=>g1e(d,this.options));s&&(l=l.filter(d=>(Wr("loose invalid filter",d,this.options),!!d.match(yo[Wi.COMPARATORLOOSE])))),Wr("range list",l);let c=new Map,u=l.map(d=>new NI(d,this.options));for(let d of u){if(IG(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let f=[...c.values()];return CG.set(n,f),f}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>SG(n,r)&&t.set.some(i=>SG(i,r)&&n.every(s=>i.every(a=>s.intersects(a,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new e1e(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(x1e(this.set[r],t,this.options))return!0;return!1}};wG.exports=AI;var Zme=EG(),CG=new Zme,Qme=Y8(),NI=Dh(),Wr=Ph(),e1e=Ri(),{safeRe:yo,t:Wi,comparatorTrimReplace:t1e,tildeTrimReplace:r1e,caretTrimReplace:n1e}=m1(),{FLAG_INCLUDE_PRERELEASE:i1e,FLAG_LOOSE:o1e}=wh(),IG=o(e=>e.value==="<0.0.0-0","isNullSet"),s1e=o(e=>e.value==="","isAny"),SG=o((e,t)=>{let r=!0,n=e.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,t)),i=n.pop();return r},"isSatisfiable"),a1e=o((e,t)=>(Wr("comp",e,t),e=u1e(e,t),Wr("caret",e),e=l1e(e,t),Wr("tildes",e),e=d1e(e,t),Wr("xrange",e),e=p1e(e,t),Wr("stars",e),e),"parseComparator"),qi=o(e=>!e||e.toLowerCase()==="x"||e==="*","isX"),l1e=o((e,t)=>e.trim().split(/\s+/).map(r=>c1e(r,t)).join(" "),"replaceTildes"),c1e=o((e,t)=>{let r=t.loose?yo[Wi.TILDELOOSE]:yo[Wi.TILDE];return e.replace(r,(n,i,s,a,l)=>{Wr("tilde",e,n,i,s,a,l);let c;return qi(i)?c="":qi(s)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:qi(a)?c=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:l?(Wr("replaceTilde pr",l),c=`>=${i}.${s}.${a}-${l} <${i}.${+s+1}.0-0`):c=`>=${i}.${s}.${a} <${i}.${+s+1}.0-0`,Wr("tilde return",c),c})},"replaceTilde"),u1e=o((e,t)=>e.trim().split(/\s+/).map(r=>f1e(r,t)).join(" "),"replaceCarets"),f1e=o((e,t)=>{Wr("caret",e,t);let r=t.loose?yo[Wi.CARETLOOSE]:yo[Wi.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(i,s,a,l,c)=>{Wr("caret",e,i,s,a,l,c);let u;return qi(s)?u="":qi(a)?u=`>=${s}.0.0${n} <${+s+1}.0.0-0`:qi(l)?s==="0"?u=`>=${s}.${a}.0${n} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.0${n} <${+s+1}.0.0-0`:c?(Wr("replaceCaret pr",c),s==="0"?a==="0"?u=`>=${s}.${a}.${l}-${c} <${s}.${a}.${+l+1}-0`:u=`>=${s}.${a}.${l}-${c} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.${l}-${c} <${+s+1}.0.0-0`):(Wr("no pr"),s==="0"?a==="0"?u=`>=${s}.${a}.${l}${n} <${s}.${a}.${+l+1}-0`:u=`>=${s}.${a}.${l}${n} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.${l} <${+s+1}.0.0-0`),Wr("caret return",u),u})},"replaceCaret"),d1e=o((e,t)=>(Wr("replaceXRanges",e,t),e.split(/\s+/).map(r=>m1e(r,t)).join(" ")),"replaceXRanges"),m1e=o((e,t)=>{e=e.trim();let r=t.loose?yo[Wi.XRANGELOOSE]:yo[Wi.XRANGE];return e.replace(r,(n,i,s,a,l,c)=>{Wr("xRange",e,n,i,s,a,l,c);let u=qi(s),f=u||qi(a),d=f||qi(l),m=d;return i==="="&&m&&(i=""),c=t.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&m?(f&&(a=0),l=0,i===">"?(i=">=",f?(s=+s+1,a=0,l=0):(a=+a+1,l=0)):i==="<="&&(i="<",f?s=+s+1:a=+a+1),i==="<"&&(c="-0"),n=`${i+s}.${a}.${l}${c}`):f?n=`>=${s}.0.0${c} <${+s+1}.0.0-0`:d&&(n=`>=${s}.${a}.0${c} <${s}.${+a+1}.0-0`),Wr("xRange return",n),n})},"replaceXRange"),p1e=o((e,t)=>(Wr("replaceStars",e,t),e.trim().replace(yo[Wi.STAR],"")),"replaceStars"),g1e=o((e,t)=>(Wr("replaceGTE0",e,t),e.trim().replace(yo[t.includePrerelease?Wi.GTE0PRE:Wi.GTE0],"")),"replaceGTE0"),h1e=o(e=>(t,r,n,i,s,a,l,c,u,f,d,m)=>(qi(n)?r="":qi(i)?r=`>=${n}.0.0${e?"-0":""}`:qi(s)?r=`>=${n}.${i}.0${e?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,qi(u)?c="":qi(f)?c=`<${+u+1}.0.0-0`:qi(d)?c=`<${u}.${+f+1}.0-0`:m?c=`<=${u}.${f}.${d}-${m}`:e?c=`<${u}.${f}.${+d+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),"hyphenReplace"),x1e=o((e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(Wr(e[n].semver),e[n].semver!==NI.ANY&&e[n].semver.prerelease.length>0){let i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0},"testSet")});var Dh=Q((A1t,kG)=>{var Ah=Symbol("SemVer ANY"),LI=class e{static{o(this,"Comparator")}static get ANY(){return Ah}constructor(t,r){if(r=PG(r),t instanceof e){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),OI("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===Ah?this.value="":this.value=this.operator+this.semver.version,OI("comp",this)}parse(t){let r=this.options.loose?RG[DG.COMPARATORLOOSE]:RG[DG.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new AG(n[2],this.options.loose):this.semver=Ah}toString(){return this.value}test(t){if(OI("Comparator.test",t,this.options.loose),this.semver===Ah||t===Ah)return!0;if(typeof t=="string")try{t=new AG(t,this.options)}catch{return!1}return kI(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new NG(t.value,r).test(this.value):t.operator===""?t.value===""?!0:new NG(this.value,r).test(t.semver):(r=PG(r),r.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||kI(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||kI(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};kG.exports=LI;var PG=Y8(),{safeRe:RG,t:DG}=m1(),kI=RI(),OI=Ph(),AG=Ri(),NG=Rs()});var Nh=Q((k1t,OG)=>{var b1e=Rs(),_1e=o((e,t,r)=>{try{t=new b1e(t,r)}catch{return!1}return t.test(e)},"satisfies");OG.exports=_1e});var FG=Q((L1t,LG)=>{var y1e=Rs(),v1e=o((e,t)=>new y1e(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" ")),"toComparators");LG.exports=v1e});var UG=Q((M1t,MG)=>{var T1e=Ri(),E1e=Rs(),C1e=o((e,t,r)=>{let n=null,i=null,s=null;try{s=new E1e(t,r)}catch{return null}return e.forEach(a=>{s.test(a)&&(!n||i.compare(a)===-1)&&(n=a,i=new T1e(n,r))}),n},"maxSatisfying");MG.exports=C1e});var jG=Q((B1t,BG)=>{var I1e=Ri(),S1e=Rs(),w1e=o((e,t,r)=>{let n=null,i=null,s=null;try{s=new S1e(t,r)}catch{return null}return e.forEach(a=>{s.test(a)&&(!n||i.compare(a)===1)&&(n=a,i=new I1e(n,r))}),n},"minSatisfying");BG.exports=w1e});var qG=Q(($1t,WG)=>{var FI=Ri(),P1e=Rs(),$G=Rh(),R1e=o((e,t)=>{e=new P1e(e,t);let r=new FI("0.0.0");if(e.test(r)||(r=new FI("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let i=e.set[n],s=null;i.forEach(a=>{let l=new FI(a.semver.version);switch(a.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!s||$G(l,s))&&(s=l);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!r||$G(r,s))&&(r=s)}return r&&e.test(r)?r:null},"minVersion");WG.exports=R1e});var zG=Q((q1t,GG)=>{var D1e=Rs(),A1e=o((e,t)=>{try{return new D1e(e,t).range||"*"}catch{return null}},"validRange");GG.exports=A1e});var o6=Q((z1t,YG)=>{var N1e=Ri(),KG=Dh(),{ANY:k1e}=KG,O1e=Rs(),L1e=Nh(),HG=Rh(),VG=e6(),F1e=r6(),M1e=t6(),U1e=o((e,t,r,n)=>{e=new N1e(e,n),t=new O1e(t,n);let i,s,a,l,c;switch(r){case">":i=HG,s=F1e,a=VG,l=">",c=">=";break;case"<":i=VG,s=M1e,a=HG,l="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(L1e(e,t,n))return!1;for(let u=0;u<t.set.length;++u){let f=t.set[u],d=null,m=null;if(f.forEach(p=>{p.semver===k1e&&(p=new KG(">=0.0.0")),d=d||p,m=m||p,i(p.semver,d.semver,n)?d=p:a(p.semver,m.semver,n)&&(m=p)}),d.operator===l||d.operator===c||(!m.operator||m.operator===l)&&s(e,m.semver))return!1;if(m.operator===c&&a(e,m.semver))return!1}return!0},"outside");YG.exports=U1e});var XG=Q((V1t,JG)=>{var B1e=o6(),j1e=o((e,t,r)=>B1e(e,t,">",r),"gtr");JG.exports=j1e});var QG=Q((Y1t,ZG)=>{var $1e=o6(),W1e=o((e,t,r)=>$1e(e,t,"<",r),"ltr");ZG.exports=W1e});var rz=Q((X1t,tz)=>{var ez=Rs(),q1e=o((e,t,r)=>(e=new ez(e,r),t=new ez(t,r),e.intersects(t,r)),"intersects");tz.exports=q1e});var iz=Q((Q1t,nz)=>{var G1e=Nh(),z1e=Ps();nz.exports=(e,t,r)=>{let n=[],i=null,s=null,a=e.sort((f,d)=>z1e(f,d,r));for(let f of a)G1e(f,t,r)?(s=f,i||(i=f)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let l=[];for(let[f,d]of n)f===d?l.push(f):!d&&f===a[0]?l.push("*"):d?f===a[0]?l.push(`<=${d}`):l.push(`${f} - ${d}`):l.push(`>=${f}`);let c=l.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return c.length<u.length?c:t}});var uz=Q((ept,cz)=>{var oz=Rs(),UI=Dh(),{ANY:MI}=UI,kh=Nh(),BI=Ps(),H1e=o((e,t,r={})=>{if(e===t)return!0;e=new oz(e,r),t=new oz(t,r);let n=!1;e:for(let i of e.set){for(let s of t.set){let a=K1e(i,s,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},"subset"),V1e=[new UI(">=0.0.0-0")],sz=[new UI(">=0.0.0")],K1e=o((e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===MI){if(t.length===1&&t[0].semver===MI)return!0;r.includePrerelease?e=V1e:e=sz}if(t.length===1&&t[0].semver===MI){if(r.includePrerelease)return!0;t=sz}let n=new Set,i,s;for(let p of e)p.operator===">"||p.operator===">="?i=az(i,p,r):p.operator==="<"||p.operator==="<="?s=lz(s,p,r):n.add(p.semver);if(n.size>1)return null;let a;if(i&&s){if(a=BI(i.semver,s.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let p of n){if(i&&!kh(p,String(i),r)||s&&!kh(p,String(s),r))return null;for(let g of t)if(!kh(p,String(g),r))return!1;return!0}let l,c,u,f,d=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,m=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&s.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let p of t){if(f=f||p.operator===">"||p.operator===">=",u=u||p.operator==="<"||p.operator==="<=",i){if(m&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===m.major&&p.semver.minor===m.minor&&p.semver.patch===m.patch&&(m=!1),p.operator===">"||p.operator===">="){if(l=az(i,p,r),l===p&&l!==i)return!1}else if(i.operator===">="&&!kh(i.semver,String(p),r))return!1}if(s){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator==="<"||p.operator==="<="){if(c=lz(s,p,r),c===p&&c!==s)return!1}else if(s.operator==="<="&&!kh(s.semver,String(p),r))return!1}if(!p.operator&&(s||i)&&a!==0)return!1}return!(i&&u&&!s&&a!==0||s&&f&&!i&&a!==0||m||d)},"simpleSubset"),az=o((e,t,r)=>{if(!e)return t;let n=BI(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},"higherGT"),lz=o((e,t,r)=>{if(!e)return t;let n=BI(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e},"lowerLT");cz.exports=H1e});var pz=Q((rpt,mz)=>{var jI=m1(),fz=wh(),Y1e=Ri(),dz=II(),J1e=Lf(),X1e=Uq(),Z1e=jq(),Q1e=qq(),epe=Hq(),tpe=Kq(),rpe=Jq(),npe=Zq(),ipe=eG(),ope=Ps(),spe=iG(),ape=sG(),lpe=Q8(),cpe=uG(),upe=dG(),fpe=Rh(),dpe=e6(),mpe=wI(),ppe=PI(),gpe=t6(),hpe=r6(),xpe=RI(),bpe=vG(),_pe=Dh(),ype=Rs(),vpe=Nh(),Tpe=FG(),Epe=UG(),Cpe=jG(),Ipe=qG(),Spe=zG(),wpe=o6(),Ppe=XG(),Rpe=QG(),Dpe=rz(),Ape=iz(),Npe=uz();mz.exports={parse:J1e,valid:X1e,clean:Z1e,inc:Q1e,diff:epe,major:tpe,minor:rpe,patch:npe,prerelease:ipe,compare:ope,rcompare:spe,compareLoose:ape,compareBuild:lpe,sort:cpe,rsort:upe,gt:fpe,lt:dpe,eq:mpe,neq:ppe,gte:gpe,lte:hpe,cmp:xpe,coerce:bpe,Comparator:_pe,Range:ype,satisfies:vpe,toComparators:Tpe,maxSatisfying:Epe,minSatisfying:Cpe,minVersion:Ipe,validRange:Spe,outside:wpe,gtr:Ppe,ltr:Rpe,intersects:Dpe,simplifyRange:Ape,subset:Npe,SemVer:Y1e,re:jI.re,src:jI.src,tokens:jI.t,SEMVER_SPEC_VERSION:fz.SEMVER_SPEC_VERSION,RELEASE_TYPES:fz.RELEASE_TYPES,compareIdentifiers:dz.compareIdentifiers,rcompareIdentifiers:dz.rcompareIdentifiers}});var Hpe={};d0(Hpe,{activate:()=>jpe,globalStateUserAcknowledgedStatusBarDeprecationKey:()=>Upe,onDeactivate:()=>_z});module.exports=Fh(Hpe);var yl=class extends Error{static{o(this,"CopilotAuthError")}constructor(t,r){super(t,{cause:r}),this.name="CopilotAuthError"}};var Dr="github.copilot";function f6(e){return["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225","faef89d9169d5eacf1d8c8dde3412e37","4535c7beffc844b46bb1ed4aa04d759a"].find(r=>e.includes(r))}o(f6,"findKnownOrg");function YI(e){let t=e.organization_list??[];return f6(t)??""}o(YI,"getUserKind");var Kc=class{static{o(this,"Clock")}now(){return new Date}};var ow=Lt(_1());var _r=class{constructor(t=10){this.valueMap=new Map;if(t<1)throw new Error("Size limit must be at least 1");this.sizeLimit=t}static{o(this,"LRUCacheMap")}set(t,r){if(this.has(t))this.valueMap.delete(t);else if(this.valueMap.size>=this.sizeLimit){let n=this.valueMap.keys().next().value;this.delete(n)}return this.valueMap.set(t,r),this}get(t){if(this.valueMap.has(t)){let r=this.valueMap.get(t);return this.valueMap.delete(t),this.valueMap.set(t,r),r}}delete(t){return this.valueMap.delete(t)}clear(){this.valueMap.clear()}get size(){return this.valueMap.size}keys(){return new Map(this.valueMap).keys()}values(){return new Map(this.valueMap).values()}entries(){return new Map(this.valueMap).entries()}[Symbol.iterator](){return this.entries()}has(t){return this.valueMap.has(t)}forEach(t,r){new Map(this.valueMap).forEach(t,r)}get[Symbol.toStringTag](){return"LRUCacheMap"}peek(t){return this.valueMap.get(t)}},y1=class extends _r{constructor(r,n=2*60*1e3){super(r);this.defaultTtl=n;this.expiration=new Map}static{o(this,"LRUExpirationCacheMap")}has(r){let n=!1,i=this.expiration.get(r);return i!==void 0&&(i>performance.now()&&(n=super.has(r)),n||this.delete(r)),n}get(r){let n=this.expiration.get(r);if(n!==void 0){if(n>performance.now())return super.get(r);this.delete(r)}}peek(r){let n=this.expiration.get(r);if(n!==void 0){if(n>performance.now())return super.peek(r);this.delete(r)}}set(r,n,i=this.defaultTtl){if(i<=0)throw new Error("TTL must be greater than 0");let s=super.set(r,n);return this.expiration.set(r,performance.now()+i),s}clear(){super.clear(),this.expiration.clear()}delete(r){return this.expiration.delete(r),super.delete(r)}get[Symbol.toStringTag](){return"LRUExpirationCacheMap"}};var As=class e{static{o(this,"ExpConfig")}constructor(t,r,n){this.variables=t,this.assignmentContext=r,this.features=n}static createFallbackConfig(t,r){return v2(t,{reason:r}),this.createEmptyConfig()}static createEmptyConfig(){return new e({},"","")}addToTelemetry(t){t.properties["VSCode.ABExp.Features"]=this.features,t.properties["abexp.assignmentcontext"]=this.assignmentContext}};var Yn=class{static{o(this,"Fetcher")}#e;set rejectUnauthorized(t){this.#e=t}get rejectUnauthorized(){return this.#e}},p6=class extends Error{static{o(this,"HttpTimeoutError")}constructor(t,r){super(t,{cause:r}),this.name="HttpTimeoutError"}};function m0(e){return!e||typeof e!="object"?!1:e instanceof p6||"name"in e&&e.name==="AbortError"||"code"in e&&e.code==="ABORT_ERR"}o(m0,"isAbortError");var Mf=class extends SyntaxError{constructor(r,n){super(r);this.code=n;this.name="JsonParseError"}static{o(this,"JsonParseError")}},ga=class extends Error{static{o(this,"FetchResponseError")}constructor(t,r=`HTTP ${t.status} ${t.statusText}`){super(r),this.name="FetchResponseError",this.code=`HTTP${t.status}`}},Sz=new Set(["ECONNABORTED","ECONNRESET","EHOSTUNREACH","ENETUNREACH","ENOTCONN","ENOTFOUND","ETIMEDOUT","ERR_HTTP2_STREAM_ERROR","ERR_SSL_BAD_DECRYPT","ERR_SSL_DECRYPTION_FAILED_OR_BAD_RECORD_MAC","ERR_SSL_INVALID_LIBRARY_(0)","ERR_SSL_SSLV3_ALERT_BAD_RECORD_MAC","ERR_SSL_WRONG_VERSION_NUMBER","ERR_STREAM_PREMATURE_CLOSE","ERR_TLS_CERT_ALTNAME_INVALID"]);function g6(e,t=!0){return e instanceof Error?t&&"cause"in e&&g6(e.cause,!1)?!0:e.name==="EditorFetcherError"||e.name==="FetchError"||e instanceof Mf||e instanceof ga||e?.message?.startsWith("net::")||Sz.has(e.code??""):!1}o(g6,"isNetworkError");var T2=class{constructor(t,r,n,i,s){this.status=t;this.statusText=r;this.headers=n;this.getText=i;this.getBody=s;this.ok=this.status>=200&&this.status<300;this.clientError=this.status>=400&&this.status<500}static{o(this,"Response")}async text(){return this.getText()}async json(){let t=await this.text(),r=this.headers.get("content-type");if(!r||!r.includes("json"))throw new Mf(`Response content-type is ${r??"missing"} (status=${this.status})`,`ContentType=${r}`);try{return JSON.parse(t)}catch(n){if(n instanceof SyntaxError){let i=n.message.match(/^(.*?) in JSON at position (\d+)(?: \(line \d+ column \d+\))?$/);if(i&&parseInt(i[2],10)==t.length||n.message==="Unexpected end of JSON input"){let s=new TextEncoder().encode(t).length,a=this.headers.get("content-length");throw a===null?new Mf(`Response body truncated: actualLength=${s}`,"Truncated"):new Mf(`Response body truncated: actualLength=${s}, headerLength=${a}`,"Truncated")}}throw n}}body(){return this.getBody()}};function h6(e,t,r,n,i,s,a,l,c){let u={...l,Authorization:`Bearer ${r}`,"X-Request-Id":i,"Openai-Organization":"github-copilot","VScode-SessionId":e.get(bn).sessionId,"VScode-MachineId":e.get(bn).machineId,...Uf(e),"X-GitHub-Api-Version":ha};n&&(u["OpenAI-Intent"]=n);let f={method:"POST",headers:u,json:s,timeout:c},d=e.get(Yn);if(a){let p=d.makeAbortController();a.onCancellationRequested(()=>{Se(e,"networking.cancelRequest",et.createAndMarkAsIssued({headerRequestId:i})),p.abort()}),f.signal=p.signal}return d.fetch(t,f).catch(p=>{if(wz(p))return Se(e,"networking.disconnectAll"),d.disconnectAll().then(()=>d.fetch(t,f));throw p})}o(h6,"postRequest");function wz(e){return e instanceof Error?e.message=="ERR_HTTP2_GOAWAY_SESSION"?!0:"code"in e?e.code=="ECONNRESET"||e.code=="ETIMEDOUT"||e.code=="ERR_HTTP2_INVALID_SESSION":!1:!1}o(wz,"isInterruptedNetworkError");var Yc=class{static{o(this,"ExpConfigMaker")}},E2=class extends Yc{constructor(r={}){super();this.defaultFilters=r}static{o(this,"ExpConfigFromTAS")}async fetchExperiments(r,n,i){let s=r.get(Yn),a=Object.keys(i).length===0?this.defaultFilters:i,l=new URL("telemetry",n.telemetry).href,c;try{c=await s.fetch(l,{method:"GET",headers:a,timeout:5e3})}catch(m){return As.createFallbackConfig(r,`Error fetching ExP config: ${String(m)}`)}if(!c.ok)return As.createFallbackConfig(r,`ExP responded with ${c.status}`);let u;try{u=await c.json()}catch(m){if(m instanceof SyntaxError)return p0(r,m,"fetchExperiments"),As.createFallbackConfig(r,"ExP responded with invalid JSON");throw m}let f=u.Configs.find(m=>m.Id==="vscode")??{Id:"vscode",Parameters:{}},d=Object.entries(f.Parameters).map(([m,p])=>m+(p?"":"cf"));return new As(f.Parameters,u.AssignmentContext,d.join(";"))}};var Xo="X-Copilot-RelatedPluginVersion-",v1=(E=>(E.Market="X-MSEdge-Market",E.CorpNet="X-FD-Corpnet",E.Build="X-VSCode-Build",E.ApplicationVersion="X-VSCode-AppVersion",E.TargetPopulation="X-VSCode-TargetPopulation",E.ClientId="X-MSEdge-ClientId",E.ExtensionName="X-VSCode-ExtensionName",E.ExtensionVersion="X-VSCode-ExtensionVersion",E.ExtensionRelease="X-VSCode-ExtensionRelease",E.Language="X-VSCode-Language",E.CopilotClientTimeBucket="X-Copilot-ClientTimeBucket",E.CopilotEngine="X-Copilot-Engine",E.CopilotOverrideEngine="X-Copilot-OverrideEngine",E.CopilotRepository="X-Copilot-Repository",E.CopilotFileType="X-Copilot-FileType",E.CopilotUserKind="X-Copilot-UserKind",E.CopilotDogfood="X-Copilot-Dogfood",E.CopilotCustomModel="X-Copilot-CustomModel",E.CopilotOrgs="X-Copilot-Orgs",E.CopilotCustomModelNames="X-Copilot-CustomModelNames",E.CopilotTrackingId="X-Copilot-CopilotTrackingId",E.CopilotClientVersion="X-Copilot-ClientVersion",E.CopilotRelatedPluginVersionCppTools=Xo+"msvscodecpptools",E.CopilotRelatedPluginVersionCMakeTools=Xo+"msvscodecmaketools",E.CopilotRelatedPluginVersionMakefileTools=Xo+"msvscodemakefiletools",E.CopilotRelatedPluginVersionCSharpDevKit=Xo+"msdotnettoolscsdevkit",E.CopilotRelatedPluginVersionPython=Xo+"mspythonpython",E.CopilotRelatedPluginVersionPylance=Xo+"mspythonvscodepylance",E.CopilotRelatedPluginVersionJavaPack=Xo+"vscjavavscodejavapack",E.CopilotRelatedPluginVersionTypescript=Xo+"vscodetypescriptlanguagefeatures",E.CopilotRelatedPluginVersionTypescriptNext=Xo+"msvscodevscodetypescriptnext",E.CopilotRelatedPluginVersionCSharp=Xo+"msdotnettoolscsharp",E))(v1||{});var Pz={"X-Copilot-ClientTimeBucket":"timeBucket","X-Copilot-OverrideEngine":"engine","X-Copilot-Repository":"repo","X-Copilot-FileType":"fileType","X-Copilot-UserKind":"userKind"},Jc=class e{constructor(t){this.filters=t;for(let[r,n]of Object.entries(this.filters))n===""&&delete this.filters[r]}static{o(this,"FilterSettings")}extends(t){for(let[r,n]of Object.entries(t.filters))if(this.filters[r]!==n)return!1;return!0}addToTelemetry(t){for(let[r,n]of Object.entries(this.filters)){let i=Pz[r];i!==void 0&&(t.properties[i]=n)}}stringify(){let t=Object.keys(this.filters);return t.sort(),t.map(r=>`${r}:${this.filters[r]}`).join(";")}toHeaders(){return{...this.filters}}withChange(t,r){return new e({...this.filters,[t]:r})}};var C2=class{constructor(t){this.prefix=t}static{o(this,"GranularityImplementation")}getCurrentAndUpComingValues(t){let r=this.getValue(t),n=this.getUpcomingValues(t);return[r,n]}},x6=class extends C2{static{o(this,"ConstantGranularity")}getValue(t){return this.prefix}getUpcomingValues(t){return[]}},aw=o(e=>new x6(e),"DEFAULT_GRANULARITY"),I2=class extends C2{constructor(r,n=.5,i=new Date().setUTCHours(0,0,0,0)){super(r);this.prefix=r;this.fetchBeforeFactor=n;this.anchor=i}static{o(this,"TimeBucketGranularity")}setTimePeriod(r){isNaN(r)?this.timePeriodLengthMs=void 0:this.timePeriodLengthMs=r}setByCallBuckets(r){isNaN(r)?this.numByCallBuckets=void 0:this.numByCallBuckets=r}getValue(r){return this.prefix+this.getTimePeriodBucketString(r)+(this.numByCallBuckets?this.timeHash(r):"")}getTimePeriodBucketString(r){return this.timePeriodLengthMs?this.dateToTimePartString(r):""}getUpcomingValues(r){let n=[],i=this.getUpcomingTimePeriodBucketStrings(r),s=this.getUpcomingByCallBucketStrings();for(let a of i)for(let l of s)n.push(this.prefix+a+l);return n}getUpcomingTimePeriodBucketStrings(r){if(this.timePeriodLengthMs===void 0)return[""];if((r.getTime()-this.anchor)%this.timePeriodLengthMs<this.fetchBeforeFactor*this.timePeriodLengthMs)return[this.getTimePeriodBucketString(r)];{let n=new Date(r.getTime()+this.timePeriodLengthMs);return[this.getTimePeriodBucketString(r),this.getTimePeriodBucketString(n)]}}getUpcomingByCallBucketStrings(){return this.numByCallBuckets===void 0?[""]:Array.from(Array(this.numByCallBuckets).keys()).map(r=>r.toString())}timeHash(r){return this.numByCallBuckets==null?0:7883*(r.getTime()%this.numByCallBuckets)%this.numByCallBuckets}dateToTimePartString(r){return this.timePeriodLengthMs==null?"":Math.floor((r.getTime()-this.anchor)/this.timePeriodLengthMs).toString()}};var lw="X-Copilot-ClientTimeBucket",S2=class{constructor(t,r){this.specs=new Map;this.prefix=t,this.clock=r,this.defaultGranularity=aw(t)}static{o(this,"GranularityDirectory")}selectGranularity(t){for(let[r,n]of this.specs.entries())if(t.extends(r))return n;return this.defaultGranularity}update(t,r,n){if(r=r>1?r:NaN,n=n>0?n:NaN,isNaN(r)&&isNaN(n))this.specs.delete(t);else{let i=new I2(this.prefix);isNaN(r)||i.setByCallBuckets(r),isNaN(n)||i.setTimePeriod(n*3600*1e3),this.specs.set(t,i)}}extendFilters(t){let r=this.selectGranularity(t),[n,i]=r.getCurrentAndUpComingValues(this.clock.now());return{newFilterSettings:t.withChange(lw,n),otherFilterSettingsToPrefetch:i.map(s=>t.withChange(lw,s))}}};var El=class e{constructor(t){this.flags=t}static{o(this,"RuntimeMode")}static fromEnvironment(t,r=process.argv,n=process.env){return new e({debug:cw(r,n),verboseLogging:Dz(r,n),testMode:t,simulation:Rz(n)})}};function Ns(e){return e.get(El).flags.testMode}o(Ns,"isRunningInTest");function Bf(e){return Ns(e)}o(Bf,"shouldFailForDebugPurposes");function b6(e){return e.get(El).flags.debug}o(b6,"isDebugEnabled");function cw(e,t){return e.includes("--debug")||_6(t,"DEBUG")}o(cw,"determineDebugFlag");function Rz(e){return _6(e,"SIMULATION")}o(Rz,"determineSimulationFlag");function uw(e){return e.get(El).flags.simulation}o(uw,"isRunningInSimulation");function Dz(e,t){return t.COPILOT_AGENT_VERBOSE==="1"||t.COPILOT_AGENT_VERBOSE?.toLowerCase()==="true"||_6(t,"VERBOSE")||cw(e,t)}o(Dz,"determineVerboseLoggingEnabled");function _6(e,t){for(let r of["GH_COPILOT_","GITHUB_COPILOT_"]){let n=e[`${r}${t}`];if(n)return n==="1"||n?.toLowerCase()==="true"}return!1}o(_6,"determineEnvFlagEnabled");var gw=Lt(Xc()),P2=Lt($f());var mw;(()=>{"use strict";var e={975:P=>{function w(T){if(typeof T!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(T))}o(w,"e");function H(T,E){for(var D,S="",A=0,k=-1,O=0,M=0;M<=T.length;++M){if(M<T.length)D=T.charCodeAt(M);else{if(D===47)break;D=47}if(D===47){if(!(k===M-1||O===1))if(k!==M-1&&O===2){if(S.length<2||A!==2||S.charCodeAt(S.length-1)!==46||S.charCodeAt(S.length-2)!==46){if(S.length>2){var G=S.lastIndexOf("/");if(G!==S.length-1){G===-1?(S="",A=0):A=(S=S.slice(0,G)).length-1-S.lastIndexOf("/"),k=M,O=0;continue}}else if(S.length===2||S.length===1){S="",A=0,k=M,O=0;continue}}E&&(S.length>0?S+="/..":S="..",A=2)}else S.length>0?S+="/"+T.slice(k+1,M):S=T.slice(k+1,M),A=M-k-1;k=M,O=0}else D===46&&O!==-1?++O:O=-1}return S}o(H,"r");var N={resolve:o(function(){for(var T,E="",D=!1,S=arguments.length-1;S>=-1&&!D;S--){var A;S>=0?A=arguments[S]:(T===void 0&&(T=process.cwd()),A=T),w(A),A.length!==0&&(E=A+"/"+E,D=A.charCodeAt(0)===47)}return E=H(E,!D),D?E.length>0?"/"+E:"/":E.length>0?E:"."},"resolve"),normalize:o(function(T){if(w(T),T.length===0)return".";var E=T.charCodeAt(0)===47,D=T.charCodeAt(T.length-1)===47;return(T=H(T,!E)).length!==0||E||(T="."),T.length>0&&D&&(T+="/"),E?"/"+T:T},"normalize"),isAbsolute:o(function(T){return w(T),T.length>0&&T.charCodeAt(0)===47},"isAbsolute"),join:o(function(){if(arguments.length===0)return".";for(var T,E=0;E<arguments.length;++E){var D=arguments[E];w(D),D.length>0&&(T===void 0?T=D:T+="/"+D)}return T===void 0?".":N.normalize(T)},"join"),relative:o(function(T,E){if(w(T),w(E),T===E||(T=N.resolve(T))===(E=N.resolve(E)))return"";for(var D=1;D<T.length&&T.charCodeAt(D)===47;++D);for(var S=T.length,A=S-D,k=1;k<E.length&&E.charCodeAt(k)===47;++k);for(var O=E.length-k,M=A<O?A:O,G=-1,se=0;se<=M;++se){if(se===M){if(O>M){if(E.charCodeAt(k+se)===47)return E.slice(k+se+1);if(se===0)return E.slice(k+se)}else A>M&&(T.charCodeAt(D+se)===47?G=se:se===0&&(G=0));break}var ye=T.charCodeAt(D+se);if(ye!==E.charCodeAt(k+se))break;ye===47&&(G=se)}var xe="";for(se=D+G+1;se<=S;++se)se!==S&&T.charCodeAt(se)!==47||(xe.length===0?xe+="..":xe+="/..");return xe.length>0?xe+E.slice(k+G):(k+=G,E.charCodeAt(k)===47&&++k,E.slice(k))},"relative"),_makeLong:o(function(T){return T},"_makeLong"),dirname:o(function(T){if(w(T),T.length===0)return".";for(var E=T.charCodeAt(0),D=E===47,S=-1,A=!0,k=T.length-1;k>=1;--k)if((E=T.charCodeAt(k))===47){if(!A){S=k;break}}else A=!1;return S===-1?D?"/":".":D&&S===1?"//":T.slice(0,S)},"dirname"),basename:o(function(T,E){if(E!==void 0&&typeof E!="string")throw new TypeError('"ext" argument must be a string');w(T);var D,S=0,A=-1,k=!0;if(E!==void 0&&E.length>0&&E.length<=T.length){if(E.length===T.length&&E===T)return"";var O=E.length-1,M=-1;for(D=T.length-1;D>=0;--D){var G=T.charCodeAt(D);if(G===47){if(!k){S=D+1;break}}else M===-1&&(k=!1,M=D+1),O>=0&&(G===E.charCodeAt(O)?--O==-1&&(A=D):(O=-1,A=M))}return S===A?A=M:A===-1&&(A=T.length),T.slice(S,A)}for(D=T.length-1;D>=0;--D)if(T.charCodeAt(D)===47){if(!k){S=D+1;break}}else A===-1&&(k=!1,A=D+1);return A===-1?"":T.slice(S,A)},"basename"),extname:o(function(T){w(T);for(var E=-1,D=0,S=-1,A=!0,k=0,O=T.length-1;O>=0;--O){var M=T.charCodeAt(O);if(M!==47)S===-1&&(A=!1,S=O+1),M===46?E===-1?E=O:k!==1&&(k=1):E!==-1&&(k=-1);else if(!A){D=O+1;break}}return E===-1||S===-1||k===0||k===1&&E===S-1&&E===D+1?"":T.slice(E,S)},"extname"),format:o(function(T){if(T===null||typeof T!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof T);return function(E,D){var S=D.dir||D.root,A=D.base||(D.name||"")+(D.ext||"");return S?S===D.root?S+A:S+"/"+A:A}(0,T)},"format"),parse:o(function(T){w(T);var E={root:"",dir:"",base:"",ext:"",name:""};if(T.length===0)return E;var D,S=T.charCodeAt(0),A=S===47;A?(E.root="/",D=1):D=0;for(var k=-1,O=0,M=-1,G=!0,se=T.length-1,ye=0;se>=D;--se)if((S=T.charCodeAt(se))!==47)M===-1&&(G=!1,M=se+1),S===46?k===-1?k=se:ye!==1&&(ye=1):k!==-1&&(ye=-1);else if(!G){O=se+1;break}return k===-1||M===-1||ye===0||ye===1&&k===M-1&&k===O+1?M!==-1&&(E.base=E.name=O===0&&A?T.slice(1,M):T.slice(O,M)):(O===0&&A?(E.name=T.slice(1,k),E.base=T.slice(1,M)):(E.name=T.slice(O,k),E.base=T.slice(O,M)),E.ext=T.slice(k,M)),O>0?E.dir=T.slice(0,O-1):A&&(E.dir="/"),E},"parse"),sep:"/",delimiter:":",win32:null,posix:null};N.posix=N,P.exports=N}},t={};function r(P){var w=t[P];if(w!==void 0)return w.exports;var H=t[P]={exports:{}};return e[P](H,H.exports,r),H.exports}o(r,"r"),r.d=(P,w)=>{for(var H in w)r.o(w,H)&&!r.o(P,H)&&Object.defineProperty(P,H,{enumerable:!0,get:w[H]})},r.o=(P,w)=>Object.prototype.hasOwnProperty.call(P,w),r.r=P=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(P,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(P,"__esModule",{value:!0})};var n={};let i;r.r(n),r.d(n,{URI:o(()=>m,"URI"),Utils:o(()=>Y,"Utils")}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let s=/^\w[\w\d+.-]*$/,a=/^\//,l=/^\/\//;function c(P,w){if(!P.scheme&&w)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${P.authority}", path: "${P.path}", query: "${P.query}", fragment: "${P.fragment}"}`);if(P.scheme&&!s.test(P.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(P.path){if(P.authority){if(!a.test(P.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(l.test(P.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(c,"a");let u="",f="/",d=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class m{static{o(this,"l")}static isUri(w){return w instanceof m||!!w&&typeof w.authority=="string"&&typeof w.fragment=="string"&&typeof w.path=="string"&&typeof w.query=="string"&&typeof w.scheme=="string"&&typeof w.fsPath=="string"&&typeof w.with=="function"&&typeof w.toString=="function"}scheme;authority;path;query;fragment;constructor(w,H,N,T,E,D=!1){typeof w=="object"?(this.scheme=w.scheme||u,this.authority=w.authority||u,this.path=w.path||u,this.query=w.query||u,this.fragment=w.fragment||u):(this.scheme=function(S,A){return S||A?S:"file"}(w,D),this.authority=H||u,this.path=function(S,A){switch(S){case"https":case"http":case"file":A?A[0]!==f&&(A=f+A):A=f}return A}(this.scheme,N||u),this.query=T||u,this.fragment=E||u,c(this,D))}get fsPath(){return _(this,!1)}with(w){if(!w)return this;let{scheme:H,authority:N,path:T,query:E,fragment:D}=w;return H===void 0?H=this.scheme:H===null&&(H=u),N===void 0?N=this.authority:N===null&&(N=u),T===void 0?T=this.path:T===null&&(T=u),E===void 0?E=this.query:E===null&&(E=u),D===void 0?D=this.fragment:D===null&&(D=u),H===this.scheme&&N===this.authority&&T===this.path&&E===this.query&&D===this.fragment?this:new g(H,N,T,E,D)}static parse(w,H=!1){let N=d.exec(w);return N?new g(N[2]||u,R(N[4]||u),R(N[5]||u),R(N[7]||u),R(N[9]||u),H):new g(u,u,u,u,u)}static file(w){let H=u;if(i&&(w=w.replace(/\\/g,f)),w[0]===f&&w[1]===f){let N=w.indexOf(f,2);N===-1?(H=w.substring(2),w=f):(H=w.substring(2,N),w=w.substring(N)||f)}return new g("file",H,w,u,u)}static from(w){let H=new g(w.scheme,w.authority,w.path,w.query,w.fragment);return c(H,!0),H}toString(w=!1){return y(this,w)}toJSON(){return this}static revive(w){if(w){if(w instanceof m)return w;{let H=new g(w);return H._formatted=w.external,H._fsPath=w._sep===p?w.fsPath:null,H}}return w}}let p=i?1:void 0;class g extends m{static{o(this,"d")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=_(this,!1)),this._fsPath}toString(w=!1){return w?y(this,!0):(this._formatted||(this._formatted=y(this,!1)),this._formatted)}toJSON(){let w={$mid:1};return this._fsPath&&(w.fsPath=this._fsPath,w._sep=p),this._formatted&&(w.external=this._formatted),this.path&&(w.path=this.path),this.scheme&&(w.scheme=this.scheme),this.authority&&(w.authority=this.authority),this.query&&(w.query=this.query),this.fragment&&(w.fragment=this.fragment),w}}let h={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function b(P,w,H){let N,T=-1;for(let E=0;E<P.length;E++){let D=P.charCodeAt(E);if(D>=97&&D<=122||D>=65&&D<=90||D>=48&&D<=57||D===45||D===46||D===95||D===126||w&&D===47||H&&D===91||H&&D===93||H&&D===58)T!==-1&&(N+=encodeURIComponent(P.substring(T,E)),T=-1),N!==void 0&&(N+=P.charAt(E));else{N===void 0&&(N=P.substr(0,E));let S=h[D];S!==void 0?(T!==-1&&(N+=encodeURIComponent(P.substring(T,E)),T=-1),N+=S):T===-1&&(T=E)}}return T!==-1&&(N+=encodeURIComponent(P.substring(T))),N!==void 0?N:P}o(b,"m");function x(P){let w;for(let H=0;H<P.length;H++){let N=P.charCodeAt(H);N===35||N===63?(w===void 0&&(w=P.substr(0,H)),w+=h[N]):w!==void 0&&(w+=P[H])}return w!==void 0?w:P}o(x,"y");function _(P,w){let H;return H=P.authority&&P.path.length>1&&P.scheme==="file"?`//${P.authority}${P.path}`:P.path.charCodeAt(0)===47&&(P.path.charCodeAt(1)>=65&&P.path.charCodeAt(1)<=90||P.path.charCodeAt(1)>=97&&P.path.charCodeAt(1)<=122)&&P.path.charCodeAt(2)===58?w?P.path.substr(1):P.path[1].toLowerCase()+P.path.substr(2):P.path,i&&(H=H.replace(/\//g,"\\")),H}o(_,"v");function y(P,w){let H=w?x:b,N="",{scheme:T,authority:E,path:D,query:S,fragment:A}=P;if(T&&(N+=T,N+=":"),(E||T==="file")&&(N+=f,N+=f),E){let k=E.indexOf("@");if(k!==-1){let O=E.substr(0,k);E=E.substr(k+1),k=O.lastIndexOf(":"),k===-1?N+=H(O,!1,!1):(N+=H(O.substr(0,k),!1,!1),N+=":",N+=H(O.substr(k+1),!1,!0)),N+="@"}E=E.toLowerCase(),k=E.lastIndexOf(":"),k===-1?N+=H(E,!1,!0):(N+=H(E.substr(0,k),!1,!0),N+=E.substr(k))}if(D){if(D.length>=3&&D.charCodeAt(0)===47&&D.charCodeAt(2)===58){let k=D.charCodeAt(1);k>=65&&k<=90&&(D=`/${String.fromCharCode(k+32)}:${D.substr(3)}`)}else if(D.length>=2&&D.charCodeAt(1)===58){let k=D.charCodeAt(0);k>=65&&k<=90&&(D=`${String.fromCharCode(k+32)}:${D.substr(2)}`)}N+=H(D,!0,!1)}return S&&(N+="?",N+=H(S,!1,!1)),A&&(N+="#",N+=w?A:b(A,!1,!1)),N}o(y,"b");function v(P){try{return decodeURIComponent(P)}catch{return P.length>3?P.substr(0,3)+v(P.substr(3)):P}}o(v,"C");let I=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function R(P){return P.match(I)?P.replace(I,w=>v(w)):P}o(R,"w");var z=r(975);let V=z.posix||z,$="/";var Y;(function(P){P.joinPath=function(w,...H){return w.with({path:V.join(w.path,...H)})},P.resolvePath=function(w,...H){let N=w.path,T=!1;N[0]!==$&&(N=$+N,T=!0);let E=V.resolve(N,...H);return T&&E[0]===$&&!w.authority&&(E=E.substring(1)),w.with({path:E})},P.dirname=function(w){if(w.path.length===0||w.path===$)return w;let H=V.dirname(w.path);return H.length===1&&H.charCodeAt(0)===46&&(H=""),w.with({path:H})},P.basename=function(w){return V.basename(w.path)},P.extname=function(w){return V.extname(w.path)}})(Y||(Y={})),mw=n})();var{URI:Cl,Utils:w2}=mw;function hw(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substring(0,3)+hw(e.substring(3)):e}}o(hw,"decodeURIComponentGraceful");var pw=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function y6(e){return e.match(pw)?e.replace(pw,t=>hw(t)):e}o(y6,"percentDecode");function R2(e){if(/^[A-Za-z][A-Za-z0-9+.-]+:/.test(e))throw new Error("Path must not contain a scheme");if(!e)throw new Error("Path must not be empty");return Cl.file(e).toString()}o(R2,"makeFsUri");function T1(e){if(typeof e!="string"&&(e=e.uri),/^[A-Za-z]:\\/.test(e))throw new Error(`Could not parse <${e}>: Windows-style path`);try{let t=e.match(/^(?:([^:/?#]+?:)?\/\/)(\/\/.*)$/);return t?Cl.parse(t[1]+t[2],!0):Cl.parse(e,!0)}catch(t){throw new Error(`Could not parse <${e}>`,{cause:t})}}o(T1,"parseUri");function vo(e){try{return T1(e).toString()}catch{return e}}o(vo,"normalizeUri");var xw=new Set(["file","notebook","vscode-notebook","vscode-notebook-cell"]);function Nz(e){let t=T1(e);if(!xw.has(t.scheme))throw new Error(`Copilot currently does not support URI with scheme: ${t.scheme}`);if((0,gw.platform)()==="win32"){let r=t.path;return t.authority?r=`//${t.authority}${t.path}`:/^\/[A-Za-z]:/.test(r)&&(r=r.substring(1)),(0,P2.normalize)(r)}else{if(t.authority)throw new Error("Unsupported remote file path");return t.path}}o(Nz,"fsPath");function D2(e){try{return Nz(e)}catch{return}}o(D2,"getFsPath");function A2(e){let t=D2(e);if(t)return Cl.file(t).toString()}o(A2,"getFsUri");function Zc(e,...t){let r,n=D2(e);return n?r=R2((0,P2.resolve)(n,...t)):r=w2.resolvePath(T1(e),...t.map(i=>bw(i))).toString(),typeof e=="string"?r:{uri:r}}o(Zc,"resolveFilePath");function Dn(e,...t){let r=w2.joinPath(T1(e),...t.map(bw)).toString();return typeof e=="string"?r:{uri:r}}o(Dn,"joinPath");function bw(e){return kz(e)?e.replaceAll("\\","/"):e}o(bw,"pathToURIPath");function kz(e){return/^[^/\\]*\\/.test(e)}o(kz,"isWinPath");function Il(e){return y6((typeof e=="string"?e:e.uri).replace(/[#?].*$/,"").replace(/\/$/,"").replace(/^.*[/:]/,""))}o(Il,"basename");function h0(e){let t=w2.dirname(T1(e)),r;return xw.has(t.scheme)&&t.scheme!=="file"?r=t.with({scheme:"file",fragment:""}).toString():r=t.toString(),typeof e=="string"?r:{uri:r}}o(h0,"dirname");var x0=class{static{o(this,"NetworkConfiguration")}},E1={api:"https://api.githubcopilot.com",proxy:"https://copilot-proxy.githubusercontent.com",telemetry:"https://copilot-telemetry.githubusercontent.com","origin-tracker":"https://origin-tracker.githubusercontent.com"};function v6(e,t,r){if(r&&Ns(e)){for(let n of r){let i=Ze(e,n);if(i)return i}return}for(let n of t){let i=Ze(e,n);if(i)return i}}o(v6,"urlConfigOverride");function Oz(e,t){switch(t){case"api":return v6(e,[de.DebugOverrideCapiUrl,de.DebugOverrideCapiUrlLegacy],[de.DebugTestOverrideCapiUrl,de.DebugTestOverrideCapiUrlLegacy]);case"proxy":return v6(e,[de.DebugOverrideProxyUrl,de.DebugOverrideProxyUrlLegacy],[de.DebugTestOverrideProxyUrl,de.DebugTestOverrideProxyUrlLegacy]);case"origin-tracker":if(!k2(e))return v6(e,[de.DebugSnippyOverrideUrl])}}o(Oz,"getEndpointOverrideUrl");function N2(e,t,r,...n){let i=Oz(e,r)??t.endpoints[r];return Dn(i,...n)}o(N2,"getEndpointUrl");function _w(e){return yw(e)?.endpoints??E1}o(_w,"getLastKnownEndpoints");function Lz(e){let t=e.getCopilotIntegrationId();if(t)return t;switch(e.getEditorPluginInfo().name){case"copilot-intellij":return"jetbrains-chat";case"copilot":case"copilot-vs":return;default:return"jetbrains-chat"}}o(Lz,"getIntegrationId");function T6(e){let t={...Uf(e),"X-GitHub-Api-Version":ha},r=Lz(e.get(cr));return r&&(t["Copilot-Integration-Id"]=r),t}o(T6,"getCapiHeaders");function Fz(e,t,...r){return N2(e,t,"api",...r)}o(Fz,"getCapiUrl");async function E6(e,t){let r=await e.get(Yr).getToken(),n=Fz(e,r,t),i={Authorization:`Bearer ${r.token}`,...T6(e)};return await e.get(Yn).fetch(new URL(n).href,{method:"GET",headers:i})}o(E6,"fetchCapiUrl");var O2=(i=>(i[i.DEBUG=4]="DEBUG",i[i.INFO=3]="INFO",i[i.WARN=2]="WARN",i[i.ERROR=1]="ERROR",i))(O2||{}),Wf=class{static{o(this,"LogTarget")}},Sl=class{static{o(this,"TelemetryLogSender")}},wt=class{constructor(t){this.category=t}static{o(this,"Logger")}log(t,r,...n){t.get(Wf).logIt(t,r,this.category,...n)}debug(t,...r){this.log(t,4,...r)}info(t,...r){this.log(t,3,...r)}warn(t,...r){this.log(t,2,...r)}error(t,...r){t.get(Sl).sendError(t,this.category,...r),this.log(t,1,...r)}exception(t,r,n){if(r instanceof Error&&r.name==="Canceled"&&r.message==="Canceled")return;let i=n;n.startsWith(".")&&(i=n.substring(1),n=`${this.category}${n}`),t.get(Sl).sendException(t,r,n);let s=r instanceof Error?r:new Error(`Non-error thrown: ${String(r)}`);this.log(t,1,`${i}:`,s)}},gt=new wt("default");var ci={};d0(ci,{HasPropertyKey:()=>L2,IsArray:()=>cn,IsAsyncIterator:()=>C6,IsBigInt:()=>C1,IsBoolean:()=>xa,IsDate:()=>Qc,IsFunction:()=>I6,IsIterator:()=>S6,IsNull:()=>w6,IsNumber:()=>To,IsObject:()=>pr,IsRegExp:()=>I1,IsString:()=>vr,IsSymbol:()=>P6,IsUint8Array:()=>ba,IsUndefined:()=>un});function L2(e,t){return t in e}o(L2,"HasPropertyKey");function C6(e){return pr(e)&&!cn(e)&&!ba(e)&&Symbol.asyncIterator in e}o(C6,"IsAsyncIterator");function cn(e){return Array.isArray(e)}o(cn,"IsArray");function C1(e){return typeof e=="bigint"}o(C1,"IsBigInt");function xa(e){return typeof e=="boolean"}o(xa,"IsBoolean");function Qc(e){return e instanceof globalThis.Date}o(Qc,"IsDate");function I6(e){return typeof e=="function"}o(I6,"IsFunction");function S6(e){return pr(e)&&!cn(e)&&!ba(e)&&Symbol.iterator in e}o(S6,"IsIterator");function w6(e){return e===null}o(w6,"IsNull");function To(e){return typeof e=="number"}o(To,"IsNumber");function pr(e){return typeof e=="object"&&e!==null}o(pr,"IsObject");function I1(e){return e instanceof globalThis.RegExp}o(I1,"IsRegExp");function vr(e){return typeof e=="string"}o(vr,"IsString");function P6(e){return typeof e=="symbol"}o(P6,"IsSymbol");function ba(e){return e instanceof globalThis.Uint8Array}o(ba,"IsUint8Array");function un(e){return e===void 0}o(un,"IsUndefined");function Mz(e){return e.map(t=>F2(t))}o(Mz,"ArrayType");function Uz(e){return new Date(e.getTime())}o(Uz,"DateType");function Bz(e){return new Uint8Array(e)}o(Bz,"Uint8ArrayType");function jz(e){return new RegExp(e.source,e.flags)}o(jz,"RegExpType");function $z(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=F2(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=F2(e[r]);return t}o($z,"ObjectType");function F2(e){return cn(e)?Mz(e):Qc(e)?Uz(e):ba(e)?Bz(e):I1(e)?jz(e):pr(e)?$z(e):e}o(F2,"Visit");function Ar(e){return F2(e)}o(Ar,"Clone");function qf(e,t){return t===void 0?Ar(e):Ar({...t,...e})}o(qf,"CloneType");function M2(e){return It(e)&&globalThis.Symbol.asyncIterator in e}o(M2,"IsAsyncIterator");function U2(e){return It(e)&&globalThis.Symbol.iterator in e}o(U2,"IsIterator");function R6(e){return It(e)&&(globalThis.Object.getPrototypeOf(e)===Object.prototype||globalThis.Object.getPrototypeOf(e)===null)}o(R6,"IsStandardObject");function B2(e){return e instanceof globalThis.Promise}o(B2,"IsPromise");function Di(e){return e instanceof Date&&globalThis.Number.isFinite(e.getTime())}o(Di,"IsDate");function vw(e){return e instanceof globalThis.Map}o(vw,"IsMap");function Tw(e){return e instanceof globalThis.Set}o(Tw,"IsSet");function Zo(e){return globalThis.ArrayBuffer.isView(e)}o(Zo,"IsTypedArray");function Gf(e){return e instanceof globalThis.Uint8Array}o(Gf,"IsUint8Array");function st(e,t){return t in e}o(st,"HasPropertyKey");function It(e){return e!==null&&typeof e=="object"}o(It,"IsObject");function at(e){return globalThis.Array.isArray(e)&&!globalThis.ArrayBuffer.isView(e)}o(at,"IsArray");function Nr(e){return e===void 0}o(Nr,"IsUndefined");function _a(e){return e===null}o(_a,"IsNull");function b0(e){return typeof e=="boolean"}o(b0,"IsBoolean");function ze(e){return typeof e=="number"}o(ze,"IsNumber");function j2(e){return globalThis.Number.isInteger(e)}o(j2,"IsInteger");function Jn(e){return typeof e=="bigint"}o(Jn,"IsBigInt");function Vt(e){return typeof e=="string"}o(Vt,"IsString");function wl(e){return typeof e=="function"}o(wl,"IsFunction");function ya(e){return typeof e=="symbol"}o(ya,"IsSymbol");function Eo(e){return Jn(e)||b0(e)||_a(e)||ze(e)||Vt(e)||ya(e)||Nr(e)}o(Eo,"IsValueType");var Sr;(function(e){e.InstanceMode="default",e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(a,l){return e.ExactOptionalPropertyTypes?l in a:a[l]!==void 0}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){let l=It(a);return e.AllowArrayObject?l:l&&!at(a)}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return r(a)&&!(a instanceof Date)&&!(a instanceof Uint8Array)}o(n,"IsRecordLike"),e.IsRecordLike=n;function i(a){return e.AllowNaN?ze(a):Number.isFinite(a)}o(i,"IsNumberLike"),e.IsNumberLike=i;function s(a){let l=Nr(a);return e.AllowNullVoid?l||a===null:l}o(s,"IsVoidLike"),e.IsVoidLike=s})(Sr||(Sr={}));function Wz(e){return globalThis.Object.freeze(e).map(t=>S1(t))}o(Wz,"ImmutableArray");function qz(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=S1(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=S1(e[r]);return globalThis.Object.freeze(t)}o(qz,"ImmutableObject");function S1(e){return cn(e)?Wz(e):Qc(e)?e:ba(e)?e:I1(e)?e:pr(e)?qz(e):e}o(S1,"Immutable");function ie(e,t){let r=t!==void 0?{...t,...e}:e;switch(Sr.InstanceMode){case"freeze":return S1(r);case"clone":return Ar(r);default:return r}}o(ie,"CreateType");var lt=class extends Error{static{o(this,"TypeBoxError")}constructor(t){super(t)}};var qr=Symbol.for("TypeBox.Transform"),ks=Symbol.for("TypeBox.Readonly"),Xn=Symbol.for("TypeBox.Optional"),Qo=Symbol.for("TypeBox.Hint"),te=Symbol.for("TypeBox.Kind");function zf(e){return pr(e)&&e[ks]==="Readonly"}o(zf,"IsReadonly");function Gi(e){return pr(e)&&e[Xn]==="Optional"}o(Gi,"IsOptional");function D6(e){return Wt(e,"Any")}o(D6,"IsAny");function A6(e){return Wt(e,"Argument")}o(A6,"IsArgument");function Os(e){return Wt(e,"Array")}o(Os,"IsArray");function eu(e){return Wt(e,"AsyncIterator")}o(eu,"IsAsyncIterator");function tu(e){return Wt(e,"BigInt")}o(tu,"IsBigInt");function va(e){return Wt(e,"Boolean")}o(va,"IsBoolean");function Ls(e){return Wt(e,"Computed")}o(Ls,"IsComputed");function Fs(e){return Wt(e,"Constructor")}o(Fs,"IsConstructor");function Gz(e){return Wt(e,"Date")}o(Gz,"IsDate");function Ms(e){return Wt(e,"Function")}o(Ms,"IsFunction");function Us(e){return Wt(e,"Integer")}o(Us,"IsInteger");function Jr(e){return Wt(e,"Intersect")}o(Jr,"IsIntersect");function ru(e){return Wt(e,"Iterator")}o(ru,"IsIterator");function Wt(e,t){return pr(e)&&te in e&&e[te]===t}o(Wt,"IsKindOf");function $2(e){return xa(e)||To(e)||vr(e)}o($2,"IsLiteralValue");function Co(e){return Wt(e,"Literal")}o(Co,"IsLiteral");function Io(e){return Wt(e,"MappedKey")}o(Io,"IsMappedKey");function kr(e){return Wt(e,"MappedResult")}o(kr,"IsMappedResult");function Pl(e){return Wt(e,"Never")}o(Pl,"IsNever");function zz(e){return Wt(e,"Not")}o(zz,"IsNot");function w1(e){return Wt(e,"Null")}o(w1,"IsNull");function Bs(e){return Wt(e,"Number")}o(Bs,"IsNumber");function fn(e){return Wt(e,"Object")}o(fn,"IsObject");function nu(e){return Wt(e,"Promise")}o(nu,"IsPromise");function iu(e){return Wt(e,"Record")}o(iu,"IsRecord");function rn(e){return Wt(e,"Ref")}o(rn,"IsRef");function N6(e){return Wt(e,"RegExp")}o(N6,"IsRegExp");function Ta(e){return Wt(e,"String")}o(Ta,"IsString");function P1(e){return Wt(e,"Symbol")}o(P1,"IsSymbol");function So(e){return Wt(e,"TemplateLiteral")}o(So,"IsTemplateLiteral");function Hz(e){return Wt(e,"This")}o(Hz,"IsThis");function rr(e){return pr(e)&&qr in e}o(rr,"IsTransform");function wo(e){return Wt(e,"Tuple")}o(wo,"IsTuple");function Ea(e){return Wt(e,"Undefined")}o(Ea,"IsUndefined");function Kt(e){return Wt(e,"Union")}o(Kt,"IsUnion");function Vz(e){return Wt(e,"Uint8Array")}o(Vz,"IsUint8Array");function Kz(e){return Wt(e,"Unknown")}o(Kz,"IsUnknown");function Yz(e){return Wt(e,"Unsafe")}o(Yz,"IsUnsafe");function Jz(e){return Wt(e,"Void")}o(Jz,"IsVoid");function Rl(e){return pr(e)&&te in e&&vr(e[te])}o(Rl,"IsKind");function Gr(e){return D6(e)||A6(e)||Os(e)||va(e)||tu(e)||eu(e)||Ls(e)||Fs(e)||Gz(e)||Ms(e)||Us(e)||Jr(e)||ru(e)||Co(e)||Io(e)||kr(e)||Pl(e)||zz(e)||w1(e)||Bs(e)||fn(e)||nu(e)||iu(e)||rn(e)||N6(e)||Ta(e)||P1(e)||So(e)||Hz(e)||wo(e)||Ea(e)||Kt(e)||Vz(e)||Kz(e)||Yz(e)||Jz(e)||Rl(e)}o(Gr,"IsSchema");var K={};d0(K,{IsAny:()=>Sw,IsArgument:()=>ww,IsArray:()=>Pw,IsAsyncIterator:()=>Rw,IsBigInt:()=>Dw,IsBoolean:()=>Aw,IsComputed:()=>Nw,IsConstructor:()=>kw,IsDate:()=>Ow,IsFunction:()=>Lw,IsImport:()=>rH,IsInteger:()=>Fw,IsIntersect:()=>Mw,IsIterator:()=>Uw,IsKind:()=>uP,IsKindOf:()=>At,IsLiteral:()=>D1,IsLiteralBoolean:()=>nH,IsLiteralNumber:()=>jw,IsLiteralString:()=>Bw,IsLiteralValue:()=>$w,IsMappedKey:()=>Ww,IsMappedResult:()=>qw,IsNever:()=>Gw,IsNot:()=>zw,IsNull:()=>Hw,IsNumber:()=>Vw,IsObject:()=>Kw,IsOptional:()=>tH,IsPromise:()=>Yw,IsProperties:()=>W2,IsReadonly:()=>eH,IsRecord:()=>Jw,IsRecursive:()=>iH,IsRef:()=>Xw,IsRegExp:()=>Zw,IsSchema:()=>Or,IsString:()=>Qw,IsSymbol:()=>eP,IsTemplateLiteral:()=>tP,IsThis:()=>rP,IsTransform:()=>nP,IsTuple:()=>iP,IsUint8Array:()=>sP,IsUndefined:()=>oP,IsUnion:()=>F6,IsUnionLiteral:()=>oH,IsUnknown:()=>aP,IsUnsafe:()=>lP,IsVoid:()=>cP,TypeGuardUnknownTypeError:()=>k6});var k6=class extends lt{static{o(this,"TypeGuardUnknownTypeError")}},Xz=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function Ew(e){try{return new RegExp(e),!0}catch{return!1}}o(Ew,"IsPattern");function O6(e){if(!vr(e))return!1;for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r>=7&&r<=13||r===27||r===127)return!1}return!0}o(O6,"IsControlCharacterFree");function Cw(e){return L6(e)||Or(e)}o(Cw,"IsAdditionalProperties");function R1(e){return un(e)||C1(e)}o(R1,"IsOptionalBigInt");function Tr(e){return un(e)||To(e)}o(Tr,"IsOptionalNumber");function L6(e){return un(e)||xa(e)}o(L6,"IsOptionalBoolean");function gr(e){return un(e)||vr(e)}o(gr,"IsOptionalString");function Zz(e){return un(e)||vr(e)&&O6(e)&&Ew(e)}o(Zz,"IsOptionalPattern");function Qz(e){return un(e)||vr(e)&&O6(e)}o(Qz,"IsOptionalFormat");function Iw(e){return un(e)||Or(e)}o(Iw,"IsOptionalSchema");function eH(e){return pr(e)&&e[ks]==="Readonly"}o(eH,"IsReadonly");function tH(e){return pr(e)&&e[Xn]==="Optional"}o(tH,"IsOptional");function Sw(e){return At(e,"Any")&&gr(e.$id)}o(Sw,"IsAny");function ww(e){return At(e,"Argument")&&To(e.index)}o(ww,"IsArgument");function Pw(e){return At(e,"Array")&&e.type==="array"&&gr(e.$id)&&Or(e.items)&&Tr(e.minItems)&&Tr(e.maxItems)&&L6(e.uniqueItems)&&Iw(e.contains)&&Tr(e.minContains)&&Tr(e.maxContains)}o(Pw,"IsArray");function Rw(e){return At(e,"AsyncIterator")&&e.type==="AsyncIterator"&&gr(e.$id)&&Or(e.items)}o(Rw,"IsAsyncIterator");function Dw(e){return At(e,"BigInt")&&e.type==="bigint"&&gr(e.$id)&&R1(e.exclusiveMaximum)&&R1(e.exclusiveMinimum)&&R1(e.maximum)&&R1(e.minimum)&&R1(e.multipleOf)}o(Dw,"IsBigInt");function Aw(e){return At(e,"Boolean")&&e.type==="boolean"&&gr(e.$id)}o(Aw,"IsBoolean");function Nw(e){return At(e,"Computed")&&vr(e.target)&&cn(e.parameters)&&e.parameters.every(t=>Or(t))}o(Nw,"IsComputed");function kw(e){return At(e,"Constructor")&&e.type==="Constructor"&&gr(e.$id)&&cn(e.parameters)&&e.parameters.every(t=>Or(t))&&Or(e.returns)}o(kw,"IsConstructor");function Ow(e){return At(e,"Date")&&e.type==="Date"&&gr(e.$id)&&Tr(e.exclusiveMaximumTimestamp)&&Tr(e.exclusiveMinimumTimestamp)&&Tr(e.maximumTimestamp)&&Tr(e.minimumTimestamp)&&Tr(e.multipleOfTimestamp)}o(Ow,"IsDate");function Lw(e){return At(e,"Function")&&e.type==="Function"&&gr(e.$id)&&cn(e.parameters)&&e.parameters.every(t=>Or(t))&&Or(e.returns)}o(Lw,"IsFunction");function rH(e){return At(e,"Import")&&L2(e,"$defs")&&pr(e.$defs)&&W2(e.$defs)&&L2(e,"$ref")&&vr(e.$ref)&&e.$ref in e.$defs}o(rH,"IsImport");function Fw(e){return At(e,"Integer")&&e.type==="integer"&&gr(e.$id)&&Tr(e.exclusiveMaximum)&&Tr(e.exclusiveMinimum)&&Tr(e.maximum)&&Tr(e.minimum)&&Tr(e.multipleOf)}o(Fw,"IsInteger");function W2(e){return pr(e)&&Object.entries(e).every(([t,r])=>O6(t)&&Or(r))}o(W2,"IsProperties");function Mw(e){return At(e,"Intersect")&&!(vr(e.type)&&e.type!=="object")&&cn(e.allOf)&&e.allOf.every(t=>Or(t)&&!nP(t))&&gr(e.type)&&(L6(e.unevaluatedProperties)||Iw(e.unevaluatedProperties))&&gr(e.$id)}o(Mw,"IsIntersect");function Uw(e){return At(e,"Iterator")&&e.type==="Iterator"&&gr(e.$id)&&Or(e.items)}o(Uw,"IsIterator");function At(e,t){return pr(e)&&te in e&&e[te]===t}o(At,"IsKindOf");function Bw(e){return D1(e)&&vr(e.const)}o(Bw,"IsLiteralString");function jw(e){return D1(e)&&To(e.const)}o(jw,"IsLiteralNumber");function nH(e){return D1(e)&&xa(e.const)}o(nH,"IsLiteralBoolean");function D1(e){return At(e,"Literal")&&gr(e.$id)&&$w(e.const)}o(D1,"IsLiteral");function $w(e){return xa(e)||To(e)||vr(e)}o($w,"IsLiteralValue");function Ww(e){return At(e,"MappedKey")&&cn(e.keys)&&e.keys.every(t=>To(t)||vr(t))}o(Ww,"IsMappedKey");function qw(e){return At(e,"MappedResult")&&W2(e.properties)}o(qw,"IsMappedResult");function Gw(e){return At(e,"Never")&&pr(e.not)&&Object.getOwnPropertyNames(e.not).length===0}o(Gw,"IsNever");function zw(e){return At(e,"Not")&&Or(e.not)}o(zw,"IsNot");function Hw(e){return At(e,"Null")&&e.type==="null"&&gr(e.$id)}o(Hw,"IsNull");function Vw(e){return At(e,"Number")&&e.type==="number"&&gr(e.$id)&&Tr(e.exclusiveMaximum)&&Tr(e.exclusiveMinimum)&&Tr(e.maximum)&&Tr(e.minimum)&&Tr(e.multipleOf)}o(Vw,"IsNumber");function Kw(e){return At(e,"Object")&&e.type==="object"&&gr(e.$id)&&W2(e.properties)&&Cw(e.additionalProperties)&&Tr(e.minProperties)&&Tr(e.maxProperties)}o(Kw,"IsObject");function Yw(e){return At(e,"Promise")&&e.type==="Promise"&&gr(e.$id)&&Or(e.item)}o(Yw,"IsPromise");function Jw(e){return At(e,"Record")&&e.type==="object"&&gr(e.$id)&&Cw(e.additionalProperties)&&pr(e.patternProperties)&&(t=>{let r=Object.getOwnPropertyNames(t.patternProperties);return r.length===1&&Ew(r[0])&&pr(t.patternProperties)&&Or(t.patternProperties[r[0]])})(e)}o(Jw,"IsRecord");function iH(e){return pr(e)&&Qo in e&&e[Qo]==="Recursive"}o(iH,"IsRecursive");function Xw(e){return At(e,"Ref")&&gr(e.$id)&&vr(e.$ref)}o(Xw,"IsRef");function Zw(e){return At(e,"RegExp")&&gr(e.$id)&&vr(e.source)&&vr(e.flags)&&Tr(e.maxLength)&&Tr(e.minLength)}o(Zw,"IsRegExp");function Qw(e){return At(e,"String")&&e.type==="string"&&gr(e.$id)&&Tr(e.minLength)&&Tr(e.maxLength)&&Zz(e.pattern)&&Qz(e.format)}o(Qw,"IsString");function eP(e){return At(e,"Symbol")&&e.type==="symbol"&&gr(e.$id)}o(eP,"IsSymbol");function tP(e){return At(e,"TemplateLiteral")&&e.type==="string"&&vr(e.pattern)&&e.pattern[0]==="^"&&e.pattern[e.pattern.length-1]==="$"}o(tP,"IsTemplateLiteral");function rP(e){return At(e,"This")&&gr(e.$id)&&vr(e.$ref)}o(rP,"IsThis");function nP(e){return pr(e)&&qr in e}o(nP,"IsTransform");function iP(e){return At(e,"Tuple")&&e.type==="array"&&gr(e.$id)&&To(e.minItems)&&To(e.maxItems)&&e.minItems===e.maxItems&&(un(e.items)&&un(e.additionalItems)&&e.minItems===0||cn(e.items)&&e.items.every(t=>Or(t)))}o(iP,"IsTuple");function oP(e){return At(e,"Undefined")&&e.type==="undefined"&&gr(e.$id)}o(oP,"IsUndefined");function oH(e){return F6(e)&&e.anyOf.every(t=>Bw(t)||jw(t))}o(oH,"IsUnionLiteral");function F6(e){return At(e,"Union")&&gr(e.$id)&&pr(e)&&cn(e.anyOf)&&e.anyOf.every(t=>Or(t))}o(F6,"IsUnion");function sP(e){return At(e,"Uint8Array")&&e.type==="Uint8Array"&&gr(e.$id)&&Tr(e.minByteLength)&&Tr(e.maxByteLength)}o(sP,"IsUint8Array");function aP(e){return At(e,"Unknown")&&gr(e.$id)}o(aP,"IsUnknown");function lP(e){return At(e,"Unsafe")}o(lP,"IsUnsafe");function cP(e){return At(e,"Void")&&e.type==="void"&&gr(e.$id)}o(cP,"IsVoid");function uP(e){return pr(e)&&te in e&&vr(e[te])&&!Xz.includes(e[te])}o(uP,"IsKind");function Or(e){return pr(e)&&(Sw(e)||ww(e)||Pw(e)||Aw(e)||Dw(e)||Rw(e)||Nw(e)||kw(e)||Ow(e)||Lw(e)||Fw(e)||Mw(e)||Uw(e)||D1(e)||Ww(e)||qw(e)||Gw(e)||zw(e)||Hw(e)||Vw(e)||Kw(e)||Yw(e)||Jw(e)||Xw(e)||Zw(e)||Qw(e)||eP(e)||tP(e)||rP(e)||iP(e)||oP(e)||F6(e)||sP(e)||aP(e)||lP(e)||cP(e)||uP(e))}o(Or,"IsSchema");var M6="(true|false)",A1="(0|[1-9][0-9]*)",U6="(.*)",sH="(?!.*)",d2e=`^${M6}$`,_0=`^${A1}$`,y0=`^${U6}$`,fP=`^${sH}$`;var js={};d0(js,{Clear:()=>lH,Delete:()=>cH,Entries:()=>aH,Get:()=>dH,Has:()=>uH,Set:()=>fH});var Hf=new Map;function aH(){return new Map(Hf)}o(aH,"Entries");function lH(){return Hf.clear()}o(lH,"Clear");function cH(e){return Hf.delete(e)}o(cH,"Delete");function uH(e){return Hf.has(e)}o(uH,"Has");function fH(e,t){Hf.set(e,t)}o(fH,"Set");function dH(e){return Hf.get(e)}o(dH,"Get");var Ai={};d0(Ai,{Clear:()=>pH,Delete:()=>gH,Entries:()=>mH,Get:()=>bH,Has:()=>hH,Set:()=>xH});var Vf=new Map;function mH(){return new Map(Vf)}o(mH,"Entries");function pH(){return Vf.clear()}o(pH,"Clear");function gH(e){return Vf.delete(e)}o(gH,"Delete");function hH(e){return Vf.has(e)}o(hH,"Has");function xH(e,t){Vf.set(e,t)}o(xH,"Set");function bH(e){return Vf.get(e)}o(bH,"Get");function dP(e,t){return e.includes(t)}o(dP,"SetIncludes");function mP(e){return[...new Set(e)]}o(mP,"SetDistinct");function _H(e,t){return e.filter(r=>t.includes(r))}o(_H,"SetIntersect");function yH(e,t){return e.reduce((r,n)=>_H(r,n),t)}o(yH,"SetIntersectManyResolve");function pP(e){return e.length===1?e[0]:e.length>1?yH(e.slice(1),e[0]):[]}o(pP,"SetIntersectMany");function gP(e){let t=[];for(let r of e)t.push(...r);return t}o(gP,"SetUnionMany");function Dl(e){return ie({[te]:"Any"},e)}o(Dl,"Any");function Kf(e,t){return ie({[te]:"Array",type:"array",items:e},t)}o(Kf,"Array");function hP(e){return ie({[te]:"Argument",index:e})}o(hP,"Argument");function Yf(e,t){return ie({[te]:"AsyncIterator",type:"AsyncIterator",items:e},t)}o(Yf,"AsyncIterator");function wr(e,t,r){return ie({[te]:"Computed",target:e,parameters:t},r)}o(wr,"Computed");function vH(e,t){let{[t]:r,...n}=e;return n}o(vH,"DiscardKey");function Xr(e,t){return t.reduce((r,n)=>vH(r,n),e)}o(Xr,"Discard");function vt(e){return ie({[te]:"Never",not:{}},e)}o(vt,"Never");function Xt(e){return ie({[te]:"MappedResult",properties:e})}o(Xt,"MappedResult");function Jf(e,t,r){return ie({[te]:"Constructor",type:"Constructor",parameters:e,returns:t},r)}o(Jf,"Constructor");function v0(e,t,r){return ie({[te]:"Function",type:"Function",parameters:e,returns:t},r)}o(v0,"Function");function N1(e,t){return ie({[te]:"Union",anyOf:e},t)}o(N1,"UnionCreate");function TH(e){return e.some(t=>Gi(t))}o(TH,"IsUnionOptional");function xP(e){return e.map(t=>Gi(t)?EH(t):t)}o(xP,"RemoveOptionalFromRest");function EH(e){return Xr(e,[Xn])}o(EH,"RemoveOptionalFromType");function CH(e,t){return TH(e)?ui(N1(xP(e),t)):N1(xP(e),t)}o(CH,"ResolveUnion");function T0(e,t){return e.length===1?ie(e[0],t):e.length===0?vt(t):CH(e,t)}o(T0,"UnionEvaluated");function nr(e,t){return e.length===0?vt(t):e.length===1?ie(e[0],t):N1(e,t)}o(nr,"Union");var q2=class extends lt{static{o(this,"TemplateLiteralParserError")}};function IH(e){return e.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}o(IH,"Unescape");function B6(e,t,r){return e[t]===r&&e.charCodeAt(t-1)!==92}o(B6,"IsNonEscaped");function Ia(e,t){return B6(e,t,"(")}o(Ia,"IsOpenParen");function k1(e,t){return B6(e,t,")")}o(k1,"IsCloseParen");function bP(e,t){return B6(e,t,"|")}o(bP,"IsSeparator");function SH(e){if(!(Ia(e,0)&&k1(e,e.length-1)))return!1;let t=0;for(let r=0;r<e.length;r++)if(Ia(e,r)&&(t+=1),k1(e,r)&&(t-=1),t===0&&r!==e.length-1)return!1;return!0}o(SH,"IsGroup");function wH(e){return e.slice(1,e.length-1)}o(wH,"InGroup");function PH(e){let t=0;for(let r=0;r<e.length;r++)if(Ia(e,r)&&(t+=1),k1(e,r)&&(t-=1),bP(e,r)&&t===0)return!0;return!1}o(PH,"IsPrecedenceOr");function RH(e){for(let t=0;t<e.length;t++)if(Ia(e,t))return!0;return!1}o(RH,"IsPrecedenceAnd");function DH(e){let[t,r]=[0,0],n=[];for(let s=0;s<e.length;s++)if(Ia(e,s)&&(t+=1),k1(e,s)&&(t-=1),bP(e,s)&&t===0){let a=e.slice(r,s);a.length>0&&n.push(Xf(a)),r=s+1}let i=e.slice(r);return i.length>0&&n.push(Xf(i)),n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"or",expr:n}}o(DH,"Or");function AH(e){function t(i,s){if(!Ia(i,s))throw new q2("TemplateLiteralParser: Index must point to open parens");let a=0;for(let l=s;l<i.length;l++)if(Ia(i,l)&&(a+=1),k1(i,l)&&(a-=1),a===0)return[s,l];throw new q2("TemplateLiteralParser: Unclosed group parens in expression")}o(t,"Group");function r(i,s){for(let a=s;a<i.length;a++)if(Ia(i,a))return[s,a];return[s,i.length]}o(r,"Range");let n=[];for(let i=0;i<e.length;i++)if(Ia(e,i)){let[s,a]=t(e,i),l=e.slice(s,a+1);n.push(Xf(l)),i=a}else{let[s,a]=r(e,i),l=e.slice(s,a);l.length>0&&n.push(Xf(l)),i=a-1}return n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"and",expr:n}}o(AH,"And");function Xf(e){return SH(e)?Xf(wH(e)):PH(e)?DH(e):RH(e)?AH(e):{type:"const",const:IH(e)}}o(Xf,"TemplateLiteralParse");function Zf(e){return Xf(e.slice(1,e.length-1))}o(Zf,"TemplateLiteralParseExact");var j6=class extends lt{static{o(this,"TemplateLiteralFiniteError")}};function NH(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="0"&&e.expr[1].type==="const"&&e.expr[1].const==="[1-9][0-9]*"}o(NH,"IsNumberExpression");function kH(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="true"&&e.expr[1].type==="const"&&e.expr[1].const==="false"}o(kH,"IsBooleanExpression");function OH(e){return e.type==="const"&&e.const===".*"}o(OH,"IsStringExpression");function ou(e){return NH(e)||OH(e)?!1:kH(e)?!0:e.type==="and"?e.expr.every(t=>ou(t)):e.type==="or"?e.expr.every(t=>ou(t)):e.type==="const"?!0:(()=>{throw new j6("Unknown expression type")})()}o(ou,"IsTemplateLiteralExpressionFinite");function G2(e){let t=Zf(e.pattern);return ou(t)}o(G2,"IsTemplateLiteralFinite");var $6=class extends lt{static{o(this,"TemplateLiteralGenerateError")}};function*_P(e){if(e.length===1)return yield*e[0];for(let t of e[0])for(let r of _P(e.slice(1)))yield`${t}${r}`}o(_P,"GenerateReduce");function*LH(e){return yield*_P(e.expr.map(t=>[...O1(t)]))}o(LH,"GenerateAnd");function*FH(e){for(let t of e.expr)yield*O1(t)}o(FH,"GenerateOr");function*MH(e){return yield e.const}o(MH,"GenerateConst");function*O1(e){return e.type==="and"?yield*LH(e):e.type==="or"?yield*FH(e):e.type==="const"?yield*MH(e):(()=>{throw new $6("Unknown expression")})()}o(O1,"TemplateLiteralExpressionGenerate");function Qf(e){let t=Zf(e.pattern);return ou(t)?[...O1(t)]:[]}o(Qf,"TemplateLiteralGenerate");function qt(e,t){return ie({[te]:"Literal",const:e,type:typeof e},t)}o(qt,"Literal");function z2(e){return ie({[te]:"Boolean",type:"boolean"},e)}o(z2,"Boolean");function ed(e){return ie({[te]:"BigInt",type:"bigint"},e)}o(ed,"BigInt");function es(e){return ie({[te]:"Number",type:"number"},e)}o(es,"Number");function Ni(e){return ie({[te]:"String",type:"string"},e)}o(Ni,"String");function*UH(e){let t=e.trim().replace(/"|'/g,"");return t==="boolean"?yield z2():t==="number"?yield es():t==="bigint"?yield ed():t==="string"?yield Ni():yield(()=>{let r=t.split("|").map(n=>qt(n.trim()));return r.length===0?vt():r.length===1?r[0]:T0(r)})()}o(UH,"FromUnion");function*BH(e){if(e[1]!=="{"){let t=qt("$"),r=W6(e.slice(1));return yield*[t,...r]}for(let t=2;t<e.length;t++)if(e[t]==="}"){let r=UH(e.slice(2,t)),n=W6(e.slice(t+1));return yield*[...r,...n]}yield qt(e)}o(BH,"FromTerminal");function*W6(e){for(let t=0;t<e.length;t++)if(e[t]==="$"){let r=qt(e.slice(0,t)),n=BH(e.slice(t));return yield*[r,...n]}yield qt(e)}o(W6,"FromSyntax");function yP(e){return[...W6(e)]}o(yP,"TemplateLiteralSyntax");var q6=class extends lt{static{o(this,"TemplateLiteralPatternError")}};function jH(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(jH,"Escape");function vP(e,t){return So(e)?e.pattern.slice(1,e.pattern.length-1):Kt(e)?`(${e.anyOf.map(r=>vP(r,t)).join("|")})`:Bs(e)?`${t}${A1}`:Us(e)?`${t}${A1}`:tu(e)?`${t}${A1}`:Ta(e)?`${t}${U6}`:Co(e)?`${t}${jH(e.const.toString())}`:va(e)?`${t}${M6}`:(()=>{throw new q6(`Unexpected Kind '${e[te]}'`)})()}o(vP,"Visit");function G6(e){return`^${e.map(t=>vP(t,"")).join("")}$`}o(G6,"TemplateLiteralPattern");function su(e){let r=Qf(e).map(n=>qt(n));return T0(r)}o(su,"TemplateLiteralToUnion");function H2(e,t){let r=vr(e)?G6(yP(e)):G6(e);return ie({[te]:"TemplateLiteral",type:"string",pattern:r},t)}o(H2,"TemplateLiteral");function $H(e){return Qf(e).map(r=>r.toString())}o($H,"FromTemplateLiteral");function WH(e){let t=[];for(let r of e)t.push(...zi(r));return t}o(WH,"FromUnion");function qH(e){return[e.toString()]}o(qH,"FromLiteral");function zi(e){return[...new Set(So(e)?$H(e):Kt(e)?WH(e.anyOf):Co(e)?qH(e.const):Bs(e)?["[number]"]:Us(e)?["[number]"]:[])]}o(zi,"IndexPropertyKeys");function GH(e,t,r){let n={};for(let i of Object.getOwnPropertyNames(t))n[i]=Al(e,zi(t[i]),r);return n}o(GH,"FromProperties");function zH(e,t,r){return GH(e,t.properties,r)}o(zH,"FromMappedResult");function TP(e,t,r){let n=zH(e,t,r);return Xt(n)}o(TP,"IndexFromMappedResult");function CP(e,t){return e.map(r=>IP(r,t))}o(CP,"FromRest");function HH(e){return e.filter(t=>!Pl(t))}o(HH,"FromIntersectRest");function VH(e,t){return V2(HH(CP(e,t)))}o(VH,"FromIntersect");function KH(e){return e.some(t=>Pl(t))?[]:e}o(KH,"FromUnionRest");function YH(e,t){return T0(KH(CP(e,t)))}o(YH,"FromUnion");function JH(e,t){return t in e?e[t]:t==="[number]"?T0(e):vt()}o(JH,"FromTuple");function XH(e,t){return t==="[number]"?e:vt()}o(XH,"FromArray");function ZH(e,t){return t in e?e[t]:vt()}o(ZH,"FromProperty");function IP(e,t){return Jr(e)?VH(e.allOf,t):Kt(e)?YH(e.anyOf,t):wo(e)?JH(e.items??[],t):Os(e)?XH(e.items,t):fn(e)?ZH(e.properties,t):vt()}o(IP,"IndexFromPropertyKey");function L1(e,t){return t.map(r=>IP(e,r))}o(L1,"IndexFromPropertyKeys");function EP(e,t){return T0(L1(e,t))}o(EP,"FromSchema");function Al(e,t,r){if(rn(e)||rn(t)){let n="Index types using Ref parameters require both Type and Key to be of TSchema";if(!Gr(e)||!Gr(t))throw new lt(n);return wr("Index",[e,t])}return kr(t)?TP(e,t,r):Io(t)?SP(e,t,r):ie(Gr(t)?EP(e,zi(t)):EP(e,t),r)}o(Al,"Index");function QH(e,t,r){return{[t]:Al(e,[t],Ar(r))}}o(QH,"MappedIndexPropertyKey");function eV(e,t,r){return t.reduce((n,i)=>({...n,...QH(e,i,r)}),{})}o(eV,"MappedIndexPropertyKeys");function tV(e,t,r){return eV(e,t.keys,r)}o(tV,"MappedIndexProperties");function SP(e,t,r){let n=tV(e,t,r);return Xt(n)}o(SP,"IndexFromMappedKey");function td(e,t){return ie({[te]:"Iterator",type:"Iterator",items:e},t)}o(td,"Iterator");function rV(e){let t=[];for(let r in e)Gi(e[r])||t.push(r);return t}o(rV,"RequiredKeys");function nV(e,t){let r=rV(e),n=r.length>0?{[te]:"Object",type:"object",properties:e,required:r}:{[te]:"Object",type:"object",properties:e};return ie(n,t)}o(nV,"_Object");var ir=nV;function K2(e,t){return ie({[te]:"Promise",type:"Promise",item:e},t)}o(K2,"Promise");function iV(e){return ie(Xr(e,[ks]))}o(iV,"RemoveReadonly");function oV(e){return ie({...e,[ks]:"Readonly"})}o(oV,"AddReadonly");function sV(e,t){return t===!1?iV(e):oV(e)}o(sV,"ReadonlyWithFlag");function Hi(e,t){let r=t??!0;return kr(e)?wP(e,r):sV(e,r)}o(Hi,"Readonly");function aV(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=Hi(e[n],t);return r}o(aV,"FromProperties");function lV(e,t){return aV(e.properties,t)}o(lV,"FromMappedResult");function wP(e,t){let r=lV(e,t);return Xt(r)}o(wP,"ReadonlyFromMappedResult");function ts(e,t){return ie(e.length>0?{[te]:"Tuple",type:"array",items:e,additionalItems:!1,minItems:e.length,maxItems:e.length}:{[te]:"Tuple",type:"array",minItems:e.length,maxItems:e.length},t)}o(ts,"Tuple");function PP(e,t){return e in t?rs(e,t[e]):Xt(t)}o(PP,"FromMappedResult");function cV(e){return{[e]:qt(e)}}o(cV,"MappedKeyToKnownMappedResultProperties");function uV(e){let t={};for(let r of e)t[r]=qt(r);return t}o(uV,"MappedKeyToUnknownMappedResultProperties");function fV(e,t){return dP(t,e)?cV(e):uV(t)}o(fV,"MappedKeyToMappedResultProperties");function dV(e,t){let r=fV(e,t);return PP(e,r)}o(dV,"FromMappedKey");function F1(e,t){return t.map(r=>rs(e,r))}o(F1,"FromRest");function mV(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=rs(e,t[n]);return r}o(mV,"FromProperties");function rs(e,t){let r={...t};return Gi(t)?ui(rs(e,Xr(t,[Xn]))):zf(t)?Hi(rs(e,Xr(t,[ks]))):kr(t)?PP(e,t.properties):Io(t)?dV(e,t.keys):Fs(t)?Jf(F1(e,t.parameters),rs(e,t.returns),r):Ms(t)?v0(F1(e,t.parameters),rs(e,t.returns),r):eu(t)?Yf(rs(e,t.items),r):ru(t)?td(rs(e,t.items),r):Jr(t)?fi(F1(e,t.allOf),r):Kt(t)?nr(F1(e,t.anyOf),r):wo(t)?ts(F1(e,t.items??[]),r):fn(t)?ir(mV(e,t.properties),r):Os(t)?Kf(rs(e,t.items),r):nu(t)?K2(rs(e,t.item),r):t}o(rs,"FromSchemaType");function pV(e,t){let r={};for(let n of e)r[n]=rs(n,t);return r}o(pV,"MappedFunctionReturnType");function RP(e,t,r){let n=Gr(e)?zi(e):e,i=t({[te]:"MappedKey",keys:n}),s=pV(n,i);return ir(s,r)}o(RP,"Mapped");function gV(e){return ie(Xr(e,[Xn]))}o(gV,"RemoveOptional");function hV(e){return ie({...e,[Xn]:"Optional"})}o(hV,"AddOptional");function xV(e,t){return t===!1?gV(e):hV(e)}o(xV,"OptionalWithFlag");function ui(e,t){let r=t??!0;return kr(e)?DP(e,r):xV(e,r)}o(ui,"Optional");function bV(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=ui(e[n],t);return r}o(bV,"FromProperties");function _V(e,t){return bV(e.properties,t)}o(_V,"FromMappedResult");function DP(e,t){let r=_V(e,t);return Xt(r)}o(DP,"OptionalFromMappedResult");function M1(e,t={}){let r=e.every(i=>fn(i)),n=Gr(t.unevaluatedProperties)?{unevaluatedProperties:t.unevaluatedProperties}:{};return ie(t.unevaluatedProperties===!1||Gr(t.unevaluatedProperties)||r?{...n,[te]:"Intersect",type:"object",allOf:e}:{...n,[te]:"Intersect",allOf:e},t)}o(M1,"IntersectCreate");function yV(e){return e.every(t=>Gi(t))}o(yV,"IsIntersectOptional");function vV(e){return Xr(e,[Xn])}o(vV,"RemoveOptionalFromType");function AP(e){return e.map(t=>Gi(t)?vV(t):t)}o(AP,"RemoveOptionalFromRest");function TV(e,t){return yV(e)?ui(M1(AP(e),t)):M1(AP(e),t)}o(TV,"ResolveIntersect");function V2(e,t={}){if(e.length===1)return ie(e[0],t);if(e.length===0)return vt(t);if(e.some(r=>rr(r)))throw new Error("Cannot intersect transform types");return TV(e,t)}o(V2,"IntersectEvaluated");function fi(e,t){if(e.length===1)return ie(e[0],t);if(e.length===0)return vt(t);if(e.some(r=>rr(r)))throw new Error("Cannot intersect transform types");return M1(e,t)}o(fi,"Intersect");function ns(...e){let[t,r]=typeof e[0]=="string"?[e[0],e[1]]:[e[0].$id,e[1]];if(typeof t!="string")throw new lt("Ref: $ref must be a string");return ie({[te]:"Ref",$ref:t},r)}o(ns,"Ref");function EV(e,t){return wr("Awaited",[wr(e,t)])}o(EV,"FromComputed");function CV(e){return wr("Awaited",[ns(e)])}o(CV,"FromRef");function IV(e){return fi(NP(e))}o(IV,"FromIntersect");function SV(e){return nr(NP(e))}o(SV,"FromUnion");function wV(e){return rd(e)}o(wV,"FromPromise");function NP(e){return e.map(t=>rd(t))}o(NP,"FromRest");function rd(e,t){return ie(Ls(e)?EV(e.target,e.parameters):Jr(e)?IV(e.allOf):Kt(e)?SV(e.anyOf):nu(e)?wV(e.item):rn(e)?CV(e.$ref):e,t)}o(rd,"Awaited");function kP(e){let t=[];for(let r of e)t.push(Vi(r));return t}o(kP,"FromRest");function PV(e){let t=kP(e);return gP(t)}o(PV,"FromIntersect");function RV(e){let t=kP(e);return pP(t)}o(RV,"FromUnion");function DV(e){return e.map((t,r)=>r.toString())}o(DV,"FromTuple");function AV(e){return["[number]"]}o(AV,"FromArray");function NV(e){return globalThis.Object.getOwnPropertyNames(e)}o(NV,"FromProperties");function kV(e){return z6?globalThis.Object.getOwnPropertyNames(e).map(r=>r[0]==="^"&&r[r.length-1]==="$"?r.slice(1,r.length-1):r):[]}o(kV,"FromPatternProperties");function Vi(e){return Jr(e)?PV(e.allOf):Kt(e)?RV(e.anyOf):wo(e)?DV(e.items??[]):Os(e)?AV(e.items):fn(e)?NV(e.properties):iu(e)?kV(e.patternProperties):[]}o(Vi,"KeyOfPropertyKeys");var z6=!1;function Sa(e){z6=!0;let t=Vi(e);return z6=!1,`^(${t.map(n=>`(${n})`).join("|")})$`}o(Sa,"KeyOfPattern");function OV(e,t){return wr("KeyOf",[wr(e,t)])}o(OV,"FromComputed");function LV(e){return wr("KeyOf",[ns(e)])}o(LV,"FromRef");function FV(e,t){let r=Vi(e),n=MV(r),i=T0(n);return ie(i,t)}o(FV,"KeyOfFromType");function MV(e){return e.map(t=>t==="[number]"?es():qt(t))}o(MV,"KeyOfPropertyKeysToRest");function nd(e,t){return Ls(e)?OV(e.target,e.parameters):rn(e)?LV(e.$ref):kr(e)?OP(e,t):FV(e,t)}o(nd,"KeyOf");function UV(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=nd(e[n],Ar(t));return r}o(UV,"FromProperties");function BV(e,t){return UV(e.properties,t)}o(BV,"FromMappedResult");function OP(e,t){let r=BV(e,t);return Xt(r)}o(OP,"KeyOfFromMappedResult");function Y2(e){let t=Vi(e),r=L1(e,t);return t.map((n,i)=>[t[i],r[i]])}o(Y2,"KeyOfPropertyEntries");function jV(e){let t=[];for(let r of e)t.push(...Vi(r));return mP(t)}o(jV,"CompositeKeys");function $V(e){return e.filter(t=>!Pl(t))}o($V,"FilterNever");function WV(e,t){let r=[];for(let n of e)r.push(...L1(n,[t]));return $V(r)}o(WV,"CompositeProperty");function qV(e,t){let r={};for(let n of t)r[n]=V2(WV(e,n));return r}o(qV,"CompositeProperties");function LP(e,t){let r=jV(e),n=qV(e,r);return ir(n,t)}o(LP,"Composite");function J2(e){return ie({[te]:"Date",type:"Date"},e)}o(J2,"Date");function X2(e){return ie({[te]:"Null",type:"null"},e)}o(X2,"Null");function Z2(e){return ie({[te]:"Symbol",type:"symbol"},e)}o(Z2,"Symbol");function Q2(e){return ie({[te]:"Undefined",type:"undefined"},e)}o(Q2,"Undefined");function e5(e){return ie({[te]:"Uint8Array",type:"Uint8Array"},e)}o(e5,"Uint8Array");function $s(e){return ie({[te]:"Unknown"},e)}o($s,"Unknown");function GV(e){return e.map(t=>H6(t,!1))}o(GV,"FromArray");function zV(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Hi(H6(e[r],!1));return t}o(zV,"FromProperties");function t5(e,t){return t===!0?e:Hi(e)}o(t5,"ConditionalReadonly");function H6(e,t){return C6(e)?t5(Dl(),t):S6(e)?t5(Dl(),t):cn(e)?Hi(ts(GV(e))):ba(e)?e5():Qc(e)?J2():pr(e)?t5(ir(zV(e)),t):I6(e)?t5(v0([],$s()),t):un(e)?Q2():w6(e)?X2():P6(e)?Z2():C1(e)?ed():To(e)?qt(e):xa(e)?qt(e):vr(e)?qt(e):ir({})}o(H6,"FromValue");function FP(e,t){return ie(H6(e,!0),t)}o(FP,"Const");function MP(e,t){return Fs(e)?ts(e.parameters,t):vt(t)}o(MP,"ConstructorParameters");function UP(e,t){if(un(e))throw new Error("Enum undefined or empty");let r=globalThis.Object.getOwnPropertyNames(e).filter(s=>isNaN(s)).map(s=>e[s]),i=[...new Set(r)].map(s=>qt(s));return nr(i,{...t,[Qo]:"Enum"})}o(UP,"Enum");var K6=class extends lt{static{o(this,"ExtendsResolverError")}},oe;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(oe||(oe={}));function is(e){return e===oe.False?e:oe.True}o(is,"IntoBooleanResult");function id(e){throw new K6(e)}o(id,"Throw");function _n(e){return K.IsNever(e)||K.IsIntersect(e)||K.IsUnion(e)||K.IsUnknown(e)||K.IsAny(e)}o(_n,"IsStructuralRight");function yn(e,t){return K.IsNever(t)?zP(e,t):K.IsIntersect(t)?r5(e,t):K.IsUnion(t)?Z6(e,t):K.IsUnknown(t)?YP(e,t):K.IsAny(t)?X6(e,t):id("StructuralRight")}o(yn,"StructuralRight");function X6(e,t){return oe.True}o(X6,"FromAnyRight");function HV(e,t){return K.IsIntersect(t)?r5(e,t):K.IsUnion(t)&&t.anyOf.some(r=>K.IsAny(r)||K.IsUnknown(r))?oe.True:K.IsUnion(t)?oe.Union:K.IsUnknown(t)||K.IsAny(t)?oe.True:oe.Union}o(HV,"FromAny");function VV(e,t){return K.IsUnknown(e)?oe.False:K.IsAny(e)?oe.Union:K.IsNever(e)?oe.True:oe.False}o(VV,"FromArrayRight");function KV(e,t){return K.IsObject(t)&&n5(t)?oe.True:_n(t)?yn(e,t):K.IsArray(t)?is(hr(e.items,t.items)):oe.False}o(KV,"FromArray");function YV(e,t){return _n(t)?yn(e,t):K.IsAsyncIterator(t)?is(hr(e.items,t.items)):oe.False}o(YV,"FromAsyncIterator");function JV(e,t){return _n(t)?yn(e,t):K.IsObject(t)?di(e,t):K.IsRecord(t)?os(e,t):K.IsBigInt(t)?oe.True:oe.False}o(JV,"FromBigInt");function qP(e,t){return K.IsLiteralBoolean(e)||K.IsBoolean(e)?oe.True:oe.False}o(qP,"FromBooleanRight");function XV(e,t){return _n(t)?yn(e,t):K.IsObject(t)?di(e,t):K.IsRecord(t)?os(e,t):K.IsBoolean(t)?oe.True:oe.False}o(XV,"FromBoolean");function ZV(e,t){return _n(t)?yn(e,t):K.IsObject(t)?di(e,t):K.IsConstructor(t)?e.parameters.length>t.parameters.length?oe.False:e.parameters.every((r,n)=>is(hr(t.parameters[n],r))===oe.True)?is(hr(e.returns,t.returns)):oe.False:oe.False}o(ZV,"FromConstructor");function QV(e,t){return _n(t)?yn(e,t):K.IsObject(t)?di(e,t):K.IsRecord(t)?os(e,t):K.IsDate(t)?oe.True:oe.False}o(QV,"FromDate");function eK(e,t){return _n(t)?yn(e,t):K.IsObject(t)?di(e,t):K.IsFunction(t)?e.parameters.length>t.parameters.length?oe.False:e.parameters.every((r,n)=>is(hr(t.parameters[n],r))===oe.True)?is(hr(e.returns,t.returns)):oe.False:oe.False}o(eK,"FromFunction");function GP(e,t){return K.IsLiteral(e)&&ci.IsNumber(e.const)||K.IsNumber(e)||K.IsInteger(e)?oe.True:oe.False}o(GP,"FromIntegerRight");function tK(e,t){return K.IsInteger(t)||K.IsNumber(t)?oe.True:_n(t)?yn(e,t):K.IsObject(t)?di(e,t):K.IsRecord(t)?os(e,t):oe.False}o(tK,"FromInteger");function r5(e,t){return t.allOf.every(r=>hr(e,r)===oe.True)?oe.True:oe.False}o(r5,"FromIntersectRight");function rK(e,t){return e.allOf.some(r=>hr(r,t)===oe.True)?oe.True:oe.False}o(rK,"FromIntersect");function nK(e,t){return _n(t)?yn(e,t):K.IsIterator(t)?is(hr(e.items,t.items)):oe.False}o(nK,"FromIterator");function iK(e,t){return K.IsLiteral(t)&&t.const===e.const?oe.True:_n(t)?yn(e,t):K.IsObject(t)?di(e,t):K.IsRecord(t)?os(e,t):K.IsString(t)?KP(e,t):K.IsNumber(t)?HP(e,t):K.IsInteger(t)?GP(e,t):K.IsBoolean(t)?qP(e,t):oe.False}o(iK,"FromLiteral");function zP(e,t){return oe.False}o(zP,"FromNeverRight");function oK(e,t){return oe.True}o(oK,"FromNever");function BP(e){let[t,r]=[e,0];for(;K.IsNot(t);)t=t.not,r+=1;return r%2===0?t:$s()}o(BP,"UnwrapTNot");function sK(e,t){return K.IsNot(e)?hr(BP(e),t):K.IsNot(t)?hr(e,BP(t)):id("Invalid fallthrough for Not")}o(sK,"FromNot");function aK(e,t){return _n(t)?yn(e,t):K.IsObject(t)?di(e,t):K.IsRecord(t)?os(e,t):K.IsNull(t)?oe.True:oe.False}o(aK,"FromNull");function HP(e,t){return K.IsLiteralNumber(e)||K.IsNumber(e)||K.IsInteger(e)?oe.True:oe.False}o(HP,"FromNumberRight");function lK(e,t){return _n(t)?yn(e,t):K.IsObject(t)?di(e,t):K.IsRecord(t)?os(e,t):K.IsInteger(t)||K.IsNumber(t)?oe.True:oe.False}o(lK,"FromNumber");function Ki(e,t){return Object.getOwnPropertyNames(e.properties).length===t}o(Ki,"IsObjectPropertyCount");function jP(e){return n5(e)}o(jP,"IsObjectStringLike");function $P(e){return Ki(e,0)||Ki(e,1)&&"description"in e.properties&&K.IsUnion(e.properties.description)&&e.properties.description.anyOf.length===2&&(K.IsString(e.properties.description.anyOf[0])&&K.IsUndefined(e.properties.description.anyOf[1])||K.IsString(e.properties.description.anyOf[1])&&K.IsUndefined(e.properties.description.anyOf[0]))}o($P,"IsObjectSymbolLike");function V6(e){return Ki(e,0)}o(V6,"IsObjectNumberLike");function WP(e){return Ki(e,0)}o(WP,"IsObjectBooleanLike");function cK(e){return Ki(e,0)}o(cK,"IsObjectBigIntLike");function uK(e){return Ki(e,0)}o(uK,"IsObjectDateLike");function fK(e){return n5(e)}o(fK,"IsObjectUint8ArrayLike");function dK(e){let t=es();return Ki(e,0)||Ki(e,1)&&"length"in e.properties&&is(hr(e.properties.length,t))===oe.True}o(dK,"IsObjectFunctionLike");function mK(e){return Ki(e,0)}o(mK,"IsObjectConstructorLike");function n5(e){let t=es();return Ki(e,0)||Ki(e,1)&&"length"in e.properties&&is(hr(e.properties.length,t))===oe.True}o(n5,"IsObjectArrayLike");function pK(e){let t=v0([Dl()],Dl());return Ki(e,0)||Ki(e,1)&&"then"in e.properties&&is(hr(e.properties.then,t))===oe.True}o(pK,"IsObjectPromiseLike");function VP(e,t){return hr(e,t)===oe.False||K.IsOptional(e)&&!K.IsOptional(t)?oe.False:oe.True}o(VP,"Property");function di(e,t){return K.IsUnknown(e)?oe.False:K.IsAny(e)?oe.Union:K.IsNever(e)||K.IsLiteralString(e)&&jP(t)||K.IsLiteralNumber(e)&&V6(t)||K.IsLiteralBoolean(e)&&WP(t)||K.IsSymbol(e)&&$P(t)||K.IsBigInt(e)&&cK(t)||K.IsString(e)&&jP(t)||K.IsSymbol(e)&&$P(t)||K.IsNumber(e)&&V6(t)||K.IsInteger(e)&&V6(t)||K.IsBoolean(e)&&WP(t)||K.IsUint8Array(e)&&fK(t)||K.IsDate(e)&&uK(t)||K.IsConstructor(e)&&mK(t)||K.IsFunction(e)&&dK(t)?oe.True:K.IsRecord(e)&&K.IsString(Y6(e))?t[Qo]==="Record"?oe.True:oe.False:K.IsRecord(e)&&K.IsNumber(Y6(e))?Ki(t,0)?oe.True:oe.False:oe.False}o(di,"FromObjectRight");function gK(e,t){return _n(t)?yn(e,t):K.IsRecord(t)?os(e,t):K.IsObject(t)?(()=>{for(let r of Object.getOwnPropertyNames(t.properties)){if(!(r in e.properties)&&!K.IsOptional(t.properties[r]))return oe.False;if(K.IsOptional(t.properties[r]))return oe.True;if(VP(e.properties[r],t.properties[r])===oe.False)return oe.False}return oe.True})():oe.False}o(gK,"FromObject");function hK(e,t){return _n(t)?yn(e,t):K.IsObject(t)&&pK(t)?oe.True:K.IsPromise(t)?is(hr(e.item,t.item)):oe.False}o(hK,"FromPromise");function Y6(e){return _0 in e.patternProperties?es():y0 in e.patternProperties?Ni():id("Unknown record key pattern")}o(Y6,"RecordKey");function J6(e){return _0 in e.patternProperties?e.patternProperties[_0]:y0 in e.patternProperties?e.patternProperties[y0]:id("Unable to get record value schema")}o(J6,"RecordValue");function os(e,t){let[r,n]=[Y6(t),J6(t)];return K.IsLiteralString(e)&&K.IsNumber(r)&&is(hr(e,n))===oe.True?oe.True:K.IsUint8Array(e)&&K.IsNumber(r)||K.IsString(e)&&K.IsNumber(r)||K.IsArray(e)&&K.IsNumber(r)?hr(e,n):K.IsObject(e)?(()=>{for(let i of Object.getOwnPropertyNames(e.properties))if(VP(n,e.properties[i])===oe.False)return oe.False;return oe.True})():oe.False}o(os,"FromRecordRight");function xK(e,t){return _n(t)?yn(e,t):K.IsObject(t)?di(e,t):K.IsRecord(t)?hr(J6(e),J6(t)):oe.False}o(xK,"FromRecord");function bK(e,t){let r=K.IsRegExp(e)?Ni():e,n=K.IsRegExp(t)?Ni():t;return hr(r,n)}o(bK,"FromRegExp");function KP(e,t){return K.IsLiteral(e)&&ci.IsString(e.const)||K.IsString(e)?oe.True:oe.False}o(KP,"FromStringRight");function _K(e,t){return _n(t)?yn(e,t):K.IsObject(t)?di(e,t):K.IsRecord(t)?os(e,t):K.IsString(t)?oe.True:oe.False}o(_K,"FromString");function yK(e,t){return _n(t)?yn(e,t):K.IsObject(t)?di(e,t):K.IsRecord(t)?os(e,t):K.IsSymbol(t)?oe.True:oe.False}o(yK,"FromSymbol");function vK(e,t){return K.IsTemplateLiteral(e)?hr(su(e),t):K.IsTemplateLiteral(t)?hr(e,su(t)):id("Invalid fallthrough for TemplateLiteral")}o(vK,"FromTemplateLiteral");function TK(e,t){return K.IsArray(t)&&e.items!==void 0&&e.items.every(r=>hr(r,t.items)===oe.True)}o(TK,"IsArrayOfTuple");function EK(e,t){return K.IsNever(e)?oe.True:K.IsUnknown(e)?oe.False:K.IsAny(e)?oe.Union:oe.False}o(EK,"FromTupleRight");function CK(e,t){return _n(t)?yn(e,t):K.IsObject(t)&&n5(t)||K.IsArray(t)&&TK(e,t)?oe.True:K.IsTuple(t)?ci.IsUndefined(e.items)&&!ci.IsUndefined(t.items)||!ci.IsUndefined(e.items)&&ci.IsUndefined(t.items)?oe.False:ci.IsUndefined(e.items)&&!ci.IsUndefined(t.items)||e.items.every((r,n)=>hr(r,t.items[n])===oe.True)?oe.True:oe.False:oe.False}o(CK,"FromTuple");function IK(e,t){return _n(t)?yn(e,t):K.IsObject(t)?di(e,t):K.IsRecord(t)?os(e,t):K.IsUint8Array(t)?oe.True:oe.False}o(IK,"FromUint8Array");function SK(e,t){return _n(t)?yn(e,t):K.IsObject(t)?di(e,t):K.IsRecord(t)?os(e,t):K.IsVoid(t)?RK(e,t):K.IsUndefined(t)?oe.True:oe.False}o(SK,"FromUndefined");function Z6(e,t){return t.anyOf.some(r=>hr(e,r)===oe.True)?oe.True:oe.False}o(Z6,"FromUnionRight");function wK(e,t){return e.anyOf.every(r=>hr(r,t)===oe.True)?oe.True:oe.False}o(wK,"FromUnion");function YP(e,t){return oe.True}o(YP,"FromUnknownRight");function PK(e,t){return K.IsNever(t)?zP(e,t):K.IsIntersect(t)?r5(e,t):K.IsUnion(t)?Z6(e,t):K.IsAny(t)?X6(e,t):K.IsString(t)?KP(e,t):K.IsNumber(t)?HP(e,t):K.IsInteger(t)?GP(e,t):K.IsBoolean(t)?qP(e,t):K.IsArray(t)?VV(e,t):K.IsTuple(t)?EK(e,t):K.IsObject(t)?di(e,t):K.IsUnknown(t)?oe.True:oe.False}o(PK,"FromUnknown");function RK(e,t){return K.IsUndefined(e)||K.IsUndefined(e)?oe.True:oe.False}o(RK,"FromVoidRight");function DK(e,t){return K.IsIntersect(t)?r5(e,t):K.IsUnion(t)?Z6(e,t):K.IsUnknown(t)?YP(e,t):K.IsAny(t)?X6(e,t):K.IsObject(t)?di(e,t):K.IsVoid(t)?oe.True:oe.False}o(DK,"FromVoid");function hr(e,t){return K.IsTemplateLiteral(e)||K.IsTemplateLiteral(t)?vK(e,t):K.IsRegExp(e)||K.IsRegExp(t)?bK(e,t):K.IsNot(e)||K.IsNot(t)?sK(e,t):K.IsAny(e)?HV(e,t):K.IsArray(e)?KV(e,t):K.IsBigInt(e)?JV(e,t):K.IsBoolean(e)?XV(e,t):K.IsAsyncIterator(e)?YV(e,t):K.IsConstructor(e)?ZV(e,t):K.IsDate(e)?QV(e,t):K.IsFunction(e)?eK(e,t):K.IsInteger(e)?tK(e,t):K.IsIntersect(e)?rK(e,t):K.IsIterator(e)?nK(e,t):K.IsLiteral(e)?iK(e,t):K.IsNever(e)?oK(e,t):K.IsNull(e)?aK(e,t):K.IsNumber(e)?lK(e,t):K.IsObject(e)?gK(e,t):K.IsRecord(e)?xK(e,t):K.IsString(e)?_K(e,t):K.IsSymbol(e)?yK(e,t):K.IsTuple(e)?CK(e,t):K.IsPromise(e)?hK(e,t):K.IsUint8Array(e)?IK(e,t):K.IsUndefined(e)?SK(e,t):K.IsUnion(e)?wK(e,t):K.IsUnknown(e)?PK(e,t):K.IsVoid(e)?DK(e,t):id(`Unknown left type operand '${e[te]}'`)}o(hr,"Visit");function Nl(e,t){return hr(e,t)}o(Nl,"ExtendsCheck");function AK(e,t,r,n,i){let s={};for(let a of globalThis.Object.getOwnPropertyNames(e))s[a]=od(e[a],t,r,n,Ar(i));return s}o(AK,"FromProperties");function NK(e,t,r,n,i){return AK(e.properties,t,r,n,i)}o(NK,"FromMappedResult");function JP(e,t,r,n,i){let s=NK(e,t,r,n,i);return Xt(s)}o(JP,"ExtendsFromMappedResult");function kK(e,t,r,n){let i=Nl(e,t);return i===oe.Union?nr([r,n]):i===oe.True?r:n}o(kK,"ExtendsResolve");function od(e,t,r,n,i){return kr(e)?JP(e,t,r,n,i):Io(e)?ie(XP(e,t,r,n,i)):ie(kK(e,t,r,n),i)}o(od,"Extends");function OK(e,t,r,n,i){return{[e]:od(qt(e),t,r,n,Ar(i))}}o(OK,"FromPropertyKey");function LK(e,t,r,n,i){return e.reduce((s,a)=>({...s,...OK(a,t,r,n,i)}),{})}o(LK,"FromPropertyKeys");function FK(e,t,r,n,i){return LK(e.keys,t,r,n,i)}o(FK,"FromMappedKey");function XP(e,t,r,n,i){let s=FK(e,t,r,n,i);return Xt(s)}o(XP,"ExtendsFromMappedKey");function MK(e){return e.allOf.every(t=>wa(t))}o(MK,"Intersect");function UK(e){return e.anyOf.some(t=>wa(t))}o(UK,"Union");function BK(e){return!wa(e.not)}o(BK,"Not");function wa(e){return e[te]==="Intersect"?MK(e):e[te]==="Union"?UK(e):e[te]==="Not"?BK(e):e[te]==="Undefined"}o(wa,"ExtendsUndefinedCheck");function ZP(e,t){return sd(su(e),t)}o(ZP,"ExcludeFromTemplateLiteral");function jK(e,t){let r=e.filter(n=>Nl(n,t)===oe.False);return r.length===1?r[0]:nr(r)}o(jK,"ExcludeRest");function sd(e,t,r={}){return So(e)?ie(ZP(e,t),r):kr(e)?ie(QP(e,t),r):ie(Kt(e)?jK(e.anyOf,t):Nl(e,t)!==oe.False?vt():e,r)}o(sd,"Exclude");function $K(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=sd(e[n],t);return r}o($K,"FromProperties");function WK(e,t){return $K(e.properties,t)}o(WK,"FromMappedResult");function QP(e,t){let r=WK(e,t);return Xt(r)}o(QP,"ExcludeFromMappedResult");function eR(e,t){return ad(su(e),t)}o(eR,"ExtractFromTemplateLiteral");function qK(e,t){let r=e.filter(n=>Nl(n,t)!==oe.False);return r.length===1?r[0]:nr(r)}o(qK,"ExtractRest");function ad(e,t,r){return So(e)?ie(eR(e,t),r):kr(e)?ie(tR(e,t),r):ie(Kt(e)?qK(e.anyOf,t):Nl(e,t)!==oe.False?e:vt(),r)}o(ad,"Extract");function GK(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=ad(e[n],t);return r}o(GK,"FromProperties");function zK(e,t){return GK(e.properties,t)}o(zK,"FromMappedResult");function tR(e,t){let r=zK(e,t);return Xt(r)}o(tR,"ExtractFromMappedResult");function rR(e,t){return Fs(e)?ie(e.returns,t):vt(t)}o(rR,"InstanceType");function i5(e){return Hi(ui(e))}o(i5,"ReadonlyOptional");function au(e,t,r){return ie({[te]:"Record",type:"object",patternProperties:{[e]:t}},r)}o(au,"RecordCreateFromPattern");function Q6(e,t,r){let n={};for(let i of e)n[i]=t;return ir(n,{...r,[Qo]:"Record"})}o(Q6,"RecordCreateFromKeys");function HK(e,t,r){return G2(e)?Q6(zi(e),t,r):au(e.pattern,t,r)}o(HK,"FromTemplateLiteralKey");function VK(e,t,r){return Q6(zi(nr(e)),t,r)}o(VK,"FromUnionKey");function KK(e,t,r){return Q6([e.toString()],t,r)}o(KK,"FromLiteralKey");function YK(e,t,r){return au(e.source,t,r)}o(YK,"FromRegExpKey");function JK(e,t,r){let n=un(e.pattern)?y0:e.pattern;return au(n,t,r)}o(JK,"FromStringKey");function XK(e,t,r){return au(y0,t,r)}o(XK,"FromAnyKey");function ZK(e,t,r){return au(fP,t,r)}o(ZK,"FromNeverKey");function QK(e,t,r){return ir({true:t,false:t},r)}o(QK,"FromBooleanKey");function eY(e,t,r){return au(_0,t,r)}o(eY,"FromIntegerKey");function tY(e,t,r){return au(_0,t,r)}o(tY,"FromNumberKey");function o5(e,t,r={}){return Kt(e)?VK(e.anyOf,t,r):So(e)?HK(e,t,r):Co(e)?KK(e.const,t,r):va(e)?QK(e,t,r):Us(e)?eY(e,t,r):Bs(e)?tY(e,t,r):N6(e)?YK(e,t,r):Ta(e)?JK(e,t,r):D6(e)?XK(e,t,r):Pl(e)?ZK(e,t,r):vt(r)}o(o5,"Record");function s5(e){return globalThis.Object.getOwnPropertyNames(e.patternProperties)[0]}o(s5,"RecordPattern");function nR(e){let t=s5(e);return t===y0?Ni():t===_0?es():Ni({pattern:t})}o(nR,"RecordKey");function a5(e){return e.patternProperties[s5(e)]}o(a5,"RecordValue");function rY(e,t){return t.parameters=U1(e,t.parameters),t.returns=Ws(e,t.returns),t}o(rY,"FromConstructor");function nY(e,t){return t.parameters=U1(e,t.parameters),t.returns=Ws(e,t.returns),t}o(nY,"FromFunction");function iY(e,t){return t.allOf=U1(e,t.allOf),t}o(iY,"FromIntersect");function oY(e,t){return t.anyOf=U1(e,t.anyOf),t}o(oY,"FromUnion");function sY(e,t){return un(t.items)||(t.items=U1(e,t.items)),t}o(sY,"FromTuple");function aY(e,t){return t.items=Ws(e,t.items),t}o(aY,"FromArray");function lY(e,t){return t.items=Ws(e,t.items),t}o(lY,"FromAsyncIterator");function cY(e,t){return t.items=Ws(e,t.items),t}o(cY,"FromIterator");function uY(e,t){return t.item=Ws(e,t.item),t}o(uY,"FromPromise");function fY(e,t){let r=gY(e,t.properties);return{...t,...ir(r)}}o(fY,"FromObject");function dY(e,t){let r=Ws(e,nR(t)),n=Ws(e,a5(t)),i=o5(r,n);return{...t,...i}}o(dY,"FromRecord");function mY(e,t){return t.index in e?e[t.index]:$s()}o(mY,"FromArgument");function pY(e,t){let r=zf(t),n=Gi(t),i=Ws(e,t);return r&&n?i5(i):r&&!n?Hi(i):!r&&n?ui(i):i}o(pY,"FromProperty");function gY(e,t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,n)=>({...r,[n]:pY(e,t[n])}),{})}o(gY,"FromProperties");function U1(e,t){return t.map(r=>Ws(e,r))}o(U1,"FromTypes");function Ws(e,t){return Fs(t)?rY(e,t):Ms(t)?nY(e,t):Jr(t)?iY(e,t):Kt(t)?oY(e,t):wo(t)?sY(e,t):Os(t)?aY(e,t):eu(t)?lY(e,t):ru(t)?cY(e,t):nu(t)?uY(e,t):fn(t)?fY(e,t):iu(t)?dY(e,t):A6(t)?mY(e,t):t}o(Ws,"FromType");function iR(e,t){return Ws(t,qf(e))}o(iR,"Instantiate");function oR(e){return ie({[te]:"Integer",type:"integer"},e)}o(oR,"Integer");function hY(e,t,r){return{[e]:qs(qt(e),t,Ar(r))}}o(hY,"MappedIntrinsicPropertyKey");function xY(e,t,r){return e.reduce((i,s)=>({...i,...hY(s,t,r)}),{})}o(xY,"MappedIntrinsicPropertyKeys");function bY(e,t,r){return xY(e.keys,t,r)}o(bY,"MappedIntrinsicProperties");function sR(e,t,r){let n=bY(e,t,r);return Xt(n)}o(sR,"IntrinsicFromMappedKey");function _Y(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toLowerCase(),r].join("")}o(_Y,"ApplyUncapitalize");function yY(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toUpperCase(),r].join("")}o(yY,"ApplyCapitalize");function vY(e){return e.toUpperCase()}o(vY,"ApplyUppercase");function TY(e){return e.toLowerCase()}o(TY,"ApplyLowercase");function EY(e,t,r){let n=Zf(e.pattern);if(!ou(n))return{...e,pattern:aR(e.pattern,t)};let a=[...O1(n)].map(u=>qt(u)),l=lR(a,t),c=nr(l);return H2([c],r)}o(EY,"FromTemplateLiteral");function aR(e,t){return typeof e=="string"?t==="Uncapitalize"?_Y(e):t==="Capitalize"?yY(e):t==="Uppercase"?vY(e):t==="Lowercase"?TY(e):e:e.toString()}o(aR,"FromLiteralValue");function lR(e,t){return e.map(r=>qs(r,t))}o(lR,"FromRest");function qs(e,t,r={}){return Io(e)?sR(e,t,r):So(e)?EY(e,t,r):Kt(e)?nr(lR(e.anyOf,t),r):Co(e)?qt(aR(e.const,t),r):ie(e,r)}o(qs,"Intrinsic");function cR(e,t={}){return qs(e,"Capitalize",t)}o(cR,"Capitalize");function uR(e,t={}){return qs(e,"Lowercase",t)}o(uR,"Lowercase");function fR(e,t={}){return qs(e,"Uncapitalize",t)}o(fR,"Uncapitalize");function dR(e,t={}){return qs(e,"Uppercase",t)}o(dR,"Uppercase");function CY(e,t,r){let n={};for(let i of globalThis.Object.getOwnPropertyNames(e))n[i]=kl(e[i],t,Ar(r));return n}o(CY,"FromProperties");function IY(e,t,r){return CY(e.properties,t,r)}o(IY,"FromMappedResult");function mR(e,t,r){let n=IY(e,t,r);return Xt(n)}o(mR,"OmitFromMappedResult");function SY(e,t){return e.map(r=>e7(r,t))}o(SY,"FromIntersect");function wY(e,t){return e.map(r=>e7(r,t))}o(wY,"FromUnion");function PY(e,t){let{[t]:r,...n}=e;return n}o(PY,"FromProperty");function RY(e,t){return t.reduce((r,n)=>PY(r,n),e)}o(RY,"FromProperties");function DY(e,t){let r=Xr(e,[qr,"$id","required","properties"]),n=RY(e.properties,t);return ir(n,r)}o(DY,"FromObject");function AY(e){let t=e.reduce((r,n)=>$2(n)?[...r,qt(n)]:r,[]);return nr(t)}o(AY,"UnionFromPropertyKeys");function e7(e,t){return Jr(e)?fi(SY(e.allOf,t)):Kt(e)?nr(wY(e.anyOf,t)):fn(e)?DY(e,t):ir({})}o(e7,"OmitResolve");function kl(e,t,r){let n=cn(t)?AY(t):t,i=Gr(t)?zi(t):t,s=rn(e),a=rn(t);return kr(e)?mR(e,i,r):Io(t)?pR(e,t,r):s&&a?wr("Omit",[e,n],r):!s&&a?wr("Omit",[e,n],r):s&&!a?wr("Omit",[e,n],r):ie({...e7(e,i),...r})}o(kl,"Omit");function NY(e,t,r){return{[t]:kl(e,[t],Ar(r))}}o(NY,"FromPropertyKey");function kY(e,t,r){return t.reduce((n,i)=>({...n,...NY(e,i,r)}),{})}o(kY,"FromPropertyKeys");function OY(e,t,r){return kY(e,t.keys,r)}o(OY,"FromMappedKey");function pR(e,t,r){let n=OY(e,t,r);return Xt(n)}o(pR,"OmitFromMappedKey");function LY(e,t,r){let n={};for(let i of globalThis.Object.getOwnPropertyNames(e))n[i]=Ol(e[i],t,Ar(r));return n}o(LY,"FromProperties");function FY(e,t,r){return LY(e.properties,t,r)}o(FY,"FromMappedResult");function gR(e,t,r){let n=FY(e,t,r);return Xt(n)}o(gR,"PickFromMappedResult");function MY(e,t){return e.map(r=>t7(r,t))}o(MY,"FromIntersect");function UY(e,t){return e.map(r=>t7(r,t))}o(UY,"FromUnion");function BY(e,t){let r={};for(let n of t)n in e&&(r[n]=e[n]);return r}o(BY,"FromProperties");function jY(e,t){let r=Xr(e,[qr,"$id","required","properties"]),n=BY(e.properties,t);return ir(n,r)}o(jY,"FromObject");function $Y(e){let t=e.reduce((r,n)=>$2(n)?[...r,qt(n)]:r,[]);return nr(t)}o($Y,"UnionFromPropertyKeys");function t7(e,t){return Jr(e)?fi(MY(e.allOf,t)):Kt(e)?nr(UY(e.anyOf,t)):fn(e)?jY(e,t):ir({})}o(t7,"PickResolve");function Ol(e,t,r){let n=cn(t)?$Y(t):t,i=Gr(t)?zi(t):t,s=rn(e),a=rn(t);return kr(e)?gR(e,i,r):Io(t)?hR(e,t,r):s&&a?wr("Pick",[e,n],r):!s&&a?wr("Pick",[e,n],r):s&&!a?wr("Pick",[e,n],r):ie({...t7(e,i),...r})}o(Ol,"Pick");function WY(e,t,r){return{[t]:Ol(e,[t],Ar(r))}}o(WY,"FromPropertyKey");function qY(e,t,r){return t.reduce((n,i)=>({...n,...WY(e,i,r)}),{})}o(qY,"FromPropertyKeys");function GY(e,t,r){return qY(e,t.keys,r)}o(GY,"FromMappedKey");function hR(e,t,r){let n=GY(e,t,r);return Xt(n)}o(hR,"PickFromMappedKey");function zY(e,t){return wr("Partial",[wr(e,t)])}o(zY,"FromComputed");function HY(e){return wr("Partial",[ns(e)])}o(HY,"FromRef");function VY(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=ui(e[r]);return t}o(VY,"FromProperties");function KY(e){let t=Xr(e,[qr,"$id","required","properties"]),r=VY(e.properties);return ir(r,t)}o(KY,"FromObject");function xR(e){return e.map(t=>bR(t))}o(xR,"FromRest");function bR(e){return Ls(e)?zY(e.target,e.parameters):rn(e)?HY(e.$ref):Jr(e)?fi(xR(e.allOf)):Kt(e)?nr(xR(e.anyOf)):fn(e)?KY(e):tu(e)||va(e)||Us(e)||Co(e)||w1(e)||Bs(e)||Ta(e)||P1(e)||Ea(e)?e:ir({})}o(bR,"PartialResolve");function ld(e,t){return kr(e)?_R(e,t):ie({...bR(e),...t})}o(ld,"Partial");function YY(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=ld(e[n],Ar(t));return r}o(YY,"FromProperties");function JY(e,t){return YY(e.properties,t)}o(JY,"FromMappedResult");function _R(e,t){let r=JY(e,t);return Xt(r)}o(_R,"PartialFromMappedResult");function XY(e,t){return wr("Required",[wr(e,t)])}o(XY,"FromComputed");function ZY(e){return wr("Required",[ns(e)])}o(ZY,"FromRef");function QY(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Xr(e[r],[Xn]);return t}o(QY,"FromProperties");function eJ(e){let t=Xr(e,[qr,"$id","required","properties"]),r=QY(e.properties);return ir(r,t)}o(eJ,"FromObject");function yR(e){return e.map(t=>vR(t))}o(yR,"FromRest");function vR(e){return Ls(e)?XY(e.target,e.parameters):rn(e)?ZY(e.$ref):Jr(e)?fi(yR(e.allOf)):Kt(e)?nr(yR(e.anyOf)):fn(e)?eJ(e):tu(e)||va(e)||Us(e)||Co(e)||w1(e)||Bs(e)||Ta(e)||P1(e)||Ea(e)?e:ir({})}o(vR,"RequiredResolve");function cd(e,t){return kr(e)?TR(e,t):ie({...vR(e),...t})}o(cd,"Required");function tJ(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=cd(e[n],t);return r}o(tJ,"FromProperties");function rJ(e,t){return tJ(e.properties,t)}o(rJ,"FromMappedResult");function TR(e,t){let r=rJ(e,t);return Xt(r)}o(TR,"RequiredFromMappedResult");function nJ(e,t){return t.map(r=>rn(r)?r7(e,r.$ref):Po(e,r))}o(nJ,"DereferenceParameters");function r7(e,t){return t in e?rn(e[t])?r7(e,e[t].$ref):Po(e,e[t]):vt()}o(r7,"Dereference");function iJ(e){return rd(e[0])}o(iJ,"FromAwaited");function oJ(e){return Al(e[0],e[1])}o(oJ,"FromIndex");function sJ(e){return nd(e[0])}o(sJ,"FromKeyOf");function aJ(e){return ld(e[0])}o(aJ,"FromPartial");function lJ(e){return kl(e[0],e[1])}o(lJ,"FromOmit");function cJ(e){return Ol(e[0],e[1])}o(cJ,"FromPick");function uJ(e){return cd(e[0])}o(uJ,"FromRequired");function fJ(e,t,r){let n=nJ(e,r);return t==="Awaited"?iJ(n):t==="Index"?oJ(n):t==="KeyOf"?sJ(n):t==="Partial"?aJ(n):t==="Omit"?lJ(n):t==="Pick"?cJ(n):t==="Required"?uJ(n):vt()}o(fJ,"FromComputed");function dJ(e,t){return Kf(Po(e,t))}o(dJ,"FromArray");function mJ(e,t){return Yf(Po(e,t))}o(mJ,"FromAsyncIterator");function pJ(e,t,r){return Jf(B1(e,t),Po(e,r))}o(pJ,"FromConstructor");function gJ(e,t,r){return v0(B1(e,t),Po(e,r))}o(gJ,"FromFunction");function hJ(e,t){return fi(B1(e,t))}o(hJ,"FromIntersect");function xJ(e,t){return td(Po(e,t))}o(xJ,"FromIterator");function bJ(e,t){return ir(globalThis.Object.keys(t).reduce((r,n)=>({...r,[n]:Po(e,t[n])}),{}))}o(bJ,"FromObject");function _J(e,t){let[r,n]=[Po(e,a5(t)),s5(t)],i=qf(t);return i.patternProperties[n]=r,i}o(_J,"FromRecord");function yJ(e,t){return rn(t)?{...r7(e,t.$ref),[qr]:t[qr]}:t}o(yJ,"FromTransform");function vJ(e,t){return ts(B1(e,t))}o(vJ,"FromTuple");function TJ(e,t){return nr(B1(e,t))}o(TJ,"FromUnion");function B1(e,t){return t.map(r=>Po(e,r))}o(B1,"FromTypes");function Po(e,t){return Gi(t)?ie(Po(e,Xr(t,[Xn])),t):zf(t)?ie(Po(e,Xr(t,[ks])),t):rr(t)?ie(yJ(e,t),t):Os(t)?ie(dJ(e,t.items),t):eu(t)?ie(mJ(e,t.items),t):Ls(t)?ie(fJ(e,t.target,t.parameters)):Fs(t)?ie(pJ(e,t.parameters,t.returns),t):Ms(t)?ie(gJ(e,t.parameters,t.returns),t):Jr(t)?ie(hJ(e,t.allOf),t):ru(t)?ie(xJ(e,t.items),t):fn(t)?ie(bJ(e,t.properties),t):iu(t)?ie(_J(e,t)):wo(t)?ie(vJ(e,t.items||[]),t):Kt(t)?ie(TJ(e,t.anyOf),t):t}o(Po,"FromType");function EJ(e,t){return t in e?Po(e,e[t]):vt()}o(EJ,"ComputeType");function ER(e){return globalThis.Object.getOwnPropertyNames(e).reduce((t,r)=>({...t,[r]:EJ(e,r)}),{})}o(ER,"ComputeModuleProperties");var n7=class{static{o(this,"TModule")}constructor(t){let r=ER(t),n=this.WithIdentifiers(r);this.$defs=n}Import(t,r){let n={...this.$defs,[t]:ie(this.$defs[t],r)};return ie({[te]:"Import",$defs:n,$ref:t})}WithIdentifiers(t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,n)=>({...r,[n]:{...t[n],$id:n}}),{})}};function CR(e){return new n7(e)}o(CR,"Module");function IR(e,t){return ie({[te]:"Not",not:e},t)}o(IR,"Not");function SR(e,t){return Ms(e)?ts(e.parameters,t):vt()}o(SR,"Parameters");var CJ=0;function wR(e,t={}){un(t.$id)&&(t.$id=`T${CJ++}`);let r=qf(e({[te]:"This",$ref:`${t.$id}`}));return r.$id=t.$id,ie({[Qo]:"Recursive",...r},t)}o(wR,"Recursive");function PR(e,t){let r=vr(e)?new globalThis.RegExp(e):e;return ie({[te]:"RegExp",type:"RegExp",source:r.source,flags:r.flags},t)}o(PR,"RegExp");function IJ(e){return Jr(e)?e.allOf:Kt(e)?e.anyOf:wo(e)?e.items??[]:[]}o(IJ,"RestResolve");function RR(e){return IJ(e)}o(RR,"Rest");function DR(e,t){return Ms(e)?ie(e.returns,t):vt(t)}o(DR,"ReturnType");var i7=class{static{o(this,"TransformDecodeBuilder")}constructor(t){this.schema=t}Decode(t){return new o7(this.schema,t)}},o7=class{static{o(this,"TransformEncodeBuilder")}constructor(t,r){this.schema=t,this.decode=r}EncodeTransform(t,r){let s={Encode:o(a=>r[qr].Encode(t(a)),"Encode"),Decode:o(a=>this.decode(r[qr].Decode(a)),"Decode")};return{...r,[qr]:s}}EncodeSchema(t,r){let n={Decode:this.decode,Encode:t};return{...r,[qr]:n}}Encode(t){return rr(this.schema)?this.EncodeTransform(t,this.schema):this.EncodeSchema(t,this.schema)}};function AR(e){return new i7(e)}o(AR,"Transform");function NR(e={}){return ie({[te]:e[te]??"Unsafe"},e)}o(NR,"Unsafe");function kR(e){return ie({[te]:"Void",type:"void"},e)}o(kR,"Void");var s7={};d0(s7,{Any:()=>Dl,Argument:()=>hP,Array:()=>Kf,AsyncIterator:()=>Yf,Awaited:()=>rd,BigInt:()=>ed,Boolean:()=>z2,Capitalize:()=>cR,Composite:()=>LP,Const:()=>FP,Constructor:()=>Jf,ConstructorParameters:()=>MP,Date:()=>J2,Enum:()=>UP,Exclude:()=>sd,Extends:()=>od,Extract:()=>ad,Function:()=>v0,Index:()=>Al,InstanceType:()=>rR,Instantiate:()=>iR,Integer:()=>oR,Intersect:()=>fi,Iterator:()=>td,KeyOf:()=>nd,Literal:()=>qt,Lowercase:()=>uR,Mapped:()=>RP,Module:()=>CR,Never:()=>vt,Not:()=>IR,Null:()=>X2,Number:()=>es,Object:()=>ir,Omit:()=>kl,Optional:()=>ui,Parameters:()=>SR,Partial:()=>ld,Pick:()=>Ol,Promise:()=>K2,Readonly:()=>Hi,ReadonlyOptional:()=>i5,Record:()=>o5,Recursive:()=>wR,Ref:()=>ns,RegExp:()=>PR,Required:()=>cd,Rest:()=>RR,ReturnType:()=>DR,String:()=>Ni,Symbol:()=>Z2,TemplateLiteral:()=>H2,Transform:()=>AR,Tuple:()=>ts,Uint8Array:()=>e5,Uncapitalize:()=>fR,Undefined:()=>Q2,Union:()=>nr,Unknown:()=>$s,Unsafe:()=>NR,Uppercase:()=>dR,Void:()=>kR});var j=s7;var Fve=10*60*1e3,j1={Gpt35turbo:"gpt-3.5-turbo",Gpt4:"gpt-4",Gpt4turbo:"gpt-4-turbo",Gpt4o:"gpt-4o",Gpt4oMini:"gpt-4o-mini",O1Mini:"o1-mini",O1Ga:"o1-ga",Claude35Sonnet:"claude-3.5-sonnet",O3Mini:"o3-mini",Gemini20Flash:"gemini-2.0-flash",Gemini20Pro:"gemini-2.0-pro",Claude37Sonnet:"claude-3.7-sonnet",Claude37SonnetThought:"claude-3.7-sonnet-thought",Gpt45:"gpt-4.5",Gpt41:"gpt-4.1",CopilotBase:"copilot-base",Unknown:"unknown"},Mve=new Set([j1.O1Ga,j1.O3Mini,j1.O1Mini,j1.Gemini20Pro,j1.Gemini20Flash]);var SJ=j.Object({type:j.Union([j.Literal("chat"),j.Literal("embeddings"),j.Literal("completion")]),tokenizer:j.String(),family:j.String(),object:j.String(),supports:j.Optional(j.Object({tool_calls:j.Optional(j.Boolean()),parallel_tool_calls:j.Optional(j.Boolean()),streaming:j.Optional(j.Boolean()),vision:j.Optional(j.Boolean())})),limits:j.Optional(j.Object({max_inputs:j.Optional(j.Number()),max_prompt_tokens:j.Optional(j.Number()),max_output_tokens:j.Optional(j.Number()),max_context_window_tokens:j.Optional(j.Number())}))}),wJ=j.Object({id:j.String(),name:j.String(),version:j.String(),model_picker_enabled:j.Boolean(),is_chat_default:j.Optional(j.Boolean()),is_chat_fallback:j.Optional(j.Boolean()),capabilities:SJ,billing:j.Optional(j.Object({is_premium:j.Optional(j.Boolean()),multiplier:j.Optional(j.Number())})),object:j.String(),preview:j.Optional(j.Boolean()),isExperimental:j.Optional(j.Boolean()),policy:j.Optional(j.Object({state:j.String(),terms:j.String()}))}),OR=j.Object({data:j.Array(wJ)});function $1(e){let t=Ze(e,de.UserSelectedCompletionModel);return typeof t=="string"&&t.length>0?t:null}o($1,"getUserSelectedModelConfiguration");var ud=class extends Error{constructor(r,n){super(r,{cause:n});this.code="CopilotPromptLoadFailure"}static{o(this,"CopilotPromptLoadFailure")}};var l5=Lt(require("vscode"));async function c5(e){return await l5.default.workspace.fs.readFile(FR(e))}o(c5,"readFile");function LR(e){return FR(e).toString()}o(LR,"locateFile");function FR(e){let{extensionUri:t}=l5.default.extensions.getExtension("github.copilot");return l5.default.Uri.joinPath(t,"dist",e)}o(FR,"remoteUri");var fd=Lt(JR());var q1=new Map;function mi(e="o200k_base"){let t=q1.get(e);return t!==void 0?t:q1.get("o200k_base")}o(mi,"getTokenizer");async function qJ(e){if(!e.endsWith(".tiktoken.noindex"))throw new Error("File does not end with .tiktoken.noindex");let t=await c5(e),r=new Map,n=[];for(let i=0;i<t.length;i++){if(t[i]!==255||n.length===0){n.push(t[i]);continue}r.set(Uint8Array.from(n),r.size),n=[]}return r.set(Uint8Array.from(n),r.size),r}o(qJ,"parseTikTokenNoIndex");var g5=class e{constructor(t){this._tokenizer=t}static{o(this,"TTokenizer")}static async create(t){try{let r=(0,fd.createTokenizer)(await qJ(`resources/${t}.tiktoken.noindex`),(0,fd.getSpecialTokensByEncoder)(t),(0,fd.getRegexByEncoder)(t),32768);return new e(r)}catch(r){throw r instanceof Error?new ud("Could not load tokenizer",r):r}}tokenize(t){return this._tokenizer.encode(t)}detokenize(t){return this._tokenizer.decode(t)}tokenLength(t){return this.tokenize(t).length}tokenizeStrings(t){return this.tokenize(t).map(n=>this.detokenize([n]))}takeLastTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,s=Math.min(t.length,r*n),a=t.slice(-s),l=this.tokenize(a);for(;l.length<r+2&&s<t.length;)s=Math.min(t.length,s+r*i),a=t.slice(-s),l=this.tokenize(a);return l.length<r?{text:t,tokens:l}:(l=l.slice(-r),{text:this.detokenize(l),tokens:l})}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,s=Math.min(t.length,r*n),a=t.slice(0,s),l=this.tokenize(a);for(;l.length<r+2&&s<t.length;)s=Math.min(t.length,s+r*i),a=t.slice(0,s),l=this.tokenize(a);return l.length<r?{text:t,tokens:l}:(l=l.slice(0,r),{text:this.detokenize(l),tokens:l})}takeLastLinesTokens(t,r){let{text:n}=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}},h7=class{constructor(){this.hash=o(t=>{let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);r=(r<<5)-r+i,r&=r&65535}return r},"hash")}static{o(this,"MockTokenizer")}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(r=>r.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,r){let n=this.tokenizeStrings(t).slice(-r);return{text:n.join(""),tokens:n.map(this.hash)}}takeFirstTokens(t,r){let n=this.tokenizeStrings(t).slice(0,r);return{text:n.join(""),tokens:n.map(this.hash)}}takeLastLinesTokens(t,r){let{text:n}=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}},GJ={cl100k_base:{python:3.99,typescript:4.54,typescriptreact:4.58,javascript:4.76,csharp:5.13,java:4.86,cpp:3.85,php:4.1,html:4.57,vue:4.22,go:3.93,dart:5.66,javascriptreact:4.81,css:3.37},o200k_base:{python:4.05,typescript:4.12,typescriptreact:5.01,javascript:4.47,csharp:5.47,java:4.86,cpp:3.8,php:4.35,html:4.86,vue:4.3,go:4.21,dart:5.7,javascriptreact:4.83,css:3.33}},h5=class{constructor(t="o200k_base",r){this.languageId=r;this.tokenizerName=t}static{o(this,"ApproximateTokenizer")}tokenize(t){throw new Error("Not implemented")}detokenize(t){throw new Error("Not implemented")}tokenizeStrings(t){throw new Error("Not implemented")}getEffectiveTokenLength(){return this.tokenizerName&&this.languageId?GJ[this.tokenizerName]?.[this.languageId]??4:4}tokenLength(t){return Math.ceil(t.length/this.getEffectiveTokenLength())}takeLastTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=t.slice(-Math.floor(r*this.getEffectiveTokenLength()));return{text:n,tokens:Array.from({length:this.tokenLength(n)},(i,s)=>s)}}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=t.slice(0,Math.floor(r*this.getEffectiveTokenLength()));return{text:n,tokens:Array.from({length:this.tokenLength(n)},(i,s)=>s)}}takeLastLinesTokens(t,r){throw new Error("Not implemented")}},XR=(async()=>{q1.set("mock",new h7),q1.set("cl100k_base",await g5.create("cl100k_base")),q1.set("o200k_base",await g5.create("o200k_base"))})();function zJ(e){switch(e.errorType){case ee.ArrayContains:return"Expected array to contain at least one matching value";case ee.ArrayMaxContains:return`Expected array to contain no more than ${e.schema.maxContains} matching values`;case ee.ArrayMinContains:return`Expected array to contain at least ${e.schema.minContains} matching values`;case ee.ArrayMaxItems:return`Expected array length to be less or equal to ${e.schema.maxItems}`;case ee.ArrayMinItems:return`Expected array length to be greater or equal to ${e.schema.minItems}`;case ee.ArrayUniqueItems:return"Expected array elements to be unique";case ee.Array:return"Expected array";case ee.AsyncIterator:return"Expected AsyncIterator";case ee.BigIntExclusiveMaximum:return`Expected bigint to be less than ${e.schema.exclusiveMaximum}`;case ee.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${e.schema.exclusiveMinimum}`;case ee.BigIntMaximum:return`Expected bigint to be less or equal to ${e.schema.maximum}`;case ee.BigIntMinimum:return`Expected bigint to be greater or equal to ${e.schema.minimum}`;case ee.BigIntMultipleOf:return`Expected bigint to be a multiple of ${e.schema.multipleOf}`;case ee.BigInt:return"Expected bigint";case ee.Boolean:return"Expected boolean";case ee.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${e.schema.exclusiveMinimumTimestamp}`;case ee.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${e.schema.exclusiveMaximumTimestamp}`;case ee.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${e.schema.minimumTimestamp}`;case ee.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${e.schema.maximumTimestamp}`;case ee.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${e.schema.multipleOfTimestamp}`;case ee.Date:return"Expected Date";case ee.Function:return"Expected function";case ee.IntegerExclusiveMaximum:return`Expected integer to be less than ${e.schema.exclusiveMaximum}`;case ee.IntegerExclusiveMinimum:return`Expected integer to be greater than ${e.schema.exclusiveMinimum}`;case ee.IntegerMaximum:return`Expected integer to be less or equal to ${e.schema.maximum}`;case ee.IntegerMinimum:return`Expected integer to be greater or equal to ${e.schema.minimum}`;case ee.IntegerMultipleOf:return`Expected integer to be a multiple of ${e.schema.multipleOf}`;case ee.Integer:return"Expected integer";case ee.IntersectUnevaluatedProperties:return"Unexpected property";case ee.Intersect:return"Expected all values to match";case ee.Iterator:return"Expected Iterator";case ee.Literal:return`Expected ${typeof e.schema.const=="string"?`'${e.schema.const}'`:e.schema.const}`;case ee.Never:return"Never";case ee.Not:return"Value should not match";case ee.Null:return"Expected null";case ee.NumberExclusiveMaximum:return`Expected number to be less than ${e.schema.exclusiveMaximum}`;case ee.NumberExclusiveMinimum:return`Expected number to be greater than ${e.schema.exclusiveMinimum}`;case ee.NumberMaximum:return`Expected number to be less or equal to ${e.schema.maximum}`;case ee.NumberMinimum:return`Expected number to be greater or equal to ${e.schema.minimum}`;case ee.NumberMultipleOf:return`Expected number to be a multiple of ${e.schema.multipleOf}`;case ee.Number:return"Expected number";case ee.Object:return"Expected object";case ee.ObjectAdditionalProperties:return"Unexpected property";case ee.ObjectMaxProperties:return`Expected object to have no more than ${e.schema.maxProperties} properties`;case ee.ObjectMinProperties:return`Expected object to have at least ${e.schema.minProperties} properties`;case ee.ObjectRequiredProperty:return"Expected required property";case ee.Promise:return"Expected Promise";case ee.RegExp:return"Expected string to match regular expression";case ee.StringFormatUnknown:return`Unknown format '${e.schema.format}'`;case ee.StringFormat:return`Expected string to match '${e.schema.format}' format`;case ee.StringMaxLength:return`Expected string length less or equal to ${e.schema.maxLength}`;case ee.StringMinLength:return`Expected string length greater or equal to ${e.schema.minLength}`;case ee.StringPattern:return`Expected string to match '${e.schema.pattern}'`;case ee.String:return"Expected string";case ee.Symbol:return"Expected symbol";case ee.TupleLength:return`Expected tuple to have ${e.schema.maxItems||0} elements`;case ee.Tuple:return"Expected tuple";case ee.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${e.schema.maxByteLength}`;case ee.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${e.schema.minByteLength}`;case ee.Uint8Array:return"Expected Uint8Array";case ee.Undefined:return"Expected undefined";case ee.Union:return"Expected union value";case ee.Void:return"Expected void";case ee.Kind:return`Expected kind '${e.schema[te]}'`;default:return"Unknown error type"}}o(zJ,"DefaultErrorFunction");var HJ=zJ;function ZR(){return HJ}o(ZR,"GetErrorFunction");var x7=class extends lt{static{o(this,"TypeDereferenceError")}constructor(t){super(`Unable to dereference schema with $id '${t.$ref}'`),this.schema=t}};function VJ(e,t){let r=t.find(n=>n.$id===e.$ref);if(r===void 0)throw new x7(e);return Zt(r,t)}o(VJ,"Resolve");function Bn(e,t){return!Vt(e.$id)||t.some(r=>r.$id===e.$id)||t.push(e),t}o(Bn,"Pushref");function Zt(e,t){return e[te]==="This"||e[te]==="Ref"?VJ(e,t):e}o(Zt,"Deref");var b7=class extends lt{static{o(this,"ValueHashError")}constructor(t){super("Unable to hash value"),this.value=t}},Ro;(function(e){e[e.Undefined=0]="Undefined",e[e.Null=1]="Null",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Object=5]="Object",e[e.Array=6]="Array",e[e.Date=7]="Date",e[e.Uint8Array=8]="Uint8Array",e[e.Symbol=9]="Symbol",e[e.BigInt=10]="BigInt"})(Ro||(Ro={}));var dd=BigInt("14695981039346656037"),[KJ,YJ]=[BigInt("1099511628211"),BigInt("18446744073709551616")],JJ=Array.from({length:256}).map((e,t)=>BigInt(t)),QR=new Float64Array(1),eD=new DataView(QR.buffer),tD=new Uint8Array(QR.buffer);function*XJ(e){let t=e===0?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let r=0;r<t;r++)yield e>>8*(t-1-r)&255}o(XJ,"NumberToBytes");function ZJ(e){pi(Ro.Array);for(let t of e)md(t)}o(ZJ,"ArrayType");function QJ(e){pi(Ro.Boolean),pi(e?1:0)}o(QJ,"BooleanType");function eX(e){pi(Ro.BigInt),eD.setBigInt64(0,e);for(let t of tD)pi(t)}o(eX,"BigIntType");function tX(e){pi(Ro.Date),md(e.getTime())}o(tX,"DateType");function rX(e){pi(Ro.Null)}o(rX,"NullType");function nX(e){pi(Ro.Number),eD.setFloat64(0,e);for(let t of tD)pi(t)}o(nX,"NumberType");function iX(e){pi(Ro.Object);for(let t of globalThis.Object.getOwnPropertyNames(e).sort())md(t),md(e[t])}o(iX,"ObjectType");function oX(e){pi(Ro.String);for(let t=0;t<e.length;t++)for(let r of XJ(e.charCodeAt(t)))pi(r)}o(oX,"StringType");function sX(e){pi(Ro.Symbol),md(e.description)}o(sX,"SymbolType");function aX(e){pi(Ro.Uint8Array);for(let t=0;t<e.length;t++)pi(e[t])}o(aX,"Uint8ArrayType");function lX(e){return pi(Ro.Undefined)}o(lX,"UndefinedType");function md(e){if(at(e))return ZJ(e);if(b0(e))return QJ(e);if(Jn(e))return eX(e);if(Di(e))return tX(e);if(_a(e))return rX(e);if(ze(e))return nX(e);if(It(e))return iX(e);if(Vt(e))return oX(e);if(ya(e))return sX(e);if(Gf(e))return aX(e);if(Nr(e))return lX(e);throw new b7(e)}o(md,"Visit");function pi(e){dd=dd^JJ[e],dd=dd*KJ%YJ}o(pi,"FNV1A64");function Fl(e){return dd=BigInt("14695981039346656037"),md(e),dd}o(Fl,"Hash");var _7=class extends lt{static{o(this,"ValueCheckUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}};function cX(e){return e[te]==="Any"||e[te]==="Unknown"}o(cX,"IsAnyOrUnknown");function Ft(e){return e!==void 0}o(Ft,"IsDefined");function uX(e,t,r){return!0}o(uX,"FromAny");function fX(e,t,r){return!0}o(fX,"FromArgument");function dX(e,t,r){if(!at(r)||Ft(e.minItems)&&!(r.length>=e.minItems)||Ft(e.maxItems)&&!(r.length<=e.maxItems)||!r.every(s=>jn(e.items,t,s))||e.uniqueItems===!0&&!function(){let s=new Set;for(let a of r){let l=Fl(a);if(s.has(l))return!1;s.add(l)}return!0}())return!1;if(!(Ft(e.contains)||ze(e.minContains)||ze(e.maxContains)))return!0;let n=Ft(e.contains)?e.contains:vt(),i=r.reduce((s,a)=>jn(n,t,a)?s+1:s,0);return!(i===0||ze(e.minContains)&&i<e.minContains||ze(e.maxContains)&&i>e.maxContains)}o(dX,"FromArray");function mX(e,t,r){return M2(r)}o(mX,"FromAsyncIterator");function pX(e,t,r){return!(!Jn(r)||Ft(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||Ft(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||Ft(e.maximum)&&!(r<=e.maximum)||Ft(e.minimum)&&!(r>=e.minimum)||Ft(e.multipleOf)&&r%e.multipleOf!==BigInt(0))}o(pX,"FromBigInt");function gX(e,t,r){return b0(r)}o(gX,"FromBoolean");function hX(e,t,r){return jn(e.returns,t,r.prototype)}o(hX,"FromConstructor");function xX(e,t,r){return!(!Di(r)||Ft(e.exclusiveMaximumTimestamp)&&!(r.getTime()<e.exclusiveMaximumTimestamp)||Ft(e.exclusiveMinimumTimestamp)&&!(r.getTime()>e.exclusiveMinimumTimestamp)||Ft(e.maximumTimestamp)&&!(r.getTime()<=e.maximumTimestamp)||Ft(e.minimumTimestamp)&&!(r.getTime()>=e.minimumTimestamp)||Ft(e.multipleOfTimestamp)&&r.getTime()%e.multipleOfTimestamp!==0)}o(xX,"FromDate");function bX(e,t,r){return wl(r)}o(bX,"FromFunction");function _X(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return jn(i,[...t,...n],r)}o(_X,"FromImport");function yX(e,t,r){return!(!j2(r)||Ft(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||Ft(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||Ft(e.maximum)&&!(r<=e.maximum)||Ft(e.minimum)&&!(r>=e.minimum)||Ft(e.multipleOf)&&r%e.multipleOf!==0)}o(yX,"FromInteger");function vX(e,t,r){let n=e.allOf.every(i=>jn(i,t,r));if(e.unevaluatedProperties===!1){let i=new RegExp(Sa(e)),s=Object.getOwnPropertyNames(r).every(a=>i.test(a));return n&&s}else if(Gr(e.unevaluatedProperties)){let i=new RegExp(Sa(e)),s=Object.getOwnPropertyNames(r).every(a=>i.test(a)||jn(e.unevaluatedProperties,t,r[a]));return n&&s}else return n}o(vX,"FromIntersect");function TX(e,t,r){return U2(r)}o(TX,"FromIterator");function EX(e,t,r){return r===e.const}o(EX,"FromLiteral");function CX(e,t,r){return!1}o(CX,"FromNever");function IX(e,t,r){return!jn(e.not,t,r)}o(IX,"FromNot");function SX(e,t,r){return _a(r)}o(SX,"FromNull");function wX(e,t,r){return!(!Sr.IsNumberLike(r)||Ft(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||Ft(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||Ft(e.minimum)&&!(r>=e.minimum)||Ft(e.maximum)&&!(r<=e.maximum)||Ft(e.multipleOf)&&r%e.multipleOf!==0)}o(wX,"FromNumber");function PX(e,t,r){if(!Sr.IsObjectLike(r)||Ft(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||Ft(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let n=Object.getOwnPropertyNames(e.properties);for(let i of n){let s=e.properties[i];if(e.required&&e.required.includes(i)){if(!jn(s,t,r[i])||(wa(s)||cX(s))&&!(i in r))return!1}else if(Sr.IsExactOptionalProperty(r,i)&&!jn(s,t,r[i]))return!1}if(e.additionalProperties===!1){let i=Object.getOwnPropertyNames(r);return e.required&&e.required.length===n.length&&i.length===n.length?!0:i.every(s=>n.includes(s))}else return typeof e.additionalProperties=="object"?Object.getOwnPropertyNames(r).every(s=>n.includes(s)||jn(e.additionalProperties,t,r[s])):!0}o(PX,"FromObject");function RX(e,t,r){return B2(r)}o(RX,"FromPromise");function DX(e,t,r){if(!Sr.IsRecordLike(r)||Ft(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||Ft(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let[n,i]=Object.entries(e.patternProperties)[0],s=new RegExp(n),a=Object.entries(r).every(([u,f])=>s.test(u)?jn(i,t,f):!0),l=typeof e.additionalProperties=="object"?Object.entries(r).every(([u,f])=>s.test(u)?!0:jn(e.additionalProperties,t,f)):!0,c=e.additionalProperties===!1?Object.getOwnPropertyNames(r).every(u=>s.test(u)):!0;return a&&l&&c}o(DX,"FromRecord");function AX(e,t,r){return jn(Zt(e,t),t,r)}o(AX,"FromRef");function NX(e,t,r){let n=new RegExp(e.source,e.flags);return Ft(e.minLength)&&!(r.length>=e.minLength)||Ft(e.maxLength)&&!(r.length<=e.maxLength)?!1:n.test(r)}o(NX,"FromRegExp");function kX(e,t,r){return!Vt(r)||Ft(e.minLength)&&!(r.length>=e.minLength)||Ft(e.maxLength)&&!(r.length<=e.maxLength)||Ft(e.pattern)&&!new RegExp(e.pattern).test(r)?!1:Ft(e.format)?js.Has(e.format)?js.Get(e.format)(r):!1:!0}o(kX,"FromString");function OX(e,t,r){return ya(r)}o(OX,"FromSymbol");function LX(e,t,r){return Vt(r)&&new RegExp(e.pattern).test(r)}o(LX,"FromTemplateLiteral");function FX(e,t,r){return jn(Zt(e,t),t,r)}o(FX,"FromThis");function MX(e,t,r){if(!at(r)||e.items===void 0&&r.length!==0||r.length!==e.maxItems)return!1;if(!e.items)return!0;for(let n=0;n<e.items.length;n++)if(!jn(e.items[n],t,r[n]))return!1;return!0}o(MX,"FromTuple");function UX(e,t,r){return Nr(r)}o(UX,"FromUndefined");function BX(e,t,r){return e.anyOf.some(n=>jn(n,t,r))}o(BX,"FromUnion");function jX(e,t,r){return!(!Gf(r)||Ft(e.maxByteLength)&&!(r.length<=e.maxByteLength)||Ft(e.minByteLength)&&!(r.length>=e.minByteLength))}o(jX,"FromUint8Array");function $X(e,t,r){return!0}o($X,"FromUnknown");function WX(e,t,r){return Sr.IsVoidLike(r)}o(WX,"FromVoid");function qX(e,t,r){return Ai.Has(e[te])?Ai.Get(e[te])(e,r):!1}o(qX,"FromKind");function jn(e,t,r){let n=Ft(e.$id)?Bn(e,t):t,i=e;switch(i[te]){case"Any":return uX(i,n,r);case"Argument":return fX(i,n,r);case"Array":return dX(i,n,r);case"AsyncIterator":return mX(i,n,r);case"BigInt":return pX(i,n,r);case"Boolean":return gX(i,n,r);case"Constructor":return hX(i,n,r);case"Date":return xX(i,n,r);case"Function":return bX(i,n,r);case"Import":return _X(i,n,r);case"Integer":return yX(i,n,r);case"Intersect":return vX(i,n,r);case"Iterator":return TX(i,n,r);case"Literal":return EX(i,n,r);case"Never":return CX(i,n,r);case"Not":return IX(i,n,r);case"Null":return SX(i,n,r);case"Number":return wX(i,n,r);case"Object":return PX(i,n,r);case"Promise":return RX(i,n,r);case"Record":return DX(i,n,r);case"Ref":return AX(i,n,r);case"RegExp":return NX(i,n,r);case"String":return kX(i,n,r);case"Symbol":return OX(i,n,r);case"TemplateLiteral":return LX(i,n,r);case"This":return FX(i,n,r);case"Tuple":return MX(i,n,r);case"Undefined":return UX(i,n,r);case"Union":return BX(i,n,r);case"Uint8Array":return jX(i,n,r);case"Unknown":return $X(i,n,r);case"Void":return WX(i,n,r);default:if(!Ai.Has(i[te]))throw new _7(i);return qX(i,n,r)}}o(jn,"Visit");function Pt(...e){return e.length===3?jn(e[0],e[1],e[2]):jn(e[0],[],e[1])}o(Pt,"Check");var ee;(function(e){e[e.ArrayContains=0]="ArrayContains",e[e.ArrayMaxContains=1]="ArrayMaxContains",e[e.ArrayMaxItems=2]="ArrayMaxItems",e[e.ArrayMinContains=3]="ArrayMinContains",e[e.ArrayMinItems=4]="ArrayMinItems",e[e.ArrayUniqueItems=5]="ArrayUniqueItems",e[e.Array=6]="Array",e[e.AsyncIterator=7]="AsyncIterator",e[e.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",e[e.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",e[e.BigIntMaximum=10]="BigIntMaximum",e[e.BigIntMinimum=11]="BigIntMinimum",e[e.BigIntMultipleOf=12]="BigIntMultipleOf",e[e.BigInt=13]="BigInt",e[e.Boolean=14]="Boolean",e[e.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",e[e.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",e[e.DateMaximumTimestamp=17]="DateMaximumTimestamp",e[e.DateMinimumTimestamp=18]="DateMinimumTimestamp",e[e.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",e[e.Date=20]="Date",e[e.Function=21]="Function",e[e.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",e[e.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",e[e.IntegerMaximum=24]="IntegerMaximum",e[e.IntegerMinimum=25]="IntegerMinimum",e[e.IntegerMultipleOf=26]="IntegerMultipleOf",e[e.Integer=27]="Integer",e[e.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",e[e.Intersect=29]="Intersect",e[e.Iterator=30]="Iterator",e[e.Kind=31]="Kind",e[e.Literal=32]="Literal",e[e.Never=33]="Never",e[e.Not=34]="Not",e[e.Null=35]="Null",e[e.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",e[e.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",e[e.NumberMaximum=38]="NumberMaximum",e[e.NumberMinimum=39]="NumberMinimum",e[e.NumberMultipleOf=40]="NumberMultipleOf",e[e.Number=41]="Number",e[e.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",e[e.ObjectMaxProperties=43]="ObjectMaxProperties",e[e.ObjectMinProperties=44]="ObjectMinProperties",e[e.ObjectRequiredProperty=45]="ObjectRequiredProperty",e[e.Object=46]="Object",e[e.Promise=47]="Promise",e[e.RegExp=48]="RegExp",e[e.StringFormatUnknown=49]="StringFormatUnknown",e[e.StringFormat=50]="StringFormat",e[e.StringMaxLength=51]="StringMaxLength",e[e.StringMinLength=52]="StringMinLength",e[e.StringPattern=53]="StringPattern",e[e.String=54]="String",e[e.Symbol=55]="Symbol",e[e.TupleLength=56]="TupleLength",e[e.Tuple=57]="Tuple",e[e.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",e[e.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",e[e.Uint8Array=60]="Uint8Array",e[e.Undefined=61]="Undefined",e[e.Union=62]="Union",e[e.Void=63]="Void"})(ee||(ee={}));var y7=class extends lt{static{o(this,"ValueErrorsUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}};function Pa(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}o(Pa,"EscapeKey");function Mt(e){return e!==void 0}o(Mt,"IsDefined");var Ml=class{static{o(this,"ValueErrorIterator")}constructor(t){this.iterator=t}[Symbol.iterator](){return this.iterator}First(){let t=this.iterator.next();return t.done?void 0:t.value}};function Pe(e,t,r,n,i=[]){return{type:e,schema:t,path:r,value:n,message:ZR()({errorType:e,path:r,schema:t,value:n,errors:i}),errors:i}}o(Pe,"Create");function*GX(e,t,r,n){}o(GX,"FromAny");function*zX(e,t,r,n){}o(zX,"FromArgument");function*HX(e,t,r,n){if(!at(n))return yield Pe(ee.Array,e,r,n);Mt(e.minItems)&&!(n.length>=e.minItems)&&(yield Pe(ee.ArrayMinItems,e,r,n)),Mt(e.maxItems)&&!(n.length<=e.maxItems)&&(yield Pe(ee.ArrayMaxItems,e,r,n));for(let a=0;a<n.length;a++)yield*$n(e.items,t,`${r}/${a}`,n[a]);if(e.uniqueItems===!0&&!function(){let a=new Set;for(let l of n){let c=Fl(l);if(a.has(c))return!1;a.add(c)}return!0}()&&(yield Pe(ee.ArrayUniqueItems,e,r,n)),!(Mt(e.contains)||Mt(e.minContains)||Mt(e.maxContains)))return;let i=Mt(e.contains)?e.contains:vt(),s=n.reduce((a,l,c)=>$n(i,t,`${r}${c}`,l).next().done===!0?a+1:a,0);s===0&&(yield Pe(ee.ArrayContains,e,r,n)),ze(e.minContains)&&s<e.minContains&&(yield Pe(ee.ArrayMinContains,e,r,n)),ze(e.maxContains)&&s>e.maxContains&&(yield Pe(ee.ArrayMaxContains,e,r,n))}o(HX,"FromArray");function*VX(e,t,r,n){M2(n)||(yield Pe(ee.AsyncIterator,e,r,n))}o(VX,"FromAsyncIterator");function*KX(e,t,r,n){if(!Jn(n))return yield Pe(ee.BigInt,e,r,n);Mt(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield Pe(ee.BigIntExclusiveMaximum,e,r,n)),Mt(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield Pe(ee.BigIntExclusiveMinimum,e,r,n)),Mt(e.maximum)&&!(n<=e.maximum)&&(yield Pe(ee.BigIntMaximum,e,r,n)),Mt(e.minimum)&&!(n>=e.minimum)&&(yield Pe(ee.BigIntMinimum,e,r,n)),Mt(e.multipleOf)&&n%e.multipleOf!==BigInt(0)&&(yield Pe(ee.BigIntMultipleOf,e,r,n))}o(KX,"FromBigInt");function*YX(e,t,r,n){b0(n)||(yield Pe(ee.Boolean,e,r,n))}o(YX,"FromBoolean");function*JX(e,t,r,n){yield*$n(e.returns,t,r,n.prototype)}o(JX,"FromConstructor");function*XX(e,t,r,n){if(!Di(n))return yield Pe(ee.Date,e,r,n);Mt(e.exclusiveMaximumTimestamp)&&!(n.getTime()<e.exclusiveMaximumTimestamp)&&(yield Pe(ee.DateExclusiveMaximumTimestamp,e,r,n)),Mt(e.exclusiveMinimumTimestamp)&&!(n.getTime()>e.exclusiveMinimumTimestamp)&&(yield Pe(ee.DateExclusiveMinimumTimestamp,e,r,n)),Mt(e.maximumTimestamp)&&!(n.getTime()<=e.maximumTimestamp)&&(yield Pe(ee.DateMaximumTimestamp,e,r,n)),Mt(e.minimumTimestamp)&&!(n.getTime()>=e.minimumTimestamp)&&(yield Pe(ee.DateMinimumTimestamp,e,r,n)),Mt(e.multipleOfTimestamp)&&n.getTime()%e.multipleOfTimestamp!==0&&(yield Pe(ee.DateMultipleOfTimestamp,e,r,n))}o(XX,"FromDate");function*ZX(e,t,r,n){wl(n)||(yield Pe(ee.Function,e,r,n))}o(ZX,"FromFunction");function*QX(e,t,r,n){let i=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref];yield*$n(s,[...t,...i],r,n)}o(QX,"FromImport");function*eZ(e,t,r,n){if(!j2(n))return yield Pe(ee.Integer,e,r,n);Mt(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield Pe(ee.IntegerExclusiveMaximum,e,r,n)),Mt(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield Pe(ee.IntegerExclusiveMinimum,e,r,n)),Mt(e.maximum)&&!(n<=e.maximum)&&(yield Pe(ee.IntegerMaximum,e,r,n)),Mt(e.minimum)&&!(n>=e.minimum)&&(yield Pe(ee.IntegerMinimum,e,r,n)),Mt(e.multipleOf)&&n%e.multipleOf!==0&&(yield Pe(ee.IntegerMultipleOf,e,r,n))}o(eZ,"FromInteger");function*tZ(e,t,r,n){let i=!1;for(let s of e.allOf)for(let a of $n(s,t,r,n))i=!0,yield a;if(i)return yield Pe(ee.Intersect,e,r,n);if(e.unevaluatedProperties===!1){let s=new RegExp(Sa(e));for(let a of Object.getOwnPropertyNames(n))s.test(a)||(yield Pe(ee.IntersectUnevaluatedProperties,e,`${r}/${a}`,n))}if(typeof e.unevaluatedProperties=="object"){let s=new RegExp(Sa(e));for(let a of Object.getOwnPropertyNames(n))if(!s.test(a)){let l=$n(e.unevaluatedProperties,t,`${r}/${a}`,n[a]).next();l.done||(yield l.value)}}}o(tZ,"FromIntersect");function*rZ(e,t,r,n){U2(n)||(yield Pe(ee.Iterator,e,r,n))}o(rZ,"FromIterator");function*nZ(e,t,r,n){n!==e.const&&(yield Pe(ee.Literal,e,r,n))}o(nZ,"FromLiteral");function*iZ(e,t,r,n){yield Pe(ee.Never,e,r,n)}o(iZ,"FromNever");function*oZ(e,t,r,n){$n(e.not,t,r,n).next().done===!0&&(yield Pe(ee.Not,e,r,n))}o(oZ,"FromNot");function*sZ(e,t,r,n){_a(n)||(yield Pe(ee.Null,e,r,n))}o(sZ,"FromNull");function*aZ(e,t,r,n){if(!Sr.IsNumberLike(n))return yield Pe(ee.Number,e,r,n);Mt(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield Pe(ee.NumberExclusiveMaximum,e,r,n)),Mt(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield Pe(ee.NumberExclusiveMinimum,e,r,n)),Mt(e.maximum)&&!(n<=e.maximum)&&(yield Pe(ee.NumberMaximum,e,r,n)),Mt(e.minimum)&&!(n>=e.minimum)&&(yield Pe(ee.NumberMinimum,e,r,n)),Mt(e.multipleOf)&&n%e.multipleOf!==0&&(yield Pe(ee.NumberMultipleOf,e,r,n))}o(aZ,"FromNumber");function*lZ(e,t,r,n){if(!Sr.IsObjectLike(n))return yield Pe(ee.Object,e,r,n);Mt(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield Pe(ee.ObjectMinProperties,e,r,n)),Mt(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield Pe(ee.ObjectMaxProperties,e,r,n));let i=Array.isArray(e.required)?e.required:[],s=Object.getOwnPropertyNames(e.properties),a=Object.getOwnPropertyNames(n);for(let l of i)a.includes(l)||(yield Pe(ee.ObjectRequiredProperty,e.properties[l],`${r}/${Pa(l)}`,void 0));if(e.additionalProperties===!1)for(let l of a)s.includes(l)||(yield Pe(ee.ObjectAdditionalProperties,e,`${r}/${Pa(l)}`,n[l]));if(typeof e.additionalProperties=="object")for(let l of a)s.includes(l)||(yield*$n(e.additionalProperties,t,`${r}/${Pa(l)}`,n[l]));for(let l of s){let c=e.properties[l];e.required&&e.required.includes(l)?(yield*$n(c,t,`${r}/${Pa(l)}`,n[l]),wa(e)&&!(l in n)&&(yield Pe(ee.ObjectRequiredProperty,c,`${r}/${Pa(l)}`,void 0))):Sr.IsExactOptionalProperty(n,l)&&(yield*$n(c,t,`${r}/${Pa(l)}`,n[l]))}}o(lZ,"FromObject");function*cZ(e,t,r,n){B2(n)||(yield Pe(ee.Promise,e,r,n))}o(cZ,"FromPromise");function*uZ(e,t,r,n){if(!Sr.IsRecordLike(n))return yield Pe(ee.Object,e,r,n);Mt(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield Pe(ee.ObjectMinProperties,e,r,n)),Mt(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield Pe(ee.ObjectMaxProperties,e,r,n));let[i,s]=Object.entries(e.patternProperties)[0],a=new RegExp(i);for(let[l,c]of Object.entries(n))a.test(l)&&(yield*$n(s,t,`${r}/${Pa(l)}`,c));if(typeof e.additionalProperties=="object")for(let[l,c]of Object.entries(n))a.test(l)||(yield*$n(e.additionalProperties,t,`${r}/${Pa(l)}`,c));if(e.additionalProperties===!1){for(let[l,c]of Object.entries(n))if(!a.test(l))return yield Pe(ee.ObjectAdditionalProperties,e,`${r}/${Pa(l)}`,c)}}o(uZ,"FromRecord");function*fZ(e,t,r,n){yield*$n(Zt(e,t),t,r,n)}o(fZ,"FromRef");function*dZ(e,t,r,n){if(!Vt(n))return yield Pe(ee.String,e,r,n);if(Mt(e.minLength)&&!(n.length>=e.minLength)&&(yield Pe(ee.StringMinLength,e,r,n)),Mt(e.maxLength)&&!(n.length<=e.maxLength)&&(yield Pe(ee.StringMaxLength,e,r,n)),!new RegExp(e.source,e.flags).test(n))return yield Pe(ee.RegExp,e,r,n)}o(dZ,"FromRegExp");function*mZ(e,t,r,n){if(!Vt(n))return yield Pe(ee.String,e,r,n);Mt(e.minLength)&&!(n.length>=e.minLength)&&(yield Pe(ee.StringMinLength,e,r,n)),Mt(e.maxLength)&&!(n.length<=e.maxLength)&&(yield Pe(ee.StringMaxLength,e,r,n)),Vt(e.pattern)&&(new RegExp(e.pattern).test(n)||(yield Pe(ee.StringPattern,e,r,n))),Vt(e.format)&&(js.Has(e.format)?js.Get(e.format)(n)||(yield Pe(ee.StringFormat,e,r,n)):yield Pe(ee.StringFormatUnknown,e,r,n))}o(mZ,"FromString");function*pZ(e,t,r,n){ya(n)||(yield Pe(ee.Symbol,e,r,n))}o(pZ,"FromSymbol");function*gZ(e,t,r,n){if(!Vt(n))return yield Pe(ee.String,e,r,n);new RegExp(e.pattern).test(n)||(yield Pe(ee.StringPattern,e,r,n))}o(gZ,"FromTemplateLiteral");function*hZ(e,t,r,n){yield*$n(Zt(e,t),t,r,n)}o(hZ,"FromThis");function*xZ(e,t,r,n){if(!at(n))return yield Pe(ee.Tuple,e,r,n);if(e.items===void 0&&n.length!==0)return yield Pe(ee.TupleLength,e,r,n);if(n.length!==e.maxItems)return yield Pe(ee.TupleLength,e,r,n);if(e.items)for(let i=0;i<e.items.length;i++)yield*$n(e.items[i],t,`${r}/${i}`,n[i])}o(xZ,"FromTuple");function*bZ(e,t,r,n){Nr(n)||(yield Pe(ee.Undefined,e,r,n))}o(bZ,"FromUndefined");function*_Z(e,t,r,n){if(Pt(e,t,n))return;let i=e.anyOf.map(s=>new Ml($n(s,t,r,n)));yield Pe(ee.Union,e,r,n,i)}o(_Z,"FromUnion");function*yZ(e,t,r,n){if(!Gf(n))return yield Pe(ee.Uint8Array,e,r,n);Mt(e.maxByteLength)&&!(n.length<=e.maxByteLength)&&(yield Pe(ee.Uint8ArrayMaxByteLength,e,r,n)),Mt(e.minByteLength)&&!(n.length>=e.minByteLength)&&(yield Pe(ee.Uint8ArrayMinByteLength,e,r,n))}o(yZ,"FromUint8Array");function*vZ(e,t,r,n){}o(vZ,"FromUnknown");function*TZ(e,t,r,n){Sr.IsVoidLike(n)||(yield Pe(ee.Void,e,r,n))}o(TZ,"FromVoid");function*EZ(e,t,r,n){Ai.Get(e[te])(e,n)||(yield Pe(ee.Kind,e,r,n))}o(EZ,"FromKind");function*$n(e,t,r,n){let i=Mt(e.$id)?[...t,e]:t,s=e;switch(s[te]){case"Any":return yield*GX(s,i,r,n);case"Argument":return yield*zX(s,i,r,n);case"Array":return yield*HX(s,i,r,n);case"AsyncIterator":return yield*VX(s,i,r,n);case"BigInt":return yield*KX(s,i,r,n);case"Boolean":return yield*YX(s,i,r,n);case"Constructor":return yield*JX(s,i,r,n);case"Date":return yield*XX(s,i,r,n);case"Function":return yield*ZX(s,i,r,n);case"Import":return yield*QX(s,i,r,n);case"Integer":return yield*eZ(s,i,r,n);case"Intersect":return yield*tZ(s,i,r,n);case"Iterator":return yield*rZ(s,i,r,n);case"Literal":return yield*nZ(s,i,r,n);case"Never":return yield*iZ(s,i,r,n);case"Not":return yield*oZ(s,i,r,n);case"Null":return yield*sZ(s,i,r,n);case"Number":return yield*aZ(s,i,r,n);case"Object":return yield*lZ(s,i,r,n);case"Promise":return yield*cZ(s,i,r,n);case"Record":return yield*uZ(s,i,r,n);case"Ref":return yield*fZ(s,i,r,n);case"RegExp":return yield*dZ(s,i,r,n);case"String":return yield*mZ(s,i,r,n);case"Symbol":return yield*pZ(s,i,r,n);case"TemplateLiteral":return yield*gZ(s,i,r,n);case"This":return yield*hZ(s,i,r,n);case"Tuple":return yield*xZ(s,i,r,n);case"Undefined":return yield*bZ(s,i,r,n);case"Union":return yield*_Z(s,i,r,n);case"Uint8Array":return yield*yZ(s,i,r,n);case"Unknown":return yield*vZ(s,i,r,n);case"Void":return yield*TZ(s,i,r,n);default:if(!Ai.Has(s[te]))throw new y7(e);return yield*EZ(s,i,r,n)}}o($n,"Visit");function I0(...e){let t=e.length===3?$n(e[0],e[1],"",e[2]):$n(e[0],[],"",e[1]);return new Ml(t)}o(I0,"Errors");var CZ=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},nD=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},v7,x5,iD,T7=class extends lt{static{o(this,"AssertError")}constructor(t){let r=t.First();super(r===void 0?"Invalid Value":r.message),v7.add(this),x5.set(this,void 0),CZ(this,x5,t,"f"),this.error=r}Errors(){return new Ml(nD(this,v7,"m",iD).call(this))}};x5=new WeakMap,v7=new WeakSet,iD=o(function*(){this.error&&(yield this.error),yield*nD(this,x5,"f")},"_AssertError_Iterator");function rD(e,t,r){if(!Pt(e,t,r))throw new T7(I0(e,t,r))}o(rD,"AssertValue");function b5(...e){return e.length===3?rD(e[0],e[1],e[2]):rD(e[0],[],e[1])}o(b5,"Assert");function IZ(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=Qt(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=Qt(e[r]);return t}o(IZ,"FromObject");function SZ(e){return e.map(t=>Qt(t))}o(SZ,"FromArray");function wZ(e){return e.slice()}o(wZ,"FromTypedArray");function PZ(e){return new Map(Qt([...e.entries()]))}o(PZ,"FromMap");function RZ(e){return new Set(Qt([...e.entries()]))}o(RZ,"FromSet");function DZ(e){return new Date(e.toISOString())}o(DZ,"FromDate");function Qt(e){if(at(e))return SZ(e);if(Di(e))return DZ(e);if(Zo(e))return wZ(e);if(vw(e))return PZ(e);if(Tw(e))return RZ(e);if(It(e))return IZ(e);if(Eo(e))return e;throw new Error("ValueClone: Unable to clone value")}o(Qt,"Clone");var Do=class extends lt{static{o(this,"ValueCreateError")}constructor(t,r){super(r),this.schema=t}};function er(e){return wl(e)?e():Qt(e)}o(er,"FromDefault");function AZ(e,t){return st(e,"default")?er(e.default):{}}o(AZ,"FromAny");function NZ(e,t){return{}}o(NZ,"FromArgument");function kZ(e,t){if(e.uniqueItems===!0&&!st(e,"default"))throw new Do(e,"Array with the uniqueItems constraint requires a default value");if("contains"in e&&!st(e,"default"))throw new Do(e,"Array with the contains constraint requires a default value");return"default"in e?er(e.default):e.minItems!==void 0?Array.from({length:e.minItems}).map(r=>Yi(e.items,t)):[]}o(kZ,"FromArray");function OZ(e,t){return st(e,"default")?er(e.default):async function*(){}()}o(OZ,"FromAsyncIterator");function LZ(e,t){return st(e,"default")?er(e.default):BigInt(0)}o(LZ,"FromBigInt");function FZ(e,t){return st(e,"default")?er(e.default):!1}o(FZ,"FromBoolean");function MZ(e,t){if(st(e,"default"))return er(e.default);{let r=Yi(e.returns,t);return typeof r=="object"&&!Array.isArray(r)?class{constructor(){for(let[n,i]of Object.entries(r)){let s=this;s[n]=i}}}:class{}}}o(MZ,"FromConstructor");function UZ(e,t){return st(e,"default")?er(e.default):e.minimumTimestamp!==void 0?new Date(e.minimumTimestamp):new Date}o(UZ,"FromDate");function BZ(e,t){return st(e,"default")?er(e.default):()=>Yi(e.returns,t)}o(BZ,"FromFunction");function jZ(e,t){let r=globalThis.Object.values(e.$defs),n=e.$defs[e.$ref];return Yi(n,[...t,...r])}o(jZ,"FromImport");function $Z(e,t){return st(e,"default")?er(e.default):e.minimum!==void 0?e.minimum:0}o($Z,"FromInteger");function WZ(e,t){if(st(e,"default"))return er(e.default);{let r=e.allOf.reduce((n,i)=>{let s=Yi(i,t);return typeof s=="object"?{...n,...s}:s},{});if(!Pt(e,t,r))throw new Do(e,"Intersect produced invalid value. Consider using a default value.");return r}}o(WZ,"FromIntersect");function qZ(e,t){return st(e,"default")?er(e.default):function*(){}()}o(qZ,"FromIterator");function GZ(e,t){return st(e,"default")?er(e.default):e.const}o(GZ,"FromLiteral");function zZ(e,t){if(st(e,"default"))return er(e.default);throw new Do(e,"Never types cannot be created. Consider using a default value.")}o(zZ,"FromNever");function HZ(e,t){if(st(e,"default"))return er(e.default);throw new Do(e,"Not types must have a default value")}o(HZ,"FromNot");function VZ(e,t){return st(e,"default")?er(e.default):null}o(VZ,"FromNull");function KZ(e,t){return st(e,"default")?er(e.default):e.minimum!==void 0?e.minimum:0}o(KZ,"FromNumber");function YZ(e,t){if(st(e,"default"))return er(e.default);{let r=new Set(e.required),n={};for(let[i,s]of Object.entries(e.properties))r.has(i)&&(n[i]=Yi(s,t));return n}}o(YZ,"FromObject");function JZ(e,t){return st(e,"default")?er(e.default):Promise.resolve(Yi(e.item,t))}o(JZ,"FromPromise");function XZ(e,t){let[r,n]=Object.entries(e.patternProperties)[0];if(st(e,"default"))return er(e.default);if(r===y0||r===_0)return{};{let i=r.slice(1,r.length-1).split("|"),s={};for(let a of i)s[a]=Yi(n,t);return s}}o(XZ,"FromRecord");function ZZ(e,t){return st(e,"default")?er(e.default):Yi(Zt(e,t),t)}o(ZZ,"FromRef");function QZ(e,t){if(st(e,"default"))return er(e.default);throw new Do(e,"RegExp types cannot be created. Consider using a default value.")}o(QZ,"FromRegExp");function eQ(e,t){if(e.pattern!==void 0){if(st(e,"default"))return er(e.default);throw new Do(e,"String types with patterns must specify a default value")}else if(e.format!==void 0){if(st(e,"default"))return er(e.default);throw new Do(e,"String types with formats must specify a default value")}else return st(e,"default")?er(e.default):e.minLength!==void 0?Array.from({length:e.minLength}).map(()=>" ").join(""):""}o(eQ,"FromString");function tQ(e,t){return st(e,"default")?er(e.default):"value"in e?Symbol.for(e.value):Symbol()}o(tQ,"FromSymbol");function rQ(e,t){if(st(e,"default"))return er(e.default);if(!G2(e))throw new Do(e,"Can only create template literals that produce a finite variants. Consider using a default value.");return Qf(e)[0]}o(rQ,"FromTemplateLiteral");function nQ(e,t){if(oD++>fQ)throw new Do(e,"Cannot create recursive type as it appears possibly infinite. Consider using a default.");return st(e,"default")?er(e.default):Yi(Zt(e,t),t)}o(nQ,"FromThis");function iQ(e,t){return st(e,"default")?er(e.default):e.items===void 0?[]:Array.from({length:e.minItems}).map((r,n)=>Yi(e.items[n],t))}o(iQ,"FromTuple");function oQ(e,t){if(st(e,"default"))return er(e.default)}o(oQ,"FromUndefined");function sQ(e,t){if(st(e,"default"))return er(e.default);if(e.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");return Yi(e.anyOf[0],t)}o(sQ,"FromUnion");function aQ(e,t){return st(e,"default")?er(e.default):e.minByteLength!==void 0?new Uint8Array(e.minByteLength):new Uint8Array(0)}o(aQ,"FromUint8Array");function lQ(e,t){return st(e,"default")?er(e.default):{}}o(lQ,"FromUnknown");function cQ(e,t){if(st(e,"default"))return er(e.default)}o(cQ,"FromVoid");function uQ(e,t){if(st(e,"default"))return er(e.default);throw new Error("User defined types must specify a default value")}o(uQ,"FromKind");function Yi(e,t){let r=Bn(e,t),n=e;switch(n[te]){case"Any":return AZ(n,r);case"Argument":return NZ(n,r);case"Array":return kZ(n,r);case"AsyncIterator":return OZ(n,r);case"BigInt":return LZ(n,r);case"Boolean":return FZ(n,r);case"Constructor":return MZ(n,r);case"Date":return UZ(n,r);case"Function":return BZ(n,r);case"Import":return jZ(n,r);case"Integer":return $Z(n,r);case"Intersect":return WZ(n,r);case"Iterator":return qZ(n,r);case"Literal":return GZ(n,r);case"Never":return zZ(n,r);case"Not":return HZ(n,r);case"Null":return VZ(n,r);case"Number":return KZ(n,r);case"Object":return YZ(n,r);case"Promise":return JZ(n,r);case"Record":return XZ(n,r);case"Ref":return ZZ(n,r);case"RegExp":return QZ(n,r);case"String":return eQ(n,r);case"Symbol":return tQ(n,r);case"TemplateLiteral":return rQ(n,r);case"This":return nQ(n,r);case"Tuple":return iQ(n,r);case"Undefined":return oQ(n,r);case"Union":return sQ(n,r);case"Uint8Array":return aQ(n,r);case"Unknown":return lQ(n,r);case"Void":return cQ(n,r);default:if(!Ai.Has(n[te]))throw new Do(n,"Unknown type");return uQ(n,r)}}o(Yi,"Visit");var fQ=512,oD=0;function ss(...e){return oD=0,e.length===2?Yi(e[0],e[1]):Yi(e[0],[])}o(ss,"Create");var _5=class extends lt{static{o(this,"ValueCastError")}constructor(t,r){super(r),this.schema=t}};function dQ(e,t,r){if(e[te]==="Object"&&typeof r=="object"&&!_a(r)){let n=e,i=Object.getOwnPropertyNames(r),s=Object.entries(n.properties),[a,l]=[1/s.length,s.length];return s.reduce((c,[u,f])=>{let d=f[te]==="Literal"&&f.const===r[u]?l:0,m=Pt(f,t,r[u])?a:0,p=i.includes(u)?a:0;return c+(d+m+p)},0)}else return Pt(e,t,r)?1:0}o(dQ,"ScoreUnion");function mQ(e,t,r){let n=e.anyOf.map(a=>Zt(a,t)),[i,s]=[n[0],0];for(let a of n){let l=dQ(a,t,r);l>s&&(i=a,s=l)}return i}o(mQ,"SelectUnion");function pQ(e,t,r){if("default"in e)return typeof r=="function"?e.default:Qt(e.default);{let n=mQ(e,t,r);return G1(n,t,r)}}o(pQ,"CastUnion");function gQ(e,t,r){return Pt(e,t,r)?Qt(r):ss(e,t)}o(gQ,"DefaultClone");function hQ(e,t,r){return Pt(e,t,r)?r:ss(e,t)}o(hQ,"Default");function xQ(e,t,r){if(Pt(e,t,r))return Qt(r);let n=at(r)?Qt(r):ss(e,t),i=ze(e.minItems)&&n.length<e.minItems?[...n,...Array.from({length:e.minItems-n.length},()=>null)]:n,a=(ze(e.maxItems)&&i.length>e.maxItems?i.slice(0,e.maxItems):i).map(c=>Gs(e.items,t,c));if(e.uniqueItems!==!0)return a;let l=[...new Set(a)];if(!Pt(e,t,l))throw new _5(e,"Array cast produced invalid data due to uniqueItems constraint");return l}o(xQ,"FromArray");function bQ(e,t,r){if(Pt(e,t,r))return ss(e,t);let n=new Set(e.returns.required||[]),i=o(function(){},"result");for(let[s,a]of Object.entries(e.returns.properties))!n.has(s)&&r.prototype[s]===void 0||(i.prototype[s]=Gs(a,t,r.prototype[s]));return i}o(bQ,"FromConstructor");function _Q(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return Gs(i,[...t,...n],r)}o(_Q,"FromImport");function yQ(e,t,r){let n=ss(e,t),i=It(n)&&It(r)?{...n,...r}:r;return Pt(e,t,i)?i:ss(e,t)}o(yQ,"FromIntersect");function vQ(e,t,r){throw new _5(e,"Never types cannot be cast")}o(vQ,"FromNever");function TQ(e,t,r){if(Pt(e,t,r))return r;if(r===null||typeof r!="object")return ss(e,t);let n=new Set(e.required||[]),i={};for(let[s,a]of Object.entries(e.properties))!n.has(s)&&r[s]===void 0||(i[s]=Gs(a,t,r[s]));if(typeof e.additionalProperties=="object"){let s=Object.getOwnPropertyNames(e.properties);for(let a of Object.getOwnPropertyNames(r))s.includes(a)||(i[a]=Gs(e.additionalProperties,t,r[a]))}return i}o(TQ,"FromObject");function EQ(e,t,r){if(Pt(e,t,r))return Qt(r);if(r===null||typeof r!="object"||Array.isArray(r)||r instanceof Date)return ss(e,t);let n=Object.getOwnPropertyNames(e.patternProperties)[0],i=e.patternProperties[n],s={};for(let[a,l]of Object.entries(r))s[a]=Gs(i,t,l);return s}o(EQ,"FromRecord");function CQ(e,t,r){return Gs(Zt(e,t),t,r)}o(CQ,"FromRef");function IQ(e,t,r){return Gs(Zt(e,t),t,r)}o(IQ,"FromThis");function SQ(e,t,r){return Pt(e,t,r)?Qt(r):at(r)?e.items===void 0?[]:e.items.map((n,i)=>Gs(n,t,r[i])):ss(e,t)}o(SQ,"FromTuple");function wQ(e,t,r){return Pt(e,t,r)?Qt(r):pQ(e,t,r)}o(wQ,"FromUnion");function Gs(e,t,r){let n=Vt(e.$id)?Bn(e,t):t,i=e;switch(e[te]){case"Array":return xQ(i,n,r);case"Constructor":return bQ(i,n,r);case"Import":return _Q(i,n,r);case"Intersect":return yQ(i,n,r);case"Never":return vQ(i,n,r);case"Object":return TQ(i,n,r);case"Record":return EQ(i,n,r);case"Ref":return CQ(i,n,r);case"This":return IQ(i,n,r);case"Tuple":return SQ(i,n,r);case"Union":return wQ(i,n,r);case"Date":case"Symbol":case"Uint8Array":return gQ(e,t,r);default:return hQ(i,n,r)}}o(Gs,"Visit");function G1(...e){return e.length===3?Gs(e[0],e[1],e[2]):Gs(e[0],[],e[1])}o(G1,"Cast");function PQ(e){return Rl(e)&&e[te]!=="Unsafe"}o(PQ,"IsCheckable");function RQ(e,t,r){return at(r)?r.map(n=>Ji(e.items,t,n)):r}o(RQ,"FromArray");function DQ(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return Ji(i,[...t,...n],r)}o(DQ,"FromImport");function AQ(e,t,r){let n=e.unevaluatedProperties,s=e.allOf.map(l=>Ji(l,t,Qt(r))).reduce((l,c)=>It(c)?{...l,...c}:c,{});if(!It(r)||!It(s)||!Rl(n))return s;let a=Vi(e);for(let l of Object.getOwnPropertyNames(r))a.includes(l)||Pt(n,t,r[l])&&(s[l]=Ji(n,t,r[l]));return s}o(AQ,"FromIntersect");function NQ(e,t,r){if(!It(r)||at(r))return r;let n=e.additionalProperties;for(let i of Object.getOwnPropertyNames(r)){if(st(e.properties,i)){r[i]=Ji(e.properties[i],t,r[i]);continue}if(Rl(n)&&Pt(n,t,r[i])){r[i]=Ji(n,t,r[i]);continue}delete r[i]}return r}o(NQ,"FromObject");function kQ(e,t,r){if(!It(r))return r;let n=e.additionalProperties,i=Object.getOwnPropertyNames(r),[s,a]=Object.entries(e.patternProperties)[0],l=new RegExp(s);for(let c of i){if(l.test(c)){r[c]=Ji(a,t,r[c]);continue}if(Rl(n)&&Pt(n,t,r[c])){r[c]=Ji(n,t,r[c]);continue}delete r[c]}return r}o(kQ,"FromRecord");function OQ(e,t,r){return Ji(Zt(e,t),t,r)}o(OQ,"FromRef");function LQ(e,t,r){return Ji(Zt(e,t),t,r)}o(LQ,"FromThis");function FQ(e,t,r){if(!at(r))return r;if(Nr(e.items))return[];let n=Math.min(r.length,e.items.length);for(let i=0;i<n;i++)r[i]=Ji(e.items[i],t,r[i]);return r.length>n?r.slice(0,n):r}o(FQ,"FromTuple");function MQ(e,t,r){for(let n of e.anyOf)if(PQ(n)&&Pt(n,t,r))return Ji(n,t,r);return r}o(MQ,"FromUnion");function Ji(e,t,r){let n=Vt(e.$id)?Bn(e,t):t,i=e;switch(i[te]){case"Array":return RQ(i,n,r);case"Import":return DQ(i,n,r);case"Intersect":return AQ(i,n,r);case"Object":return NQ(i,n,r);case"Record":return kQ(i,n,r);case"Ref":return OQ(i,n,r);case"This":return LQ(i,n,r);case"Tuple":return FQ(i,n,r);case"Union":return MQ(i,n,r);default:return r}}o(Ji,"Visit");function y5(...e){return e.length===3?Ji(e[0],e[1],e[2]):Ji(e[0],[],e[1])}o(y5,"Clean");function v5(e){return Vt(e)&&!isNaN(e)&&!isNaN(parseFloat(e))}o(v5,"IsStringNumeric");function UQ(e){return Jn(e)||b0(e)||ze(e)}o(UQ,"IsValueToString");function z1(e){return e===!0||ze(e)&&e===1||Jn(e)&&e===BigInt("1")||Vt(e)&&(e.toLowerCase()==="true"||e==="1")}o(z1,"IsValueTrue");function H1(e){return e===!1||ze(e)&&(e===0||Object.is(e,-0))||Jn(e)&&e===BigInt("0")||Vt(e)&&(e.toLowerCase()==="false"||e==="0"||e==="-0")}o(H1,"IsValueFalse");function BQ(e){return Vt(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o(BQ,"IsTimeStringWithTimeZone");function jQ(e){return Vt(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(jQ,"IsTimeStringWithoutTimeZone");function $Q(e){return Vt(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o($Q,"IsDateTimeStringWithTimeZone");function WQ(e){return Vt(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(WQ,"IsDateTimeStringWithoutTimeZone");function qQ(e){return Vt(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(e)}o(qQ,"IsDateString");function GQ(e,t){let r=aD(e);return r===t?r:e}o(GQ,"TryConvertLiteralString");function zQ(e,t){let r=lD(e);return r===t?r:e}o(zQ,"TryConvertLiteralNumber");function HQ(e,t){let r=sD(e);return r===t?r:e}o(HQ,"TryConvertLiteralBoolean");function VQ(e,t){return Vt(e.const)?GQ(t,e.const):ze(e.const)?zQ(t,e.const):b0(e.const)?HQ(t,e.const):t}o(VQ,"TryConvertLiteral");function sD(e){return z1(e)?!0:H1(e)?!1:e}o(sD,"TryConvertBoolean");function KQ(e){let t=o(r=>r.split(".")[0],"truncateInteger");return v5(e)?BigInt(t(e)):ze(e)?BigInt(Math.trunc(e)):H1(e)?BigInt(0):z1(e)?BigInt(1):e}o(KQ,"TryConvertBigInt");function aD(e){return ya(e)&&e.description!==void 0?e.description.toString():UQ(e)?e.toString():e}o(aD,"TryConvertString");function lD(e){return v5(e)?parseFloat(e):z1(e)?1:H1(e)?0:e}o(lD,"TryConvertNumber");function YQ(e){return v5(e)?parseInt(e):ze(e)?Math.trunc(e):z1(e)?1:H1(e)?0:e}o(YQ,"TryConvertInteger");function JQ(e){return Vt(e)&&e.toLowerCase()==="null"?null:e}o(JQ,"TryConvertNull");function XQ(e){return Vt(e)&&e==="undefined"?void 0:e}o(XQ,"TryConvertUndefined");function ZQ(e){return Di(e)?e:ze(e)?new Date(e):z1(e)?new Date(1):H1(e)?new Date(0):v5(e)?new Date(parseInt(e)):jQ(e)?new Date(`1970-01-01T${e}.000Z`):BQ(e)?new Date(`1970-01-01T${e}`):WQ(e)?new Date(`${e}.000Z`):$Q(e)?new Date(e):qQ(e)?new Date(`${e}T00:00:00.000Z`):e}o(ZQ,"TryConvertDate");function QQ(e,t,r){return(at(r)?r:[r]).map(i=>zs(e.items,t,i))}o(QQ,"FromArray");function eee(e,t,r){return KQ(r)}o(eee,"FromBigInt");function tee(e,t,r){return sD(r)}o(tee,"FromBoolean");function ree(e,t,r){return ZQ(r)}o(ree,"FromDate");function nee(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return zs(i,[...t,...n],r)}o(nee,"FromImport");function iee(e,t,r){return YQ(r)}o(iee,"FromInteger");function oee(e,t,r){return e.allOf.reduce((n,i)=>zs(i,t,n),r)}o(oee,"FromIntersect");function see(e,t,r){return VQ(e,r)}o(see,"FromLiteral");function aee(e,t,r){return JQ(r)}o(aee,"FromNull");function lee(e,t,r){return lD(r)}o(lee,"FromNumber");function cee(e,t,r){if(!It(r))return r;for(let n of Object.getOwnPropertyNames(e.properties))st(r,n)&&(r[n]=zs(e.properties[n],t,r[n]));return r}o(cee,"FromObject");function uee(e,t,r){if(!It(r))return r;let i=Object.getOwnPropertyNames(e.patternProperties)[0],s=e.patternProperties[i];for(let[a,l]of Object.entries(r))r[a]=zs(s,t,l);return r}o(uee,"FromRecord");function fee(e,t,r){return zs(Zt(e,t),t,r)}o(fee,"FromRef");function dee(e,t,r){return aD(r)}o(dee,"FromString");function mee(e,t,r){return Vt(r)||ze(r)?Symbol(r):r}o(mee,"FromSymbol");function pee(e,t,r){return zs(Zt(e,t),t,r)}o(pee,"FromThis");function gee(e,t,r){return at(r)&&!Nr(e.items)?r.map((i,s)=>s<e.items.length?zs(e.items[s],t,i):i):r}o(gee,"FromTuple");function hee(e,t,r){return XQ(r)}o(hee,"FromUndefined");function xee(e,t,r){for(let n of e.anyOf){let i=zs(n,t,Qt(r));if(Pt(n,t,i))return i}return r}o(xee,"FromUnion");function zs(e,t,r){let n=Bn(e,t),i=e;switch(e[te]){case"Array":return QQ(i,n,r);case"BigInt":return eee(i,n,r);case"Boolean":return tee(i,n,r);case"Date":return ree(i,n,r);case"Import":return nee(i,n,r);case"Integer":return iee(i,n,r);case"Intersect":return oee(i,n,r);case"Literal":return see(i,n,r);case"Null":return aee(i,n,r);case"Number":return lee(i,n,r);case"Object":return cee(i,n,r);case"Record":return uee(i,n,r);case"Ref":return fee(i,n,r);case"String":return dee(i,n,r);case"Symbol":return mee(i,n,r);case"This":return pee(i,n,r);case"Tuple":return gee(i,n,r);case"Undefined":return hee(i,n,r);case"Union":return xee(i,n,r);default:return r}}o(zs,"Visit");function T5(...e){return e.length===3?zs(e[0],e[1],e[2]):zs(e[0],[],e[1])}o(T5,"Convert");var pd=class extends lt{static{o(this,"TransformDecodeCheckError")}constructor(t,r,n){super("Unable to decode value as it does not match the expected schema"),this.schema=t,this.value=r,this.error=n}},E7=class extends lt{static{o(this,"TransformDecodeError")}constructor(t,r,n,i){super(i instanceof Error?i.message:"Unknown error"),this.schema=t,this.path=r,this.value=n,this.error=i}};function zr(e,t,r){try{return rr(e)?e[qr].Decode(r):r}catch(n){throw new E7(e,t,r,n)}}o(zr,"Default");function bee(e,t,r,n){return at(n)?zr(e,r,n.map((i,s)=>Hs(e.items,t,`${r}/${s}`,i))):zr(e,r,n)}o(bee,"FromArray");function _ee(e,t,r,n){if(!It(n)||Eo(n))return zr(e,r,n);let i=Y2(e),s=i.map(f=>f[0]),a={...n};for(let[f,d]of i)f in a&&(a[f]=Hs(d,t,`${r}/${f}`,a[f]));if(!rr(e.unevaluatedProperties))return zr(e,r,a);let l=Object.getOwnPropertyNames(a),c=e.unevaluatedProperties,u={...a};for(let f of l)s.includes(f)||(u[f]=zr(c,`${r}/${f}`,u[f]));return zr(e,r,u)}o(_ee,"FromIntersect");function yee(e,t,r,n){let i=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref],a=Hs(s,[...t,...i],r,n);return zr(e,r,a)}o(yee,"FromImport");function vee(e,t,r,n){return zr(e,r,Hs(e.not,t,r,n))}o(vee,"FromNot");function Tee(e,t,r,n){if(!It(n))return zr(e,r,n);let i=Vi(e),s={...n};for(let u of i)st(s,u)&&(Nr(s[u])&&(!Ea(e.properties[u])||Sr.IsExactOptionalProperty(s,u))||(s[u]=Hs(e.properties[u],t,`${r}/${u}`,s[u])));if(!Gr(e.additionalProperties))return zr(e,r,s);let a=Object.getOwnPropertyNames(s),l=e.additionalProperties,c={...s};for(let u of a)i.includes(u)||(c[u]=zr(l,`${r}/${u}`,c[u]));return zr(e,r,c)}o(Tee,"FromObject");function Eee(e,t,r,n){if(!It(n))return zr(e,r,n);let i=Object.getOwnPropertyNames(e.patternProperties)[0],s=new RegExp(i),a={...n};for(let f of Object.getOwnPropertyNames(n))s.test(f)&&(a[f]=Hs(e.patternProperties[i],t,`${r}/${f}`,a[f]));if(!Gr(e.additionalProperties))return zr(e,r,a);let l=Object.getOwnPropertyNames(a),c=e.additionalProperties,u={...a};for(let f of l)s.test(f)||(u[f]=zr(c,`${r}/${f}`,u[f]));return zr(e,r,u)}o(Eee,"FromRecord");function Cee(e,t,r,n){let i=Zt(e,t);return zr(e,r,Hs(i,t,r,n))}o(Cee,"FromRef");function Iee(e,t,r,n){let i=Zt(e,t);return zr(e,r,Hs(i,t,r,n))}o(Iee,"FromThis");function See(e,t,r,n){return at(n)&&at(e.items)?zr(e,r,e.items.map((i,s)=>Hs(i,t,`${r}/${s}`,n[s]))):zr(e,r,n)}o(See,"FromTuple");function wee(e,t,r,n){for(let i of e.anyOf){if(!Pt(i,t,n))continue;let s=Hs(i,t,r,n);return zr(e,r,s)}return zr(e,r,n)}o(wee,"FromUnion");function Hs(e,t,r,n){let i=Bn(e,t),s=e;switch(e[te]){case"Array":return bee(s,i,r,n);case"Import":return yee(s,i,r,n);case"Intersect":return _ee(s,i,r,n);case"Not":return vee(s,i,r,n);case"Object":return Tee(s,i,r,n);case"Record":return Eee(s,i,r,n);case"Ref":return Cee(s,i,r,n);case"Symbol":return zr(s,r,n);case"This":return Iee(s,i,r,n);case"Tuple":return See(s,i,r,n);case"Union":return wee(s,i,r,n);default:return zr(s,r,n)}}o(Hs,"Visit");function gd(e,t,r){return Hs(e,t,"",r)}o(gd,"TransformDecode");var hd=class extends lt{static{o(this,"TransformEncodeCheckError")}constructor(t,r,n){super("The encoded value does not match the expected schema"),this.schema=t,this.value=r,this.error=n}},C7=class extends lt{static{o(this,"TransformEncodeError")}constructor(t,r,n,i){super(`${i instanceof Error?i.message:"Unknown error"}`),this.schema=t,this.path=r,this.value=n,this.error=i}};function Zn(e,t,r){try{return rr(e)?e[qr].Encode(r):r}catch(n){throw new C7(e,t,r,n)}}o(Zn,"Default");function Pee(e,t,r,n){let i=Zn(e,r,n);return at(i)?i.map((s,a)=>Vs(e.items,t,`${r}/${a}`,s)):i}o(Pee,"FromArray");function Ree(e,t,r,n){let i=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref],a=Zn(e,r,n);return Vs(s,[...t,...i],r,a)}o(Ree,"FromImport");function Dee(e,t,r,n){let i=Zn(e,r,n);if(!It(n)||Eo(n))return i;let s=Y2(e),a=s.map(d=>d[0]),l={...i};for(let[d,m]of s)d in l&&(l[d]=Vs(m,t,`${r}/${d}`,l[d]));if(!rr(e.unevaluatedProperties))return l;let c=Object.getOwnPropertyNames(l),u=e.unevaluatedProperties,f={...l};for(let d of c)a.includes(d)||(f[d]=Zn(u,`${r}/${d}`,f[d]));return f}o(Dee,"FromIntersect");function Aee(e,t,r,n){return Zn(e.not,r,Zn(e,r,n))}o(Aee,"FromNot");function Nee(e,t,r,n){let i=Zn(e,r,n);if(!It(i))return i;let s=Vi(e),a={...i};for(let f of s)st(a,f)&&(Nr(a[f])&&(!Ea(e.properties[f])||Sr.IsExactOptionalProperty(a,f))||(a[f]=Vs(e.properties[f],t,`${r}/${f}`,a[f])));if(!Gr(e.additionalProperties))return a;let l=Object.getOwnPropertyNames(a),c=e.additionalProperties,u={...a};for(let f of l)s.includes(f)||(u[f]=Zn(c,`${r}/${f}`,u[f]));return u}o(Nee,"FromObject");function kee(e,t,r,n){let i=Zn(e,r,n);if(!It(n))return i;let s=Object.getOwnPropertyNames(e.patternProperties)[0],a=new RegExp(s),l={...i};for(let d of Object.getOwnPropertyNames(n))a.test(d)&&(l[d]=Vs(e.patternProperties[s],t,`${r}/${d}`,l[d]));if(!Gr(e.additionalProperties))return l;let c=Object.getOwnPropertyNames(l),u=e.additionalProperties,f={...l};for(let d of c)a.test(d)||(f[d]=Zn(u,`${r}/${d}`,f[d]));return f}o(kee,"FromRecord");function Oee(e,t,r,n){let i=Zt(e,t),s=Vs(i,t,r,n);return Zn(e,r,s)}o(Oee,"FromRef");function Lee(e,t,r,n){let i=Zt(e,t),s=Vs(i,t,r,n);return Zn(e,r,s)}o(Lee,"FromThis");function Fee(e,t,r,n){let i=Zn(e,r,n);return at(e.items)?e.items.map((s,a)=>Vs(s,t,`${r}/${a}`,i[a])):[]}o(Fee,"FromTuple");function Mee(e,t,r,n){for(let i of e.anyOf){if(!Pt(i,t,n))continue;let s=Vs(i,t,r,n);return Zn(e,r,s)}for(let i of e.anyOf){let s=Vs(i,t,r,n);if(Pt(e,t,s))return Zn(e,r,s)}return Zn(e,r,n)}o(Mee,"FromUnion");function Vs(e,t,r,n){let i=Bn(e,t),s=e;switch(e[te]){case"Array":return Pee(s,i,r,n);case"Import":return Ree(s,i,r,n);case"Intersect":return Dee(s,i,r,n);case"Not":return Aee(s,i,r,n);case"Object":return Nee(s,i,r,n);case"Record":return kee(s,i,r,n);case"Ref":return Oee(s,i,r,n);case"This":return Lee(s,i,r,n);case"Tuple":return Fee(s,i,r,n);case"Union":return Mee(s,i,r,n);default:return Zn(s,r,n)}}o(Vs,"Visit");function xd(e,t,r){return Vs(e,t,"",r)}o(xd,"TransformEncode");function Uee(e,t){return rr(e)||An(e.items,t)}o(Uee,"FromArray");function Bee(e,t){return rr(e)||An(e.items,t)}o(Bee,"FromAsyncIterator");function jee(e,t){return rr(e)||An(e.returns,t)||e.parameters.some(r=>An(r,t))}o(jee,"FromConstructor");function $ee(e,t){return rr(e)||An(e.returns,t)||e.parameters.some(r=>An(r,t))}o($ee,"FromFunction");function Wee(e,t){return rr(e)||rr(e.unevaluatedProperties)||e.allOf.some(r=>An(r,t))}o(Wee,"FromIntersect");function qee(e,t){let r=globalThis.Object.getOwnPropertyNames(e.$defs).reduce((i,s)=>[...i,e.$defs[s]],[]),n=e.$defs[e.$ref];return rr(e)||An(n,[...r,...t])}o(qee,"FromImport");function Gee(e,t){return rr(e)||An(e.items,t)}o(Gee,"FromIterator");function zee(e,t){return rr(e)||An(e.not,t)}o(zee,"FromNot");function Hee(e,t){return rr(e)||Object.values(e.properties).some(r=>An(r,t))||Gr(e.additionalProperties)&&An(e.additionalProperties,t)}o(Hee,"FromObject");function Vee(e,t){return rr(e)||An(e.item,t)}o(Vee,"FromPromise");function Kee(e,t){let r=Object.getOwnPropertyNames(e.patternProperties)[0],n=e.patternProperties[r];return rr(e)||An(n,t)||Gr(e.additionalProperties)&&rr(e.additionalProperties)}o(Kee,"FromRecord");function Yee(e,t){return rr(e)?!0:An(Zt(e,t),t)}o(Yee,"FromRef");function Jee(e,t){return rr(e)?!0:An(Zt(e,t),t)}o(Jee,"FromThis");function Xee(e,t){return rr(e)||!Nr(e.items)&&e.items.some(r=>An(r,t))}o(Xee,"FromTuple");function Zee(e,t){return rr(e)||e.anyOf.some(r=>An(r,t))}o(Zee,"FromUnion");function An(e,t){let r=Bn(e,t),n=e;if(e.$id&&I7.has(e.$id))return!1;switch(e.$id&&I7.add(e.$id),e[te]){case"Array":return Uee(n,r);case"AsyncIterator":return Bee(n,r);case"Constructor":return jee(n,r);case"Function":return $ee(n,r);case"Import":return qee(n,r);case"Intersect":return Wee(n,r);case"Iterator":return Gee(n,r);case"Not":return zee(n,r);case"Object":return Hee(n,r);case"Promise":return Vee(n,r);case"Record":return Kee(n,r);case"Ref":return Yee(n,r);case"This":return Jee(n,r);case"Tuple":return Xee(n,r);case"Union":return Zee(n,r);default:return rr(e)}}o(An,"Visit");var I7=new Set;function Ra(e,t){return I7.clear(),An(e,t)}o(Ra,"HasTransform");function cD(...e){let[t,r,n]=e.length===3?[e[0],e[1],e[2]]:[e[0],[],e[1]];if(!Pt(t,r,n))throw new pd(t,n,I0(t,r,n).First());return Ra(t,r)?gd(t,r,n):n}o(cD,"Decode");function Da(e,t){let r=st(e,"default")?e.default:void 0,n=wl(r)?r():Qt(r);return Nr(t)?n:It(t)&&It(n)?Object.assign(n,t):t}o(Da,"ValueOrDefault");function S7(e){return Rl(e)&&"default"in e}o(S7,"HasDefaultProperty");function Qee(e,t,r){if(at(r)){for(let i=0;i<r.length;i++)r[i]=Oi(e.items,t,r[i]);return r}let n=Da(e,r);if(!at(n))return n;for(let i=0;i<n.length;i++)n[i]=Oi(e.items,t,n[i]);return n}o(Qee,"FromArray");function ete(e,t,r){return Di(r)?r:Da(e,r)}o(ete,"FromDate");function tte(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return Oi(i,[...t,...n],r)}o(tte,"FromImport");function rte(e,t,r){let n=Da(e,r);return e.allOf.reduce((i,s)=>{let a=Oi(s,t,n);return It(a)?{...i,...a}:a},{})}o(rte,"FromIntersect");function nte(e,t,r){let n=Da(e,r);if(!It(n))return n;let i=Object.getOwnPropertyNames(e.properties);for(let s of i){let a=Oi(e.properties[s],t,n[s]);Nr(a)||(n[s]=Oi(e.properties[s],t,n[s]))}if(!S7(e.additionalProperties))return n;for(let s of Object.getOwnPropertyNames(n))i.includes(s)||(n[s]=Oi(e.additionalProperties,t,n[s]));return n}o(nte,"FromObject");function ite(e,t,r){let n=Da(e,r);if(!It(n))return n;let i=e.additionalProperties,[s,a]=Object.entries(e.patternProperties)[0],l=new RegExp(s);for(let c of Object.getOwnPropertyNames(n))l.test(c)&&S7(a)&&(n[c]=Oi(a,t,n[c]));if(!S7(i))return n;for(let c of Object.getOwnPropertyNames(n))l.test(c)||(n[c]=Oi(i,t,n[c]));return n}o(ite,"FromRecord");function ote(e,t,r){return Oi(Zt(e,t),t,Da(e,r))}o(ote,"FromRef");function ste(e,t,r){return Oi(Zt(e,t),t,r)}o(ste,"FromThis");function ate(e,t,r){let n=Da(e,r);if(!at(n)||Nr(e.items))return n;let[i,s]=[e.items,Math.max(e.items.length,n.length)];for(let a=0;a<s;a++)a<i.length&&(n[a]=Oi(i[a],t,n[a]));return n}o(ate,"FromTuple");function lte(e,t,r){let n=Da(e,r);for(let i of e.anyOf){let s=Oi(i,t,Qt(n));if(Pt(i,t,s))return s}return n}o(lte,"FromUnion");function Oi(e,t,r){let n=Bn(e,t),i=e;switch(i[te]){case"Array":return Qee(i,n,r);case"Date":return ete(i,n,r);case"Import":return tte(i,n,r);case"Intersect":return rte(i,n,r);case"Object":return nte(i,n,r);case"Record":return ite(i,n,r);case"Ref":return ote(i,n,r);case"This":return ste(i,n,r);case"Tuple":return ate(i,n,r);case"Union":return lte(i,n,r);default:return Da(i,r)}}o(Oi,"Visit");function E5(...e){return e.length===3?Oi(e[0],e[1],e[2]):Oi(e[0],[],e[1])}o(E5,"Default");var Ks={};d0(Ks,{Delete:()=>ute,Format:()=>V1,Get:()=>dte,Has:()=>fte,Set:()=>cte,ValuePointerRootDeleteError:()=>I5,ValuePointerRootSetError:()=>C5});var C5=class extends lt{static{o(this,"ValuePointerRootSetError")}constructor(t,r,n){super("Cannot set root value"),this.value=t,this.path=r,this.update=n}},I5=class extends lt{static{o(this,"ValuePointerRootDeleteError")}constructor(t,r){super("Cannot delete root value"),this.value=t,this.path=r}};function uD(e){return e.indexOf("~")===-1?e:e.replace(/~1/g,"/").replace(/~0/g,"~")}o(uD,"Escape");function*V1(e){if(e==="")return;let[t,r]=[0,0];for(let n=0;n<e.length;n++)e.charAt(n)==="/"?(n===0||(r=n,yield uD(e.slice(t,r))),t=n+1):r=n;yield uD(e.slice(t))}o(V1,"Format");function cte(e,t,r){if(t==="")throw new C5(e,t,r);let[n,i,s]=[null,e,""];for(let a of V1(t))i[a]===void 0&&(i[a]={}),n=i,i=i[a],s=a;n[s]=r}o(cte,"Set");function ute(e,t){if(t==="")throw new I5(e,t);let[r,n,i]=[null,e,""];for(let s of V1(t)){if(n[s]===void 0||n[s]===null)return;r=n,n=n[s],i=s}if(Array.isArray(r)){let s=parseInt(i);r.splice(s,1)}else delete r[i]}o(ute,"Delete");function fte(e,t){if(t==="")return!0;let[r,n,i]=[null,e,""];for(let s of V1(t)){if(n[s]===void 0)return!1;r=n,n=n[s],i=s}return Object.getOwnPropertyNames(r).includes(i)}o(fte,"Has");function dte(e,t){if(t==="")return e;let r=e;for(let n of V1(t)){if(r[n]===void 0)return;r=r[n]}return r}o(dte,"Get");function mte(e,t){if(!It(t))return!1;let r=[...Object.keys(e),...Object.getOwnPropertySymbols(e)],n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)];return r.length!==n.length?!1:r.every(i=>lu(e[i],t[i]))}o(mte,"ObjectType");function pte(e,t){return Di(t)&&e.getTime()===t.getTime()}o(pte,"DateType");function gte(e,t){return!at(t)||e.length!==t.length?!1:e.every((r,n)=>lu(r,t[n]))}o(gte,"ArrayType");function hte(e,t){return!Zo(t)||e.length!==t.length||Object.getPrototypeOf(e).constructor.name!==Object.getPrototypeOf(t).constructor.name?!1:e.every((r,n)=>lu(r,t[n]))}o(hte,"TypedArrayType");function xte(e,t){return e===t}o(xte,"ValueType");function lu(e,t){if(Di(e))return pte(e,t);if(Zo(e))return hte(e,t);if(at(e))return gte(e,t);if(It(e))return mte(e,t);if(Eo(e))return xte(e,t);throw new Error("ValueEquals: Unable to compare value")}o(lu,"Equal");var bte=ir({type:qt("insert"),path:Ni(),value:$s()}),_te=ir({type:qt("update"),path:Ni(),value:$s()}),yte=ir({type:qt("delete"),path:Ni()}),dD=nr([bte,_te,yte]),S5=class extends lt{static{o(this,"ValueDiffError")}constructor(t,r){super(r),this.value=t}};function w5(e,t){return{type:"update",path:e,value:t}}o(w5,"CreateUpdate");function mD(e,t){return{type:"insert",path:e,value:t}}o(mD,"CreateInsert");function pD(e){return{type:"delete",path:e}}o(pD,"CreateDelete");function fD(e){if(globalThis.Object.getOwnPropertySymbols(e).length>0)throw new S5(e,"Cannot diff objects with symbols")}o(fD,"AssertDiffable");function*vte(e,t,r){if(fD(t),fD(r),!R6(r))return yield w5(e,r);let n=globalThis.Object.getOwnPropertyNames(t),i=globalThis.Object.getOwnPropertyNames(r);for(let s of i)st(t,s)||(yield mD(`${e}/${s}`,r[s]));for(let s of n)st(r,s)&&(lu(t,r)||(yield*P5(`${e}/${s}`,t[s],r[s])));for(let s of n)st(r,s)||(yield pD(`${e}/${s}`))}o(vte,"ObjectType");function*Tte(e,t,r){if(!at(r))return yield w5(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*P5(`${e}/${n}`,t[n],r[n]);for(let n=0;n<r.length;n++)n<t.length||(yield mD(`${e}/${n}`,r[n]));for(let n=t.length-1;n>=0;n--)n<r.length||(yield pD(`${e}/${n}`))}o(Tte,"ArrayType");function*Ete(e,t,r){if(!Zo(r)||t.length!==r.length||globalThis.Object.getPrototypeOf(t).constructor.name!==globalThis.Object.getPrototypeOf(r).constructor.name)return yield w5(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*P5(`${e}/${n}`,t[n],r[n])}o(Ete,"TypedArrayType");function*Cte(e,t,r){t!==r&&(yield w5(e,r))}o(Cte,"ValueType");function*P5(e,t,r){if(R6(t))return yield*vte(e,t,r);if(at(t))return yield*Tte(e,t,r);if(Zo(t))return yield*Ete(e,t,r);if(Eo(t))return yield*Cte(e,t,r);throw new S5(t,"Unable to diff value")}o(P5,"Visit");function gD(e,t){return[...P5("",e,t)]}o(gD,"Diff");function Ite(e){return e.length>0&&e[0].path===""&&e[0].type==="update"}o(Ite,"IsRootUpdate");function Ste(e){return e.length===0}o(Ste,"IsIdentity");function hD(e,t){if(Ite(t))return Qt(t[0].value);if(Ste(t))return Qt(e);let r=Qt(e);for(let n of t)switch(n.type){case"insert":{Ks.Set(r,n.path,n.value);break}case"update":{Ks.Set(r,n.path,n.value);break}case"delete":{Ks.Delete(r,n.path);break}}return r}o(hD,"Patch");function xD(...e){let[t,r,n]=e.length===3?[e[0],e[1],e[2]]:[e[0],[],e[1]],i=Ra(t,r)?xd(t,r,n):n;if(!Pt(t,r,i))throw new hd(t,i,I0(t,r,i).First());return i}o(xD,"Encode");function R5(e){return It(e)&&!at(e)}o(R5,"IsStandardObject");var D5=class extends lt{static{o(this,"ValueMutateError")}constructor(t){super(t)}};function wte(e,t,r,n){if(!R5(r))Ks.Set(e,t,Qt(n));else{let i=Object.getOwnPropertyNames(r),s=Object.getOwnPropertyNames(n);for(let a of i)s.includes(a)||delete r[a];for(let a of s)i.includes(a)||(r[a]=null);for(let a of s)w7(e,`${t}/${a}`,r[a],n[a])}}o(wte,"ObjectType");function Pte(e,t,r,n){if(!at(r))Ks.Set(e,t,Qt(n));else{for(let i=0;i<n.length;i++)w7(e,`${t}/${i}`,r[i],n[i]);r.splice(n.length)}}o(Pte,"ArrayType");function Rte(e,t,r,n){if(Zo(r)&&r.length===n.length)for(let i=0;i<r.length;i++)r[i]=n[i];else Ks.Set(e,t,Qt(n))}o(Rte,"TypedArrayType");function Dte(e,t,r,n){r!==n&&Ks.Set(e,t,n)}o(Dte,"ValueType");function w7(e,t,r,n){if(at(n))return Pte(e,t,r,n);if(Zo(n))return Rte(e,t,r,n);if(R5(n))return wte(e,t,r,n);if(Eo(n))return Dte(e,t,r,n)}o(w7,"Visit");function bD(e){return Zo(e)||Eo(e)}o(bD,"IsNonMutableValue");function Ate(e,t){return R5(e)&&at(t)||at(e)&&R5(t)}o(Ate,"IsMismatchedValue");function _D(e,t){if(bD(e)||bD(t))throw new D5("Only object and array types can be mutated at the root level");if(Ate(e,t))throw new D5("Cannot assign due type mismatch of assignable values");w7(e,"",e,t)}o(_D,"Mutate");var A5=class extends lt{static{o(this,"ParseError")}constructor(t){super(t)}},P7;(function(e){let t=new Map([["Assert",(s,a,l)=>(b5(s,a,l),l)],["Cast",(s,a,l)=>G1(s,a,l)],["Clean",(s,a,l)=>y5(s,a,l)],["Clone",(s,a,l)=>Qt(l)],["Convert",(s,a,l)=>T5(s,a,l)],["Decode",(s,a,l)=>Ra(s,a)?gd(s,a,l):l],["Default",(s,a,l)=>E5(s,a,l)],["Encode",(s,a,l)=>Ra(s,a)?xd(s,a,l):l]]);function r(s){t.delete(s)}o(r,"Delete"),e.Delete=r;function n(s,a){t.set(s,a)}o(n,"Set"),e.Set=n;function i(s){return t.get(s)}o(i,"Get"),e.Get=i})(P7||(P7={}));var yD=["Clone","Clean","Default","Convert","Assert","Decode"];function Nte(e,t,r,n){return e.reduce((i,s)=>{let a=P7.Get(s);if(Nr(a))throw new A5(`Unable to find Parse operation '${s}'`);return a(t,r,i)},n)}o(Nte,"ParseValue");function vD(...e){let[t,r,n,i]=e.length===4?[e[0],e[1],e[2],e[3]]:e.length===3?at(e[0])?[e[0],e[1],[],e[2]]:[yD,e[0],e[1],e[2]]:e.length===2?[yD,e[0],[],e[1]]:(()=>{throw new A5("Invalid Arguments")})();return Nte(t,r,n,i)}o(vD,"Parse");var Ul={};d0(Ul,{Assert:()=>b5,Cast:()=>G1,Check:()=>Pt,Clean:()=>y5,Clone:()=>Qt,Convert:()=>T5,Create:()=>ss,Decode:()=>cD,Default:()=>E5,Diff:()=>gD,Edit:()=>dD,Encode:()=>xD,Equal:()=>lu,Errors:()=>I0,Hash:()=>Fl,Mutate:()=>_D,Parse:()=>vD,Patch:()=>hD,ValueErrorIterator:()=>Ml});var kte={capabilities:{family:"gpt-3.5-turbo",object:"model_capabilities",supports:{streaming:!0},tokenizer:"cl100k_base",type:"completion"},id:"copilot-codex",model_picker_enabled:!0,name:"GPT-3.5 Turbo",object:"model",preview:!1,version:"copilot-codex"},Ote="gpt-4o-copilot",S0=class e{constructor(t,r=!0){this._ctx=t;this.onModelsFetchedCallbacks=[];this.fetchedModelData=[];this.customModels=[];this.editorPreviewFeaturesDisabled=!1;r&&dn(this._ctx,n=>this.refreshAvailableModels(n))}static{o(this,"AvailableModelsManager")}async refreshAvailableModels(t){await this.refreshModels(t);for(let r of this.onModelsFetchedCallbacks)r()}addHandler(t){this.onModelsFetchedCallbacks.push(t)}getDefaultModelId(){if(this.fetchedModelData){let t=e.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled)[0];if(t)return t.id}return Ote}parseModelsResponse(t){try{return Ul.Parse(OR,t)}catch(r){gt.exception(this._ctx,r,"Failed to parse /models response from CAPI");return}}async refreshModels(t){let r=await this.fetchModels(t);r&&(this.fetchedModelData=r)}async fetchModels(t){return this.customModels=t.getTokenValue("cml")?.split(",")??[],this.editorPreviewFeaturesDisabled=t.getTokenValue("editor_preview_features")=="0",t.getTokenValue("fcv1")=="1"?Promise.resolve([kte]):await this.fetch()}async fetch(){let t=await E6(this._ctx,"/models");return t.ok?this.parseModelsResponse(await t.json())?.data??[]:(gt.error(this._ctx,"Failed to fetch models from CAPI",{status:t.status,statusText:t.statusText}),null)}getGenericCompletionModels(){let t=e.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled);return e.mapCompletionModels(t)}getTokenizerForModel(t){let n=this.getGenericCompletionModels().find(i=>i.modelId===t);return n?n.tokenizer:"o200k_base"}static filterCompletionModels(t,r){return t.filter(n=>n.capabilities.type==="completion").filter(n=>!r||n.preview===!1||n.preview===void 0)}static filterModelsWithEditorPreviewFeatures(t,r){return t.filter(n=>!r||n.preview===!1||n.preview===void 0)}static mapCompletionModels(t){return t.map(r=>({modelId:r.id,label:r.name,preview:!!r.preview,tokenizer:r.capabilities.tokenizer}))}getCurrentModelRequestInfo(t=void 0){let r=this.getDefaultModelId(),n=$1(this._ctx);if(n){let l=this.getGenericCompletionModels().map(c=>c.modelId);l.includes(n)||(l.length>0&&gt.error(this._ctx,`User selected model ${n} is not in the list of generic models: ${l.join(", ")}, falling back to default model.`),n=null),r===n&&(n=null)}let i=Ze(this._ctx,de.DebugOverrideEngine)||Ze(this._ctx,de.DebugOverrideEngineLegacy);if(i)return new Bl(i,"override");let s=t?this._ctx.get(Be).customEngine(t):"",a=t?this._ctx.get(Be).customEngineTargetEngine(t):void 0;return n?s&&a&&n===a?new Bl(s,"exp"):new Bl(n,"modelpicker"):s?new Bl(s,"exp"):this.customModels.length>0?new Bl(this.customModels[0],"custommodel"):new Bl(r,"default")}},Bl=class{constructor(t,r){this.modelId=t;this.modelChoiceSource=r}static{o(this,"ModelRequestInfo")}get headers(){return{}}};function bd(e,t=void 0){let r=e.get(S0),n=r.getCurrentModelRequestInfo(t),i=r.getTokenizerForModel(n.modelId);return{headers:n.headers,modelId:n.modelId,engineChoiceSource:n.modelChoiceSource,tokenizer:i}}o(bd,"getEngineRequestInfo");var Zr=class{static{o(this,"FileSystem")}};var BD=Lt(UD());function jD(e){if(e===void 0||e===0)return"";let t=K1(e);if(t==="github/github")return t;let r=sre(e)?.toLowerCase();return r!==void 0?r:""}o(jD,"getDogFood");function K1(e){if(e!==void 0&&e!==0&&e.hostname==="github.com")return e.owner+"/"+e.repo}o(K1,"tryGetGitHubNWO");function sre(e){if(e!==void 0&&e!==0&&(e.hostname.endsWith("azure.com")||e.hostname.endsWith("visualstudio.com")))return e.owner+"/"+e.repo}o(sre,"tryGetADONWO");function _d(e,t){let r=h0(t);return are(e,r)}o(_d,"extractRepoInfoInBackground");var are=dre(lre,1e4);async function lre(e,t){let r=A2(t);if(!r)return;let n=await ure(e,r);if(!n)return;let i=e.get(Zr),s=Dn(n,".git","config"),a;try{a=await i.readFileString(s)}catch{return}let l=fre(a)??"",c=cre(l),u={uri:n};return c===void 0?{baseFolder:u,url:l,hostname:"",owner:"",repo:"",pathname:""}:{baseFolder:u,url:l,...c}}o(lre,"extractRepoInfo");function cre(e){let t;try{if(t=(0,BD.default)(e),t.resource==""||t.owner==""||t.name==""||t.pathname=="")return}catch{return}return{hostname:t.resource,owner:t.owner,repo:t.name,pathname:t.pathname}}o(cre,"parseRepoUrl");async function ure(e,t){let r=t+"_add_to_make_longer",n=e.get(Zr);for(;t!=="file:///"&&t.length<r.length;){let i=Dn(t,".git","config"),s=!1;try{await n.stat(i),s=!0}catch{s=!1}if(s)return t;r=t,t=h0(t)}}o(ure,"getRepoBaseUri");function fre(e){let t=/^\s*\[\s*remote\s+"((\\\\|\\"|[^\\"])+)"/,r=/^\s*\[remote.([^"\s]+)/,n=/^\s*url\s*=\s*([^\s#;]+)/,i=/^\s*\[/,s,a,l=!1;for(let c of e.split(`
`))if(l&&s!==void 0){if(s+=c,c.endsWith("\\"))s=s.substring(0,s.length-1);else if(l=!1,a==="origin")return s}else{let u=c.match(t)??c.match(r);if(u)a=u[1];else if(c.match(i))a=void 0;else{if(s&&a!=="origin")continue;{let f=c.match(n);if(f){if(s=f[1],s.endsWith("\\"))s=s.substring(0,s.length-1),l=!0;else if(a==="origin")return s}}}}return s}o(fre,"getRepoUrlFromConfigText");var N7=class{static{o(this,"CompletedComputation")}constructor(t){this.result=t}};function dre(e,t){let r=new _r(t),n=new Set;return(i,...s)=>{let a=JSON.stringify(s),l=r.get(a);if(l)return l.result;if(n.has(a))return 0;let c=e(i,...s);return n.add(a),c.then(u=>{r.set(a,new N7(u)),n.delete(a)}),0}}o(dre,"computeInBackgroundAndMemoize");var mre={tokenizerName:"o200k_base"};function pre(e){return{...mre,...e}}o(pre,"cursorContextOptions");function Y1(e,t={}){let r=pre(t),n=mi(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let i=e.source.slice(0,e.offset);return r.maxLineCount!==void 0&&(i=i.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(i=n.takeLastLinesTokens(i,r.maxTokenLength)),{context:i,lineCount:i.split(`
`).length,tokenLength:n.tokenLength(i),tokenizerName:r.tokenizerName}}o(Y1,"getCursorContext");var gre={function:"function",snippet:"snippet",snippets:"snippets",variable:"variable",parameter:"parameter",method:"method",class:"class",module:"module",alias:"alias","enum member":"enum member",interface:"interface"};function $D(e){let t=gre[e.semantics],r=["snippets"].includes(e.semantics)?"these":"this";return{headline:e.relativePath?`Compare ${r} ${t} from ${e.relativePath}:`:`Compare ${r} ${t}:`,snippet:e.snippet}}o($D,"announceSnippet");var k7=class{constructor(t){this.keys=[];this.cache={};this.size=t}static{o(this,"FifoCache")}put(t,r){if(this.cache[t]=r,this.keys.length>this.size){this.keys.push(t);let n=this.keys.shift()??"";delete this.cache[n]}}get(t){return this.cache[t]}};var O7=class{static{o(this,"Tokenizer")}constructor(t){this.stopsForLanguage=_re.get(t.languageId)??bre}tokenize(t){return new Set(hre(t).filter(r=>!this.stopsForLanguage.has(r)))}},WD=new k7(20),yd=class{static{o(this,"WindowedMatcher")}constructor(t){this.referenceDoc=t,this.tokenizer=new O7(t)}get referenceTokens(){return this.createReferenceTokens()}async createReferenceTokens(){return this.referenceTokensCache??=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,r="descending"){return r=="ascending"?t.sort((n,i)=>n.score>i.score?1:-1):r=="descending"?t.sort((n,i)=>n.score>i.score?-1:1):t}async retrieveAllSnippets(t,r="descending"){let n=[];if(t.source.length===0||(await this.referenceTokens).size===0)return n;let i=t.source.split(`
`),s=this.id()+":"+t.source,a=WD.get(s)??[],l=a.length==0,c=l?i.map(u=>this.tokenizer.tokenize(u),this.tokenizer):[];for(let[u,[f,d]]of this.getWindowsDelineations(i).entries()){if(l){let g=new Set;c.slice(f,d).forEach(h=>h.forEach(b=>g.add(b),g)),a.push(g)}let m=a[u],p=this.similarityScore(m,await this.referenceTokens);if(n.length&&f>0&&n[n.length-1].endLine>f){n[n.length-1].score<p&&(n[n.length-1].score=p,n[n.length-1].startLine=f,n[n.length-1].endLine=d);continue}n.push({score:p,startLine:f,endLine:d})}return l&&WD.put(s,a),this.sortScoredSnippets(n,r)}findMatches(t,r){return this.findBestMatch(t,r)}async findBestMatch(t,r){if(t.source.length===0||(await this.referenceTokens).size===0)return[];let n=t.source.split(`
`),i=await this.retrieveAllSnippets(t,"descending");if(i.length===0)return[];let s=[];for(let a=0;a<i.length&&a<r;a++)if(i[a].score!==0){let l=n.slice(i[a].startLine,i[a].endLine).join(`
`);s.push({snippet:l,semantics:"snippet",provider:"similar-files",...i[a]})}return s}};function hre(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}o(hre,"splitIntoWords");var xre=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),bre=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...xre]),_re=new Map([]);function L7(e,t,r){return{type:"virtual",indentation:e,subs:t,label:r}}o(L7,"virtualNode");function qD(e,t,r,n,i){if(r==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:e,lineNumber:t,sourceLine:r,subs:n,label:i}}o(qD,"lineNode");function F7(e){return{type:"blank",lineNumber:e,subs:[]}}o(F7,"blankNode");function N5(e){return{type:"top",indentation:-1,subs:e??[]}}o(N5,"topNode");function Qn(e){return e.type==="blank"}o(Qn,"isBlank");function cu(e){return e.type==="line"}o(cu,"isLine");function uu(e){return e.type==="virtual"}o(uu,"isVirtual");function GD(e,t){return gi(e,r=>{r.label=r.label?t(r.label)?void 0:r.label:void 0},"bottomUp"),e}o(GD,"clearLabelsIf");function fu(e,t){switch(e.type){case"line":case"virtual":{let r=e.subs.map(n=>fu(n,t));return{...e,subs:r,label:e.label?t(e.label):void 0}}case"blank":return{...e,label:e.label?t(e.label):void 0};case"top":return{...e,subs:e.subs.map(r=>fu(r,t)),label:e.label?t(e.label):void 0}}}o(fu,"mapLabels");function gi(e,t,r){function n(i){r==="topDown"&&t(i),i.subs.forEach(s=>{n(s)}),r==="bottomUp"&&t(i)}o(n,"_visit"),n(e)}o(gi,"visitTree");function M7(e,t,r,n){let i=t;function s(a){i=r(a,i)}return o(s,"visitor"),gi(e,s,n),i}o(M7,"foldTree");function k5(e,t,r){let n=o(s=>{if(r!==void 0&&r(s))return s;{let a=s.subs.map(n).filter(l=>l!==void 0);return s.subs=a,t(s)}},"rebuild"),i=n(e);return i!==void 0?i:N5()}o(k5,"rebuildTree");function vre(e){let t=e.split(`
`),r=t.map(u=>u.match(/^\s*/)[0].length),n=t.map(u=>u.trimLeft());function i(u){let[f,d]=s(u+1,r[u]);return[qD(r[u],u,n[u],f),d]}o(i,"parseNode");function s(u,f){let d,m=[],p=u,g;for(;p<n.length&&(n[p]===""||r[p]>f);)if(n[p]==="")g===void 0&&(g=p),p+=1;else{if(g!==void 0){for(let h=g;h<p;h++)m.push(F7(h));g=void 0}[d,p]=i(p),m.push(d)}return g!==void 0&&(p=g),[m,p]}o(s,"parseSubs");let[a,l]=s(0,-1),c=l;for(;c<n.length&&n[c]==="";)a.push(F7(c)),c+=1;if(c<n.length)throw new Error(`Parsing did not go to end of file. Ended at ${c} out of ${n.length}`);return N5(a)}o(vre,"parseRaw");function J1(e,t){function r(n){if(cu(n)){let i=t.find(s=>s.matches(n.sourceLine));i&&(n.label=i.label)}}o(r,"visitor"),gi(e,r,"bottomUp")}o(J1,"labelLines");function O5(e){function t(r){if(uu(r)&&r.label===void 0){let n=r.subs.filter(i=>!Qn(i));n.length===1&&(r.label=n[0].label)}}o(t,"visitor"),gi(e,t,"bottomUp")}o(O5,"labelVirtualInherited");function X1(e){return Object.keys(e).map(t=>{let r;return e[t].test?r=o(n=>e[t].test(n),"matches"):r=e[t],{matches:r,label:t}})}o(X1,"buildLabelRules");function U7(e){let r=k5(e,o(function(n){if(n.subs.length===0||n.subs.findIndex(a=>a.label==="closer"||a.label==="opener")===-1)return n;let i=[],s;for(let a=0;a<n.subs.length;a++){let l=n.subs[a],c=n.subs[a-1];if(l.label==="opener"&&c!==void 0&&cu(c))c.subs.push(l),l.subs.forEach(u=>c.subs.push(u)),l.subs=[];else if(l.label==="closer"&&s!==void 0&&(cu(l)||uu(l))&&l.indentation>=s.indentation){let u=i.length-1;for(;u>0&&Qn(i[u]);)u-=1;if(s.subs.push(...i.splice(u+1)),l.subs.length>0){let f=s.subs.findIndex(g=>g.label!=="newVirtual"),d=s.subs.slice(0,f),m=s.subs.slice(f),p=m.length>0?[L7(l.indentation,m,"newVirtual")]:[];s.subs=[...d,...p,l]}else s.subs.push(l)}else i.push(l),Qn(l)||(s=l)}return n.subs=i,n},"rebuilder"));return GD(e,n=>n==="newVirtual"),r}o(U7,"combineClosersAndOpeners");function zD(e,t=Qn,r){return k5(e,o(function(i){if(i.subs.length<=1)return i;let s=[],a=[],l,c=!1;function u(f=!1){if(l!==void 0&&(s.length>0||!f)){let d=L7(l,a,r);s.push(d)}else a.forEach(d=>s.push(d))}o(u,"flushBlockIntoNewSubs");for(let f=0;f<i.subs.length;f++){let d=i.subs[f],m=t(d);!m&&c&&(u(),a=[]),c=m,a.push(d),Qn(d)||(l=l??d.indentation)}return u(!0),i.subs=s,i},"rebuilder"))}o(zD,"groupBlocks");function du(e){return k5(e,o(function(r){return uu(r)&&r.label===void 0&&r.subs.length<=1?r.subs.length===0?void 0:r.subs[0]:(r.subs.length===1&&uu(r.subs[0])&&r.subs[0].label===void 0&&(r.subs=r.subs[0].subs),r)},"rebuilder"))}o(du,"flattenVirtual");var Tre={opener:/^[[({]/,closer:/^[\])}]/},Ere=X1(Tre),HD={};function B7(e,t){HD[e]=t}o(B7,"registerLanguageSpecificParser");function Z1(e,t){let r=vre(e),n=HD[t??""];return n?n(r):(J1(r,Ere),U7(r))}o(Z1,"parseTree");function L5(e,t){let r=[],n=t.length;if(n==0)return[];if(n<e)return[[0,n]];for(let i=0;i<n-e+1;i++)r.push([i,i+e]);return r}o(L5,"getBasicWindowDelineations");var F5=class e extends yd{static{o(this,"FixedWindowSizeJaccardMatcher")}constructor(t,r){super(t),this.windowLength=r}static{this.FACTORY=o(t=>({to:o(r=>new e(r,t),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return L5(this.windowLength,t)}_getCursorContextInfo(t){return Y1(t,{maxLineCount:this.windowLength})}similarityScore(t,r){return Cre(t,r)}};function Cre(e,t){let r=new Set;return e.forEach(n=>{t.has(n)&&r.add(n)}),r.size/(e.size+t.size-r.size)}o(Cre,"computeScore");var M5=Lt(VD());var $7={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby",csharp:"c_sharp",java:"java",php:"php",c:"cpp",cpp:"cpp"};function w0(e){return e in $7&&e!=="csharp"&&e!=="java"&&e!=="php"&&e!=="c"&&e!=="cpp"}o(w0,"isSupportedLanguageId");function U5(e){if(!(e in $7))throw new Error(`Unrecognized language: ${e}`);return $7[e]}o(U5,"languageIdToWasmLanguage");var j7=new Map;async function Ire(e){let t;try{t=await c5(`tree-sitter-${e}.wasm`)}catch(r){throw r instanceof Error&&"code"in r&&typeof r.code=="string"&&r.name==="Error"?new ud(`Could not load tree-sitter-${e}.wasm`,r):r}return M5.default.Language.load(t)}o(Ire,"loadWasmLanguage");function Sre(e){let t=U5(e);if(!j7.has(t)){let r=Ire(t);j7.set(t,r)}return j7.get(t)}o(Sre,"getLanguage");var W7=class extends Error{static{o(this,"WrappedError")}constructor(t,r){super(t,{cause:r})}};async function mu(e,t){await M5.default.init({locateFile:o(s=>LR(s),"locateFile")});let r;try{r=new M5.default}catch(s){throw s&&typeof s=="object"&&"message"in s&&typeof s.message=="string"&&s.message.includes("table index is out of bounds")?new W7(`Could not init Parse for language <${e}>`,s):s}let n=await Sre(e);r.setLanguage(n);let i=r.parse(t);return r.delete(),i}o(mu,"parseTreeSitter");function KD(e){switch(U5(e)){case"python":return null;case"javascript":case"typescript":case"tsx":case"go":case"c_sharp":case"java":case"php":case"cpp":return"}";case"ruby":return"end"}}o(KD,"getBlockCloseToken");function wre(e,t){let r=[];for(let n of e){if(!n[1]){let i=t.tree.getLanguage();n[1]=i.query(n[0])}r.push(...n[1].matches(t))}return r}o(wre,"innerQuery");var Pre=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function YD(e){return wre([Pre],e).length==1}o(YD,"queryPythonIsDocstring");var B5=class e extends yd{static{o(this,"BlockTokenSubsetMatcher")}constructor(t,r){super(t),this.windowLength=r}static{this.FACTORY=o(t=>({to:o(r=>new e(r,t),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return L5(this.windowLength,t)}_getCursorContextInfo(t){return Y1(t,{maxLineCount:this.windowLength})}get referenceTokens(){return this.createReferenceTokensForLanguage()}async createReferenceTokensForLanguage(){return this.referenceTokensCache?this.referenceTokensCache:(this.referenceTokensCache=e.syntaxAwareSupportsLanguage(this.referenceDoc.languageId)?await this.syntaxAwareReferenceTokens():await super.referenceTokens,this.referenceTokensCache)}async syntaxAwareReferenceTokens(){let t=(await this.getEnclosingMemberStart(this.referenceDoc.source,this.referenceDoc.offset))?.startIndex,r=this.referenceDoc.offset,n=t?this.referenceDoc.source.slice(t,r):Y1(this.referenceDoc,{maxLineCount:this.windowLength}).context;return this.tokenizer.tokenize(n)}static syntaxAwareSupportsLanguage(t){switch(t){case"csharp":return!0;default:return!1}}similarityScore(t,r){return Rre(t,r)}async getEnclosingMemberStart(t,r){let n;try{n=await mu(this.referenceDoc.languageId,t);let i=n.rootNode.namedDescendantForIndex(r);for(;i&&!(e.isMember(i)||e.isBlock(i));)i=i.parent??void 0;return i}finally{n?.delete()}}static isMember(t){switch(t?.type){case"method_declaration":case"property_declaration":case"field_declaration":case"constructor_declaration":return!0;default:return!1}}static isBlock(t){switch(t?.type){case"class_declaration":case"struct_declaration":case"record_declaration":case"enum_declaration":case"interface_declaration":return!0;default:return!1}}};function Rre(e,t){let r=new Set;return t.forEach(n=>{e.has(n)&&r.add(n)}),r.size}o(Rre,"computeScore");var Dre=0,Are=60,Nre=4,kre=1,Ore=20,Lre=1e4,Q1={snippetLength:Are,threshold:Dre,maxTopSnippets:Nre,maxCharPerFile:Lre,maxNumberOfFiles:Ore,maxSnippetsPerFile:kre,useSubsetMatching:!1};var j5={snippetLength:60,threshold:0,maxTopSnippets:16,maxCharPerFile:1e5,maxNumberOfFiles:200,maxSnippetsPerFile:4};function Fre(e,t){return(t.useSubsetMatching?B5.FACTORY(t.snippetLength):F5.FACTORY(t.snippetLength)).to(e)}o(Fre,"getMatcher");async function JD(e,t,r){let n=Fre(e,r);return r.maxTopSnippets===0?[]:(await t.filter(s=>s.source.length<r.maxCharPerFile&&s.source.length>0).slice(0,r.maxNumberOfFiles).reduce(async(s,a)=>(await s).concat((await n.findMatches(a,r.maxSnippetsPerFile)).map(l=>({relativePath:a.relativePath,...l}))),Promise.resolve([]))).filter(s=>s.score&&s.snippet&&s.score>r.threshold).sort((s,a)=>s.score-a.score).slice(-r.maxTopSnippets)}o(JD,"getSimilarSnippets");var ep=500,tp=8192-ep,XD=4;var $5=10,W5=15;var Mre={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor",c:"cpp"};function rp(e){return e=e.toLowerCase(),Mre[e]??e}o(rp,"normalizeLanguageId");var q7=class{constructor(t){this.ctx=t;this.cache=new _r(200)}static{o(this,"FilterSettingsToExpConfigs")}async fetchExpConfig(t,r){let n=t.stringify()+`
`+JSON.stringify(r),i=this.cache.get(n);return i||(i=new G7(()=>this.ctx.get(Yc).fetchExperiments(this.ctx,r,t.toHeaders()),1e3*60*60),this.cache.set(n,i)),i.run()}getCachedExpConfig(t){return this.cache.get(t.stringify())?.value()}},G7=class{constructor(t,r=1/0){this.producer=t;this.expirationMs=r}static{o(this,"Task")}async run(){return this.promise===void 0&&(this.promise=this.producer(),this.storeResult(this.promise).then(()=>{this.expirationMs<1/0&&this.promise!==void 0&&setTimeout(()=>this.promise=void 0,this.expirationMs)})),this.promise}async storeResult(t){try{this.result=await t}finally{this.result===void 0&&(this.promise=void 0)}}value(){return this.result}};function Bre(e){return"uri"in e}o(Bre,"isCompletionsFiltersInfo");var Be=class e{constructor(t){this.ctx=t;this.staticFilters={};this.dynamicFilters={};this.dynamicFilterGroups=[];this.upcomingDynamicFilters={};this.assignments=new q7(this.ctx)}static{o(this,"Features")}static{this.upcomingDynamicFilterCheckDelayMs=20}static{this.upcomingTimeBucketMinutes=5+Math.floor(Math.random()*11)}registerStaticFilters(t){Object.assign(this.staticFilters,t)}registerDynamicFilter(t,r){this.dynamicFilters[t]=r}registerDynamicFilterGroup(t){this.dynamicFilterGroups.push(t)}getDynamicFilterValues(){let t={};for(let r of this.dynamicFilterGroups)Object.assign(t,r());for(let[r,n]of Object.entries(this.dynamicFilters))t[r]=n();return t}registerUpcomingDynamicFilter(t,r){this.upcomingDynamicFilters[t]=r}async updateExPValuesAndAssignments(t,r=et.createAndMarkAsIssued(),n=void 0){if(r instanceof np)throw new Error("updateExPValuesAndAssignments should not be called with TelemetryWithExp");let i=t&&Bre(t)?_d(this.ctx,t.uri):void 0,s=K1(i)??"",a=jD(i)??"",l=t?.languageId??"",c=bd(this.ctx).modelId;n??=await this.ctx.get(Yr).getToken();let u=YI(n),f=n.getTokenValue("ft")??"",d=n.getTokenValue("ol")??"",m=n.getTokenValue("cml")??"",p=n.getTokenValue("tid")??"",g=n.endpoints,h={"X-Copilot-Repository":s,"X-Copilot-FileType":l,"X-Copilot-UserKind":u,"X-Copilot-Dogfood":a,"X-Copilot-Engine":c,"X-Copilot-CustomModel":f,"X-Copilot-Orgs":d,"X-Copilot-CustomModelNames":m,"X-Copilot-CopilotTrackingId":p},b=this.getGranularityDirectory(),x=this.makeFilterSettings(h),_=b.extendFilters(x),y=await this.getExpConfig(_.newFilterSettings,g);b.update(x,+(y.variables.copilotbycallbuckets??NaN),+(y.variables.copilottimeperiodsizeinh??NaN));let v=b.extendFilters(x),I=v.newFilterSettings,R=await this.getExpConfig(I,g),z=new Promise(V=>setTimeout(V,e.upcomingDynamicFilterCheckDelayMs));for(let V of v.otherFilterSettingsToPrefetch)z=z.then(async()=>{await new Promise($=>setTimeout($,e.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(V,g)});return this.prepareForUpcomingFilters(I,g),new np(r.properties,r.measurements,r.issuedTime,{filters:I,exp:R})}getGranularityDirectory(){if(!this.granularityDirectory){let t=this.ctx.get(bn).machineId;this.granularityDirectory=new S2(t,this.ctx.get(Kc))}return this.granularityDirectory}makeFilterSettings(t){return new Jc({...this.staticFilters,...this.getDynamicFilterValues(),...t})}async getExpConfig(t,r){try{return this.assignments.fetchExpConfig(t,r)}catch(n){return As.createFallbackConfig(this.ctx,`Error fetching ExP config: ${String(n)}`)}}async prepareForUpcomingFilters(t,r){if(!(new Date().getMinutes()<60-e.upcomingTimeBucketMinutes))for(let[n,i]of Object.entries(this.upcomingDynamicFilters))await new Promise(s=>setTimeout(s,e.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(t.withChange(n,i()),r)}stringify(){let t=this.assignments.getCachedExpConfig(new Jc({}));return JSON.stringify(t?.variables??{})}async getFallbackExpAndFilters(){let t=this.makeFilterSettings({}),r=_w(this.ctx),n=await this.getExpConfig(t,r);return{filters:t,exp:n}}disableLogProb(t){return t.filtersAndExp.exp.variables.copilotdisablelogprob??!0}overrideBlockMode(t){return t.filtersAndExp.exp.variables.copilotoverrideblockmode||void 0}customEngine(t){return t.filtersAndExp.exp.variables.copilotcustomengine??""}customEngineTargetEngine(t){return t.filtersAndExp.exp.variables.copilotcustomenginetargetengine}suffixPercent(t){return t.filtersAndExp.exp.variables.CopilotSuffixPercent??W5}suffixMatchThreshold(t){return t.filtersAndExp.exp.variables.copilotsuffixmatchthreshold??$5}cppHeadersEnableSwitch(t){return t.filtersAndExp.exp.variables.copilotcppheadersenableswitch??!1}relatedFilesVSCodeCSharp(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscodecsharp??!1}relatedFilesVSCodeTypeScript(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscodetypescript??!1}relatedFilesVSCode(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscode??!1}contextProviders(t){let r=t.filtersAndExp.exp.variables.copilotcontextproviders??"";return r?r.split(",").map(n=>n.trim()):[]}contextProviderTimeBudget(t){return t.filtersAndExp.exp.variables.copilotcontextprovidertimebudget??150}includeNeighboringFiles(t){return t.filtersAndExp.exp.variables.copilotincludeneighboringfiles??!1}excludeRelatedFiles(t){return t.filtersAndExp.exp.variables.copilotexcluderelatedfiles??!1}maxPromptCompletionTokens(t){return t.filtersAndExp.exp.variables.maxpromptcompletionTokens??tp+ep}ideChatMaxRequestTokens(t){return t.filtersAndExp.exp.variables.idechatmaxrequesttokens??-1}ideChatExpModelIds(t){return t.filtersAndExp.exp.variables.idechatexpmodelids??""}ideChatEnableProjectMetadata(t){return t.filtersAndExp.exp.variables.idechatenableprojectmetadata??!1}ideEnableCopilotNewBilling(t){return t.filtersAndExp.exp.variables.ideenablecopilotnewbilling??!1}recentEditsInPrompt(t){return t.filtersAndExp.exp.variables.copilotrecenteditsinprompt??!1}recentEditsEditCount(t){return t.filtersAndExp.exp.variables.copilotrecenteditseditcount??5}recentEditsMaxFiles(t){return t.filtersAndExp.exp.variables.copilotrecenteditsmaxfiles??5}recentEditsContextLines(t){return t.filtersAndExp.exp.variables.copilotrecenteditscontextlines??3}recentEditsEditMergeLineDistance(t){return t.filtersAndExp.exp.variables.copilotrecenteditseditmergelinedistance??3}recentEditsRemoveDeletedLines(t){return t.filtersAndExp.exp.variables.copilotrecenteditsremovedeletedlines??!1}recentEditsInsertionsBeforeDeletions(t){return t.filtersAndExp.exp.variables.copilotrecenteditsinsertionsbeforedeletions??!1}recentEditsAppendNoReplyMarker(t){return t.filtersAndExp.exp.variables.copilotrecenteditsappendnoreplymarker??!1}recentEditsMaxLinesBetweenEdits(t){return t.filtersAndExp.exp.variables.copilotrecenteditsmaxlinesbetweenedits??100}recentEditsActiveDocDistanceLimitFromCursor(t){return t.filtersAndExp.exp.variables.copilotrecenteditsactivedocdistancelimitfromcursor??100}recentEditsMaxLinesPerEdit(t){return t.filtersAndExp.exp.variables.copilotrecenteditsmaxlinesperedit??10}recentEditsMaxCharsPerEdit(t){return t.filtersAndExp.exp.variables.copilotrecenteditsmaxcharsperedit??2e3}recentEditsSummarizationFormat(t){return t.filtersAndExp.exp.variables.copilotrecenteditsummarizationformat??"diff"}recentEditsDebounceTimeout(t){return t.filtersAndExp.exp.variables.copilotrecenteditsdebouncetimeout??500}workspaceContextCoordinator(t){return t.filtersAndExp.exp.variables.copilotworkspacecontextcoordinator??!1}triggerCompletionAfterAccept(t){return t.filtersAndExp.exp.variables.copilottriggercompletionafteraccept}enableSpeculativeRequests(t){return t.filtersAndExp.exp.variables.copilotspeculativerequests??!1}cppContextProviderParams(t){return t.filtersAndExp.exp.variables.copilotcppContextProviderParams}csharpContextProviderParams(t){return t.filtersAndExp.exp.variables.copilotcsharpcontextproviderparams}javaContextProviderParams(t){return t.filtersAndExp.exp.variables.copilotjavacontextproviderparams}multiLanguageContextProviderParams(t){return t.filtersAndExp.exp.variables.copilotmultilanguagecontextproviderparams}vscodeDebounceThreshold(t){return t.filtersAndExp.exp.variables.copilotvscodedebouncethreshold}enableElectronFetcher(t){return t.filtersAndExp.exp.variables.copilotelectronfetcher??!1}asyncCompletionsTimeout(t){return t.filtersAndExp.exp.variables.copilotasynccompletionstimeout??100}enablePromptContextProxyField(t){return t.filtersAndExp.exp.variables.copilotenablepromptcontextproxyfield??!1}enableProgressiveReveal(t){return t.filtersAndExp.exp.variables.copilotprogressivereveal??!1}modelAlwaysTerminatesSingleline(t){return t.filtersAndExp.exp.variables.copilotmodelterminatesingleline??!1}longLookaheadSize(t){return t.filtersAndExp.exp.variables.copilotprogressivereveallonglookaheadsize??7}shortLookaheadSize(t){return t.filtersAndExp.exp.variables.copilotprogressiverevealshortlookaheadsize??3}enableMultilineAfterAccept(t){return t.filtersAndExp.exp.variables.copilotmultilineafteraccept??!1}completionsElisionStrategy(t){switch(t.filtersAndExp.exp.variables.copilotcompletionselisionstrategy??""){case"elidableText":return"elidableText";case"elidableTextWithoutChunks":return"elidableTextWithoutChunks";default:return"wishlist"}}approximateElision(t){return t.filtersAndExp.exp.variables.copilotapproximateelision??!1}enableNESXTab(t){return t.filtersAndExp.exp.variables.copilotnesxtab??!1}completionsDelay(t){return t.filtersAndExp.exp.variables.copilotcompletionsdelay??0}};var P0=class{constructor(t){this.node=t;this.children=[];this.collapsed=!1}static{o(this,"StatementNode")}addChild(t){t.parent=this,t.nextSibling=void 0,this.children.length>0&&(this.children[this.children.length-1].nextSibling=t),this.children.push(t)}childrenFinished(){}containsStatement(t){return this.node.startIndex<=t.node.startIndex&&this.node.endIndex>=t.node.endIndex}statementAt(t){if(this.node.startIndex>t||this.node.endIndex<t)return;let r;return this.children.find(n=>(r=n.statementAt(t),r!==void 0)),r??this}collapse(){this.children.length=0,this.collapsed=!0}get description(){return`${this.node.type} ([${this.node.startPosition.row},${this.node.startPosition.column}]..[${this.node.endPosition.row},${this.node.endPosition.column}]): ${JSON.stringify(this.node.text.length>33?this.node.text.substring(0,15)+"..."+this.node.text.slice(-15):this.node.text)}`}dump(t="",r=""){let n=[`${t}${this.description}`];return this.children.forEach(i=>{n.push(i.dump(`${r}+- `,i.nextSibling===void 0?`${r}   `:`${r}|  `))}),n.join(`
`)}dumpPath(t="",r="",n=!1){if(this.parent){let i=this.parent.dumpPath(t,r,!0),s=i.length-i.lastIndexOf(`
`)-1-r.length,a=" ".repeat(s),l=n?`
${r}${a}+- `:"";return i+this.description+l}else{let i=n?`
${r}+- `:"";return t+this.description+i}}},hi=class{constructor(t,r,n,i){this.languageId=t;this.text=r;this.startOffset=n;this.endOffset=i;this.statements=[]}static{o(this,"StatementTree")}static isSupported(t){return ip.languageIds.has(t)||op.languageIds.has(t)||sp.languageIds.has(t)||ap.languageIds.has(t)||lp.languageIds.has(t)||cp.languageIds.has(t)||up.languageIds.has(t)||fp.languageIds.has(t)}static create(t,r,n,i){if(ip.languageIds.has(t))return new ip(t,r,n,i);if(op.languageIds.has(t))return new op(t,r,n,i);if(sp.languageIds.has(t))return new sp(t,r,n,i);if(cp.languageIds.has(t))return new cp(t,r,n,i);if(ap.languageIds.has(t))return new ap(t,r,n,i);if(lp.languageIds.has(t))return new lp(t,r,n,i);if(up.languageIds.has(t))return new up(t,r,n,i);if(fp.languageIds.has(t))return new fp(t,r,n,i);throw new Error(`Unsupported languageId: ${t}`)}[Symbol.dispose](){this.tree&&(this.tree.delete(),this.tree=void 0)}clear(){this.statements.length=0}statementAt(t){let r;return this.statements.find(n=>(r=n.statementAt(t),r!==void 0)),r}async build(){let t=[];this.clear();let r=await this.parse();this.getStatementQuery(r).captures(r.rootNode,this.offsetToPosition(this.startOffset),this.offsetToPosition(this.endOffset)).forEach(i=>{let s=this.createNode(i.node);for(;t.length>0&&!t[0].containsStatement(s);)t.shift()?.childrenFinished();t.length>0?t[0].addChild(s):this.addStatement(s),t.unshift(s)}),t.forEach(i=>i.childrenFinished())}addStatement(t){t.parent=void 0,t.nextSibling=void 0,this.statements.length>0&&(this.statements[this.statements.length-1].nextSibling=t),this.statements.push(t)}async parse(){return this.tree||(this.tree=await mu(this.languageId,this.text)),this.tree}getStatementQuery(t){return this.getQuery(t.getLanguage(),this.getStatementQueryText())}getQuery(t,r){return t.query(r)}offsetToPosition(t){let r=this.text.slice(0,t).split(`
`),n=r.length-1,i=r[r.length-1].length;return{row:n,column:i}}dump(t=""){let r=[];return this.statements.forEach((n,i)=>{let s=`[${i}]`,a=" ".repeat(s.length);r.push(n.dump(`${t} ${s} `,`${t} ${a} `))}),r.join(`
`)}},z7=class e extends P0{static{o(this,"JSStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","generator_function_declaration","class_declaration","statement_block","if_statement","switch_statement","for_statement","for_in_statement","while_statement","do_statement","try_statement","with_statement","labeled_statement","method_definition","interface_declaration"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="statement_block"||this.children.length===2&&this.node.childForFieldName("else")!==null&&this.children[0].node.type!=="statement_block"&&this.children[1].node.type!=="statement_block"}},ip=class extends hi{static{o(this,"JSStatementTree")}static{this.languageIds=new Set(["javascript","javascriptreact","jsx","typescript","typescriptreact"])}createNode(t){return new z7(t)}getStatementQueryText(){return`[
            (export_statement)
            (import_statement)
            (debugger_statement)
            (expression_statement)
            (declaration)
            (statement_block)
            (if_statement)
            (switch_statement)
            (for_statement)
            (for_in_statement)
            (while_statement)
            (do_statement)
            (try_statement)
            (with_statement)
            (break_statement)
            (continue_statement)
            (return_statement)
            (throw_statement)
            (empty_statement)
            (labeled_statement)
            (method_definition)
            (public_field_definition)
        ] @statement`}},H7=class e extends P0{static{o(this,"PyStatementNode")}static{this.compoundTypeNames=new Set(["if_statement","for_statement","while_statement","try_statement","with_statement","function_definition","class_definition","decorated_definition","match_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"?!1:this.node.startPosition.row===this.node.endPosition.row}},op=class extends hi{static{o(this,"PyStatementTree")}static{this.languageIds=new Set(["python"])}createNode(t){return new H7(t)}getStatementQueryText(){return`[
            (future_import_statement)
            (import_statement)
            (import_from_statement)
            (print_statement)
            (assert_statement)
            (expression_statement)
            (return_statement)
            (delete_statement)
            (raise_statement)
            (pass_statement)
            (break_statement)
            (continue_statement)
            (global_statement)
            (nonlocal_statement)
            (exec_statement)
            (if_statement)
            (for_statement)
            (while_statement)
            (try_statement)
            (with_statement)
            (function_definition)
            (class_definition)
            (decorated_definition)
            (match_statement)
            (block)
        ] @statement`}},V7=class e extends P0{static{o(this,"GoStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","method_declaration","if_statement","for_statement","expression_switch_statement","type_switch_statement","select_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}},sp=class extends hi{static{o(this,"GoStatementTree")}static{this.languageIds=new Set(["go"])}createNode(t){return new V7(t)}getStatementQueryText(){return`[
            (package_clause)
            (function_declaration)
            (method_declaration)
            (import_declaration)
            (_statement)
            (block)
        ] @statement`}},K7=class e extends P0{static{o(this,"PhpStatementNode")}static{this.compoundTypeNames=new Set(["if_statement","else_clause","else_if_clause","for_statement","foreach_statement","while_statement","do_statement","switch_statement","try_statement","catch_clause","finally_clause","anonymous_function","compound_statement"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}},ap=class extends hi{static{o(this,"PhpStatementTree")}static{this.languageIds=new Set(["php"])}createNode(t){return new K7(t)}getStatementQueryText(){return`[
            (statement)
            (compound_statement)
            (method_declaration)
            (property_declaration)
            (const_declaration)
            (use_declaration)
        ] @statement`}},Y7=class e extends P0{static{o(this,"RubyStatementNode")}static{this.compoundTypeNames=new Set(["if","case","while","until","for","begin","module","class","method"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}},lp=class extends hi{static{o(this,"RubyStatementTree")}static{this.languageIds=new Set(["ruby"])}createNode(t){return new Y7(t)}getStatementQueryText(){return`[
            (_statement)
            (when)
        ] @statement`}},J7=class e extends P0{static{o(this,"JavaStatementNode")}static{this.compoundTypeNames=new Set(["block","do_statement","enhanced_for_statement","for_statement","if_statement","labeled_statement","switch_expression","synchronized_statement","try_statement","try_with_resources_statement","while_statement","interface_declaration","method_declaration","constructor_declaration","compact_constructor_declaration","class_declaration","annotation_type_declaration","static_initializer"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="block"}},cp=class extends hi{static{o(this,"JavaStatementTree")}static{this.languageIds=new Set(["java"])}createNode(t){return new J7(t)}getStatementQueryText(){return`[
            (statement)
            (field_declaration)
            (record_declaration)
            (method_declaration)
            (compact_constructor_declaration)
            (class_declaration)
            (interface_declaration)
            (annotation_type_declaration)
            (enum_declaration)
            (block)
            (static_initializer)
            (constructor_declaration)
            ] @statement`}},X7=class e extends P0{static{o(this,"CSharpStatementNode")}static{this.compoundTypeNames=new Set(["block","checked_statement","class_declaration","constructor_declaration","destructor_declaration","do_statement","fixed_statement","for_statement","foreach_statement","if_statement","interface_declaration","lock_statement","method_declaration","struct_declaration","switch_statement","try_statement","unsafe_statement","while_statement"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="block"}},up=class extends hi{static{o(this,"CSharpStatementTree")}static{this.languageIds=new Set(["csharp"])}createNode(t){return new X7(t)}getStatementQueryText(){return`[
            (extern_alias_directive)
            (using_directive)
            (global_attribute)
            (preproc_if)
            (namespace_declaration)
            (file_scoped_namespace_declaration)
            (statement)
            (type_declaration)
            (declaration)
            (accessor_declaration)
            (block)
        ] @statement`}},Z7=class e extends P0{static{o(this,"CStatementNode")}static{this.compoundTypeNames=new Set(["declaration","function_definition","enum_specifier","field_declaration_list","type_definition","compound_statement","if_statement","switch_statement","while_statement","for_statement","do_statement","preproc_if","preproc_ifdef","namespace_definition","class_specifier","field_declaration_list","concept_definition","template_declaration"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){(this.isSingleLineDeclarationStatement()||this.isSingleLineConceptDefinition())&&this.collapse()}isSingleLineDeclarationStatement(){return!(this.node.type!=="declaration"||this.node.startPosition.row!==this.node.endPosition.row)}isSingleLineConceptDefinition(){return!(this.node.type!=="concept_definition"||this.node.startPosition.row!==this.node.endPosition.row)}},fp=class extends hi{static{o(this,"CStatementTree")}static{this.languageIds=new Set(["c","cpp"])}createNode(t){return new Z7(t)}getStatementQueryText(){return`[
            (declaration)
            (function_definition)
            (type_definition)
            (field_declaration)
            (enum_specifier)
            (return_statement)
            (compound_statement)
            (if_statement)
            (expression_statement)
            (switch_statement)
            (break_statement)
            (case_statement)
            (while_statement)
            (for_statement)
            (do_statement)
            (goto_statement)
            (labeled_statement)
            (preproc_if)
            (preproc_def)
            (preproc_ifdef)
            (preproc_include)
            (preproc_call)
            (preproc_function_def)
            (continue_statement)

            ;C++ specific:
            (namespace_definition)
            (class_specifier)
            (field_declaration_list)
            (field_declaration)
            (concept_definition)
            (compound_requirement)
            (template_declaration)
            (using_declaration)
            (alias_declaration)
            (static_assert_declaration)
        ] @statement`}};var pu={};d0(pu,{activationEvents:()=>one,badges:()=>ine,browser:()=>sne,bugs:()=>Jre,build:()=>Gre,buildType:()=>zre,categories:()=>rne,contributes:()=>Q7,default:()=>mne,dependencies:()=>fne,description:()=>Wre,devDependencies:()=>une,displayName:()=>$re,enabledApiProposals:()=>lne,engines:()=>tne,extensionPack:()=>ene,homepage:()=>Kre,icon:()=>Zre,keywords:()=>nne,license:()=>Yre,main:()=>ane,name:()=>jre,overrides:()=>dne,preview:()=>Vre,pricing:()=>Qre,publisher:()=>Hre,qna:()=>Xre,scripts:()=>cne,version:()=>qre});var jre="copilot",$re="GitHub Copilot",Wre="Your AI pair programmer",qre="1.335.0",Gre="1624",zre="prod",Hre="GitHub",Vre=!1,Kre="https://github.com/features/copilot?editor=vscode",Yre="https://docs.github.com/en/site-policy/github-terms/github-terms-for-additional-products-and-features",Jre={url:"https://github.com/microsoft/vscode-copilot-release/issues"},Xre="https://github.com/github-community/community/discussions/categories/copilot",Zre="assets/Copilot-App-Icon.png",Qre="Trial",ene=["GitHub.copilot-chat","GitHub.copilot"],tne={vscode:"^1.98.0",node:">=20.0.0",npm:">=9.0.0"},rne=["AI","Chat","Programming Languages","Machine Learning"],nne=["ai","openai","codex","pilot","snippets","documentation","autocomplete","intellisense","refactor","javascript","python","typescript","php","go","golang","ruby","c++","c#","java","kotlin","co-pilot"],ine=[{url:"https://img.shields.io/badge/GitHub%20Copilot-Subscription%20Required-orange",href:"https://github.com/github-copilot/signup?editor=vscode",description:"Sign up for GitHub Copilot"},{url:"https://img.shields.io/github/stars/github/copilot-docs?style=social",href:"https://github.com/github/copilot-docs",description:"Star Copilot on GitHub"},{url:"https://img.shields.io/youtube/channel/views/UC7c3Kb6jYCRj4JOHHZTxKsQ?style=social",href:"https://www.youtube.com/@GitHub/search?query=copilot",description:"Check out GitHub on Youtube"},{url:"https://img.shields.io/twitter/follow/github?style=social",href:"https://twitter.com/github",description:"Follow GitHub on Twitter"}],one=["onStartupFinished"],sne="./dist/web",ane="./dist/extension",lne=["inlineCompletionsAdditions"],Q7={commands:[{command:"github.copilot.toggleStatusMenu",title:"Open Status Menu",category:"GitHub Copilot"},{command:"github.copilot.signIn",title:"Sign In",category:"GitHub Copilot",enablement:"!github.copilot.activated"},{command:"github.copilot.acceptCursorPanelSolution",title:"Accept Panel Suggestion at the Cursor",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.previousPanelSolution",title:"Navigate to the Previous Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.nextPanelSolution",title:"Navigate to the Next Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.generate",title:"Open Completions Panel",enablement:"github.copilot.activated && !isWeb",category:"GitHub Copilot"},{command:"github.copilot.completions.disable",title:"Disable Completions",enablement:"github.copilot.activated && config.editor.inlineSuggest.enabled && github.copilot.completions.enabled",category:"GitHub Copilot"},{command:"github.copilot.completions.enable",title:"Enable Completions",enablement:"github.copilot.activated && !(config.editor.inlineSuggest.enabled && github.copilot.completions.enabled)",category:"GitHub Copilot"},{command:"github.copilot.completions.toggle",title:"Toggle (Enable/Disable) Completions",enablement:"github.copilot.activated",category:"GitHub Copilot"},{command:"github.copilot.sendFeedback",title:"Send Feedback",category:"GitHub Copilot"},{command:"github.copilot.collectDiagnostics",title:"Collect Diagnostics",category:"GitHub Copilot",enablement:"!isWeb"},{command:"github.copilot.openLogs",title:"Open Logs",category:"GitHub Copilot"},{command:"github.copilot.openModelPicker",title:"Change Completions Model",category:"GitHub Copilot",enablement:"!isWeb"},{command:"github.copilot.sendCompletionFeedback",title:"Send Copilot Completion Feedback",category:"GitHub Copilot",enablement:"!isWeb"}],keybindings:[{command:"github.copilot.acceptCursorPanelSolution",key:"ctrl+/",mac:"ctrl+/",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.previousPanelSolution",key:"alt+[",mac:"alt+[",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.nextPanelSolution",key:"alt+]",mac:"alt+]",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"editor.action.inlineSuggest.trigger",key:"alt+\\",when:"editorTextFocus && !editorHasSelection && !inlineSuggestionsVisible"}],configuration:[{title:"GitHub Copilot",properties:{"github.copilot.selectedCompletionModel":{type:"string",default:"",markdownDescription:'The currently selected completion model ID. To select from a list of available models, use the __"Change Completion Model"__ command or open the model picker from the Copilot menu. The value must be a valid model ID. An empty value indicates that the default model will be used.'},"github.copilot.advanced":{type:"object",title:"Advanced Settings",properties:{authProvider:{type:"string",enum:["github","github-enterprise"],enumDescriptions:["GitHub.com","GitHub Enterprise"],default:"github",description:"The GitHub identity to use for Copilot"},authPermissions:{type:"string",enum:["default","minimal"],markdownEnumDescriptions:["Default (recommended) - The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.","Minimal - The minimal permissions required for Copilot functionality."],default:"default",markdownDescription:"Controls what kind of permissions are asked for when signing in to Copilot. The options are\n* `default` - (strongly recommended) The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.\n* `minimal` - The minimal permissions are the least that Copilot needs to function. Some features may behave slower or not at all."},useLanguageServer:{type:"boolean",default:!1,description:"Experimental: Use language server"},"debug.overrideEngine":{type:"string",default:"",description:"Override engine name"},"debug.overrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy full URL"},"debug.testOverrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy URL when running tests"},"debug.overrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API full URL"},"debug.testOverrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API URL when running tests"},"debug.filterLogCategories":{type:"array",default:[],deprecationMessage:"Set overrideLogLevels.* to ERROR to filter out unwanted categories.",description:"Show only log categories listed in this setting. If an array is empty, show all loggers"}}},"github.copilot.enable":{type:"object",scope:"window",default:{"*":!0,plaintext:!1,markdown:!1,scminput:!1},additionalProperties:{type:"boolean"},markdownDescription:"Enable or disable Copilot completions for specified [languages](https://code.visualstudio.com/docs/languages/identifiers)"},"github.copilot.inlineSuggest.enable":{type:"boolean",default:!0,deprecationMessage:"This setting has no effect. Please use github.copilot.enable instead.",description:"Show inline suggestions"},"github.copilot.editor.enableAutoCompletions":{type:"boolean",scope:"language-overridable",default:!0,deprecationMessage:"This setting has no effect. Please use github.copilot.enable instead.",description:"Automatically show inline completions"}}}],configurationDefaults:{"editor.tokenColorCustomizations":{"[*Light*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#000"}}]},"[*Dark*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#fff"}}]}}},languages:[{id:"code-referencing"}],grammars:[{language:"code-referencing",scopeName:"text.ref",path:"./syntaxes/ref.tmGrammar.json"}],iconFonts:[{id:"copilot-font",src:[{path:"assets/copilot.woff",format:"woff"}]}]},cne={build:"tsx esbuild.ts",clean:"./script/build/clean.sh",compress:"tsx ./script/compressTokenizer.ts","forbid-sources-content:extension":"node script/forbid-sources-content.js --extension",generate_languages:"tsx script/generateLanguages.ts && prettier --write lib/src/language/generatedLanguages.ts",get_token:"tsx script/getToken.ts",lint:'run-p --aggregate-output "lint:*"',"lint:deps":"depcruise -c .dependency-cruiser.js .","lint:eslint":"eslint -f visualstudio --quiet --cache .","lint:prettier":"prettier --check . 2>&1","lint:types":"tsc --noEmit && tsc --noEmit -p extension/src/copilotPanel/webview",prebuild:"npm install",pretest:"npm run build","pretest:headless":"npm run build","pretest:extension":"npm run build","pretest:lsp-client":"npm run build","pretest:lib-e2e":"npm run build",prewatch:"npm run build","prewatch:esbuild":"npm run build",start:"npm run watch",test:'npm-run-all "test:extension --ignore-scripts" "test:headless --ignore-scripts" lint',"test:headless":'npm-run-all test:lib test:agent "test:lib-e2e --ignore-scripts" test:prompt "test:lsp-client --ignore-scripts" lint',"test:agent":'mocha "agent/src/**/*.test.{ts,tsx}"',"test:extension":"tsx extension/test/runTest.ts","test:lib":'mocha "lib/src/**/*.test.{ts,tsx}"',"test:lib-e2e":'mocha "lib/e2e/src/**/*.test.{ts,tsx}" --exclude "lib/e2e/src/prompt/**/*.test.ts"',"test:lib-e2e-no-ci":'mocha "lib/e2e/no-ci/**/*.test.{ts,tsx}"',"test:lib-prompt-e2e":'mocha "lib/e2e/src/prompt/prompt.test.ts"',"test:lib-prompt-e2e-perf":"INCLUDE_PERFORMANCE=true npm run test:lib-prompt-e2e","test:lsp-client":'mocha "lsp-client/test/*.test.{ts,tsx}"',"test:prompt":'mocha "prompt/test/**/*.test.{ts,tsx}"',"vscode-dts":"vscode-dts dev && mv vscode.proposed.*.ts extension/src","vscode:prepublish":'run-s "build --ignore-scripts" forbid-sources-content:extension',"vscode:uninstall":"node dist/extensionUninstalled.js",vsix:"vsce package --allow-missing-repository",watch:'run-p "watch:esbuild --ignore-scripts" "watch:types -- --preserveWatchOutput"',"watch:esbuild":"tsx esbuild.ts --watch","watch:types":"tsc --noEmit --watch"},une={"@datadog/datadog-ci":"^3.5.0","@github/prettier-config":"0.0.6","@limegrass/eslint-plugin-import-alias":"^1.5.1","@parcel/watcher":"^2.5.1","@types/benchmark":"^2.1.5","@types/crypto-js":"^4.2.2","@types/diff":"^7.0.2","@types/git-url-parse":"^16.0.0","@types/js-yaml":"^4.0.6","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.10","@types/node":"~20.8.0","@types/semver":"^7.7.0","@types/sinon":"^17.0.4","@types/uuid":"^10.0.0","@types/vscode":"1.98.0","@types/yargs":"^17.0.24","@vscode/test-electron":"^2.5.2","@vscode/vsce":"^3.3.2","@yao-pkg/pkg":"^6.4.1",benchmark:"^2.1.4",boxen:"^8.0.1",chalk:"^5.4.1","dependency-cruiser":"^16.10.2",electron:"^28.1.4",esbuild:"^0.25.4","esbuild-plugin-copy":"^2.1.1",eslint:"^9.26.0","eslint-formatter-visualstudio":"^8.40.0","eslint-plugin-mocha":"^10.5.0",fantasticon:"^3.0.0",glob:"^11.0.2",globals:"^16.1.0","js-yaml":"^4.1.0",mocha:"^11.2.2","mocha-junit-reporter":"^2.2.1","mocha-multi-reporters":"^1.5.1","npm-run-all":"^4.1.5",prettier:"^3.5.3","prettier-plugin-organize-imports":"^4.1.0",proxy:"^2.1.1","simple-git":"^3.27.0",sinon:"^20.0.0","ts-dedent":"^2.2.0",tsx:"^4.19.4",typescript:"^5.8.3","typescript-eslint":"^8.32.0","vscode-dts":"^0.3.3"},fne={"@adobe/helix-fetch":"github:devm33/helix-fetch#1088e599270f36632703f138d88c2100cbe468db","@github/memoize":"1.1.5","@microsoft/1ds-post-js":"^4.3.6","@microsoft/applicationinsights-web-basic":"^3.3.6","@microsoft/tiktokenizer":"^1.0.10","@modelcontextprotocol/sdk":"^1.11.1","@sinclair/typebox":"^0.34.33","@types/vscode-webview":"^1.57.4","@vscode/codicons":"^0.0.36","@vscode/prompt-tsx":"0.4.0-alpha.1","@vscode/webview-ui-toolkit":"^1.3.1","await-lock":"^2.2.2","crypto-js":"^4.2.0",diff:"^7.0.0",dldr:"^0.0.10","get-stream":"^6.0.1","git-url-parse":"^16.0.3",kerberos:"^2.2.0","mac-ca":"^3.1.1",microjob:"^0.7.0",minimatch:"^9.0.3",open:"^10.1.2","os-browserify":"^0.3.0","path-browserify":"^1.0.1",semver:"^7.7.1",shiki:"~1.15.0","source-map-support":"^0.5.21",sqlite3:"^5.1.7",uuid:"^11.1.0","vscode-languageclient":"^9.0.0","vscode-languageserver":"^9.0.0","vscode-languageserver-protocol":"^3.17","vscode-languageserver-textdocument":"~1.0.11","vscode-uri":"^3.1.0","web-tree-sitter":"^0.20.8","windows-ca-certs":"^0.1.0",yargs:"^17.7.2"},dne={fsevents:"<0",bindings:"npm:bundled-bindings@^1.5.0"},mne={name:jre,displayName:$re,description:Wre,version:qre,build:Gre,buildType:zre,publisher:Hre,preview:Vre,homepage:Kre,license:Yre,bugs:Jre,qna:Xre,icon:Zre,pricing:Qre,extensionPack:ene,engines:tne,categories:rne,keywords:nne,badges:ine,activationEvents:one,browser:sne,main:ane,enabledApiProposals:lne,contributes:Q7,scripts:cne,devDependencies:une,dependencies:fne,overrides:dne};var de={Enable:"enable",UserSelectedCompletionModel:"selectedCompletionModel",ShowEditorCompletions:"editor.showEditorCompletions",EnableAutoCompletions:"editor.enableAutoCompletions",DelayCompletions:"editor.delayCompletions",FilterCompletions:"editor.filterCompletions",FetchStrategy:"fetchStrategy",RelatedFilesVSCodeCSharp:"advanced.relatedFilesVSCodeCSharp",RelatedFilesVSCodeTypeScript:"advanced.relatedFilesVSCodeTypeScript",RelatedFilesVSCode:"advanced.relatedFilesVSCode",ContextProviders:"advanced.contextProviders",DebugOverrideLogLevels:"advanced.debug.overrideLogLevels",DebugFilterLogCategories:"advanced.debug.filterLogCategories",DebugSnippyOverrideUrl:"advanced.debug.codeRefOverrideUrl",DebugUseElectronFetcher:"advanced.debug.useElectronFetcher",DebugUseEditorFetcher:"advanced.debug.useEditorFetcher",UseSubsetMatching:"advanced.useSubsetMatching",ContextProviderTimeBudget:"advanced.contextProviderTimeBudget",DebugOverrideCapiUrl:"internal.capiUrl",DebugOverrideCapiUrlLegacy:"advanced.debug.overrideCapiUrl",DebugTestOverrideCapiUrl:"internal.capiTestUrl",DebugTestOverrideCapiUrlLegacy:"advanced.debug.testOverrideCapiUrl",DebugOverrideProxyUrl:"internal.completionsUrl",DebugOverrideProxyUrlLegacy:"advanced.debug.overrideProxyUrl",DebugTestOverrideProxyUrl:"internal.completionsTestUrl",DebugTestOverrideProxyUrlLegacy:"advanced.debug.testOverrideProxyUrl",DebugOverrideEngine:"internal.completionModel",DebugOverrideEngineLegacy:"advanced.debug.overrideEngine",UseAsyncCompletions:"internal.useAsyncCompletions",EnableSpeculativeRequests:"internal.enableSpeculativeRequests",CompletionsDelay:"internal.completionsDelay",AlwaysRequestMultiline:"internal.alwaysRequestMultiline",ModelAlwaysTerminatesSingleline:"internal.modelAlwaysTerminatesSingleline",TrimCompletionsAggressively:"internal.trimCompletionsAggressively",VSCodeDebounceThreshold:"internal.vscodeDebounceThreshold",RecentEditsInPrompt:"internal.recentEditsInPrompt",RecentEditsEditCount:"internal.recentEditsEditCount",RecentEditsMaxFiles:"internal.recentEditsMaxFiles",RecentEditsContextLines:"internal.recentEditsContextLines",RecentEditsEditMergeLineDistance:"internal.recentEditsEditMergeLineDistance",RecentEditsRemoveDeletedLines:"internal.recentEditsRemoveDeletedLines",InsertionsBeforeDeletions:"internal.recentEditsInsertionsBeforeDeletions",RecentEditsAppendNoReplyMarker:"internal.recentEditsAppendNoReplyMarker",RecentEditsMaxLinesBetweenEdits:"internal.recentEditsMaxLinesBetweenEdits",RecentEditsActiveDocDistanceLimitFromCursor:"internal.recentEditsActiveDocDistanceLimitFromCursor",RecentEditsSummarizationFormat:"internal.recentEditsSummarizationFormat",RecentEditsMaxLinesPerEdit:"internal.recentEditsMaxLinesPerEdit",RecentEditsMaxCharsPerEdit:"internal.recentEditsMaxCharsPerEdit",RecentEditsDebounceTimeout:"internal.recentEditsDebounceTimeout",UseWorkspaceContextCoordinator:"internal.useWorkspaceContextCoordinator",IncludeNeighboringFiles:"internal.includeNeighboringFiles",ExcludeRelatedFiles:"internal.excludeRelatedFiles",DebugOverrideCppHeadersEnableSwitch:"internal.cppHeadersEnableSwitch",MultilineAfterAccept:"internal.multilineAfterAccept",NESXTab:"internal.useXTab",UseSplitContextPrompt:"internal.useSplitContextPrompt"};function eA(e){return["server","parsingandserver"].includes(e)}o(eA,"shouldDoServerTrimming");var gu=class{static{o(this,"BlockModeConfig")}},q5=class extends gu{static{o(this,"ConfigBlockModeConfig")}forLanguage(t,r,n){let i=t.get(Be).overrideBlockMode(n);if(i)return ZD(i,r);let s=t.get(Be).enableProgressiveReveal(n);return Ze(t,de.AlwaysRequestMultiline)??s?ZD("moremultiline",r):r=="ruby"?"parsing":w0(r)?"parsingandserver":"server"}};function pne(e){return["parsing","parsingandserver","moremultiline"].includes(e)}o(pne,"blockModeRequiresTreeSitter");function ZD(e,t){return e==="moremultiline"&&hi.isSupported(t)?e:pne(e)&&!w0(t)?"server":e}o(ZD,"toApplicableBlockMode");var Aa=class{static{o(this,"ConfigProvider")}};function gne(e){return e?.type==="object"&&"properties"in e}o(gne,"isContributesObject");function e9(e,t){let r=e,n=[];for(let i of t.split(".")){let s=[...n,i].join(".");r&&typeof r=="object"&&s in r?(r=r[s],n.length=0):n.push(i)}if(!(r===void 0||n.length>0))return r}o(e9,"getConfigKeyRecursively");function tA(e){if(vd.has(e))return vd.get(e);throw new Error(`Missing config default value: ${Dr}.${e}`)}o(tA,"getConfigDefaultForKey");function rA(e){return vd.get(e)}o(rA,"getOptionalConfigDefaultForKey");var vd=new Map([[de.DebugOverrideCppHeadersEnableSwitch,!1],[de.RelatedFilesVSCodeCSharp,!1],[de.RelatedFilesVSCodeTypeScript,!1],[de.RelatedFilesVSCode,!1],[de.IncludeNeighboringFiles,!1],[de.ExcludeRelatedFiles,!1],[de.ContextProviders,[]],[de.DebugUseEditorFetcher,null],[de.DebugUseElectronFetcher,null],[de.DebugOverrideLogLevels,{}],[de.DebugSnippyOverrideUrl,""],[de.FetchStrategy,"auto"],[de.UseSubsetMatching,null],[de.ContextProviderTimeBudget,void 0],[de.DebugOverrideCapiUrl,""],[de.DebugTestOverrideCapiUrl,""],[de.DebugOverrideProxyUrl,""],[de.DebugTestOverrideProxyUrl,""],[de.DebugOverrideEngine,""],[de.UseAsyncCompletions,void 0],[de.EnableSpeculativeRequests,void 0],[de.AlwaysRequestMultiline,void 0],[de.ModelAlwaysTerminatesSingleline,void 0],[de.TrimCompletionsAggressively,void 0],[de.VSCodeDebounceThreshold,void 0],[de.RecentEditsInPrompt,void 0],[de.RecentEditsEditCount,void 0],[de.RecentEditsMaxFiles,void 0],[de.RecentEditsContextLines,void 0],[de.RecentEditsEditMergeLineDistance,void 0],[de.RecentEditsRemoveDeletedLines,void 0],[de.InsertionsBeforeDeletions,void 0],[de.RecentEditsAppendNoReplyMarker,void 0],[de.RecentEditsMaxLinesBetweenEdits,void 0],[de.RecentEditsActiveDocDistanceLimitFromCursor,void 0],[de.RecentEditsSummarizationFormat,void 0],[de.RecentEditsMaxLinesPerEdit,void 0],[de.RecentEditsMaxCharsPerEdit,void 0],[de.RecentEditsDebounceTimeout,void 0],[de.MultilineAfterAccept,void 0],[de.NESXTab,void 0],[de.UseWorkspaceContextCoordinator,void 0],[de.CompletionsDelay,void 0],[de.UseSplitContextPrompt,void 0],[de.ShowEditorCompletions,void 0],[de.DelayCompletions,void 0],[de.FilterCompletions,void 0]]);for(let e of Object.values(de)){let t=Q7.configuration[0],r=[],n=`${Dr}.${e}`.split(".");for(;n.length>0;){r.push(n.shift());let i=t.properties[r.join(".")];if(gne(i))r.length=0,t=i;else if(n.length==0&&i?.default!==void 0){if(vd.has(e))throw new Error(`Duplicate config default value ${Dr}.${e}`);vd.set(e,i.default)}}if(!vd.has(e))throw new Error(`Missing config default value ${Dr}.${e}`)}function Ze(e,t){return e.get(Aa).getConfig(t)}o(Ze,"getConfig");function nA(e){return e.get(Aa).dumpForTelemetry()}o(nA,"dumpForTelemetry");var Nn=class{constructor(){this.packageJson=pu}static{o(this,"BuildInfo")}isPreRelease(){return this.getBuildType()==="nightly"}isProduction(){return this.getBuildType()!=="dev"}getBuildType(){return this.packageJson.buildType}getVersion(){return this.packageJson.version}getDisplayVersion(){return this.getBuildType()==="dev"?`${this.getVersion()}-dev`:this.getVersion()}getBuild(){return this.packageJson.build}getName(){return this.packageJson.name}};function k2(e){return e.get(Nn).isProduction()}o(k2,"isProduction");function iA(e){return e.get(Nn).getBuildType()==="dev"}o(iA,"isDevBuild");function mp(e){return e.get(Nn).getBuildType()}o(mp,"getBuildType");function oA(e){return e.get(Nn).getBuild()}o(oA,"getBuild");function pp(e){return e.get(Nn).getVersion()}o(pp,"getVersion");var bn=class{constructor(t,r,n="none",i="desktop"){this.sessionId=t;this.machineId=r;this.remoteName=n;this.uiKind=i}static{o(this,"EditorSession")}};function R0({name:e,version:t}){return`${e}/${t}`}o(R0,"formatNameAndVersion");var cr=class{static{o(this,"EditorAndPluginInfo")}getCopilotIntegrationId(){}},ha="2025-05-01";function Uf(e){let t=e.get(cr);return{"Editor-Version":R0(t.getEditorInfo()),"Editor-Plugin-Version":R0(t.getEditorPluginInfo()),"Copilot-Language-Server-Version":pp(e)}}o(Uf,"editorVersionHeaders");var QD="Iv1.b507a08c87ecfe98",dp=class{static{o(this,"GitHubAppInfo")}findAppIdToAuthenticate(){return this.githubAppId??QD}fallbackAppId(){return QD}};var Xi=class{static{o(this,"TelemetryUserConfig")}constructor(t,r,n,i){this.trackingId=r,this.optedIn=n??!1,this.ftFlag=i??"",this.setupUpdateOnToken(t)}setupUpdateOnToken(t){dn(t,r=>{let n=r.getTokenValue("rt")==="1",i=r.getTokenValue("ft")??"",s=r.getTokenValue("tid"),a=r.organization_list,l=r.enterprise_list,c=r.getTokenValue("sku");s!==void 0&&(this.trackingId=s,this.organizationsList=a?.toString(),this.enterpriseList=l?.toString(),this.sku=c,this.optedIn=n,this.ftFlag=i)})}};var G5=Lt(_1()),z5=Lt(Xc());var hne=/^(\s+at)?(.*?)(@|\s\(|\s)([^(\n]+?)(:\d+)?(:\d+)?(\)?)$/;function xne(e){let t={type:e.name,value:e.message},r=e.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,"");if(r?.startsWith(e.toString()+`
`)){t.stacktrace=[];for(let n of r.slice(e.toString().length+1).split(/\n/).reverse()){let i=n.match(hne),s={filename:"",function:""};i&&(s.function=i[2]?.trim()?.replace(/^[^.]{1,2}(\.|$)/,"_$1")??s.function,s.filename=(i[4]?.trim()??s.filename).replace(/^\.\/dist\//,"/github-copilot/dist/"),i[5]&&i[5]!==":0"&&(s.lineno=i[5].slice(1)),i[6]&&i[5]!==":0"&&(s.colno=i[6].slice(1)),s.in_app=!/[[<:]|(?:^|\/)node_modules\//.test(s.filename)),t.stacktrace.push(s)}}return t}o(xne,"buildExceptionDetail");function bne(e,t){let r=e.get(cr),n=r.getEditorInfo(),i=e.get(Xi),s={"#editor":n.devName??n.name,"#editor_version":R0({name:n.devName??n.name,version:n.version}),"#plugin":r.getEditorPluginInfo().name,"#plugin_version":R0(r.getEditorPluginInfo()),"#session_id":e.get(bn).sessionId,"#machine_id":e.get(bn).machineId,"#architecture":z5.arch(),"#os_platform":z5.platform(),...t};return i.trackingId&&(s.user=i.trackingId,s["#tracking_id"]=i.trackingId),s}o(bne,"buildContext");function aA(e,t){let r=e.get(Nn),n=e.get(cr).getEditorInfo(),i=typeof process<"u"?process.versions.node:"web",s={app:"copilot-client",rollup_id:"auto",platform:"node",release:r.getBuildType()!=="dev"?`copilot-client@${r.getVersion()}`:void 0,deployed_to:r.getBuildType(),catalog_service:n.name==="vscode"?"CopilotCompletionsVSCode":"CopilotLanguageServer",context:bne(e,{"#node_version":i}),sensitive_context:{}},a=[];s.exception_detail=[];let l=0,c=t;for(;c instanceof Error&&l<10;){let f=xne(c);s.exception_detail.unshift(f),a.unshift([c,f]),l+=1,c=c.cause}let u=[];for(let[f,d]of a)if(d.stacktrace&&d.stacktrace.length>0){u.push(`${d.type}: ${f.code??""}`);let m=[...d.stacktrace].reverse();for(let p of m)if(p.filename?.startsWith("/github-copilot/"))return s;for(let p of m)if(p.in_app){u.push(`${p.filename?.replace(/^\.\//,"")}:${p.lineno}:${p.colno}`);break}u.push(`${m[0].filename?.replace(/^\.\//,"")}`)}else return s;return s.exception_detail.length>0&&(s.rollup_id=(0,G5.SHA256)(G5.enc.Utf16.parse(u.join(`
`))).toString()),s}o(aA,"buildPayload");var gp=class{static{o(this,"FailingTelemetryReporter")}sendTelemetryEvent(t,r,n){throw new Error("Telemetry disabled")}sendTelemetryErrorEvent(t,r,n,i){throw new Error("Telemetry disabled")}dispose(){return Promise.resolve()}hackOptOutListener(){}};var hu=class{constructor(t=5){this.perTenMinutes=t;this.cache=new _r}static{o(this,"ExceptionRateLimiter")}isThrottled(t){let r=Date.now(),n=this.cache.get(t)||new Array(this.perTenMinutes).fill(0);return r-n[0]<6e5?!0:(n.push(r),n.shift(),this.cache.set(t,n),!1)}};var Zi=class{constructor(){this.promises=new Set}static{o(this,"PromiseQueue")}register(t){this.promises.add(t),t.finally(()=>this.promises.delete(t))}async flush(){await Promise.allSettled(this.promises)}};var uA=Lt(Xc()),fA=Lt($f());function hp(e){return e.replace(/(file:\/\/)([^\s<>]+)/gi,"$1[redacted]").replace(/(^|[\s|:=(<'"`])((?:\/(?=[^/])|\\|[a-zA-Z]:[\\/])[^\s:)>'"`]+)/g,"$1[redacted]")}o(hp,"redactPaths");var yne=new Set(["Maximum call stack size exceeded","Set maximum size exceeded","Invalid arguments"]),vne=[/^[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}.]+ is not a function[ \w]*$/u,/^Cannot read properties of undefined \(reading '[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}]+'\)$/u];function r9(e){if(yne.has(e))return e;for(let t of vne)if(t.test(e))return e;return hp(e).replace(/\bDNS:(?:\*\.)?[\w.-]+/gi,"DNS:[redacted]")}o(r9,"redactMessage");function H5(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(H5,"escapeForRegExp");var Tne=new RegExp("(?<=^|[\\s|(\"'`]|file://)"+H5((0,uA.homedir)())+"(?=$|[\\\\/:\"'`])","gi");function t9(e){return e.replace(Tne,"~")}o(t9,"redactHomeDir");var dA="[\\\\/]?([^:)]*)(?=:\\d)",lA=new RegExp(H5(fA.sep),"g"),cA=new RegExp(H5("".replace(/[\\/]lib[\\/]src[\\/]util$|[\\/]dist$/,""))+dA,"gi");function n9(e,t,r=!1,n=[]){let i=new Error(t(e));i.name=e.name,typeof e.syscall=="string"&&(i.syscall=e.syscall),typeof e.code=="string"&&(i.code=e.code),typeof e.errno=="number"&&(i.errno=e.errno),i.stack=void 0;let s=e.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,""),a;for(let l of[e.toString(),`${e.name}: ${e.message}`])if(s?.startsWith(l+`
`)){a=s.slice(l.length+1).split(/\n/);break}if(a){i.stack=i.toString();for(let l of a)if(cA.test(l))i.stack+=`
${hp(l.replace(cA,(c,u)=>"./"+u.replace(lA,"/")))}`;else if(/[ (]node:|[ (]wasm:\/\/wasm\/| \(<anonymous>\)$/.test(l))i.stack+=`
${hp(l)}`;else{let c=!1;for(let{prefix:u,path:f}of n){let d=new RegExp(H5(f.replace(/[\\/]$/,""))+dA,"gi");if(d.test(l)){i.stack+=`
${hp(l.replace(d,(m,p)=>u+p.replace(lA,"/")))}`,c=!0;break}}if(c)continue;r?i.stack+=`
${t9(l)}`:i.stack+=`
    at [redacted]:0:0`}}else r&&s&&(i.stack=t9(s));return e.cause instanceof Error&&(i.cause=n9(e.cause,t,r,n)),i}o(n9,"cloneError");function mA(e){let t=e.message;return typeof e.path=="string"&&e.path.length>0&&(t=t.replaceAll(e.path,"<path>")),t}o(mA,"errorMessageWithoutPath");function pA(e,t){return n9(e,o(function(n){return t9(mA(n))},"prepareMessage"),!0,t)}o(pA,"prepareErrorForRestrictedTelemetry");function gA(e,t,r=!1){return n9(e,o(function(i){if(r)return r9(mA(i));let s="[redacted]";return typeof i.code=="string"&&(s=i.code+" "+s),typeof i.syscall=="string"?s=hp(i.syscall)+" "+s:"erroredSysCall"in i&&typeof i.erroredSysCall=="string"&&(s=i.erroredSysCall+" "+s),s},"prepareMessage"),!1,t)}o(gA,"redactError");var i9=class{static{o(this,"TypeCheck")}constructor(t,r,n,i){this.schema=t,this.references=r,this.checkFunc=n,this.code=i,this.hasTransform=Ra(t,r)}Code(){return this.code}Schema(){return this.schema}References(){return this.references}Errors(t){return I0(this.schema,this.references,t)}Check(t){return this.checkFunc(t)}Decode(t){if(!this.checkFunc(t))throw new pd(this.schema,t,this.Errors(t).First());return this.hasTransform?gd(this.schema,this.references,t):t}Encode(t){let r=this.hasTransform?xd(this.schema,this.references,t):t;if(!this.checkFunc(r))throw new hd(this.schema,t,this.Errors(t).First());return r}},Na;(function(e){function t(s){return s===36}o(t,"DollarSign"),e.DollarSign=t;function r(s){return s===95}o(r,"IsUnderscore"),e.IsUnderscore=r;function n(s){return s>=65&&s<=90||s>=97&&s<=122}o(n,"IsAlpha"),e.IsAlpha=n;function i(s){return s>=48&&s<=57}o(i,"IsNumeric"),e.IsNumeric=i})(Na||(Na={}));var V5;(function(e){function t(s){return s.length===0?!1:Na.IsNumeric(s.charCodeAt(0))}o(t,"IsFirstCharacterNumeric");function r(s){if(t(s))return!1;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);if(!(Na.IsAlpha(l)||Na.IsNumeric(l)||Na.DollarSign(l)||Na.IsUnderscore(l)))return!1}return!0}o(r,"IsAccessor");function n(s){return s.replace(/'/g,"\\'")}o(n,"EscapeHyphen");function i(s,a){return r(a)?`${s}.${a}`:`${s}['${n(a)}']`}o(i,"Encode"),e.Encode=i})(V5||(V5={}));var o9;(function(e){function t(r){let n=[];for(let i=0;i<r.length;i++){let s=r.charCodeAt(i);Na.IsNumeric(s)||Na.IsAlpha(s)?n.push(r.charAt(i)):n.push(`_${s}_`)}return n.join("").replace(/__/g,"_")}o(t,"Encode"),e.Encode=t})(o9||(o9={}));var s9;(function(e){function t(r){return r.replace(/'/g,"\\'")}o(t,"Escape"),e.Escape=t})(s9||(s9={}));var a9=class extends lt{static{o(this,"TypeCompilerUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}},K5=class extends lt{static{o(this,"TypeCompilerTypeGuardError")}constructor(t){super("Preflight validation check failed to guard for the given schema"),this.schema=t}},xu;(function(e){function t(a,l,c){return Sr.ExactOptionalPropertyTypes?`('${l}' in ${a} ? ${c} : true)`:`(${V5.Encode(a,l)} !== undefined ? ${c} : true)`}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){return Sr.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null)`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}))`}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return Sr.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}) && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`}o(n,"IsRecordLike"),e.IsRecordLike=n;function i(a){return Sr.AllowNaN?`typeof ${a} === 'number'`:`Number.isFinite(${a})`}o(i,"IsNumberLike"),e.IsNumberLike=i;function s(a){return Sr.AllowNullVoid?`(${a} === undefined || ${a} === null)`:`${a} === undefined`}o(s,"IsVoidLike"),e.IsVoidLike=s})(xu||(xu={}));var jl;(function(e){function t(F){return F[te]==="Any"||F[te]==="Unknown"}o(t,"IsAnyOrUnknown");function*r(F,ne,B){yield"true"}o(r,"FromAny");function*n(F,ne,B){yield"true"}o(n,"FromArgument");function*i(F,ne,B){yield`Array.isArray(${B})`;let[he,le]=[xe("value","any"),xe("acc","number")];ze(F.maxItems)&&(yield`${B}.length <= ${F.maxItems}`),ze(F.minItems)&&(yield`${B}.length >= ${F.minItems}`);let W=M(F.items,ne,"value");if(yield`${B}.every((${he}) => ${W})`,Or(F.contains)||ze(F.minContains)||ze(F.maxContains)){let re=Or(F.contains)?F.contains:vt(),be=M(re,ne,"value"),ue=ze(F.minContains)?[`(count >= ${F.minContains})`]:[],me=ze(F.maxContains)?[`(count <= ${F.maxContains})`]:[],Ee=`const count = value.reduce((${le}, ${he}) => ${be} ? acc + 1 : acc, 0)`,we=["(count > 0)",...ue,...me].join(" && ");yield`((${he}) => { ${Ee}; return ${we}})(${B})`}F.uniqueItems===!0&&(yield`((${he}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${B})`)}o(i,"FromArray");function*s(F,ne,B){yield`(typeof value === 'object' && Symbol.asyncIterator in ${B})`}o(s,"FromAsyncIterator");function*a(F,ne,B){yield`(typeof ${B} === 'bigint')`,Jn(F.exclusiveMaximum)&&(yield`${B} < BigInt(${F.exclusiveMaximum})`),Jn(F.exclusiveMinimum)&&(yield`${B} > BigInt(${F.exclusiveMinimum})`),Jn(F.maximum)&&(yield`${B} <= BigInt(${F.maximum})`),Jn(F.minimum)&&(yield`${B} >= BigInt(${F.minimum})`),Jn(F.multipleOf)&&(yield`(${B} % BigInt(${F.multipleOf})) === 0`)}o(a,"FromBigInt");function*l(F,ne,B){yield`(typeof ${B} === 'boolean')`}o(l,"FromBoolean");function*c(F,ne,B){yield*k(F.returns,ne,`${B}.prototype`)}o(c,"FromConstructor");function*u(F,ne,B){yield`(${B} instanceof Date) && Number.isFinite(${B}.getTime())`,ze(F.exclusiveMaximumTimestamp)&&(yield`${B}.getTime() < ${F.exclusiveMaximumTimestamp}`),ze(F.exclusiveMinimumTimestamp)&&(yield`${B}.getTime() > ${F.exclusiveMinimumTimestamp}`),ze(F.maximumTimestamp)&&(yield`${B}.getTime() <= ${F.maximumTimestamp}`),ze(F.minimumTimestamp)&&(yield`${B}.getTime() >= ${F.minimumTimestamp}`),ze(F.multipleOfTimestamp)&&(yield`(${B}.getTime() % ${F.multipleOfTimestamp}) === 0`)}o(u,"FromDate");function*f(F,ne,B){yield`(typeof ${B} === 'function')`}o(f,"FromFunction");function*d(F,ne,B){let he=globalThis.Object.getOwnPropertyNames(F.$defs).reduce((le,W)=>[...le,F.$defs[W]],[]);yield*k(ns(F.$ref),[...ne,...he],B)}o(d,"FromImport");function*m(F,ne,B){yield`Number.isInteger(${B})`,ze(F.exclusiveMaximum)&&(yield`${B} < ${F.exclusiveMaximum}`),ze(F.exclusiveMinimum)&&(yield`${B} > ${F.exclusiveMinimum}`),ze(F.maximum)&&(yield`${B} <= ${F.maximum}`),ze(F.minimum)&&(yield`${B} >= ${F.minimum}`),ze(F.multipleOf)&&(yield`(${B} % ${F.multipleOf}) === 0`)}o(m,"FromInteger");function*p(F,ne,B){let he=F.allOf.map(le=>M(le,ne,B)).join(" && ");if(F.unevaluatedProperties===!1){let le=se(`${new RegExp(Sa(F))};`),W=`Object.getOwnPropertyNames(${B}).every(key => ${le}.test(key))`;yield`(${he} && ${W})`}else if(Or(F.unevaluatedProperties)){let le=se(`${new RegExp(Sa(F))};`),W=`Object.getOwnPropertyNames(${B}).every(key => ${le}.test(key) || ${M(F.unevaluatedProperties,ne,`${B}[key]`)})`;yield`(${he} && ${W})`}else yield`(${he})`}o(p,"FromIntersect");function*g(F,ne,B){yield`(typeof value === 'object' && Symbol.iterator in ${B})`}o(g,"FromIterator");function*h(F,ne,B){typeof F.const=="number"||typeof F.const=="boolean"?yield`(${B} === ${F.const})`:yield`(${B} === '${s9.Escape(F.const)}')`}o(h,"FromLiteral");function*b(F,ne,B){yield"false"}o(b,"FromNever");function*x(F,ne,B){yield`(!${M(F.not,ne,B)})`}o(x,"FromNot");function*_(F,ne,B){yield`(${B} === null)`}o(_,"FromNull");function*y(F,ne,B){yield xu.IsNumberLike(B),ze(F.exclusiveMaximum)&&(yield`${B} < ${F.exclusiveMaximum}`),ze(F.exclusiveMinimum)&&(yield`${B} > ${F.exclusiveMinimum}`),ze(F.maximum)&&(yield`${B} <= ${F.maximum}`),ze(F.minimum)&&(yield`${B} >= ${F.minimum}`),ze(F.multipleOf)&&(yield`(${B} % ${F.multipleOf}) === 0`)}o(y,"FromNumber");function*v(F,ne,B){yield xu.IsObjectLike(B),ze(F.minProperties)&&(yield`Object.getOwnPropertyNames(${B}).length >= ${F.minProperties}`),ze(F.maxProperties)&&(yield`Object.getOwnPropertyNames(${B}).length <= ${F.maxProperties}`);let he=Object.getOwnPropertyNames(F.properties);for(let le of he){let W=V5.Encode(B,le),re=F.properties[le];if(F.required&&F.required.includes(le))yield*k(re,ne,W),(wa(re)||t(re))&&(yield`('${le}' in ${B})`);else{let be=M(re,ne,W);yield xu.IsExactOptionalProperty(B,le,be)}}if(F.additionalProperties===!1)if(F.required&&F.required.length===he.length)yield`Object.getOwnPropertyNames(${B}).length === ${he.length}`;else{let le=`[${he.map(W=>`'${W}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${B}).every(key => ${le}.includes(key))`}if(typeof F.additionalProperties=="object"){let le=M(F.additionalProperties,ne,`${B}[key]`),W=`[${he.map(re=>`'${re}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${B}).every(key => ${W}.includes(key) || ${le}))`}}o(v,"FromObject");function*I(F,ne,B){yield`${B} instanceof Promise`}o(I,"FromPromise");function*R(F,ne,B){yield xu.IsRecordLike(B),ze(F.minProperties)&&(yield`Object.getOwnPropertyNames(${B}).length >= ${F.minProperties}`),ze(F.maxProperties)&&(yield`Object.getOwnPropertyNames(${B}).length <= ${F.maxProperties}`);let[he,le]=Object.entries(F.patternProperties)[0],W=se(`${new RegExp(he)}`),re=M(le,ne,"value"),be=Or(F.additionalProperties)?M(F.additionalProperties,ne,B):F.additionalProperties===!1?"false":"true",ue=`(${W}.test(key) ? ${re} : ${be})`;yield`(Object.entries(${B}).every(([key, value]) => ${ue}))`}o(R,"FromRecord");function*z(F,ne,B){let he=Zt(F,ne);if(O.functions.has(F.$ref))return yield`${G(F.$ref)}(${B})`;yield*k(he,ne,B)}o(z,"FromRef");function*V(F,ne,B){let he=se(`${new RegExp(F.source,F.flags)};`);yield`(typeof ${B} === 'string')`,ze(F.maxLength)&&(yield`${B}.length <= ${F.maxLength}`),ze(F.minLength)&&(yield`${B}.length >= ${F.minLength}`),yield`${he}.test(${B})`}o(V,"FromRegExp");function*$(F,ne,B){yield`(typeof ${B} === 'string')`,ze(F.maxLength)&&(yield`${B}.length <= ${F.maxLength}`),ze(F.minLength)&&(yield`${B}.length >= ${F.minLength}`),F.pattern!==void 0&&(yield`${se(`${new RegExp(F.pattern)};`)}.test(${B})`),F.format!==void 0&&(yield`format('${F.format}', ${B})`)}o($,"FromString");function*Y(F,ne,B){yield`(typeof ${B} === 'symbol')`}o(Y,"FromSymbol");function*P(F,ne,B){yield`(typeof ${B} === 'string')`,yield`${se(`${new RegExp(F.pattern)};`)}.test(${B})`}o(P,"FromTemplateLiteral");function*w(F,ne,B){yield`${G(F.$ref)}(${B})`}o(w,"FromThis");function*H(F,ne,B){if(yield`Array.isArray(${B})`,F.items===void 0)return yield`${B}.length === 0`;yield`(${B}.length === ${F.maxItems})`;for(let he=0;he<F.items.length;he++)yield`${M(F.items[he],ne,`${B}[${he}]`)}`}o(H,"FromTuple");function*N(F,ne,B){yield`${B} === undefined`}o(N,"FromUndefined");function*T(F,ne,B){yield`(${F.anyOf.map(le=>M(le,ne,B)).join(" || ")})`}o(T,"FromUnion");function*E(F,ne,B){yield`${B} instanceof Uint8Array`,ze(F.maxByteLength)&&(yield`(${B}.length <= ${F.maxByteLength})`),ze(F.minByteLength)&&(yield`(${B}.length >= ${F.minByteLength})`)}o(E,"FromUint8Array");function*D(F,ne,B){yield"true"}o(D,"FromUnknown");function*S(F,ne,B){yield xu.IsVoidLike(B)}o(S,"FromVoid");function*A(F,ne,B){let he=O.instances.size;O.instances.set(he,F),yield`kind('${F[te]}', ${he}, ${B})`}o(A,"FromKind");function*k(F,ne,B,he=!0){let le=Vt(F.$id)?[...ne,F]:ne,W=F;if(he&&Vt(F.$id)){let re=G(F.$id);if(O.functions.has(re))return yield`${re}(${B})`;{O.functions.set(re,"<deferred>");let be=ye(re,F,ne,"value",!1);return O.functions.set(re,be),yield`${re}(${B})`}}switch(W[te]){case"Any":return yield*r(W,le,B);case"Argument":return yield*n(W,le,B);case"Array":return yield*i(W,le,B);case"AsyncIterator":return yield*s(W,le,B);case"BigInt":return yield*a(W,le,B);case"Boolean":return yield*l(W,le,B);case"Constructor":return yield*c(W,le,B);case"Date":return yield*u(W,le,B);case"Function":return yield*f(W,le,B);case"Import":return yield*d(W,le,B);case"Integer":return yield*m(W,le,B);case"Intersect":return yield*p(W,le,B);case"Iterator":return yield*g(W,le,B);case"Literal":return yield*h(W,le,B);case"Never":return yield*b(W,le,B);case"Not":return yield*x(W,le,B);case"Null":return yield*_(W,le,B);case"Number":return yield*y(W,le,B);case"Object":return yield*v(W,le,B);case"Promise":return yield*I(W,le,B);case"Record":return yield*R(W,le,B);case"Ref":return yield*z(W,le,B);case"RegExp":return yield*V(W,le,B);case"String":return yield*$(W,le,B);case"Symbol":return yield*Y(W,le,B);case"TemplateLiteral":return yield*P(W,le,B);case"This":return yield*w(W,le,B);case"Tuple":return yield*H(W,le,B);case"Undefined":return yield*N(W,le,B);case"Union":return yield*T(W,le,B);case"Uint8Array":return yield*E(W,le,B);case"Unknown":return yield*D(W,le,B);case"Void":return yield*S(W,le,B);default:if(!Ai.Has(W[te]))throw new a9(F);return yield*A(W,le,B)}}o(k,"Visit");let O={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function M(F,ne,B,he=!0){return`(${[...k(F,ne,B,he)].join(" && ")})`}o(M,"CreateExpression");function G(F){return`check_${o9.Encode(F)}`}o(G,"CreateFunctionName");function se(F){let ne=`local_${O.variables.size}`;return O.variables.set(ne,`const ${ne} = ${F}`),ne}o(se,"CreateVariable");function ye(F,ne,B,he,le=!0){let[W,re]=[`
`,Ee=>"".padStart(Ee," ")],be=xe("value","any"),ue=Ue("boolean"),me=[...k(ne,B,he,le)].map(Ee=>`${re(4)}${Ee}`).join(` &&${W}`);return`function ${F}(${be})${ue} {${W}${re(2)}return (${W}${me}${W}${re(2)})
}`}o(ye,"CreateFunction");function xe(F,ne){let B=O.language==="typescript"?`: ${ne}`:"";return`${F}${B}`}o(xe,"CreateParameter");function Ue(F){return O.language==="typescript"?`: ${F}`:""}o(Ue,"CreateReturns");function He(F,ne,B){let he=ye("check",F,ne,"value"),le=xe("value","any"),W=Ue("boolean"),re=[...O.functions.values()],be=[...O.variables.values()],ue=Vt(F.$id)?`return function check(${le})${W} {
  return ${G(F.$id)}(value)
}`:`return ${he}`;return[...be,...re,ue].join(`
`)}o(He,"Build");function Ve(...F){let ne={language:"javascript"},[B,he,le]=F.length===2&&at(F[1])?[F[0],F[1],ne]:F.length===2&&!at(F[1])?[F[0],[],F[1]]:F.length===3?[F[0],F[1],F[2]]:F.length===1?[F[0],[],ne]:[null,[],ne];if(O.language=le.language,O.variables.clear(),O.functions.clear(),O.instances.clear(),!Or(B))throw new K5(B);for(let W of he)if(!Or(W))throw new K5(W);return He(B,he,le)}o(Ve,"Code"),e.Code=Ve;function Qe(F,ne=[]){let B=Ve(F,ne,{language:"javascript"}),he=globalThis.Function("kind","format","hash",B),le=new Map(O.instances);function W(me,Ee,we){if(!Ai.Has(me)||!le.has(Ee))return!1;let ke=Ai.Get(me),We=le.get(Ee);return ke(We,we)}o(W,"typeRegistryFunction");function re(me,Ee){return js.Has(me)?js.Get(me)(Ee):!1}o(re,"formatRegistryFunction");function be(me){return Fl(me)}o(be,"hashFunction");let ue=he(W,re,be);return new i9(F,ne,ue,B)}o(Qe,"Compile"),e.Compile=Qe})(jl||(jl={}));var j4=Lt(_1());var ei=[];for(let e=0;e<256;++e)ei.push((e+256).toString(16).slice(1));function hA(e,t=0){return(ei[e[t+0]]+ei[e[t+1]]+ei[e[t+2]]+ei[e[t+3]]+"-"+ei[e[t+4]]+ei[e[t+5]]+"-"+ei[e[t+6]]+ei[e[t+7]]+"-"+ei[e[t+8]]+ei[e[t+9]]+"-"+ei[e[t+10]]+ei[e[t+11]]+ei[e[t+12]]+ei[e[t+13]]+ei[e[t+14]]+ei[e[t+15]]).toLowerCase()}o(hA,"unsafeStringify");var l9,Ene=new Uint8Array(16);function c9(){if(!l9){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");l9=crypto.getRandomValues.bind(crypto)}return l9(Ene)}o(c9,"rng");var Cne=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),u9={randomUUID:Cne};function Ine(e,t,r){if(u9.randomUUID&&!t&&!e)return u9.randomUUID();e=e||{};let n=e.random??e.rng?.()??c9();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[r+i]=n[i];return t}return hA(n)}o(Ine,"v4");var Li=Ine;var $4=Lt(yi());function Hd(e){return e===1}o(Hd,"isRestricted");var Tie=["engine.prompt","engine.completion","ghostText.capturedAfterAccepted","ghostText.capturedAfterRejected"],Op=8192,Eie=21;var ko=class{static{o(this,"TelemetryReporters")}getReporter(t,r=0){return Hd(r)?this.getRestrictedReporter(t):this.reporter}getRestrictedReporter(t){if(q4(t))return this.reporterRestricted;if(Bf(t))return new gp}getFTReporter(t){if(WO(t))return this.reporterFT;if(Bf(t))return new gp}setReporter(t){this.reporter=t}setRestrictedReporter(t){this.reporterRestricted=t}setFTReporter(t){this.reporterFT=t}async deactivate(){let t=Promise.resolve();this.reporter&&(t=this.reporter.dispose(),this.reporter=void 0);let r=Promise.resolve();this.reporterRestricted&&(r=this.reporterRestricted.dispose(),this.reporterRestricted=void 0);let n=Promise.resolve();this.reporterFT&&(n=this.reporterFT.dispose(),this.reporterFT=void 0),await Promise.all([t,r,n])}},Cie=j.Object({},{additionalProperties:j.String()}),Iie=j.Object({meanLogProb:j.Optional(j.Number()),meanAlternativeLogProb:j.Optional(j.Number())},{additionalProperties:j.Number()}),Sie=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function wie(e){return Sie.has(e.code??"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}o(wie,"isOomError");function Pie(e){return g6(e)?"network":wie(e)||e.code==="EMFILE"||e.code==="ENFILE"||e.syscall==="uv_cwd"&&(e.code==="ENOENT"||e.code=="EIO")||e.code==="CopilotPromptLoadFailure"||`${e.code}`.startsWith("CopilotPromptWorkerExit")?"local":"exception"}o(Pie,"getErrorType");var et=class e{static{o(this,"TelemetryData")}static{this.validateTelemetryProperties=jl.Compile(Cie)}static{this.validateTelemetryMeasurements=jl.Compile(Iie)}static{this.keysExemptedFromSanitization=["abexp.assignmentcontext","VSCode.ABExp.Features"]}constructor(t,r,n){this.properties=t,this.measurements=r,this.issuedTime=n}static createAndMarkAsIssued(t,r){return new e(t||{},r||{},kn())}extendedBy(t,r){let n={...this.properties,...t},i={...this.measurements,...r},s=new e(n,i,this.issuedTime);return s.displayedTime=this.displayedTime,s}markAsDisplayed(){this.displayedTime===void 0&&(this.displayedTime=kn())}async extendWithExpTelemetry(t){let{filters:r,exp:n}=await t.get(Be).getFallbackExpAndFilters();n.addToTelemetry(this),r.addToTelemetry(this)}extendWithEditorAgnosticFields(t){this.properties.editor_version=R0(t.get(cr).getEditorInfo()),this.properties.editor_plugin_version=R0(t.get(cr).getEditorPluginInfo());let r=t.get(bn);this.properties.client_machineid=r.machineId,this.properties.client_sessionid=r.sessionId,this.properties.copilot_version=`copilot/${pp(t)}`,typeof process<"u"&&(this.properties.runtime_version=`node/${process.versions.node}`);let n=t.get(cr);this.properties.common_extname=n.getEditorPluginInfo().name,this.properties.common_extversion=n.getEditorPluginInfo().version,this.properties.common_vscodeversion=R0(n.getEditorInfo());let i=t.get(Yn);this.properties.fetcher=i.name;let s=i.proxySettings;this.properties.proxy_enabled=s?"true":"false",this.properties.proxy_auth=s?.proxyAuth?"true":"false",this.properties.proxy_kerberos_spn=s?.kerberosServicePrincipal?"true":"false",this.properties.reject_unauthorized=i.rejectUnauthorized?"true":"false"}extendWithConfigProperties(t){let r=nA(t);r["copilot.build"]=oA(t),r["copilot.buildType"]=mp(t),this.properties={...this.properties,...r}}extendWithRequestId(t){let r={completionId:t.completionId,created:t.created.toString(),headerRequestId:t.headerRequestId,serverExperiments:t.serverExperiments,deploymentId:t.deploymentId};this.properties={...this.properties,...r}}static{this.keysToRemoveFromStandardTelemetryHack=["gitRepoHost","gitRepoName","gitRepoOwner","gitRepoUrl","gitRepoPath","repo","request_option_nwo","userKind"]}static maybeRemoveRepoInfoFromPropertiesHack(t,r){if(Hd(t))return r;let n={};for(let i in r)e.keysToRemoveFromStandardTelemetryHack.includes(i)||(n[i]=r[i]);return n}sanitizeKeys(){this.properties=e.sanitizeKeys(this.properties),this.measurements=e.sanitizeKeys(this.measurements);for(let t in this.measurements)isNaN(this.measurements[t])&&delete this.measurements[t]}multiplexProperties(){this.properties=e.multiplexProperties(this.properties)}static sanitizeKeys(t){t=t||{};let r={};for(let n in t){let i=e.keysExemptedFromSanitization.includes(n)?n:n.replace(/\./g,"_");r[i]=t[n]}return r}static multiplexProperties(t){let r={...t};for(let n in t){let i=t[n],s=i?.length??0;if(s>Op){let a=0,l=0;for(;s>0&&l<Eie;){l+=1;let c=n;l>1&&(c=n+"_"+(l<10?"0":"")+l);let u=a+Op;s<Op&&(u=a+s),r[c]=i.slice(a,u),s-=Op,a+=Op}}}return r}updateMeasurements(t){let r=t-this.issuedTime;if(this.measurements.timeSinceIssuedMs=r,this.displayedTime!==void 0){let n=t-this.displayedTime;this.measurements.timeSinceDisplayedMs=n}this.measurements.current_time===void 0&&(this.measurements.current_time=Aie(t))}validateData(t,r){let n;if(e.validateTelemetryProperties.Check(this.properties)||(n={problem:"properties",error:JSON.stringify([...e.validateTelemetryProperties.Errors(this.properties)])}),!e.validateTelemetryMeasurements.Check(this.measurements)){let i=JSON.stringify([...e.validateTelemetryMeasurements.Errors(this.measurements)]);n===void 0?n={problem:"measurements",error:i}:(n.problem="both",n.error+=`; ${i}`)}if(n===void 0)return!0;if(Bf(t))throw new Error(`Invalid telemetry data: ${n.problem} ${n.error} properties=${JSON.stringify(this.properties)} measurements=${JSON.stringify(this.measurements)}`);return Xs(t,"invalidTelemetryData",e.createAndMarkAsIssued({properties:JSON.stringify(this.properties),measurements:JSON.stringify(this.measurements),problem:n.problem,validationError:n.error}),r),Hd(r)&&Xs(t,"invalidTelemetryData_in_secure",e.createAndMarkAsIssued({problem:n.problem,requestId:this.properties.requestId??"unknown"}),0),!1}async makeReadyForSending(t,r,n,i){this.extendWithConfigProperties(t),this.extendWithEditorAgnosticFields(t),this.sanitizeKeys(),this.multiplexProperties(),n==="IncludeExp"&&await this.extendWithExpTelemetry(t),this.updateMeasurements(i),this.validateData(t,r)||(this.properties.telemetry_failed_validation="true"),Object.assign(this.properties,qO(t))}},np=class e extends et{static{o(this,"TelemetryWithExp")}constructor(t,r,n,i){super(t,r,n),this.filtersAndExp=i}extendedBy(t,r){let n={...this.properties,...t},i={...this.measurements,...r},s=new e(n,i,this.issuedTime,this.filtersAndExp);return s.displayedTime=this.displayedTime,s}async extendWithExpTelemetry(t){this.filtersAndExp.exp.addToTelemetry(this),this.filtersAndExp.filters.addToTelemetry(this)}static createEmptyConfigForTesting(){return new e({},{},0,{filters:new Jc({}),exp:As.createEmptyConfig()})}};function Lp(e,t,r,n){e.get(ko).getReporter(e,t)?.sendTelemetryEvent(r,et.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(Lp,"sendTelemetryEvent");function Rie(e,t,r,n){e.get(ko).getReporter(e,t)?.sendTelemetryErrorEvent(r,et.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(Rie,"sendTelemetryErrorEvent");function Die(e,t,r,n){e.get(ko).getFTReporter(e)?.sendTelemetryEvent(r,et.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(Die,"sendFTTelemetryEvent");function W4(e){return e.isFimEnabled?{promptPrefixCharLen:e.prefix.length,promptSuffixCharLen:e.suffix.length}:{promptCharLen:e.prefix.length}}o(W4,"telemetrizePromptLength");function kn(){return performance.now()}o(kn,"now");function Aie(e){return Math.floor(e/1e3)}o(Aie,"nowSeconds");function q4(e){return e.get(Xi).optedIn}o(q4,"shouldSendRestricted");function WO(e){return e.get(Xi).ftFlag!==""}o(WO,"shouldSendFinetuningTelemetry");function Se(e,t,r,n){return e.get(Zi).register(Nie(e,t,kn(),r?.extendedBy(),n))}o(Se,"telemetry");async function Nie(e,t,r,n,i=0){let s=n||et.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,i??!1,"IncludeExp",r),(!Hd(i)||q4(e))&&Lp(e,i,t,s),Hd(i)&&Tie.includes(t)&&WO(e)&&Die(e,i,t,s)}o(Nie,"_telemetry");function v2(e,t){return e.get(Zi).register(kie(e,t,kn()))}o(v2,"telemetryExpProblem");async function kie(e,t,r){let n="expProblem",i=et.createAndMarkAsIssued(t,{});await i.makeReadyForSending(e,0,"SkipExp",r),Lp(e,0,n,i)}o(kie,"_telemetryExpProblem");function By(e,t,r,n){return e.get(Zi).register(Oie(e,t,r,n))}o(By,"telemetryRaw");async function Oie(e,t,r,n){let i={...r,...qO(e)};Lp(e,0,t,{properties:i,measurements:n})}o(Oie,"_telemetryRaw");function qO(e){let t=e.get(cr),r={unique_id:Li(),common_extname:t.getEditorPluginInfo().name,common_extversion:t.getEditorPluginInfo().version,common_vscodeversion:R0(t.getEditorInfo())},n=e.get(Xi);return n.trackingId&&(r.copilot_trackingId=n.trackingId),n.organizationsList&&(r.organizations_list=n.organizationsList),n.enterpriseList&&(r.enterprise_list=n.enterpriseList),n.sku&&(r.sku=n.sku),r}o(qO,"createRequiredProperties");var Uy=class extends Error{static{o(this,"CopilotNonError")}constructor(t){let r;try{r=JSON.stringify(t)}catch{r=String(t)}super(r),this.name="CopilotNonError",this.code=(0,j4.SHA256)(j4.enc.Utf16.parse(this.message)).toString().slice(0,16)}};function p0(e,t,r,n,i){return e.get(Zi).register(GO(e,t,kn(),r,{...n},i))}o(p0,"telemetryException");async function GO(e,t,r,n,i,s){let a;if(t instanceof Error){if(a=t,a.name==="Canceled"&&a.message==="Canceled"||a.name==="CodeExpectedError"||m0(a)||a instanceof yl||a instanceof $4.ConnectionError||a instanceof $4.ResponseError)return}else{if(a=new Uy(t),t&&typeof t=="object"&&t.name==="ExitStatus")return;if(a.stack?.startsWith(`${a}
`)){let h=a.stack.slice(`${a}
`.length).split(`
`);/^\s*(?:at )?(?:\w+\.)*_telemetryException\b/.test(h[0]??"")&&h.shift(),/^\s*(?:at )?(?:\w+\.)*telemetryException\b/.test(h[0]??"")&&h.shift(),a.stack=`${a}
${h.join(`
`)}`}}let l=e.get(cr).getEditorInfo(),c;l.root&&(c=[{prefix:`${l.name}:`,path:l.root}]);let u=q4(e),f=gA(a,c,u),d=Pie(a),m=d==="exception",p=et.createAndMarkAsIssued({origin:n??"",type:a.name,code:`${a.code??""}`,reason:f.stack||f.toString(),message:f.message,...i});if(await p.makeReadyForSending(e,0,"IncludeExp",r),s?.exception_detail)for(let h of s.exception_detail)h.value&&(u?h.value=r9(h.value):h.value="[redacted]");if(s??=aA(e,f),s.context={...s.context,"copilot_event.unique_id":p.properties.unique_id,"#restricted_telemetry":u?"true":"false"},n&&(s.context["#origin"]=n,s.transaction=n),s.rollup_id!=="auto"&&(p.properties.errno=s.rollup_id),s.created_at=new Date(p.issuedTime).toISOString(),u){let h=pA(a,c),b=et.createAndMarkAsIssued({origin:n??"",type:a.name,code:`${a.code??""}`,reason:h.stack||h.toString(),message:h.message,...i});s.rollup_id!=="auto"&&(b.properties.errno=s.rollup_id),await b.makeReadyForSending(e,1,"IncludeExp",r),b.properties.unique_id=p.properties.unique_id,p.properties.restricted_unique_id=b.properties.unique_id,Lp(e,1,`error.${d}`,b)}let g=s.rollup_id==="auto"?a.stack??"":s.rollup_id;m&&!e.get(hu).isThrottled(g)&&(p.properties.failbot_payload=JSON.stringify(s)),Lp(e,0,`error.${d}`,p)}o(GO,"_telemetryException");function Jl(e,t,r,n){let i=o(async(...s)=>{try{await t(...s)}catch(a){await GO(e,a,kn(),r,n)}},"wrapped");return(...s)=>e.get(Zi).register(i(...s))}o(Jl,"telemetryCatch");function Xs(e,t,r,n){return e.get(Zi).register(Lie(e,t,kn(),r?.extendedBy(),n))}o(Xs,"telemetryError");async function Lie(e,t,r,n,i=0){if(Hd(i)&&!q4(e))return;let s=n||et.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,i,"IncludeExp",r),Rie(e,i,t,s)}o(Lie,"_telemetryError");function zO(e,t,r,n,i){let s=et.createAndMarkAsIssued({completionTextJson:JSON.stringify(t),choiceIndex:i.toString()});if(r.logprobs)for(let[a,l]of Object.entries(r.logprobs))s.properties["logprobs_"+a]=JSON.stringify(l)??"unset";return s.extendWithRequestId(n),Se(e,"engine.completion",s,1)}o(zO,"logEngineCompletion");function HO(e,t,r){let n={};if(t.isFimEnabled?n={promptPrefixJson:JSON.stringify(t.prefix),promptSuffixJson:JSON.stringify(t.suffix)}:n={promptJson:JSON.stringify(t.prefix)},t.context){let s=r.properties["request.option.extra"]?JSON.parse(r.properties["request.option.extra"]):{};s.context=t.context,n["request.option.extra"]=JSON.stringify(s)}let i=r.extendedBy(n);return Se(e,"engine.prompt",i,1)}o(HO,"logEnginePrompt");var VO=Lt(yi()),UDe=j.Object({accessToken:j.Optional(j.String({minLength:1})),handle:j.Optional(j.String({minLength:1})),githubAppId:j.Optional(j.String({minLength:1}))}),Mie;(r=>(r.method="github/didChangeAuth",r.type=new VO.ProtocolNotificationType(r.method)))(Mie||={});var KO=Lt(yi()),Uie;(r=>(r.method="copilot/ipCodeCitation",r.type=new KO.NotificationType(r.method)))(Uie||={});var YO=Lt(yi()),Bie;(r=>(r.method="context/update",r.type=new YO.ProtocolRequestType(r.method)))(Bie||={});var tr=Lt(yi()),jie=j.String(),$ie=j.Object({uri:jie}),Eu=j.Intersect([$ie,j.Object({version:j.Optional(j.Integer())})]),HDe=j.Required(Eu),Xl=j.Object({line:j.Integer({minimum:0}),character:j.Integer({minimum:0})}),JO=j.Object({start:Xl,end:Xl}),jy=j.Union([j.Integer(),j.String()]),VDe=j.Object({isCancellationRequested:j.Boolean(),onCancellationRequested:j.Any()});var XO=Lt(yi()),Wie;(r=>(r.method="textDocument/didFocus",r.type=new XO.ProtocolNotificationType(r.method)))(Wie||={});var qie=j.Object({didChangeFeatureFlags:j.Boolean(),fetch:j.Boolean(),ipCodeCitation:j.Boolean(),redirectedTelemetry:j.Boolean(),related:j.Boolean(),token:j.Boolean(),watchedFiles:j.Boolean(),showPanelMessage:j.Boolean(),showInlineMessage:j.Boolean()}),Gie=j.Object({name:j.String(),version:j.String(),readableName:j.Optional(j.String())}),ZO=j.Object({name:j.String(),version:j.Optional(j.String()),readableName:j.Optional(j.String())}),ZDe=j.Object({editorInfo:j.Optional(ZO),editorPluginInfo:j.Optional(ZO),relatedPluginInfo:j.Optional(j.Array(Gie)),copilotIntegrationId:j.Optional(j.String()),copilotCapabilities:j.Optional(j.Partial(qie)),githubAppId:j.Optional(j.String())});var Fp=Lt(yi());var QO=(r=>(r[r.Invoked=1]="Invoked",r[r.Automatic=2]="Automatic",r))(QO||{}),zie=j.Enum(QO),Hie=j.Object({triggerKind:zie,selectedCompletionInfo:j.Optional(j.Object({text:j.String(),range:JO,tooltipSignature:j.Optional(j.String())}))}),eL=j.Object({textDocument:Eu,position:Xl,formattingOptions:j.Optional(j.Object({tabSize:j.Optional(j.Union([j.Integer({minimum:1}),j.String()])),insertSpaces:j.Optional(j.Union([j.Boolean(),j.String()]))})),context:Hie,data:j.Optional(j.Unknown())}),Vie;(r=>(r.method="textDocument/inlineCompletion",r.type=new Fp.ProtocolRequestType(r.method)))(Vie||={});var tL=j.Object({command:j.Object({arguments:j.Tuple([j.String({minLength:1})])})}),nAe=j.Object({item:tL}),Kie;(r=>(r.method="textDocument/didShowCompletion",r.type=new Fp.ProtocolNotificationType(r.method)))(Kie||={});var iAe=j.Object({item:tL,acceptedLength:j.Integer({minimum:1})}),Yie;(r=>(r.method="textDocument/didPartiallyAcceptCompletion",r.type=new Fp.ProtocolNotificationType(r.method)))(Yie||={});var rL=Lt(yi()),Jie;(r=>(r.method="textDocument/inlineCompletionPrompt",r.type=new rL.ProtocolRequestType(r.method)))(Jie||={});var nL=Lt(yi()),uAe=j.Object({textDocument:Eu,position:Xl}),Xie=j.Object({command:j.Object({arguments:j.Tuple([j.String({minLength:1})])})}),fAe=j.Object({item:Xie}),Zie;(r=>(r.method="textDocument/didShowInlineEdit",r.type=new nL.ProtocolNotificationType(r.method)))(Zie||={});var G4=Lt(yi());var xAe=j.Object({textDocument:Eu,position:Xl,partialResultToken:j.Optional(jy),workDoneToken:j.Optional(jy)}),Qie;(n=>(n.method="textDocument/copilotPanelCompletion",n.type=new G4.ProtocolRequestType(n.method),n.partialResult=new G4.ProgressType))(Qie||={});var iL=Lt(yi()),eoe;(r=>(r.method="copilot/related",r.type=new iL.ProtocolRequestType(r.method)))(eoe||={});var oL=Lt(yi()),toe;(r=>(r.method="statusNotification",r.type=new oL.ProtocolNotificationType(r.method)))(toe||={});var hL=Lt(Wy());var V4="CopilotToken",L0=class{static{o(this,"CopilotTokenNotifier")}#e=new hL.default;#t;constructor(){this.#e.setMaxListeners(20)}get lastToken(){return this.#t}emitToken(t){if(t.token!==this.#t?.token)return this.#t=t,this.#e.emit(V4,t)}onToken(t){return this.#e.on(V4,t),tr.Disposable.create(()=>this.#e.off(V4,t))}};function dn(e,t){let r=Jl(e,t,`event.${V4}`);return e.get(L0).onToken(r)}o(dn,"onCopilotToken");function xL(e,t){return e.get(L0).emitToken(t)}o(xL,"emitCopilotToken");function yw(e){return e.get(L0).lastToken}o(yw,"getLastCopilotToken");var K4=class{constructor(t){this.userInfo=t}static{o(this,"CopilotUserInfoWrapper")}get sku(){return this.userInfo?.access_type_sku}get isFreeUser(){return this.sku==="free_limited_copilot"}get copilotPlan(){if(this.isFreeUser)return"free";let t=this.userInfo?.copilot_plan;switch(t){case"individual":case"individual_pro":case"business":case"enterprise":return t;default:return"individual"}}get quotaInfo(){return{quota_snapshots:this.userInfo?.quota_snapshots,quota_reset_date:this.userInfo?.quota_reset_date}}get raw(){return this.userInfo}};var no=class{static{o(this,"NotificationSender")}async showWarningMessageOnlyOnce(t,r,...n){return this.showWarningMessage(r,...n)}};var La=class{static{o(this,"UrlOpener")}};var loe=["UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_SIGNATURE_FAILURE"],bL="Your proxy connection requires a trusted certificate. Please make sure the proxy certificate and any issuers are configured correctly and trusted by your operating system.",_L="https://gh.io/copilot-network-errors",F0=class{constructor(){this.notifiedErrorCodes=[]}static{o(this,"UserErrorNotifier")}notifyUser(t,r){if(!(r instanceof Error))return;let n=r;n.code&&loe.includes(n.code)&&!this.didNotifyBefore(n.code)&&(this.notifiedErrorCodes.push(n.code),this.displayCertificateErrorNotification(t,n))}async displayCertificateErrorNotification(t,r){new wt("certificates").error(t,`${bL} Please visit ${_L} to learn more. Original cause:`,r);let n={title:"Learn more"};return t.get(no).showWarningMessage(bL,n).then(i=>{if(i?.title===n.title)return t.get(La).open(_L)})}didNotifyBefore(t){return this.notifiedErrorCodes.indexOf(t)!==-1}};function Zl(){return typeof process>"u"}o(Zl,"isWeb");var qy=class extends ga{static{o(this,"ProxiedResponseError")}constructor(t){super(t,`HTTP ${t.status} response does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`)}};async function Cu(e,t,r,n={}){n={...n,headers:{Authorization:`Bearer ${t.accessToken}`,...Zl()?{}:Uf(e),...n.headers}};let i=await e.get(Yn).fetch(new URL(r,t.apiUrl).href,n);if(i.status>=500)throw new ga(i);if(!i.headers.get("x-github-request-id"))throw new qy(i);return i}o(Cu,"apiFetch");var Fa=new wt("auth"),vL=60;function zy(e){let t=e.serverUrl?.match(/^https?:\/\//)?e.serverUrl:"",r=e.apiUrl?.match(/^https?:\/\//)?e.apiUrl:"";return t?r||=t.replace("://","://api."):r?.includes("://api.")&&(t||=r.replace("://api.","://")),(!t||!r)&&(t="https://github.com",r="https://api.github.com"),{apiUrl:r,serverUrl:t}}o(zy,"fillGitHubUrls");function Y4(){return Math.floor(Date.now()/1e3)}o(Y4,"nowSeconds");async function TL(e,t){let r=et.createAndMarkAsIssued({},{});Se(e,"auth.new_login");let n=await coe(e,t),i=await n.json(),s=i.user_notification;if(yL(e,s,t),n.status===401){let f="Failed to get copilot token due to 401 status. Please sign out and try again.";return Fa.info(e,f),Xs(e,"auth.unknown_401",r),{kind:"failure",reason:"HTTP401",message:f,envelope:i}}if(!n.ok||!i.token){Fa.info(e,`Invalid copilot token: missing token: ${n.status} ${n.statusText}`),Xs(e,"auth.invalid_token",r.extendedBy({status:n.status.toString(),status_text:n.statusText}));let f=i.error_details;return f?.notification_id!=="not_signed_up"&&yL(e,f,t),{kind:"failure",reason:"NotAuthorized",message:"User not authorized",envelope:i,...f}}let a=i.expires_at;i.expires_at=Y4()+i.refresh_in+vL;let l=await uoe(e,t),c;l.ok&&(c=await l.json());let u=new Gy(i,c);return xL(e,u),Se(e,"auth.new_token",r.extendedBy({},{adjusted_expires_at:i.expires_at,expires_at:a,current_time:Y4()})),{kind:"success",copilotToken:u}}o(TL,"authFromGitHubSession");async function coe(e,t){let r={"X-GitHub-Api-Version":ha},n=t.devOverride?.copilotTokenUrl??"copilot_internal/v2/token";try{return await Cu(e,t,n,{timeout:12e4,headers:r})}catch(i){throw e.get(F0).notifyUser(e,i),i}}o(coe,"fetchCopilotToken");async function uoe(e,t){let r={"X-GitHub-Api-Version":ha},n=t.devOverride?.copilotUserInfoUrl??"copilot_internal/user";try{return await Cu(e,t,n,{timeout:12e4,headers:r})}catch(i){throw e.get(F0).notifyUser(e,i),i}}o(uoe,"fetchCopilotUserInfo");function yL(e,t,r){t&&e.get(no).showWarningMessageOnlyOnce(t.notification_id,t.message,{title:t.title},{title:"Dismiss"}).then(async n=>{let i=n?.title===t.title,s=i||n?.title==="Dismiss";if(i){let a=e.get(cr).getEditorPluginInfo(),l=t.url.replace("{EDITOR}",encodeURIComponent(a.name+"_"+a.version));await e.get(La).open(l)}t.notification_id&&s&&await foe(e,t.notification_id,r)}).catch(n=>{Fa.exception(e,n,"copilotToken.notification")})}o(yL,"notifyUser");async function foe(e,t,r){let n=r.devOverride?.notificationUrl??"copilot_internal/notification",i=await Cu(e,r,n,{method:"POST",headers:{"X-GitHub-Api-Version":ha},body:JSON.stringify({notification_id:t})});(!i||!i.ok)&&Fa.error(e,`Failed to send notification result to GitHub: ${i?.status} ${i?.statusText}`)}o(foe,"sendNotificationResultToGitHub");var Gy=class{constructor(t,r){this.envelope=t;this.token=t.token,this.organization_list=t.organization_list,this.enterprise_list=t.enterprise_list,this.tokenMap=this.parseToken(this.token),this.userInfo=new K4(r)}static{o(this,"CopilotToken")}get endpoints(){return this.envelope.endpoints??E1}needsRefresh(){return(this.envelope.expires_at-vL)*1e3<Date.now()}isExpired(){return this.envelope.expires_at*1e3<Date.now()}get hasKnownOrg(){return f6(this.organization_list||[])!==void 0}parseToken(t){let r=new Map,i=(t??"").split(":")[0].split(";");for(let s of i){let[a,l]=s.split("=");r.set(a,l)}return r}getTokenValue(t){return this.tokenMap.get(t)}getTokenValues(){return Object.fromEntries(this.tokenMap)}};function Ua(e,t){return e||t}o(Ua,"_pureAssign");function zn(e,t){return e[t]}o(zn,"_pureRef");var io=void 0,Cn=null,ov="",nx="function",Up="object",Ma="prototype",nv="__proto__",Iu="undefined",Q4="constructor",sv="Symbol",doe="_polyfill",Yd="length",ex="name",vi="call",ix="toString",cs=Ua(Object),av=zn(cs,Ma),PL=Ua(String),Xd=zn(PL,Ma),ox=Ua(Math),RL=Ua(Array),sx=zn(RL,Ma),Ql=zn(sx,"slice");function Gn(e,t){try{return{v:e.apply(this,t)}}catch(r){return{e:r}}}o(Gn,"safe");function moe(e,t){var r=Gn(e);return r.e?t:r.v}o(moe,"safeGet");var Hy;function ax(e){return function(t){return typeof t===e}}o(ax,"_createIs");function DL(e){var t="[object "+e+"]";return function(r){return!!(r&&lx(r)===t)}}o(DL,"_createObjIs");function lx(e){return av[ix].call(e)}o(lx,"objToString");function or(e){return typeof e===Iu||e===Iu}o(or,"isUndefined");function poe(e){return!cx(e)}o(poe,"isStrictUndefined");function Oe(e){return e===Cn||or(e)}o(Oe,"isNullOrUndefined");function goe(e){return e===Cn||!cx(e)}o(goe,"isStrictNullOrUndefined");function cx(e){return!!e||e!==io}o(cx,"isDefined");function hoe(e){return!Hy&&(Hy=["string","number","boolean",Iu,"symbol","bigint"]),e!==Up&&Hy.indexOf(e)!==-1}o(hoe,"isPrimitiveType");var Yt=ax("string"),mt=ax(nx);function Ti(e){return!e&&Oe(e)?!1:!!e&&typeof e===Up}o(Ti,"isObject");var tt=zn(RL,"isArray"),AL=DL("Date"),Ba=ax("number"),Bp=ax("boolean");var jp=DL("Error");function Lo(e){return!!(e&&e.then&&mt(e.then))}o(Lo,"isPromiseLike");function ec(e){return!(!e||moe(function(){return!(e&&0+e)},!e))}o(ec,"isTruthy");var ux=zn(cs,"getOwnPropertyDescriptor");function oo(e,t){return!!e&&av.hasOwnProperty[vi](e,t)}o(oo,"objHasOwnProperty");var M0=Ua(zn(cs,"hasOwn"),xoe);function xoe(e,t){return oo(e,t)||!!ux(e,t)}o(xoe,"polyObjHasOwn");function xt(e,t,r){if(e&&Ti(e)){for(var n in e)if(M0(e,n)&&t[vi](r||e,n,e[n])===-1)break}}o(xt,"objForEachKey");var J4={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function boe(e){var t={};if(t[J4.c]=!0,t[J4.e]=!0,e.l){t.get=function(){return e.l.v};var r=ux(e.l,"v");r&&r.set&&(t.set=function(n){e.l.v=n})}return xt(e,function(n,i){t[J4[n]]=poe(i)?t[J4[n]]:i}),t}o(boe,"_createProp");var Oo=zn(cs,"defineProperty"),NL=zn(cs,"defineProperties");function mr(e,t,r){return Oo(e,t,boe(r))}o(mr,"objDefine");function kL(e,t,r,n,i){var s={};return xt(e,function(a,l){tx(s,a,t?l:a),tx(s,l,r?l:a)}),n?n(s):s}o(kL,"_createKeyValueMap");function tx(e,t,r,n){Oo(e,t,{value:r,enumerable:!0,writable:!1})}o(tx,"_assignMapValue");var In=Ua(PL),_oe="[object Error]";function Xe(e,t){var r=ov,n=av[ix][vi](e);n===_oe&&(e={stack:In(e.stack),message:In(e.message),name:In(e.name)});try{r=JSON.stringify(e,Cn,t?typeof t=="number"?t:4:io),r=(r?r.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):Cn)||In(e)}catch(i){r=" - "+Xe(i,t)}return n+": "+r}o(Xe,"dumpObj");function so(e){throw new Error(e)}o(so,"throwError");function Ei(e){throw new TypeError(e)}o(Ei,"throwTypeError");var OL=zn(cs,"freeze");function yoe(e){return e}o(yoe,"_doNothing");function voe(e){return e[nv]||Cn}o(voe,"_getProto");var Zd=zn(cs,"assign"),us=zn(cs,"keys");function Su(e){return OL&&xt(e,function(t,r){(tt(r)||Ti(r))&&Su(r)}),Fo(e)}o(Su,"objDeepFreeze");var Fo=Ua(OL,yoe);var iv=Ua(zn(cs,"getPrototypeOf"),voe);function LL(e){return kL(e,1,0,Fo)}o(LL,"createEnum");function Toe(e){return kL(e,0,0,Fo)}o(Toe,"createEnumKeyMap");function Eoe(e){var t={};return xt(e,function(r,n){tx(t,r,n[1]),tx(t,n[0],n[1])}),Fo(t)}o(Eoe,"createSimpleMap");function FL(e){return Eoe(e)}o(FL,"createTypeMap");var ML=Toe({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),EL="__tsUtils$gblCfg",Vy;function UL(){var e;return typeof globalThis!==Iu&&(e=globalThis),!e&&typeof self!==Iu&&(e=self),!e&&typeof window!==Iu&&(e=window),!e&&typeof global!==Iu&&(e=global),e}o(UL,"_getGlobalValue");function BL(){if(!Vy){var e=Gn(UL).v||{};Vy=e[EL]=e[EL]||{}}return Vy}o(BL,"_getGlobalConfig");var Qd=fx;function fx(e,t,r){var n=t?t[e]:Cn;return function(i){var s=(i?i[e]:Cn)||n;if(s||r){var a=arguments;return(s||r).apply(i,s?Ql[vi](a,1):a)}Ei('"'+In(e)+'" not defined for '+Xe(i))}}o(fx,"_unwrapFunctionWithPoly");function Coe(e){return function(t){return t[e]}}o(Coe,"_unwrapProp");var jL=zn(ox,"min"),wu=zn(ox,"max"),CL=Qd("slice",Xd),ds=Qd("substring",Xd),$L=fx("substr",Xd,Ioe);function Ioe(e,t,r){return Oe(e)&&Ei("Invalid "+Xe(e)),r<0?ov:(t=t||0,t<0&&(t=wu(t+e[Yd],0)),or(r)?CL(e,t):CL(e,t,t+r))}o(Ioe,"polyStrSubstr");function lv(e,t){return ds(e,0,t)}o(lv,"strLeft");var IL="_urid",Ky;function Soe(){if(!Ky){var e=BL();Ky=e.gblSym=e.gblSym||{k:{},s:{}}}return Ky}o(Soe,"_globalSymbolRegistry");var X4;function cv(e){var t={description:In(e),toString:o(function(){return sv+"("+e+")"},"toString")};return t[doe]=!0,t}o(cv,"polyNewSymbol");function woe(e){var t=Soe();if(!M0(t.k,e)){var r=cv(e),n=us(t.s).length;r[IL]=function(){return n+"_"+r[ix]()},t.k[e]=r,t.s[r[IL]()]=In(e)}return t.k[e]}o(woe,"polySymbolFor");function Poe(e){!X4&&(X4={});var t,r=ML[e];return r&&(t=X4[r]=X4[r]||cv(sv+"."+r)),t}o(Poe,"polyGetKnownSymbol");var qn;function Pu(){qn=BL()}o(Pu,"_initTestHooks");function WL(e){var t={};return!qn&&Pu(),t.b=qn.lzy,Oo(t,"v",{configurable:!0,get:o(function(){var r=e();return qn.lzy||Oo(t,"v",{value:r}),t.b=qn.lzy,r},"get")}),t}o(WL,"getLazy");function ms(e){return Oo({toJSON:o(function(){return e},"toJSON")},"v",{value:e})}o(ms,"createCachedValue");var qL="window",Mp;function dx(e,t){var r;return function(){return!qn&&Pu(),(!r||qn.lzy)&&(r=ms(Gn(e,t).v)),r.v}}o(dx,"_getGlobalInstFn");function Mo(e){return!qn&&Pu(),(!Mp||e===!1||qn.lzy)&&(Mp=ms(Gn(UL).v||Cn)),Mp.v}o(Mo,"getGlobal");function Fr(e,t){var r;if(!Mp||t===!1?r=Mo(t):r=Mp.v,r&&r[e])return r[e];if(e===qL)try{return window}catch{}return Cn}o(Fr,"getInst");function uv(){return!!Uo()}o(uv,"hasDocument");var Uo=dx(Fr,["document"]);function GL(){return!!ao()}o(GL,"hasWindow");var ao=dx(Fr,[qL]);function fv(){return!!ps()}o(fv,"hasNavigator");var ps=dx(Fr,["navigator"]);var zL=dx(function(){return!!Gn(function(){return process&&(process.versions||{}).node}).v});var Jd,Yy;function mx(){return Jd=ms(Gn(Fr,[sv]).v),Jd}o(mx,"_initSymbol");function Roe(e){var t=(qn.lzy?0:Jd)||mx();return t.v?t.v[e]:io}o(Roe,"_getSymbolKey");function HL(){return!!Doe()}o(HL,"hasSymbol");function Doe(){return!qn&&Pu(),((qn.lzy?0:Jd)||mx()).v}o(Doe,"getSymbol");function $p(e,t){var r=ML[e];!qn&&Pu();var n=(qn.lzy?0:Jd)||mx();return n.v?n.v[r||e]:t?io:Poe(e)}o($p,"getKnownSymbol");function em(e,t){!qn&&Pu();var r=(qn.lzy?0:Jd)||mx();return r.v?r.v(e):t?Cn:cv(e)}o(em,"newSymbol");function px(e){return!qn&&Pu(),Yy=(qn.lzy?0:Yy)||ms(Gn(Roe,["for"]).v),(Yy.v||woe)(e)}o(px,"symbolFor");function rx(e){return!!e&&mt(e.next)}o(rx,"isIterator");function dv(e){return!goe(e)&&mt(e[$p(3)])}o(dv,"isIterable");var Z4;function gx(e,t,r){if(e&&(rx(e)||(!Z4&&(Z4=ms($p(3))),e=e[Z4.v]?e[Z4.v]():Cn),rx(e))){var n=io,i=io;try{for(var s=0;!(i=e.next()).done&&t[vi](r||e,i.value,s,e)!==-1;)s++}catch(a){n={e:a},e.throw&&(i=Cn,e.throw(n))}finally{try{i&&!i.done&&e.return&&e.return(i)}finally{if(n)throw n.e}}}}o(gx,"iterForOf");function Kd(e,t,r){return e.apply(t,r)}o(Kd,"fnApply");function ja(e,t){return!or(t)&&e&&(tt(t)?Kd(e.push,e,t):rx(t)||dv(t)?gx(t,function(r){e.push(r)}):e.push(t)),e}o(ja,"arrAppend");function Ne(e,t,r){if(e)for(var n=e[Yd]>>>0,i=0;i<n&&!(i in e&&t[vi](r||e,e[i],i,e)===-1);i++);}o(Ne,"arrForEach");var mn=Qd("indexOf",sx);var Ru=Qd("map",sx);function tm(e,t,r){return((e?e.slice:Cn)||Ql).apply(e,Ql[vi](arguments,1))}o(tm,"arrSlice");var mv=Qd("reduce",sx);var U0=Ua(zn(cs,"create"),Aoe);function Aoe(e){if(!e)return{};var t=typeof e;t!==Up&&t!==nx&&Ei("Prototype must be an Object or function: "+Xe(e));function r(){}return o(r,"tempFunc"),r[Ma]=e,new r}o(Aoe,"polyObjCreate");var Jy;function VL(e,t){var r=cs.setPrototypeOf||function(n,i){var s;!Jy&&(Jy=ms((s={},s[nv]=[],s instanceof Array))),Jy.v?n[nv]=i:xt(i,function(a,l){return n[a]=l})};return r(e,t)}o(VL,"objSetPrototypeOf");function Noe(e,t,r){Gn(mr,[t,ex,{v:e,c:!0,e:!1}]),t=VL(t,r);function n(){this[Q4]=t,Gn(mr,[this,ex,{v:e,c:!0,e:!1}])}return o(n,"__"),t[Ma]=r===Cn?U0(r):(n[Ma]=r[Ma],new n),t}o(Noe,"_createCustomError");function SL(e,t){t&&(e[ex]=t)}o(SL,"_setName");function pv(e,t,r){var n=r||Error,i=n[Ma][ex],s=Error.captureStackTrace;return Noe(e,function(){var a=this,l=arguments;try{Gn(SL,[n,e]);var c=Kd(n,a,Ql[vi](l))||a;if(c!==a){var u=iv(a);u!==iv(c)&&VL(c,u)}return s&&s(c,a[Q4]),t&&t(c,l),c}finally{Gn(SL,[n,i])}},n)}o(pv,"createCustomError");function Bo(){return(Date.now||koe)()}o(Bo,"utcNow");function koe(){return new Date().getTime()}o(koe,"polyUtcNow");function Ooe(e){return o(function(r){return Oe(r)&&Ei("strTrim called ["+Xe(r)+"]"),r&&r.replace&&(r=r.replace(e,ov)),r},"_doTrim")}o(Ooe,"_createTrimFn");var Loe=Ooe(/^\s+|(?=\s)\s+$/g);var br=fx("trim",Xd,Loe);var $a=zn(ox,"floor");var Xy,Zy,Qy;function ii(e){if(!e||typeof e!==Up)return!1;Qy||(Qy=GL()?ao():!0);var t=!1;if(e!==Qy){Zy||(Xy=Function[Ma][ix],Zy=Xy[vi](cs));try{var r=iv(e);t=!r,t||(oo(r,Q4)&&(r=r[Q4]),t=!!(r&&typeof r===nx&&Xy[vi](r)===Zy))}catch{}}return t}o(ii,"isPlainObject");function Foe(e){return e.value&&YL(e),!0}o(Foe,"_defaultDeepCopyHandler");var wL=[joe,YL,Woe,$oe];function Moe(e,t,r,n){var i;return Ne(e,function(s){if(s.k===t)return i=s,-1}),i||(i={k:t,v:t},e.push(i),n(i)),i.v}o(Moe,"_getSetVisited");function gv(e,t,r,n){var i=r.handler,s=r.path?n?r.path.concat(n):r.path:[],a={handler:r.handler,src:r.src,path:s},l=typeof t,c=!1,u=t===Cn;u||(t&&l===Up?c=ii(t):u=hoe(l));var f={type:l,isPrim:u,isPlain:c,value:t,result:t,path:s,origin:r.src,copy:o(function(d,m){return gv(e,d,m?a:r,m)},"copy"),copyTo:o(function(d,m){return KL(e,d,m,a)},"copyTo")};return f.isPrim?i&&i[vi](r,f)?f.result:t:Moe(e,t,s,function(d){mr(f,"result",{g:o(function(){return d.v},"g"),s:o(function(g){d.v=g},"s")});for(var m=0,p=i;!(p||(m<wL.length?wL[m++]:Foe))[vi](r,f);)p=Cn})}o(gv,"_deepCopy");function KL(e,t,r,n){if(!Oe(r))for(var i in r)t[i]=gv(e,r[i],n,i);return t}o(KL,"_copyProps");function Uoe(e,t,r){var n={handler:r,src:t,path:[]};return KL([],e,t,n)}o(Uoe,"objCopyProps");function Boe(e,t){var r={handler:t,src:e};return gv([],e,r)}o(Boe,"objDeepCopy");function joe(e){var t=e.value;if(tt(t)){var r=e.result=[];return r.length=t.length,e.copyTo(r,t),!0}return!1}o(joe,"arrayDeepCopyHandler");function $oe(e){var t=e.value;return AL(t)?(e.result=new Date(t.getTime()),!0):!1}o($oe,"dateDeepCopyHandler");function Woe(e){return e.type===nx}o(Woe,"functionDeepCopyHandler");function YL(e){var t=e.value;if(t&&e.isPlain){var r=e.result={};return e.copyTo(r,t),!0}return!1}o(YL,"plainObjDeepCopyHandler");function qoe(e,t){return Ne(t,function(r){Uoe(e,r)}),e}o(qoe,"_doExtend");function hv(e,t,r,n,i,s,a){return qoe(Boe(e)||{},Ql[vi](arguments))}o(hv,"deepExtend");var xv=Coe(Yd);var JL=zn(ox,"round");var Wp=fx("endsWith",Xd,Goe);function Goe(e,t,r){Yt(e)||Ei("'"+Xe(e)+"' is not a string");var n=Yt(t)?t:In(t),i=!or(r)&&r<e[Yd]?r:e[Yd];return ds(e,i-n[Yd],i)===n}o(Goe,"polyStrEndsWith");var B0=Qd("indexOf",Xd);var ev="ref",tv="unref",rv="hasRef",zoe="enabled";function Hoe(e,t,r){var n=!0,i=e?t(Cn):Cn,s;function a(){return n=!1,i&&i[tv]&&i[tv](),s}o(a,"_unref");function l(){i&&r(i),i=Cn}o(l,"_cancel");function c(){return i=t(i),n||a(),s}o(c,"_refresh");function u(f){!f&&i&&l(),f&&!i&&c()}return o(u,"_setEnabled"),s={cancel:l,refresh:c},s[rv]=function(){return i&&i[rv]?i[rv]():n},s[ev]=function(){return n=!0,i&&i[ev]&&i[ev](),s},s[tv]=a,s=Oo(s,zoe,{get:o(function(){return!!i},"get"),set:u}),{h:s,dn:o(function(){i=Cn},"dn")}}o(Hoe,"_createTimerHandler");function XL(e,t,r){var n=tt(t),i=n?t.length:0,s=(i>0?t[0]:n?io:t)||setTimeout,a=(i>1?t[1]:io)||clearTimeout,l=r[0];r[0]=function(){c.dn(),Kd(l,io,Ql[vi](arguments))};var c=Hoe(e,function(u){if(u){if(u.refresh)return u.refresh(),u;Kd(a,io,[u])}return Kd(s,io,r)},function(u){Kd(a,io,[u])});return c.h}o(XL,"_createTimeoutWith");function jo(e,t){return XL(!0,io,Ql[vi](arguments))}o(jo,"scheduleTimeout");function ZL(e,t){return XL(!1,io,Ql[vi](arguments))}o(ZL,"createTimeout");var Du=LL,bv=FL;var Zs=Du({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2});var Qs="toLowerCase",je="length",rm="warnToConsole",Wa="throwInternal",j0="watch",tc="apply",Tt="push",$0="splice",Mr="logger",qa="cancel",Ga="initialize",W0="identifier",nm="removeNotificationListener",im="addNotificationListener",lo="isInitialized",Au="value",qp="getNotifyMgr",rc="getPlugin",$o="name",On="processNext",hx="getProcessTelContext",nc="enabled",_v="stopPollingInternalLogs",gs="unload",Gp="onComplete",xx="version",bx="loggingLevelConsole",q0="createNew",Wo="teardown",om="messageId",G0="message",co="diagLog",ic="_doTeardown",Nu="update",qo="getNext",oc="setNextPlugin",zp="userAgent",e0="split",t0="replace",za="type",yv="evtName",ku="status",vv="getAllResponseHeaders",Hp="isChildEvt",sc="data",Ou="getCtx",r0="setCtx",Tv="itemsReceived",sm="urlString",_x="headers",Lu="timeout",yx="traceFlags";var Ev;function QL(e,t){Ev||(Ev=pv("AggregationError",function(n,i){i[je]>1&&(n.errors=i[1])}));var r=e||"One or more errors occurred.";throw Ne(t,function(n,i){r+=`
`.concat(i," > ").concat(Xe(n))}),new Ev(r,t||[])}o(QL,"throwAggregationError");var vx="function",Vp="object",Kp="undefined",Ha="prototype";var am=Object,Cv=am[Ha];var FNe=(Mo()||{}).Symbol,MNe=(Mo()||{}).Reflect;var eF="hasOwnProperty",Koe=o(function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Cv[eF].call(t,i)&&(e[i]=t[i])}return e},"__objAssignFnImpl"),hs=Zd||Koe,Iv=o(function(e,t){return Iv=am.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n[eF](i)&&(r[i]=n[i])},Iv(e,t)},"extendStaticsFn");function z0(e,t){typeof t!==vx&&t!==null&&Ei("Class extends value "+String(t)+" is not a constructor or null"),Iv(e,t);function r(){this.constructor=e}o(r,"__"),e[Ha]=t===null?U0(t):(r[Ha]=t[Ha],new r)}o(z0,"__extendsFn");function Tx(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e}o(Tx,"__spreadArrayFn");var Ex;var wx="constructor",Va="prototype",Px="function",Rx="_dynInstFuncs",Pv="_isDynProxy",lm="_dynClass",Yoe="_dynCls$",Rv="_dynInstChk",Yp=Rv,oF="_dfOpts",tF="_unknown_",Nv="__proto__",Cx="_dyn"+Nv,rF="__dynProto$Gbl",Sv="_dynInstProto",Ix="useBaseInst",Dv="setInstFuncs",kv=Object,Jp=kv.getPrototypeOf,nF=kv.getOwnPropertyNames,iF=Mo(),Av=iF[rF]||(iF[rF]={o:(Ex={},Ex[Dv]=!0,Ex[Ix]=!0,Ex),n:1e3});function Sx(e){return e&&(e===kv[Va]||e===Array[Va])}o(Sx,"_isObjectOrArrayPrototype");function Ov(e){return Sx(e)||e===Function[Va]}o(Ov,"_isObjectArrayOrFunctionPrototype");function Fu(e){var t;if(e){if(Jp)return Jp(e);var r=e[Nv]||e[Va]||(e[wx]?e[wx][Va]:null);t=e[Cx]||r,oo(e,Cx)||(delete e[Sv],t=e[Cx]=e[Sv]||e[Cx],e[Sv]=r)}return t}o(Fu,"_getObjProto");function Dx(e,t){var r=[];if(nF)r=nF(e);else for(var n in e)typeof n=="string"&&oo(e,n)&&r.push(n);if(r&&r.length>0)for(var i=0;i<r.length;i++)t(r[i])}o(Dx,"_forEachProp");function Lv(e,t,r){return t!==wx&&typeof e[t]===Px&&(r||oo(e,t))&&t!==Nv&&t!==Va}o(Lv,"_isDynamicCandidate");function Ax(e){Ei("DynamicProto: "+e)}o(Ax,"_throwTypeError");function Joe(e){var t=U0(null);return Dx(e,function(r){!t[r]&&Lv(e,r,!1)&&(t[r]=e[r])}),t}o(Joe,"_getInstanceFuncs");function Fv(e,t){for(var r=e.length-1;r>=0;r--)if(e[r]===t)return!0;return!1}o(Fv,"_hasVisited");function Xoe(e,t,r,n){function i(c,u,f){var d=u[f];if(d[Pv]&&n){var m=c[Rx]||{};m[Yp]!==!1&&(d=(m[u[lm]]||{})[f]||d)}return function(){return d.apply(c,arguments)}}o(i,"_instFuncProxy");var s=U0(null);Dx(r,function(c){s[c]=i(t,r,c)});for(var a=Fu(e),l=[];a&&!Ov(a)&&!Fv(l,a);)Dx(a,function(c){!s[c]&&Lv(a,c,!Jp)&&(s[c]=i(t,a,c))}),l.push(a),a=Fu(a);return s}o(Xoe,"_getBaseFuncs");function Zoe(e,t,r,n){var i=null;if(e&&oo(r,lm)){var s=e[Rx]||U0(null);if(i=(s[r[lm]]||U0(null))[t],i||Ax("Missing ["+t+"] "+Px),!i[Rv]&&s[Yp]!==!1){for(var a=!oo(e,t),l=Fu(e),c=[];a&&l&&!Ov(l)&&!Fv(c,l);){var u=l[t];if(u){a=u===n;break}c.push(l),l=Fu(l)}try{a&&(e[t]=i),i[Rv]=1}catch{s[Yp]=!1}}}return i}o(Zoe,"_getInstFunc");function Qoe(e,t,r){var n=t[e];return n===r&&(n=Fu(t)[e]),typeof n!==Px&&Ax("["+e+"] is not a "+Px),n}o(Qoe,"_getProtoFunc");function ese(e,t,r,n,i){function s(c,u){var f=o(function(){var d=Zoe(this,u,c,f)||Qoe(u,c,f);return d.apply(this,arguments)},"dynProtoProxy");return f[Pv]=1,f}if(o(s,"_createDynamicPrototype"),!Sx(e)){var a=r[Rx]=r[Rx]||U0(null);if(!Sx(a)){var l=a[t]=a[t]||U0(null);a[Yp]!==!1&&(a[Yp]=!!i),Sx(l)||Dx(r,function(c){Lv(r,c,!1)&&r[c]!==n[c]&&(l[c]=r[c],delete r[c],(!oo(e,c)||e[c]&&!e[c][Pv])&&(e[c]=s(e,c)))})}}}o(ese,"_populatePrototype");function tse(e,t){if(Jp){for(var r=[],n=Fu(t);n&&!Ov(n)&&!Fv(r,n);){if(n===e)return!0;r.push(n),n=Fu(n)}return!1}return!0}o(tse,"_checkPrototype");function wv(e,t){return oo(e,Va)?e.name||t||tF:((e||{})[wx]||{}).name||t||tF}o(wv,"_getObjName");function Cr(e,t,r,n){oo(e,Va)||Ax("theClass is an invalid class definition.");var i=e[Va];tse(i,t)||Ax("["+wv(e)+"] not in hierarchy of ["+wv(t)+"]");var s=null;oo(i,lm)?s=i[lm]:(s=Yoe+wv(e,"_")+"$"+Av.n,Av.n++,i[lm]=s);var a=Cr[oF],l=!!a[Ix];l&&n&&n[Ix]!==void 0&&(l=!!n[Ix]);var c=Joe(t),u=Xoe(i,t,c,l);r(t,u);var f=!!Jp&&!!a[Dv];f&&n&&(f=!!n[Dv]),ese(i,s,t,c,f!==!1)}o(Cr,"dynamicProto");Cr[oF]=Av.o;var kx="Promise";var Gv="rejected";function Go(e,t){return cF(e,function(r){return t?t({status:"fulfilled",rejected:!1,value:r}):r},function(r){return t?t({status:Gv,rejected:!0,reason:r}):r})}o(Go,"doAwaitResponse");function cF(e,t,r,n){var i=e;try{if(Lo(e))(t||r)&&(i=e.then(t,r));else try{t&&(i=t(e))}catch(s){if(r)i=r(s);else throw s}}finally{n&&rse(i,n)}return i}o(cF,"doAwait");function rse(e,t){var r=e;return t&&(Lo(e)?e.finally?r=e.finally(t):r=e.then(function(n){return t(),n},function(n){throw t(),n}):t()),r}o(rse,"doFinally");var Mv,Uv,Bv,sF=!1;function nse(e,t,r,n){Mv=Mv||{toString:o(function(){return"[[PromiseState]]"},"toString")},Uv=Uv||{toString:o(function(){return"[[PromiseResult]]"},"toString")},Bv=Bv||{toString:o(function(){return"[[PromiseIsHandled]]"},"toString")};var i={};i[Mv]={get:t},i[Uv]={get:r},i[Bv]={get:n},NL(e,i)}o(nse,"_addDebugState$1");var uF=["pending","resolving","resolved",Gv],aF="dispatchEvent",Nx;function ise(e){var t;return e&&e.createEvent&&(t=e.createEvent("Event")),!!t&&t.initEvent}o(ise,"_hasInitEventFn");function ose(e,t,r,n){var i=Uo();!Nx&&(Nx=ms(!!Gn(ise,[i]).v));var s=Nx.v?i.createEvent("Event"):n?new Event(t):{};if(r&&r(s),Nx.v&&s.initEvent(t,!1,!0),s&&e[aF])e[aF](s);else{var a=e["on"+t];if(a)a(s);else{var l=Fr("console");l&&(l.error||l.log)(t,Xe(s))}}}o(ose,"emitEvent");var fF="unhandledRejection",sse=fF.toLowerCase(),Xp=[],ase=0,lse=10;var jv;function lF(e){return mt(e)?e.toString():Xe(e)}o(lF,"dumpFnObj");function dF(e,t,r){var n=tm(arguments,3),i=0,s=!1,a,l=[],c=ase++,u=Xp.length>0?Xp[Xp.length-1]:void 0,f=!1,d=null,m;function p(I,R){try{Xp.push(c),f=!0,d&&d.cancel(),d=null;var z=e(function(V,$){l.push(function(){try{var Y=i===2?I:R,P=or(Y)?a:mt(Y)?Y(a):Y;Lo(P)?P.then(V,$):Y?V(P):i===3?$(P):V(P)}catch(w){$(w)}}),s&&x()},n);return z}finally{Xp.pop()}}o(p,"_then");function g(I){return p(void 0,I)}o(g,"_catch");function h(I){var R=I,z=I;return mt(I)&&(R=o(function(V){return I&&I(),V},"thenFinally"),z=o(function(V){throw I&&I(),V},"catchFinally")),p(R,z)}o(h,"_finally");function b(){return uF[i]}o(b,"_strState");function x(){if(l.length>0){var I=l.slice();l=[],f=!0,d&&d.cancel(),d=null,t(I)}}o(x,"_processQueue");function _(I,R){return function(z){if(i===R){if(I===2&&Lo(z)){i=1,z.then(_(2,1),_(3,1));return}i=I,s=!0,a=z,x(),!f&&I===3&&!d&&(d=jo(y,lse))}}}o(_,"_createSettleIfFn");function y(){if(!f)if(f=!0,zL())process.emit(fF,a,m);else{var I=ao()||Mo();!jv&&(jv=ms(Gn(Fr,[kx+"RejectionEvent"]).v)),ose(I,sse,function(R){return mr(R,"promise",{g:o(function(){return m},"g")}),R.reason=a,R},!!jv.v)}}o(y,"_notifyUnhandledRejection"),m={then:p,catch:g,finally:h},Oo(m,"state",{get:b}),sF&&nse(m,b,function(){return lx(a)},function(){return f}),HL()&&(m[$p(11)]="IPromise");function v(){return"IPromise"+(sF?"["+c+(or(u)?"":":"+u)+"]":"")+" "+b()+(s?" - "+lF(a):"")}return o(v,"_toString"),m.toString=v,o(function(){mt(r)||Ei(kx+": executor is not a function - "+lF(r));var R=_(3,0);try{r.call(m,_(2,0),R)}catch(z){R(z)}},"_initialize")(),m}o(dF,"_createPromise");function cse(e){return function(t){var r=tm(arguments,1);return e(function(n,i){try{var s=[],a=1;gx(t,function(l,c){l&&(a++,cF(l,function(u){s[c]=u,--a===0&&n(s)},i))}),a--,a===0&&n(s)}catch(l){i(l)}},r)}}o(cse,"_createAllPromise");function use(e){return ms(function(t){var r=tm(arguments,1);return e(function(n,i){var s=[],a=1;function l(c,u){a++,Go(c,function(f){f.rejected?s[u]={status:Gv,reason:f.reason}:s[u]={status:"fulfilled",value:f.value},--a===0&&n(s)})}o(l,"processItem");try{tt(t)?Ne(t,l):dv(t)?gx(t,l):Ei("Input is not an iterable"),a--,a===0&&n(s)}catch(c){i(c)}},r)})}o(use,"_createAllSettledPromise");function mF(e){Ne(e,function(t){try{t()}catch{}})}o(mF,"syncItemProcessor");function fse(e){var t=Ba(e)?e:0;return function(r){jo(function(){mF(r)},t)}}o(fse,"timeoutItemProcessor");function pF(e,t){return dF(pF,fse(t),e,t)}o(pF,"createAsyncPromise");var $v;function dse(e,t){!$v&&($v=ms(Gn(Fr,[kx]).v||null));var r=$v.v;if(!r)return pF(e);mt(e)||Ei(kx+": executor is not a function - "+Xe(e));var n=0;function i(){return uF[n]}o(i,"_strState");var s=new r(function(a,l){function c(f){n=2,a(f)}o(c,"_resolve");function u(f){n=3,l(f)}o(u,"_reject"),e(c,u)});return Oo(s,"state",{get:i}),s}o(dse,"createNativePromise");var Wv;function Zp(e){return dF(Zp,mF,e)}o(Zp,"createSyncPromise");function gF(e,t){return!Wv&&(Wv=use(Zp)),Wv.v(e,t)}o(gF,"createSyncAllSettledPromise");var qv;function H0(e,t){return!qv&&(qv=ms(dse)),qv.v.call(this,e,t)}o(H0,"createPromise");var hF=cse(H0);var dke=$p(11);var zo=void 0,yt="",Mu="channels",on="core",Ox="createPerfMgr",Qp="disabled",Ka="extensionConfig",Uu="extensions",uo="processTelemetry",Bu="priority",cm="eventsSent",ac="eventsDiscarded",um="eventsSendRequest",V0="perfEvent",Lx="offlineEventsStored",Fx="offlineBatchSent",Mx="offlineBatchDrop",fm="getPerfMgr",Ux="domain",Bx="path",xF="Not dynamic - ";var mse="getPrototypeOf",pse=/-([a-z])/g,gse=/([^\w\d_$])/g,hse=/^(\d+[\w\d_$])/,yke=Object[mse];function lc(e){return!Oe(e)}o(lc,"isNotNullOrUndefined");function eg(e){var t=e;return t&&Yt(t)&&(t=t[t0](pse,function(r,n){return n.toUpperCase()}),t=t[t0](gse,"_"),t=t[t0](hse,function(r,n){return"_"+n})),t}o(eg,"normalizeJsName");function Ln(e,t){return e&&t?B0(e,t)!==-1:!1}o(Ln,"strContains");function cc(e){return e&&e.toISOString()||""}o(cc,"toISOString");function pn(e){return jp(e)?e[$o]:yt}o(pn,"getExceptionName");function K0(e,t,r,n,i){var s=r;return e&&(s=e[t],s!==r&&(!i||i(s))&&(!n||n(r))&&(s=r,e[t]=s)),s}o(K0,"setValue");function zv(e,t,r){var n;return e?(n=e[t],!n&&Oe(n)&&(n=or(r)?{}:r,e[t]=n)):n=or(r)?{}:r,n}o(zv,"getSetValue");function xse(e,t){var r=null,n=null;return mt(e)?r=e:n=e,function(){var i=arguments;if(r&&(n=r()),n)return n[t][tc](n,i)}}o(xse,"_createProxyFunction");function ju(e,t,r,n,i){e&&t&&r&&(i!==!1||or(e[t]))&&(e[t]=xse(r,n))}o(ju,"proxyFunctionAs");function $u(e,t,r,n){return e&&t&&Ti(e)&&tt(r)&&Ne(r,function(i){Yt(i)&&ju(e,i,t,i,n)}),e}o($u,"proxyFunctions");function Hv(e){return function(){function t(){var r=this;e&&xt(e,function(n,i){r[n]=i})}return o(t,"class_1"),t}()}o(Hv,"createClassFromInterface");function $x(e){return e&&Zd&&(e=am(Zd({},e))),e}o($x,"optimizeObject");function Wx(e,t,r,n,i,s){var a=arguments,l=a[0]||{},c=a[je],u=!1,f=1;for(c>0&&Bp(l)&&(u=l,l=a[f]||{},f++),Ti(l)||(l={});f<c;f++){var d=a[f],m=tt(d),p=Ti(d);for(var g in d){var h=m&&g in d||p&&M0(d,g);if(h){var b=d[g],x=void 0;if(u&&b&&((x=tt(b))||ii(b))){var _=l[g];x?tt(_)||(_=[]):ii(_)||(_={}),b=Wx(u,_,b)}b!==void 0&&(l[g]=b)}}}return l}o(Wx,"objExtend");function dm(e){try{return e.responseText}catch{}return null}o(dm,"getResponseText");function tg(e,t){return e?"XDomainRequest,Response:"+dm(e)||"":t}o(tg,"formatErrorMessageXdr");function Wu(e,t){return e?"XMLHttpRequest,Status:"+e[ku]+",Response:"+dm(e)||e.response||"":t}o(Wu,"formatErrorMessageXhr");function qx(e,t){return t&&(Ba(t)?e=[t].concat(e):tt(t)&&(e=t.concat(e))),e}o(qx,"prependTransports");var bse="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",bF="withCredentials",_se="timeout";function Vv(e,t,r,n,i,s){n===void 0&&(n=!1),i===void 0&&(i=!1);function a(c,u,f){try{c[u]=f}catch{}}o(a,"_wrapSetXhrProp");var l=new XMLHttpRequest;return n&&a(l,bse,n),r&&a(l,bF,r),l.open(e,t,!i),r&&a(l,bF,r),!i&&s&&a(l,_se,s),l}o(Vv,"openXhr");function _F(e){var t={};if(Yt(e)){var r=br(e)[e0](/[\r\n]+/);Ne(r,function(n){if(n){var i=n.indexOf(": ");if(i!==-1){var s=br(n.substring(0,i))[Qs](),a=br(n.substring(i+1));t[s]=a}else t[br(n)]=1}})}return t}o(_F,"convertAllHeadersToMap");function jx(e,t,r){if(!e[r]&&t&&t.getResponseHeader){var n=t.getResponseHeader(r);n&&(e[r]=br(n))}return e}o(jx,"_appendHeader");var yse="kill-duration",vse="kill-duration-seconds",Tse="time-delta-millis";function rg(e,t){var r={};return e[vv]?r=_F(e[vv]()):t&&(r=jx(r,e,Tse),r=jx(r,e,yse),r=jx(r,e,vse)),r}o(rg,"_getAllResponseHeaders");var Ese="documentMode",Cse="location",Ise="console",vF="JSON",Sse="crypto",wse="msCrypto";var Xv="msie",Zv="trident/",TF="XMLHttpRequest",Kv=null,Yv=null,Pse=!1,mm=null,Jv=null;function EF(e,t){var r=!1;if(e){try{if(r=t in e,!r){var n=e[Ha];n&&(r=t in n)}}catch{}if(!r)try{var i=new e;r=!or(i[t])}catch{}}return r}o(EF,"_hasProperty");function ng(e){if(e&&Pse){var t=Fr("__mockLocation");if(t)return t}return typeof location===Vp&&location?location:Fr(Cse)}o(ng,"getLocation");function Qv(){return typeof console!==Kp?console:Fr(Ise)}o(Qv,"getConsole");function uc(){return!!(typeof JSON===Vp&&JSON||Fr(vF)!==null)}o(uc,"hasJSON");function Fi(){return uc()?JSON||Fr(vF):null}o(Fi,"getJSON");function eT(){return Fr(Sse)}o(eT,"getCrypto");function tT(){return Fr(wse)}o(tT,"getMsCrypto");function pm(){var e=ps();if(e&&(e[zp]!==Yv||Kv===null)){Yv=e[zp];var t=(Yv||yt)[Qs]();Kv=Ln(t,Xv)||Ln(t,Zv)}return Kv}o(pm,"isIE");function rT(e){if(e===void 0&&(e=null),!e){var t=ps()||{};e=t?(t.userAgent||yt)[Qs]():yt}var r=(e||yt)[Qs]();if(Ln(r,Xv)){var n=Uo()||{};return wu(parseInt(r[e0](Xv)[1]),n[Ese]||0)}else if(Ln(r,Zv)){var i=parseInt(r[e0](Zv)[1]);if(i)return i+4}return null}o(rT,"getIEVersion");function fc(e){return(Jv===null||e===!1)&&(Jv=fv()&&!!ps().sendBeacon),Jv}o(fc,"isBeaconsSupported");function ig(e){var t=!1;try{t=!!Fr("fetch");var r=Fr("Request");t&&e&&r&&(t=EF(r,"keepalive"))}catch{}return t}o(ig,"isFetchSupported");function nT(){return mm===null&&(mm=typeof XDomainRequest!==Kp,mm&&Gx()&&(mm=mm&&!EF(Fr(TF),"withCredentials"))),mm}o(nT,"useXDomainRequest");function Gx(){var e=!1;try{var t=Fr(TF);e=!!t}catch{}return e}o(Gx,"isXhrSupported");var IF=4294967296,qu=4294967295,SF=123456789,wF=987654321,PF=!1,og=SF,sg=wF;function Rse(e){e<0&&(e>>>=0),og=SF+e&qu,sg=wF-e&qu,PF=!0}o(Rse,"_mwcSeed");function Dse(){try{var e=Bo()&2147483647;Rse((Math.random()*IF^e)+e)}catch{}}o(Dse,"_autoSeedMwc");function CF(e){var t=0,r=eT()||tT();return r&&r.getRandomValues&&(t=r.getRandomValues(new Uint32Array(1))[0]&qu),t===0&&pm()&&(PF||Dse(),t=Ase()&qu),t===0&&(t=$a(IF*Math.random()|0)),e||(t>>>=0),t}o(CF,"random32");function Ase(e){sg=36969*(sg&65535)+(sg>>16)&qu,og=18e3*(og&65535)+(og>>16)&qu;var t=(sg<<16)+(og&65535)>>>0&qu|0;return e||(t>>>=0),t}o(Ase,"mwcRandom32");function RF(e){e===void 0&&(e=22);for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=CF()>>>0,n=0,i=yt;i[je]<e;)n++,i+=t.charAt(r&63),r>>>=6,n===5&&(r=(CF()<<2&4294967295|r&3)>>>0,n=0);return i}o(RF,"newId");var DF="3.3.6",Nse="."+RF(6),kse=0;function AF(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType}o(AF,"_canAcceptData");function Ose(e,t){var r=t[e.id];if(!r){r={};try{AF(t)&&mr(t,e.id,{e:!1,v:r})}catch{}}return r}o(Ose,"_getCache");function Ho(e,t){return t===void 0&&(t=!1),eg(e+kse+++(t?"."+DF:yt)+Nse)}o(Ho,"createUniqueNamespace");function zx(e){var t={id:Ho("_aiData-"+(e||yt)+"."+DF),accept:o(function(r){return AF(r)},"accept"),get:o(function(r,n,i,s){var a=r[t.id];return a?a[eg(n)]:(s&&(a=Ose(t,r),a[eg(n)]=i),i)},"get"),kill:o(function(r,n){if(r&&r[n])try{delete r[n]}catch{}},"kill")};return t}o(zx,"createElmNodeData");function Hx(e){return e&&Ti(e)&&(e.isVal||e.fb||M0(e,"v")||M0(e,"mrg")||M0(e,"ref")||e.set)}o(Hx,"_isConfigDefaults");function NF(e,t,r){var n,i=r.dfVal||cx;if(t&&r.fb){var s=r.fb;tt(s)||(s=[s]);for(var a=0;a<s[je];a++){var l=s[a],c=t[l];if(i(c)?n=c:e&&(c=e.cfg[l],i(c)&&(n=c),e.set(e.cfg,In(l),c)),i(n))break}}return!i(n)&&i(r.v)&&(n=r.v),n}o(NF,"_getDefault");function iT(e,t,r){var n=r;if(r&&Hx(r)&&(n=NF(e,t,r)),n){Hx(n)&&(n=iT(e,t,n));var i;tt(n)?(i=[],i[je]=n[je]):ii(n)&&(i={}),i&&(xt(n,function(s,a){a&&Hx(a)&&(a=iT(e,t,a)),i[s]=a}),n=i)}return n}o(iT,"_resolveDefaultValue");function ag(e,t,r,n){var i,s,a,l=n,c,u,f,d;Hx(l)?(i=l.isVal,s=l.set,f=l.rdOnly,d=l.blkVal,c=l.mrg,u=l.ref,!u&&or(u)&&(u=!!c),a=NF(e,t,l)):a=n,d&&e.blkVal(t,r);var m,p=!0,g=t[r];(g||!Oe(g))&&(m=g,p=!1,i&&m!==a&&!i(m)&&(m=a,p=!0),s&&(m=s(m,a,t),p=m===a)),p?a?m=iT(e,t,a):m=a:(ii(m)||tt(a))&&c&&a&&(ii(a)||tt(a))&&xt(a,function(h,b){ag(e,m,h,b)}),e.set(t,r,m),u&&e.ref(t,r),f&&e.rdOnly(t,r)}o(ag,"_applyDefaultValue");var Y0=px("[[ai_dynCfg_1]]"),kF=px("[[ai_blkDynCfg_1]]"),Lse=px("[[ai_frcDynCfg_1]]");function oT(e){if(e){var t;if(tt(e)?(t=[],t[je]=e[je]):ii(e)&&(t={}),t)return xt(e,function(r,n){t[r]=oT(n)}),t}return e}o(oT,"_cfgDeepCopy");function OF(e){if(e){var t=e[Y0]||e;if(t.cfg&&(t.cfg===e||t.cfg[Y0]===t))return t}return null}o(OF,"getDynamicConfigHandler");function LF(e){if(e&&(ii(e)||tt(e)))try{e[kF]=!0}catch{}return e}o(LF,"blockDynamicConversion");function Vx(e,t,r){var n=!1;return r&&!e[t.blkVal]&&(n=r[Lse],!n&&!r[kF]&&(n=ii(r)||tt(r))),n}o(Vx,"_canMakeDynamic");function Kx(e){Ei("InvalidAccess:"+e)}o(Kx,"throwInvalidAccess");var Fse=["push","pop","shift","unshift","splice"],gm=o(function(e,t,r,n){e&&e[Wa](3,108,"".concat(r," [").concat(t,"] failed - ")+Xe(n))},"_throwDynamicError");function Mse(e,t,r){tt(t)&&Ne(Fse,function(n){var i=t[n];t[n]=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var l=i[tc](this,s);return lg(e,t,r,"Patching"),l}})}o(Mse,"_patchArray");function Yx(e,t){var r=ux(e,t);return r&&r.get}o(Yx,"_getOwnPropGetter");function Use(e,t,r,n){var i={n:r,h:[],trk:o(function(u){u&&u.fn&&(mn(i.h,u)===-1&&i.h[Tt](u),e.trk(u,i))},"trk"),clr:o(function(u){var f=mn(i.h,u);f!==-1&&i.h[$0](f,1)},"clr")},s=!0,a=!1;function l(){s&&(a=a||Vx(l,e,n),n&&!n[Y0]&&a&&(n=lg(e,n,r,"Converting")),s=!1);var u=e.act;return u&&i.trk(u),n}o(l,"_getProperty"),l[e.prop]={chng:o(function(){e.add(i)},"chng")};function c(u){if(n!==u){l[e.ro]&&!e.upd&&Kx("["+r+"] is read-only:"+Xe(t)),s&&(a=a||Vx(l,e,n),s=!1);var f=a&&l[e.rf];if(a)if(f){xt(n,function(m){n[m]=u?u[m]:zo});try{xt(u,function(m,p){cg(e,n,m,p)}),u=n}catch(m){gm((e.hdlr||{})[Mr],r,"Assigning",m),a=!1}}else n&&n[Y0]&&xt(n,function(m){var p=Yx(n,m);if(p){var g=p[e.prop];g&&g.chng()}});if(u!==n){var d=u&&Vx(l,e,u);!f&&d&&(u=lg(e,u,r,"Converting")),n=u,a=d}e.add(i)}}o(c,"_setProperty"),mr(t,i.n,{g:l,s:c})}o(Use,"_createDynamicProperty");function cg(e,t,r,n){if(t){var i=Yx(t,r),s=i&&!!i[e.prop];s?t[r]=n:Use(e,t,r,n)}return t}o(cg,"_setDynamicProperty");function Jx(e,t,r,n){if(t){var i=Yx(t,r),s=i&&!!i[e.prop],a=n&&n[0],l=n&&n[1],c=n&&n[2];if(!s){if(c)try{LF(t)}catch(u){gm((e.hdlr||{})[Mr],r,"Blocking",u)}try{cg(e,t,r,t[r]),i=Yx(t,r)}catch(u){gm((e.hdlr||{})[Mr],r,"State",u)}}a&&(i[e.rf]=a),l&&(i[e.ro]=l),c&&(i[e.blkVal]=!0)}return t}o(Jx,"_setDynamicPropertyState");function lg(e,t,r,n){try{xt(t,function(i,s){cg(e,t,i,s)}),t[Y0]||(Oo(t,Y0,{get:o(function(){return e.hdlr},"get")}),Mse(e,t,r))}catch(i){gm((e.hdlr||{})[Mr],r,n,i)}return t}o(lg,"_makeDynamicObject");var ug="[[ai_",fg="]]";function FF(e){var t=em(ug+"get"+e.uid+fg),r=em(ug+"ro"+e.uid+fg),n=em(ug+"rf"+e.uid+fg),i=em(ug+"blkVal"+e.uid+fg),s=em(ug+"dtl"+e.uid+fg),a=null,l=null,c;function u(p,g){var h=c.act;try{c.act=p,p&&p[s]&&(Ne(p[s],function(x){x.clr(p)}),p[s]=[]),g({cfg:e.cfg,set:e.set.bind(e),setDf:e.setDf.bind(e),ref:e.ref.bind(e),rdOnly:e.rdOnly.bind(e)})}catch(x){var b=e[Mr];throw b&&b[Wa](1,107,Xe(x)),x}finally{c.act=h||null}}o(u,"_useHandler");function f(){if(a){var p=a;a=null,l&&l[qa](),l=null;var g=[];if(Ne(p,function(h){if(h&&(h[s]&&(Ne(h[s],function(b){b.clr(h)}),h[s]=null),h.fn))try{u(h,h.fn)}catch(b){g[Tt](b)}}),a)try{f()}catch(h){g[Tt](h)}g[je]>0&&QL("Watcher error(s): ",g)}}o(f,"_notifyWatchers");function d(p){if(p&&p.h[je]>0){a||(a=[]),l||(l=jo(function(){l=null,f()},0));for(var g=0;g<p.h[je];g++){var h=p.h[g];h&&mn(a,h)===-1&&a[Tt](h)}}}o(d,"_addWatcher");function m(p,g){if(p){var h=p[s]=p[s]||[];mn(h,g)===-1&&h[Tt](g)}}return o(m,"_trackHandler"),c={prop:t,ro:r,rf:n,blkVal:i,hdlr:e,add:d,notify:f,use:u,trk:m},c}o(FF,"_createState");function Bse(e,t){var r={fn:t,rm:o(function(){r.fn=null,e=null,t=null},"rm")};return mr(r,"toJSON",{v:o(function(){return"WatcherHandler"+(r.fn?"":"[X]")},"v")}),e.use(r,t),r}o(Bse,"_createAndUseHandler");function jse(e,t,r){var n=OF(t);if(n)return n;var i=Ho("dyncfg",!0),s=t&&r!==!1?t:oT(t),a;function l(){a.notify()}o(l,"_notifyWatchers");function c(b,x,_){try{b=cg(a,b,x,_)}catch(y){gm(e,x,"Setting value",y)}return b[x]}o(c,"_setValue");function u(b){return Bse(a,b)}o(u,"_watch");function f(b,x){a.use(null,function(_){var y=a.upd;try{or(x)||(a.upd=x),b(_)}finally{a.upd=y}})}o(f,"_block");function d(b,x){var _;return Jx(a,b,x,(_={},_[0]=!0,_))[x]}o(d,"_ref");function m(b,x){var _;return Jx(a,b,x,(_={},_[1]=!0,_))[x]}o(m,"_rdOnly");function p(b,x){var _;return Jx(a,b,x,(_={},_[2]=!0,_))[x]}o(p,"_blkPropValue");function g(b,x){return x&&xt(x,function(_,y){ag(h,b,_,y)}),b}o(g,"_applyDefaults");var h={uid:null,cfg:s,logger:e,notify:l,set:c,setDf:g,watch:u,ref:d,rdOnly:m,blkVal:p,_block:f};return mr(h,"uid",{c:!1,e:!1,w:!1,v:i}),a=FF(h),lg(a,s,"config","Creating"),h}o(jse,"_createDynamicHandler");function $se(e,t){e?(e[rm](t),e[Wa](2,108,t)):Kx(t)}o($se,"_logInvalidAccess");function Sn(e,t,r,n){var i=jse(r,e||{},n);return t&&i.setDf(i.cfg,t),i}o(Sn,"createDynamicConfig");function xs(e,t,r){var n=e[Y0]||e;return n.cfg&&(n.cfg===e||n.cfg[Y0]===n)?n[j0](t):($se(r,xF+Xe(e)),Sn(e,null,r)[j0](t))}o(xs,"onConfigChange");function Ya(e,t){if(e&&e[gs])return e[gs](t)}o(Ya,"runTargetUnload");function Xx(e,t,r){var n;return r||(n=H0(function(i){r=i})),e&&xv(e)>0?Go(Ya(e[0],t),function(){Xx(tm(e,1),t,r)}):r(),n}o(Xx,"doUnloadAll");var MF=500,sT="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function Wse(e,t,r){return!e&&Oe(e)?t:Bp(e)?e:In(e)[Qs]()==="true"}o(Wse,"_stringToBoolOrDefault");function aT(e){return{mrg:!0,v:e}}o(aT,"cfgDfMerge");function hm(e,t,r){return{fb:r,isVal:e,v:t}}o(hm,"cfgDfValidate");function bs(e,t){return{fb:t,set:Wse,v:!!e}}o(bs,"cfgDfBoolean");var lT=[cm,ac,um,V0],Qx=null,Zx;function qse(e,t){return function(){var r=arguments,n=cT(t);if(n){var i=n.listener;i&&i[e]&&i[e][tc](i,r)}}}o(qse,"_listenerProxyFunc");function Gse(){var e=Fr("Microsoft");return e&&(Qx=e.ApplicationInsights),Qx}o(Gse,"_getExtensionNamespace");function cT(e){var t=Qx;return!t&&e.disableDbgExt!==!0&&(t=Qx||Gse()),t?t.ChromeDbgExt:null}o(cT,"getDebugExt");function UF(e){if(!Zx){Zx={};for(var t=0;t<lT[je];t++)Zx[lT[t]]=qse(lT[t],e)}return Zx}o(UF,"getDebugListener");var xm,jF="warnToConsole",zse="AI (Internal): ",Hse="AI: ",Vse="AITR_",Kse={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Yse=(xm={},xm[0]=null,xm[1]="errorToConsole",xm[2]=jF,xm[3]="debugToConsole",xm);function BF(e){return e?'"'+e[t0](/\"/g,yt)+'"':yt}o(BF,"_sanitizeDiagnosticText");function uT(e,t){var r=Qv();if(r){var n="log";r[e]&&(n=e),mt(r[n])&&r[n](t)}}o(uT,"_logToConsole");var dg=function(){function e(t,r,n,i){n===void 0&&(n=!1);var s=this;s[om]=t,s[G0]=(n?Hse:zse)+t;var a=yt;uc()&&(a=Fi().stringify(i));var l=(r?" message:"+BF(r):yt)+(i?" props:"+BF(a):yt);s[G0]+=l}return o(e,"_InternalLogMessage"),e.dataType="MessageData",e}();function Gu(e,t){return(e||{})[Mr]||new bm(t)}o(Gu,"safeGetLogger");var bm=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var r=0,n={},i,s,a,l,c;Cr(e,this,function(u){c=d(t||{}),u.consoleLoggingLevel=function(){return i},u[Wa]=function(g,h,b,x,_){_===void 0&&(_=!1);var y=new dg(h,b,_,x);if(l)throw Xe(y);var v=Yse[g]||jF;if(or(y[G0]))p("throw"+(g===1?"Critical":"Warning"),y);else{if(_){var I=+y[om];!n[I]&&i>=g&&(u[v](y[G0]),n[I]=!0)}else i>=g&&u[v](y[G0]);f(g,y)}},u.debugToConsole=function(g){uT("debug",g),p("warning",g)},u[rm]=function(g){uT("warn",g),p("warning",g)},u.errorToConsole=function(g){uT("error",g),p("error",g)},u.resetInternalMessageCount=function(){r=0,n={}},u.logInternalMessage=f,u[gs]=function(g){c&&c.rm(),c=null};function f(g,h){if(!m()){var b=!0,x=Vse+h[om];if(n[x]?b=!1:n[x]=!0,b&&(g<=s&&(u.queue[Tt](h),r++,p(g===1?"error":"warn",h)),r===a)){var _="Internal events throttle limit per PageView reached for this app.",y=new dg(23,_,!1);u.queue[Tt](y),g===1?u.errorToConsole(_):u[rm](_)}}}o(f,"_logInternalMessage");function d(g){return xs(Sn(g,Kse,u).cfg,function(h){var b=h.cfg;i=b[bx],s=b.loggingLevelTelemetry,a=b.maxMessageLimit,l=b.enableDebug})}o(d,"_setDefaultsFromConfig");function m(){return r>=a}o(m,"_areInternalMessagesThrottled");function p(g,h){var b=cT(t||{});b&&b[co]&&b[co](g,h)}o(p,"_debugExtMsg")})}return o(e,"DiagnosticLogger"),e.__ieDyn=1,e}();function $F(e){return e||new bm}o($F,"_getLogger");function Ce(e,t,r,n,i,s){s===void 0&&(s=!1),$F(e)[Wa](t,r,n,i,s)}o(Ce,"_throwInternal");function Ja(e,t){$F(e)[rm](t)}o(Ja,"_warnToConsole");var fT,zu,WF="toGMTString",qF="toUTCString",gT="cookie",dT="expires",GF="isCookieUseDisabled",pT="disableCookiesUsage",zF="_ckMgr",e3=null,mT=null,HF=null,J0,VF={},KF={},Jse=(fT={cookieCfg:aT((zu={},zu[Ux]={fb:"cookieDomain",dfVal:lc},zu.path={fb:"cookiePath",dfVal:lc},zu.enabled=zo,zu.ignoreCookies=zo,zu.blockedCookies=zo,zu)),cookieDomain:zo,cookiePath:zo},fT[pT]=zo,fT);function hT(){!J0&&(J0=WL(function(){return Uo()}))}o(hT,"_getDoc");function t3(e){return e?e.isEnabled():!0}o(t3,"_isMgrEnabled");function eM(e,t){return t&&e&&tt(e.ignoreCookies)?mn(e.ignoreCookies,t)!==-1:!1}o(eM,"_isIgnoredCookie");function Xse(e,t){return t&&e&&tt(e.blockedCookies)&&mn(e.blockedCookies,t)!==-1?!0:eM(e,t)}o(Xse,"_isBlockedCookie");function YF(e,t){var r=t[nc];if(Oe(r)){var n=void 0;or(e[GF])||(n=!e[GF]),or(e[pT])||(n=!e[pT]),r=n}return r}o(YF,"_isCfgEnabled");function tM(e,t){var r,n,i,s,a,l,c,u;e=Sn(e||KF,null,t).cfg,s=xs(e,function(d){d.setDf(d.cfg,Jse),r=d.ref(d.cfg,"cookieCfg"),n=r[Bx]||"/",i=r[Ux],a=YF(e,r)!==!1,l=r.getCookie||Zse,c=r.setCookie||QF,u=r.delCookie||QF},t);var f={isEnabled:o(function(){var d=YF(e,r)!==!1&&a&&JF(t),m=KF[zF];return d&&m&&f!==m&&(d=t3(m)),d},"isEnabled"),setEnabled:o(function(d){a=d!==!1,r[nc]=d},"setEnabled"),set:o(function(d,m,p,g,h){var b=!1;if(t3(f)&&!Xse(r,d)){var x={},_=br(m||yt),y=B0(_,";");if(y!==-1&&(_=br(lv(m,y)),x=rM(ds(m,y+1))),K0(x,Ux,g||i,ec,or),!Oe(p)){var v=pm();if(or(x[dT])){var I=Bo(),R=I+p*1e3;if(R>0){var z=new Date;z.setTime(R),K0(x,dT,XF(z,v?WF:qF)||XF(z,v?WF:qF)||yt,ec)}}v||K0(x,"max-age",yt+p,null,or)}var V=ng();V&&V.protocol==="https:"&&(K0(x,"secure",null,null,or),mT===null&&(mT=!Qse((ps()||{})[zp])),mT&&K0(x,"SameSite","None",null,or)),K0(x,Bx,h||n,null,or),c(d,ZF(_,x)),b=!0}return b},"set"),get:o(function(d){var m=yt;return t3(f)&&!eM(r,d)&&(m=l(d)),m},"get"),del:o(function(d,m){var p=!1;return t3(f)&&(p=f.purge(d,m)),p},"del"),purge:o(function(d,m){var p,g=!1;if(JF(t)){var h=(p={},p[Bx]=m||"/",p[dT]="Thu, 01 Jan 1970 00:00:01 GMT",p);pm()||(h["max-age"]="0"),u(d,ZF(yt,h)),g=!0}return g},"purge"),unload:o(function(d){s&&s.rm(),s=null},"unload")};return f[zF]=f,f}o(tM,"createCookieMgr");function JF(e){if(e3===null){e3=!1,!J0&&hT();try{var t=J0.v||{};e3=t[gT]!==void 0}catch(r){Ce(e,2,68,"Cannot access document.cookie - "+pn(r),{exception:Xe(r)})}}return e3}o(JF,"areCookiesSupported");function rM(e){var t={};if(e&&e[je]){var r=br(e)[e0](";");Ne(r,function(n){if(n=br(n||yt),n){var i=B0(n,"=");i===-1?t[n]=null:t[br(lv(n,i))]=br(ds(n,i+1))}})}return t}o(rM,"_extractParts");function XF(e,t){return mt(e[t])?e[t]():null}o(XF,"_formatDate");function ZF(e,t){var r=e||yt;return xt(t,function(n,i){r+="; "+n+(Oe(i)?yt:"="+i)}),r}o(ZF,"_formatCookieValue");function Zse(e){var t=yt;if(!J0&&hT(),J0.v){var r=J0.v[gT]||yt;HF!==r&&(VF=rM(r),HF=r),t=br(VF[e]||yt)}return t}o(Zse,"_getCookieValue");function QF(e,t){!J0&&hT(),J0.v&&(J0.v[gT]=e+"="+t)}o(QF,"_setCookieValue");function Qse(e){return Yt(e)?!!(Ln(e,"CPU iPhone OS 12")||Ln(e,"iPad; CPU OS 12")||Ln(e,"Macintosh; Intel Mac OS X 10_14")&&Ln(e,"Version/")&&Ln(e,"Safari")||Ln(e,"Macintosh; Intel Mac OS X 10_14")&&Wp(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Ln(e,"Chrome/5")||Ln(e,"Chrome/6")||Ln(e,"UnrealEngine")&&!Ln(e,"Chrome")||Ln(e,"UCBrowser/12")||Ln(e,"UCBrowser/11")):!1}o(Qse,"uaDisallowsSameSiteNone");var e0e={perfEvtsSendAll:!1};function t0e(e){e.h=null;var t=e.cb;e.cb=[],Ne(t,function(r){Gn(r.fn,[r.arg])})}o(t0e,"_runScheduledListeners");function dc(e,t,r,n){Ne(e,function(i){i&&i[t]&&(r?(r.cb[Tt]({fn:n,arg:i}),r.h=r.h||jo(t0e,0,r)):Gn(n,[i]))})}o(dc,"_runListeners");var nM=function(){function e(t){this.listeners=[];var r,n,i=[],s={h:null,cb:[]},a=Sn(t,e0e);n=a[j0](function(l){r=!!l.cfg.perfEvtsSendAll}),Cr(e,this,function(l){mr(l,"listeners",{g:o(function(){return i},"g")}),l[im]=function(c){i[Tt](c)},l[nm]=function(c){for(var u=mn(i,c);u>-1;)i[$0](u,1),u=mn(i,c)},l[cm]=function(c){dc(i,cm,s,function(u){u[cm](c)})},l[ac]=function(c,u){dc(i,ac,s,function(f){f[ac](c,u)})},l[um]=function(c,u){dc(i,um,u?s:null,function(f){f[um](c,u)})},l[V0]=function(c){c&&(r||!c[Hp]())&&dc(i,V0,null,function(u){c.isAsync?jo(function(){return u[V0](c)},0):u[V0](c)})},l[Lx]=function(c){c&&c[je]&&dc(i,Lx,s,function(u){u[Lx](c)})},l[Fx]=function(c){c&&c[sc]&&dc(i,Fx,s,function(u){u[Fx](c)})},l[Mx]=function(c,u){if(c>0){var f=u||0;dc(i,Mx,s,function(d){d[Mx](c,f)})}},l[gs]=function(c){var u=o(function(){n&&n.rm(),n=null,i=[],s.h&&s.h[qa](),s.h=null,s.cb=[]},"_finishUnload"),f;if(dc(i,"unload",null,function(d){var m=d[gs](c);m&&(f||(f=[]),f[Tt](m))}),f)return H0(function(d){return Go(hF(f),function(){u(),d()})});u()}})}return o(e,"NotificationManager"),e.__ieDyn=1,e}();var _m="ctx",bT="ParentContextKey",mg="ChildrenContextKey",r0e=null,r3=function(){function e(t,r,n){var i=this;if(i.start=Bo(),i[$o]=t,i.isAsync=n,i[Hp]=function(){return!1},mt(r)){var s;mr(i,"payload",{g:o(function(){return!s&&mt(r)&&(s=r(),r=null),s},"g")})}i[Ou]=function(a){return a?a===e[bT]||a===e[mg]?i[a]:(i[_m]||{})[a]:null},i[r0]=function(a,l){if(a)if(a===e[bT])i[a]||(i[Hp]=function(){return!0}),i[a]=l;else if(a===e[mg])i[a]=l;else{var c=i[_m]=i[_m]||{};c[a]=l}},i.complete=function(){var a=0,l=i[Ou](e[mg]);if(tt(l))for(var c=0;c<l[je];c++){var u=l[c];u&&(a+=u.time)}i.time=Bo()-i.start,i.exTime=i.time-a,i.complete=function(){}}}return o(e,"PerfEvent"),e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}();var iM=function(){function e(t){this.ctx={},Cr(e,this,function(r){r.create=function(n,i,s){return new r3(n,i,s)},r.fire=function(n){n&&(n.complete(),t&&mt(t[V0])&&t[V0](n))},r[r0]=function(n,i){if(n){var s=r[_m]=r[_m]||{};s[n]=i}},r[Ou]=function(n){return(r[_m]||{})[n]}})}return o(e,"PerfManager"),e.__ieDyn=1,e}();var xT="CoreUtils.doPerf";function n3(e,t,r,n,i){if(e){var s=e;if(s[fm]&&(s=s[fm]()),s){var a=void 0,l=s[Ou](xT);try{if(a=s.create(t(),n,i),a){if(l&&a[r0]&&(a[r0](r3[bT],l),l[Ou]&&l[r0])){var c=l[Ou](r3[mg]);c||(c=[],l[r0](r3[mg],c)),c[Tt](a)}return s[r0](xT,a),r(a)}}catch(u){a&&a[r0]&&a[r0]("exception",u)}finally{a&&s.fire(a),s[r0](xT,l)}}}return r()}o(n3,"doPerf");function oM(){return r0e}o(oM,"getGblPerfMgr");var n0e="00000000000000000000000000000000",i0e="0000000000000000";function sM(e,t,r){return e&&e[je]===t&&e!==r?!!e.match(/^[\da-f]*$/i):!1}o(sM,"_isValid");function _T(e){return sM(e,32,n0e)}o(_T,"isValidTraceId");function yT(e){return sM(e,16,i0e)}o(yT,"isValidSpanId");var o0e=zx("plugin");function Xa(e){return o0e.get(e,"state",{},!0)}o(Xa,"_getPluginState");function vT(e,t){for(var r=[],n=null,i=e[qo](),s;i;){var a=i[rc]();if(a){n&&n[oc]&&a[uo]&&n[oc](a),s=Xa(a);var l=!!s[lo];a[lo]&&(l=a[lo]()),l||r[Tt](a),n=a,i=i[qo]()}}Ne(r,function(c){var u=e[on]();c[Ga](e.getCfg(),u,t,e[qo]()),s=Xa(c),!c[on]&&!s[on]&&(s[on]=u),s[lo]=!0,delete s[Wo]})}o(vT,"initializePlugins");function i3(e){return e.sort(function(t,r){var n=0;if(r){var i=r[uo];t[uo]?n=i?t[Bu]-r[Bu]:1:i&&(n=-1)}else n=t?1:-1;return n})}o(i3,"sortPlugins");function aM(e){var t={};return{getName:o(function(){return t[$o]},"getName"),setName:o(function(r){e&&e.setName(r),t[$o]=r},"setName"),getTraceId:o(function(){return t.traceId},"getTraceId"),setTraceId:o(function(r){e&&e.setTraceId(r),_T(r)&&(t.traceId=r)},"setTraceId"),getSpanId:o(function(){return t.spanId},"getSpanId"),setSpanId:o(function(r){e&&e.setSpanId(r),yT(r)&&(t.spanId=r)},"setSpanId"),getTraceFlags:o(function(){return t[yx]},"getTraceFlags"),setTraceFlags:o(function(r){e&&e.setTraceFlags(r),t[yx]=r},"setTraceFlags")}}o(aM,"createDistributedTraceContext");var s0e="TelemetryPluginChain",lM="_hasRun",cM="_getTelCtx",uM=0;function a0e(e,t,r){for(;e;){if(e[rc]()===r)return e;e=e[qo]()}return mc([r],t.config||{},t)}o(a0e,"_getNextProxyStart");function TT(e,t,r,n){var i=null,s=[];t||(t=Sn({},null,r[Mr])),n!==null&&(i=n?a0e(e,r,n):e);var a={_next:c,ctx:{core:o(function(){return r},"core"),diagLog:o(function(){return Gu(r,t.cfg)},"diagLog"),getCfg:o(function(){return t.cfg},"getCfg"),getExtCfg:f,getConfig:d,hasNext:o(function(){return!!i},"hasNext"),getNext:o(function(){return i},"getNext"),setNext:o(function(p){i=p},"setNext"),iterate:m,onComplete:l}};function l(p,g){for(var h=[],b=2;b<arguments.length;b++)h[b-2]=arguments[b];p&&s[Tt]({func:p,self:or(g)?a.ctx:g,args:h})}o(l,"_addOnComplete");function c(){var p=i;if(i=p?p[qo]():null,!p){var g=s;g&&g[je]>0&&(Ne(g,function(h){try{h.func.call(h.self,h.args)}catch(b){Ce(r[Mr],2,73,"Unexpected Exception during onComplete - "+Xe(b))}}),s=[])}return p}o(c,"_moveNext");function u(p,g){var h=null,b=t.cfg;if(b&&p){var x=b[Ka];!x&&g&&(x={}),b[Ka]=x,x=t.ref(b,Ka),x&&(h=x[p],!h&&g&&(h={}),x[p]=h,h=t.ref(x,p))}return h}o(u,"_getExtCfg");function f(p,g){var h=u(p,!0);return g&&xt(g,function(b,x){if(Oe(h[b])){var _=t.cfg[b];(_||!Oe(_))&&(h[b]=_)}ag(t,h,b,x)}),t.setDf(h,g)}o(f,"_resolveExtCfg");function d(p,g,h){h===void 0&&(h=!1);var b,x=u(p,!1),_=t.cfg;return x&&(x[g]||!Oe(x[g]))?b=x[g]:(_[g]||!Oe(_[g]))&&(b=_[g]),b||!Oe(b)?b:h}o(d,"_getConfig");function m(p){for(var g;g=a._next();){var h=g[rc]();h&&p(h)}}return o(m,"_iterateChain"),a}o(TT,"_createInternalContext");function n0(e,t,r,n){var i=Sn(t),s=TT(e,i,r,n),a=s.ctx;function l(u){var f=s._next();return f&&f[uo](u,a),!f}o(l,"_processNext");function c(u,f){return u===void 0&&(u=null),tt(u)&&(u=mc(u,i.cfg,r,f)),n0(u||a[qo](),i.cfg,r,f)}return o(c,"_createNew"),a[On]=l,a[q0]=c,a}o(n0,"createProcessTelemetryContext");function ym(e,t,r){var n=Sn(t.config),i=TT(e,n,t,r),s=i.ctx;function a(c){var u=i._next();return u&&u[gs](s,c),!u}o(a,"_processNext");function l(c,u){return c===void 0&&(c=null),tt(c)&&(c=mc(c,n.cfg,t,u)),ym(c||s[qo](),t,u)}return o(l,"_createNew"),s[On]=a,s[q0]=l,s}o(ym,"createProcessTelemetryUnloadContext");function pg(e,t,r){var n=Sn(t.config),i=TT(e,n,t,r),s=i.ctx;function a(c){return s.iterate(function(u){mt(u[Nu])&&u[Nu](s,c)})}o(a,"_processNext");function l(c,u){return c===void 0&&(c=null),tt(c)&&(c=mc(c,n.cfg,t,u)),pg(c||s[qo](),t,u)}return o(l,"_createNew"),s[On]=a,s[q0]=l,s}o(pg,"createProcessTelemetryUpdateContext");function mc(e,t,r,n){var i=null,s=!n;if(tt(e)&&e[je]>0){var a=null;Ne(e,function(l){if(!s&&n===l&&(s=!0),s&&l&&mt(l[uo])){var c=l0e(l,t,r);i||(i=c),a&&a._setNext(c),a=c}})}return n&&!i?mc([n],t,r):i}o(mc,"createTelemetryProxyChain");function l0e(e,t,r){var n=null,i=mt(e[uo]),s=mt(e[oc]),a;e?a=e[W0]+"-"+e[Bu]+"-"+uM++:a="Unknown-0-"+uM++;var l={getPlugin:o(function(){return e},"getPlugin"),getNext:o(function(){return n},"getNext"),processTelemetry:f,unload:d,update:m,_id:a,_setNext:o(function(p){n=p},"_setNext")};function c(){var p;return e&&mt(e[cM])&&(p=e[cM]()),p||(p=n0(l,t,r)),p}o(c,"_getTelCtx");function u(p,g,h,b,x){var _=!1,y=e?e[W0]:s0e,v=p[lM];return v||(v=p[lM]={}),p.setNext(n),e&&n3(p[on](),function(){return y+":"+h},function(){v[a]=!0;try{var I=n?n._id:yt;I&&(v[I]=!1),_=g(p)}catch(z){var R=n?v[n._id]:!0;R&&(_=!0),(!n||!R)&&Ce(p[co](),1,73,"Plugin ["+y+"] failed during "+h+" - "+Xe(z)+", run flags: "+Xe(v))}},b,x),_}o(u,"_processChain");function f(p,g){g=g||c();function h(b){if(!e||!i)return!1;var x=Xa(e);return x[Wo]||x[Qp]?!1:(s&&e[oc](n),e[uo](p,b),!0)}o(h,"_callProcessTelemetry"),u(g,h,"processTelemetry",function(){return{item:p}},!p.sync)||g[On](p)}o(f,"_processTelemetry");function d(p,g){function h(){var b=!1;if(e){var x=Xa(e),_=e[on]||x[on];e&&(!_||_===p.core())&&!x[Wo]&&(x[on]=null,x[Wo]=!0,x[lo]=!1,e[Wo]&&e[Wo](p,g)===!0&&(b=!0))}return b}o(h,"_callTeardown"),u(p,h,"unload",function(){},g.isAsync)||p[On](g)}o(d,"_unloadPlugin");function m(p,g){function h(){var b=!1;if(e){var x=Xa(e),_=e[on]||x[on];e&&(!_||_===p.core())&&!x[Wo]&&e[Nu]&&e[Nu](p,g)===!0&&(b=!0)}return b}o(h,"_callUpdate"),u(p,h,"update",function(){},!1)||p[On](g)}return o(m,"_updatePlugin"),Fo(l)}o(l0e,"createTelemetryPluginProxy");var c0e=function(){function e(t,r,n,i){var s=this,a=n0(t,r,n,i);$u(s,a,us(a))}return o(e,"ProcessTelemetryContext"),e}();function o3(){var e=[];function t(n){n&&e[Tt](n)}o(t,"_addHandler");function r(n,i){Ne(e,function(s){try{s(n,i)}catch(a){Ce(n[co](),2,73,"Unexpected error calling unload handler - "+Xe(a))}}),e=[]}return o(r,"_runHandlers"),{add:t,run:r}}o(o3,"createUnloadHandlerContainer");var s3,a3;function l3(){var e=[];function t(n){var i=e;e=[],Ne(i,function(s){try{(s.rm||s.remove).call(s)}catch(a){Ce(n,2,73,"Unloading:"+Xe(a))}}),s3&&i[je]>s3&&(a3?a3("doUnload",i):Ce(null,1,48,"Max unload hooks exceeded. An excessive number of unload hooks has been detected."))}o(t,"_doUnload");function r(n){n&&(ja(e,n),s3&&e[je]>s3&&(a3?a3("Add",e):Ce(null,1,48,"Max unload hooks exceeded. An excessive number of unload hooks has been detected.")))}return o(r,"_addHook"),{run:t,add:r}}o(l3,"createUnloadHookContainer");var ET,pc="getPlugin",u0e=(ET={},ET[Ka]={isVal:lc,v:{}},ET),gg=function(){function e(){var t=this,r,n,i,s,a;u(),Cr(e,t,function(f){f[Ga]=function(d,m,p,g){c(d,m,g),r=!0},f[Wo]=function(d,m){var p=f[on];if(!p||d&&p!==d[on]())return;var g,h=!1,b=d||ym(null,p,i&&i[pc]?i[pc]():i),x=m||{reason:0,isAsync:!1};function _(){h||(h=!0,s.run(b,m),a.run(b[co]()),g===!0&&b[On](x),u())}return o(_,"_unloadCallback"),!f[ic]||f[ic](b,x,_)!==!0?_():g=!0,g},f[Nu]=function(d,m){var p=f[on];if(!p||d&&p!==d[on]())return;var g,h=!1,b=d||pg(null,p,i&&i[pc]?i[pc]():i),x=m||{reason:0};function _(){h||(h=!0,c(b.getCfg(),b.core(),b[qo]()))}return o(_,"_updateCallback"),!f._doUpdate||f._doUpdate(b,x,_)!==!0?_():g=!0,g},ju(f,"_addUnloadCb",function(){return s},"add"),ju(f,"_addHook",function(){return a},"add"),mr(f,"_unloadHooks",{g:o(function(){return a},"g")})}),t[co]=function(f){return l(f)[co]()},t[lo]=function(){return r},t.setInitialized=function(f){r=f},t[oc]=function(f){i=f},t[On]=function(f,d){d?d[On](f):i&&mt(i[uo])&&i[uo](f,null)},t._getTelCtx=l;function l(f){f===void 0&&(f=null);var d=f;if(!d){var m=n||n0(null,{},t[on]);i&&i[pc]?d=m[q0](null,i[pc]):d=m[q0](null,i)}return d}o(l,"_getTelCtx");function c(f,d,m){Sn(f,u0e,Gu(d)),!m&&d&&(m=d[hx]()[qo]());var p=i;i&&i[pc]&&(p=i[pc]()),t[on]=d,n=n0(m,f,d,p)}o(c,"_setDefaults");function u(){r=!1,t[on]=null,n=null,i=null,a=l3(),s=o3()}o(u,"_initDefaults")}return o(e,"BaseTelemetryPlugin"),e.__ieDyn=1,e}();function f0e(e,t,r){var n={id:t,fn:r};ja(e,n);var i={remove:o(function(){Ne(e,function(s,a){if(s.id===n.id)return e[$0](a,1),-1})},"remove")};return i}o(f0e,"_addInitializer");function d0e(e,t,r){for(var n=!1,i=e[je],s=0;s<i;++s){var a=e[s];if(a)try{if(a.fn[tc](null,[t])===!1){n=!0;break}}catch(l){Ce(r,2,64,"Telemetry initializer failed: "+pn(l),{exception:Xe(l)},!0)}}return!n}o(d0e,"_runInitializers");var fM=function(e){z0(t,e);function t(){var r=e.call(this)||this;r.identifier="TelemetryInitializerPlugin",r.priority=199;var n,i;s(),Cr(t,r,function(a,l){a.addTelemetryInitializer=function(c){return f0e(i,n++,c)},a[uo]=function(c,u){d0e(i,c,u?u[co]():a[co]())&&a[On](c,u)},a[ic]=function(){s()}});function s(){n=0,i=[]}return o(s,"_initDefaults"),r}return o(t,"TelemetryInitializerPlugin"),t.__ieDyn=1,t}(gg);var gc,gM="Plugins must provide initialize method",m0e="_notificationManager",dM="SDK is still unloading...",p0e="SDK is not initialized",g0e=100,h0e=5e4,CT=Su((gc={cookieCfg:{}},gc[Uu]={rdOnly:!0,ref:!0,v:[]},gc[Mu]={rdOnly:!0,ref:!0,v:[]},gc[Ka]={ref:!0,v:{}},gc[Ox]=zo,gc.loggingLevelConsole=0,gc.diagnosticLogInterval=zo,gc));function x0e(e,t){return new iM(t)}o(x0e,"_createPerfManager");function b0e(e,t,r){var n=[],i=[],s={};return Ne(r,function(a){(Oe(a)||Oe(a[Ga]))&&so(gM);var l=a[Bu],c=a[W0];a&&l&&(Oe(s[l])?s[l]=c:Ja(e,"Two extensions have same priority #"+l+" - "+s[l]+", "+c)),!l||l<t?n[Tt](a):i[Tt](a)}),{core:n,channels:i}}o(b0e,"_validateExtensions");function mM(e,t){var r=!1;return Ne(t,function(n){if(n===e)return r=!0,-1}),r}o(mM,"_isPluginPresent");function IT(e,t,r,n){r&&xt(r,function(i,s){n&&ii(s)&&ii(t[i])&&IT(e,t[i],s,n),n&&ii(s)&&ii(t[i])?IT(e,t[i],s,n):e.set(t,i,s)})}o(IT,"_deepMergeConfig");function pM(e,t){var r=null,n=-1;return Ne(e,function(i,s){if(i.w===t)return r=i,n=s,-1}),{i:n,l:r}}o(pM,"_findWatcher");function _0e(e,t){var r=pM(e,t).l;return r||(r={w:t,rm:o(function(){var n=pM(e,t);n.i!==-1&&e[$0](n.i,1)},"rm")},e[Tt](r)),r}o(_0e,"_addDelayedCfgListener");function y0e(e,t,r){Ne(t,function(n){var i=xs(e,n.w,r);delete n.w,n.rm=function(){i.rm()}})}o(y0e,"_registerDelayedCfgListener");function v0e(e,t,r,n){return t.add(e[j0](function(i){var s=i.cfg.disableDbgExt;s===!0&&n&&(r[nm](n),n=null),r&&!n&&s!==!0&&(n=UF(i.cfg),r[im](n))})),n}o(v0e,"_initDebugListener");function T0e(e){return mr({rm:o(function(){e.rm()},"rm")},"toJSON",{v:o(function(){return"aicore::onCfgChange<"+JSON.stringify(e)+">"},"v")})}o(T0e,"_createUnloadHook");var ST=function(){function e(){var t,r,n,i,s,a,l,c,u,f,d,m,p,g,h,b,x,_,y,v,I,R,z,V,$,Y,P,w,H,N,T,E,D;Cr(e,this,function(S){G(),S._getDbgPlgTargets=function(){return[z,i]},S[lo]=function(){return r},S.activeStatus=function(){return Y},S._setPendingStatus=function(){Y=3},S[Ga]=function(W,re,be,ue){p&&so(dM),S[lo]()&&so("Core cannot be initialized more than once"),t=Sn(W,CT,be||S[Mr],!1),W=t.cfg,le(t[j0](function(we){var ke=we.cfg,We=Y===3;if(!We){w=ke.initInMemoMaxSize||g0e;var Ke=ke.instrumentationKey,rt=ke.endpointUrl;if(Oe(Ke)){I=null,Y=Zs.INACTIVE;var nt="Please provide instrumentation key";r?(Ce(n,1,100,nt),k()):so(nt);return}var ct=[];if(Lo(Ke)?(ct[Tt](Ke),I=null):I=Ke,Lo(rt)?(ct[Tt](rt),P=null):P=rt,ct[je]){H=!1,Y=3;var L=lc(ke.initTimeOut)?ke.initTimeOut:h0e,Z=gF(ct);N=jo(function(){N=null,H||A()},L),Go(Z,function(ge){try{if(H)return;if(!ge.rejected){var De=ge[Au];if(De&&De[je]){var Me=De[0];if(I=Me&&Me[Au],De[je]>1){var $e=De[1];P=$e&&$e[Au]}}I&&(W.instrumentationKey=I,W.endpointUrl=P)}A()}catch{H||A()}})}else A();var fe=we.ref(we.cfg,Ka);xt(fe,function(ge){we.ref(fe,ge)})}})),s=ue,y=v0e(t,_,s&&S[qp](),y),F(),S[Mr]=be;var me=W[Uu];if(f=[],f[Tt].apply(f,Tx(Tx([],re,!1),me,!1)),d=W[Mu],ye(null),(!m||m[je]===0)&&so("No "+Mu+" available"),d&&d[je]>1){var Ee=S[rc]("TeeChannelController");(!Ee||!Ee.plugin)&&Ce(n,1,28,"TeeChannel required")}y0e(W,R,n),R=null,r=!0,Y===Zs.ACTIVE&&k()},S.getChannels=function(){var W=[];return m&&Ne(m,function(re){W[Tt](re)}),Fo(W)},S.track=function(W){n3(S[fm](),function(){return"AppInsightsCore:track"},function(){W===null&&(he(W),so("Invalid telemetry item")),!W[$o]&&Oe(W[$o])&&(he(W),so("telemetry name required")),W.iKey=W.iKey||I,W.time=W.time||cc(new Date),W.ver=W.ver||"4.0",!p&&S[lo]()&&Y===Zs.ACTIVE?se()[On](W):Y!==Zs.INACTIVE&&i[je]<=w&&i[Tt](W)},function(){return{item:W}},!W.sync)},S[hx]=se,S[qp]=function(){return s||(s=new nM(t.cfg),S[m0e]=s),s},S[im]=function(W){S.getNotifyMgr()[im](W)},S[nm]=function(W){s&&s[nm](W)},S.getCookieMgr=function(){return c||(c=tM(t.cfg,S[Mr])),c},S.setCookieMgr=function(W){c!==W&&(Ya(c,!1),c=W)},S[fm]=function(){return a||l||oM()},S.setPerfMgr=function(W){a=W},S.eventCnt=function(){return i[je]},S.releaseQueue=function(){if(r&&i[je]>0){var W=i;i=[],Y===2?Ne(W,function(re){re.iKey=re.iKey||I,se()[On](re)}):Ce(n,2,20,"core init status is not active")}},S.pollInternalLogs=function(W){return h=W||null,D=!1,T&&T[qa](),O(!0)};function A(){H=!0,Oe(I)?(Y=Zs.INACTIVE,Ce(n,1,112,"ikey can't be resolved from promises")):Y=Zs.ACTIVE,k()}o(A,"_setStatus");function k(){r&&(S.releaseQueue(),S.pollInternalLogs())}o(k,"_releaseQueues");function O(W){if((!T||!T[nc])&&!D){var re=W||n&&n.queue[je]>0;re&&(E||(E=!0,le(t[j0](function(be){var ue=be.cfg.diagnosticLogInterval;(!ue||!(ue>0))&&(ue=1e4);var me=!1;T&&(me=T[nc],T[qa]()),T=ZL(Ve,ue),T.unref(),T[nc]=me}))),T[nc]=!0)}return T}o(O,"_startLogPoller"),S[_v]=function(){D=!0,T&&T[qa](),Ve()},$u(S,function(){return g},["addTelemetryInitializer"]),S[gs]=function(W,re,be){W===void 0&&(W=!0),r||so(p0e),p&&so(dM);var ue={reason:50,isAsync:W,flushComplete:!1},me;W&&!re&&(me=H0(function(ke){re=ke}));var Ee=ym(Ue(),S);Ee[Gp](function(){_.run(S[Mr]),Xx([c,s,n],W,function(){G(),re&&re(ue)})},S);function we(ke){ue.flushComplete=ke,p=!0,x.run(Ee,ue),S[_v](),Ee[On](ue)}return o(we,"_doUnload"),Ve(),Qe(W,we,6,be)||we(!1),me},S[rc]=xe,S.addPlugin=function(W,re,be,ue){if(!W){ue&&ue(!1),B(gM);return}var me=xe(W[W0]);if(me&&!re){ue&&ue(!1),B("Plugin ["+W[W0]+"] is already loaded!");return}var Ee={reason:16};function we(Ke){f[Tt](W),Ee.added=[W],ye(Ee),ue&&ue(!0)}if(o(we,"_addPlugin"),me){var ke=[me.plugin],We={reason:2,isAsync:!!be};He(ke,We,function(Ke){Ke?(Ee.removed=ke,Ee.reason|=32,we(!0)):ue&&ue(!1)})}else we(!1)},S.updateCfg=function(W,re){re===void 0&&(re=!0);var be;if(S[lo]()){be={reason:1,cfg:t.cfg,oldCfg:hv({},t.cfg),newConfig:hv({},W),merge:re},W=be.newConfig;var ue=t.cfg;W[Uu]=ue[Uu],W[Mu]=ue[Mu]}t._block(function(me){var Ee=me.cfg;IT(me,Ee,W,re),re||xt(Ee,function(we){M0(W,we)||me.set(Ee,we,zo)}),me.setDf(Ee,CT)},!0),t.notify(),be&&ne(be)},S.evtNamespace=function(){return b},S.flush=Qe,S.getTraceCtx=function(W){return v||(v=aM()),v},S.setTraceCtx=function(W){v=W||null},S.addUnloadHook=le,ju(S,"addUnloadCb",function(){return x},"add"),S.onCfgChange=function(W){var re;return r?re=xs(t.cfg,W,S[Mr]):re=_0e(R,W),T0e(re)},S.getWParam=function(){return uv()||t.cfg.enableWParam?0:-1};function M(){var W={};V=[];var re=o(function(be){be&&Ne(be,function(ue){if(ue[W0]&&ue[xx]&&!W[ue.identifier]){var me=ue[W0]+"="+ue[xx];V[Tt](me),W[ue.identifier]=ue}})},"_addPluginVersions");re(m),d&&Ne(d,function(be){re(be)}),re(f)}o(M,"_setPluginVersions");function G(){r=!1,t=Sn({},CT,S[Mr]),t.cfg[bx]=1,mr(S,"config",{g:o(function(){return t.cfg},"g"),s:o(function(re){S.updateCfg(re,!1)},"s")}),mr(S,"pluginVersionStringArr",{g:o(function(){return V||M(),V},"g")}),mr(S,"pluginVersionString",{g:o(function(){return $||(V||M(),$=V.join(";")),$||yt},"g")}),mr(S,"logger",{g:o(function(){return n||(n=new bm(t.cfg),t[Mr]=n),n},"g"),s:o(function(re){t[Mr]=re,n!==re&&(Ya(n,!1),n=re)},"s")}),S[Mr]=new bm(t.cfg),z=[];var W=S.config[Uu]||[];W.splice(0,W[je]),ja(W,z),g=new fM,i=[],Ya(s,!1),s=null,a=null,l=null,Ya(c,!1),c=null,u=null,f=[],d=null,m=null,p=!1,h=null,b=Ho("AIBaseCore",!0),x=o3(),v=null,I=null,_=l3(),R=[],$=null,V=null,D=!1,T=null,E=!1,Y=0,P=null,w=null,H=!1,N=null}o(G,"_initDefaults");function se(){var W=n0(Ue(),t.cfg,S);return W[Gp](O),W}o(se,"_createTelCtx");function ye(W){var re=b0e(S[Mr],MF,f);u=null,$=null,V=null,m=(d||[])[0]||[],m=i3(ja(m,re[Mu]));var be=ja(i3(re[on]),m);z=Fo(be);var ue=S.config[Uu]||[];ue.splice(0,ue[je]),ja(ue,z);var me=se();m&&m[je]>0&&vT(me[q0](m),be),vT(me,be),W&&ne(W)}o(ye,"_initPluginChain");function xe(W){var re=null,be=null,ue=[];return Ne(z,function(me){if(me[W0]===W&&me!==g)return be=me,-1;me.getChannel&&ue[Tt](me)}),!be&&ue[je]>0&&Ne(ue,function(me){if(be=me.getChannel(W),!be)return-1}),be&&(re={plugin:be,setEnabled:o(function(me){Xa(be)[Qp]=!me},"setEnabled"),isEnabled:o(function(){var me=Xa(be);return!me[Wo]&&!me[Qp]},"isEnabled"),remove:o(function(me,Ee){me===void 0&&(me=!0);var we=[be],ke={reason:1,isAsync:me};He(we,ke,function(We){We&&ye({reason:32,removed:we}),Ee&&Ee(We)})},"remove")}),re}o(xe,"_getPlugin");function Ue(){if(!u){var W=(z||[]).slice();mn(W,g)===-1&&W[Tt](g),u=mc(i3(W),t.cfg,S)}return u}o(Ue,"_getPluginChain");function He(W,re,be){if(W&&W[je]>0){var ue=mc(W,t.cfg,S),me=ym(ue,S);me[Gp](function(){var Ee=!1,we=[];Ne(f,function(We,Ke){mM(We,W)?Ee=!0:we[Tt](We)}),f=we,$=null,V=null;var ke=[];d&&(Ne(d,function(We,Ke){var rt=[];Ne(We,function(nt){mM(nt,W)?Ee=!0:rt[Tt](nt)}),ke[Tt](rt)}),d=ke),be&&be(Ee),O()}),me[On](re)}else be(!1)}o(He,"_removePlugins");function Ve(){if(n&&n.queue){var W=n.queue.slice(0);n.queue[je]=0,Ne(W,function(re){var be={name:h||"InternalMessageId: "+re[om],iKey:I,time:cc(new Date),baseType:dg.dataType,baseData:{message:re[G0]}};S.track(be)})}}o(Ve,"_flushInternalLogs");function Qe(W,re,be,ue){var me=1,Ee=!1,we=null;ue=ue||5e3;function ke(){me--,Ee&&me===0&&(we&&we[qa](),we=null,re&&re(Ee),re=null)}if(o(ke,"doCallback"),m&&m[je]>0){var We=se()[q0](m);We.iterate(function(Ke){if(Ke.flush){me++;var rt=!1;Ke.flush(W,function(){rt=!0,ke()},be)||rt||(W&&we==null?we=jo(function(){we=null,ke()},ue):ke())}})}return Ee=!0,ke(),!0}o(Qe,"_flushChannels");function F(){var W;le(t[j0](function(re){var be=re.cfg.enablePerfMgr;if(be){var ue=re.cfg[Ox];(W!==ue||!W)&&(ue||(ue=x0e),zv(re.cfg,Ox,ue),W=ue,l=null),!a&&!l&&mt(ue)&&(l=ue(S,S[qp]()))}else l=null,W=null}))}o(F,"_initPerfManager");function ne(W){var re=pg(Ue(),S);re[Gp](O),(!S._updateHook||S._updateHook(re,W)!==!0)&&re[On](W)}o(ne,"_doUpdate");function B(W){var re=S[Mr];re?(Ce(re,2,73,W),O()):so(W)}o(B,"_logOrThrowError");function he(W){var re=S[qp]();re&&re[ac]([W],2)}o(he,"_notifyInvalidEvent");function le(W){_.add(W)}o(le,"_addUnloadHook")})}return o(e,"AppInsightsCore"),e.__ieDyn=1,e}();function hg(e,t){try{if(e&&e!==""){var r=Fi().parse(e);if(r&&r[Tv]&&r[Tv]>=r.itemsAccepted&&r.itemsReceived-r.itemsAccepted===r.errors[je])return r}}catch(n){Ce(t,1,43,"Cannot parse the response. "+(n[$o]||Xe(n)),{response:e})}return null}o(hg,"parseResponse");var X0="",E0e="NoResponseBody",hM="&"+E0e+"=true",wT="POST",PT=function(){function e(){var t=0,r,n,i,s,a,l,c,u,f,d,m,p,g,h;Cr(e,this,function(b,x){var _=!0;H(),b[Ga]=function(N,T){i=T,n&&Ce(i,1,28,"Sender is already initialized"),b.SetConfig(N),n=!0},b._getDbgPlgTargets=function(){return[n,s,l,r]},b.SetConfig=function(N){try{if(a=N.senderOnCompleteCallBack||{},l=!!N.disableCredentials,c=N.fetchCredentials,s=!!N.isOneDs,r=!!N.enableSendPromise,f=!!N.disableXhr,d=!!N.disableBeacon,m=!!N.disableBeaconSync,h=N.timeWrapper,g=!!N.addNoResponse,p=!!N.disableFetchKeepAlive,u={sendPOST:Y},s||(_=!1),l){var T=ng();T&&T.protocol&&T.protocol[Qs]()==="file:"&&(_=!1)}return!0}catch{}return!1},b.getSyncFetchPayload=function(){return t},b.getSenderInst=function(N,T){return N&&N[je]?R(N,T):null},b.getFallbackInst=function(){return u},b[ic]=function(N,T){H()};function y(N,T){z(T,200,{},N)}o(y,"_onSuccess");function v(N,T){Ce(i,2,26,"Failed to send telemetry.",{message:N}),z(T,400,{})}o(v,"_onError");function I(N){v("No endpoint url is provided for the batch",N)}o(I,"_onNoPayloadUrl");function R(N,T){for(var E=0,D=null,S=0;D==null&&S<N[je];)E=N[S],!f&&E===1?nT()?D=w:Gx()&&(D=Y):E===2&&ig(T)&&(!T||!p)?D=P:E===3&&fc()&&(T?!m:!d)&&(D=$),S++;return D?{_transport:E,_isSync:T,sendPOST:D}:null}o(R,"_getSenderInterface");function z(N,T,E,D){try{N&&N(T,E,D)}catch{}}o(z,"_doOnComplete");function V(N,T){var E=ps(),D=N[sm];if(!D)return I(T),!0;D=N[sm]+(g?hM:X0);var S=N[sc],A=s?S:new Blob([S],{type:"text/plain;charset=UTF-8"}),k=E.sendBeacon(D,A);return k}o(V,"_doBeaconSend");function $(N,T,E){var D=N[sc];try{if(D)if(V(N,T))y(X0,T);else{var S=a&&a.beaconOnRetry;S&&mt(S)?S(N,T,V):(u&&u.sendPOST(N,T,!0),Ce(i,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(A){s&&Ja(i,"Failed to send telemetry using sendBeacon API. Ex:"+Xe(A)),z(T,s?0:400,{},X0)}}o($,"_beaconSender");function Y(N,T,E){var D,S,A,k=N[_x]||{};!E&&r&&(D=H0(function(se,ye){S=se,A=ye})),s&&E&&N.disableXhrSync&&(E=!1);var O=N[sm];if(!O){I(T),S&&S(!1);return}var M=Vv(wT,O,_,!0,E,N[Lu]);s||M.setRequestHeader("Content-type","application/json"),Ne(us(k),function(se){M.setRequestHeader(se,k[se])}),M.onreadystatechange=function(){s||(G(M),M.readyState===4&&S&&S(!0))},M.onload=function(){s&&G(M)};function G(se){var ye=a&&a.xhrOnComplete,xe=ye&&mt(ye);if(xe)ye(se,T,N);else{var Ue=dm(se);z(T,se[ku],rg(se,s),Ue)}}return o(G,"_doOnReadyFunc"),M.onerror=function(se){z(T,s?M[ku]:400,rg(M,s),s?X0:Wu(M)),A&&A(se)},M.ontimeout=function(){z(T,s?M[ku]:500,rg(M,s),s?X0:Wu(M)),S&&S(!1)},M.send(N[sc]),D}o(Y,"_xhrSender");function P(N,T,E){var D,S=N[sm],A=N[sc],k=s?A:new Blob([A],{type:"application/json"}),O,M,G,se=new Headers,ye=A[je],xe=!1,Ue=!1,He=N[_x]||{},Ve=(D={method:wT,body:k},D[sT]=!0,D);N.headers&&us(N.headers)[je]>0&&(Ne(us(He),function(B){se.append(B,He[B])}),Ve[_x]=se),c?Ve.credentials=c:_&&s&&(Ve.credentials="include"),E&&(Ve.keepalive=!0,t+=ye,s?N._sendReason===2&&(xe=!0,g&&(S+=hM)):xe=!0);var Qe=new Request(S,Ve);try{Qe[sT]=!0}catch{}if(!E&&r&&(O=H0(function(B,he){M=B,G=he})),!S){I(T),M&&M(!1);return}function F(B){z(T,s?0:400,{},s?X0:B)}o(F,"_handleError");function ne(B,he,le){var W=B[ku],re=a.fetchOnComplete;re&&mt(re)?re(B,T,le||X0,he):z(T,W,{},le||X0)}o(ne,"_onFetchComplete");try{Go(fetch(s?S:Qe,s?Ve:null),function(B){if(E&&(t-=ye,ye=0),!Ue)if(Ue=!0,B.rejected)F(B.reason&&B.reason[G0]),G&&G(B.reason);else{var he=B[Au];try{!s&&!he.ok?(F(he.statusText),M&&M(!1)):s&&!he.body?(ne(he,null,X0),M&&M(!0)):Go(he.text(),function(le){ne(he,N,le[Au]),M&&M(!0)})}catch(le){F(Xe(le)),G&&G(le)}}})}catch(B){Ue||(F(Xe(B)),G&&G(B))}return xe&&!Ue&&(Ue=!0,z(T,200,{}),M&&M(!0)),s&&!Ue&&N[Lu]>0&&h&&h.set(function(){Ue||(Ue=!0,z(T,500,{}),M&&M(!0))},N[Lu]),O}o(P,"_doFetchSender");function w(N,T,E){var D=ao(),S=new XDomainRequest,A=N[sc];S.onload=function(){var se=dm(S),ye=a&&a.xdrOnComplete;ye&&mt(ye)?ye(S,T,N):z(T,200,{},se)},S.onerror=function(){z(T,400,{},s?X0:tg(S))},S.ontimeout=function(){z(T,500,{})},S.onprogress=function(){};var k=D&&D.location&&D.location.protocol||"",O=N[sm];if(!O){I(T);return}if(!s&&O.lastIndexOf(k,0)!==0){var M="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";Ce(i,2,40,". "+M),v(M,T);return}var G=s?O:O[t0](/^(https?:)/,"");S.open(wT,G),N[Lu]&&(S[Lu]=N[Lu]),S.send(A),s&&E?h&&h.set(function(){S.send(A)},0):S.send(A)}o(w,"_xdrSender");function H(){t=0,n=!1,r=!1,i=null,s=null,a=null,l=null,c=null,u=null,f=!1,d=!1,m=!1,p=!1,g=!1,h=null}o(H,"_initDefaults")})}return o(e,"SenderPostManager"),e.__ieDyn=1,e}();var EM="on",xM="attachEvent",bM="addEventListener",_M="detachEvent",yM="removeEventListener",RT="events";var tMe=Ho("aiEvtPageHide"),rMe=Ho("aiEvtPageShow"),C0e=/\.[\.]+/g,I0e=/[\.]+$/,S0e=1,c3=zx("events"),w0e=/^([^.]*)(?:\.(.+)|)/;function vM(e){return e&&e[t0]?e[t0](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,yt):e}o(vM,"_normalizeNamespace");function DT(e,t){if(t){var r=yt;tt(t)?(r=yt,Ne(t,function(i){i=vM(i),i&&(i[0]!=="."&&(i="."+i),r+=i)})):r=vM(t),r&&(r[0]!=="."&&(r="."+r),e=(e||yt)+r)}var n=w0e.exec(e||yt)||[];return{type:n[1],ns:(n[2]||yt).replace(C0e,".").replace(I0e,yt)[e0](".").sort().join(".")}}o(DT,"_getEvtNamespace");function CM(e,t,r){r===void 0&&(r=!0);var n=c3.get(e,RT,{},r),i=n[t];return i||(i=n[t]=[]),i}o(CM,"_getRegisteredEvents");function IM(e,t,r,n){e&&t&&t[za]&&(e[yM]?e[yM](t[za],r,n):e[_M]&&e[_M](EM+t[za],r))}o(IM,"_doDetach");function P0e(e,t,r,n){var i=!1;return e&&t&&t[za]&&r&&(e[bM]?(e[bM](t[za],r,n),i=!0):e[xM]&&(e[xM](EM+t[za],r),i=!0)),i}o(P0e,"_doAttach");function TM(e,t,r,n){for(var i=t[je];i--;){var s=t[i];s&&(!r.ns||r.ns===s[yv].ns)&&(!n||n(s))&&(IM(e,s[yv],s.handler,s.capture),t[$0](i,1))}}o(TM,"_doUnregister");function R0e(e,t,r){if(t[za])TM(e,CM(e,t[za]),t,r);else{var n=c3.get(e,RT,{});xt(n,function(i,s){TM(e,s,t,r)}),us(n)[je]===0&&c3.kill(e,RT)}}o(R0e,"_unregisterEvents");function xg(e,t){var r;return t?(tt(t)?r=[e].concat(t):r=[e,t],r=DT("xx",r).ns[e0](".")):r=e,r}o(xg,"mergeEvtNamespace");function u3(e,t,r,n,i){i===void 0&&(i=!1);var s=!1;if(e)try{var a=DT(t,n);if(s=P0e(e,a,r,i),s&&c3.accept(e)){var l={guid:S0e++,evtName:a,handler:r,capture:i};CM(e,a.type)[Tt](l)}}catch{}return s}o(u3,"eventOn");function AT(e,t,r,n,i){if(i===void 0&&(i=!1),e)try{var s=DT(t,n),a=!1;R0e(e,s,function(l){return s.ns&&!r||l.handler===r?(a=!0,!0):!1}),a||IM(e,s,r,i)}catch{}}o(AT,"eventOff");var bg="sampleRate",_g="ProcessLegacy",f3="http.method",Hu="https://dc.services.visualstudio.com",Z0="/v2/track",Ci="not_specified";var d3=bv({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]});var Vu="split",pt="length",Ku="toLowerCase",hc="ingestionendpoint",xc="toString",NT="removeItem",vm="message",SM="count";var yg="stringify",vg="pathname",Yu="match";var Ii="name";var oi="properties",Si="measurements",Tg="sizeInBytes",Eg="typeName",Tm="exceptions",Ju="severityLevel",m3="problemGroup",Xu="parsedStack",Cg="hasFullStack",Ig="assembly",Q0="fileName",Zu="line",Em="aiDataContract",Qu="duration";function kT(e,t,r){var n=t[pt],i=wM(e,t);if(i[pt]!==n){for(var s=0,a=i;r[a]!==void 0;)s++,a=ds(i,0,147)+PM(s);i=a}return i}o(kT,"dataSanitizeKeyAndAddUniqueness");function wM(e,t){var r;return t&&(t=br(In(t)),t[pt]>150&&(r=ds(t,0,150),Ce(e,2,57,"name is too long.  It has been truncated to 150 characters.",{name:t},!0))),r||t}o(wM,"dataSanitizeKey");function Rr(e,t,r){r===void 0&&(r=1024);var n;return t&&(r=r||1024,t=br(In(t)),t[pt]>r&&(n=ds(t,0,r),Ce(e,2,61,"string value is too long. It has been truncated to "+r+" characters.",{value:t},!0))),n||t}o(Rr,"dataSanitizeString");function ef(e,t){return FT(e,t,2048,66)}o(ef,"dataSanitizeUrl");function Sg(e,t){var r;return t&&t[pt]>32768&&(r=ds(t,0,32768),Ce(e,2,56,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),r||t}o(Sg,"dataSanitizeMessage");function OT(e,t){var r;if(t){var n=""+t;n[pt]>32768&&(r=ds(n,0,32768),Ce(e,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0))}return r||t}o(OT,"dataSanitizeException");function Mi(e,t){if(t){var r={};xt(t,function(n,i){if(Ti(i)&&uc())try{i=Fi()[yg](i)}catch(s){Ce(e,2,49,"custom property is not valid",{exception:s},!0)}i=Rr(e,i,8192),n=kT(e,n,r),r[n]=i}),t=r}return t}o(Mi,"dataSanitizeProperties");function Ui(e,t){if(t){var r={};xt(t,function(n,i){n=kT(e,n,r),r[n]=i}),t=r}return t}o(Ui,"dataSanitizeMeasurements");function LT(e,t){return t&&FT(e,t,128,69)[xc]()}o(LT,"dataSanitizeId");function FT(e,t,r,n){var i;return t&&(t=br(In(t)),t[pt]>r&&(i=ds(t,0,r),Ce(e,2,n,"input is too long, it has been truncated to "+r+" characters.",{data:t},!0))),i||t}o(FT,"dataSanitizeInput");function PM(e){var t="00"+e;return $L(t,t[pt]-3)}o(PM,"dsPadNumber");var RM=Uo()||{},DM=0,D0e=[null,null,null,null,null];function AM(e){var t=DM,r=D0e,n=r[t];return RM.createElement?r[t]||(n=r[t]=RM.createElement("a")):n={host:A0e(e,!0)},n.href=e,t++,t>=r[pt]&&(t=0),DM=t,n}o(AM,"urlParseUrl");function A0e(e,t){var r=NM(e,t)||"";if(r){var n=r[Yu](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(n!=null&&n[pt]>3&&Yt(n[2])&&n[2][pt]>0)return n[2]+(n[3]||"")}return r}o(A0e,"urlParseHost");function NM(e,t){var r=null;if(e){var n=e[Yu](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(n!=null&&n[pt]>2&&Yt(n[2])&&n[2][pt]>0&&(r=n[2]||"",t&&n[pt]>2)){var i=(n[1]||"")[Ku](),s=n[3]||"";(i==="http"&&s===":80"||i==="https"&&s===":443")&&(s=""),r+=s}}return r}o(NM,"urlParseFullHost");var N0e=[Hu+Z0,"https://breeze.aimon.applicationinsights.io"+Z0,"https://dc-int.services.visualstudio.com"+Z0];function p3(e){return mn(N0e,e[Ku]())!==-1}o(p3,"isInternalApplicationInsightsEndpoint");function kM(e,t,r,n){var i,s=n,a=n;if(t&&t[pt]>0){var l=AM(t);if(i=l.host,!s)if(l[vg]!=null){var c=l.pathname[pt]===0?"/":l[vg];c.charAt(0)!=="/"&&(c="/"+c),a=l[vg],s=Rr(e,r?r+" "+c:c)}else s=Rr(e,t)}else i=n,s=n;return{target:i,name:s,data:a}}o(kM,"AjaxHelperParseDependencyPath");var g3=Du({LocalStorage:0,SessionStorage:1}),RUe=Du({AI:0,AI_AND_W3C:1,W3C:2}),DUe=Du({Normal:1,Critical:2});var Cm=void 0,OM="";function LM(e){try{if(Oe(Mo()))return null;var t=new Date()[xc](),r=Fr(e===g3.LocalStorage?"localStorage":"sessionStorage"),n=OM+t;r.setItem(n,t);var i=r.getItem(n)!==t;if(r[NT](n),!i)return r}catch{}return null}o(LM,"_getVerifiedStorageObject");function MT(){return h3()?LM(g3.SessionStorage):null}o(MT,"_getSessionStorageObject");function UT(e){OM=e||""}o(UT,"utlSetStoragePrefix");function h3(e){return(e||Cm===void 0)&&(Cm=!!LM(g3.SessionStorage)),Cm}o(h3,"utlCanUseSessionStorage");function BT(e,t){var r=MT();if(r!==null)try{return r.getItem(t)}catch(n){Cm=!1,Ce(e,2,2,"Browser failed read of session storage. "+pn(n),{exception:Xe(n)})}return null}o(BT,"utlGetSessionStorage");function jT(e,t,r){var n=MT();if(n!==null)try{return n.setItem(t,r),!0}catch(i){Cm=!1,Ce(e,2,4,"Browser failed write to session storage. "+pn(i),{exception:Xe(i)})}return!1}o(jT,"utlSetSessionStorage");function $T(e,t){var r=MT();if(r!==null)try{return r[NT](t),!0}catch(n){Cm=!1,Ce(e,2,6,"Browser failed removal of session storage item. "+pn(n),{exception:Xe(n)})}return!1}o($T,"utlRemoveSessionStorage");var k0e=";",O0e="=";function wg(e){if(!e)return{};var t=e[Vu](k0e),r=mv(t,function(i,s){var a=s[Vu](O0e);if(a[pt]===2){var l=a[0][Ku](),c=a[1];i[l]=c}return i},{});if(us(r)[pt]>0){if(r.endpointsuffix){var n=r.location?r.location+".":"";r[hc]=r[hc]||"https://"+n+"dc."+r.endpointsuffix}r[hc]=r[hc]||Hu,Wp(r[hc],"/")&&(r[hc]=r[hc].slice(0,-1))}return r}o(wg,"parseConnectionString");var WT=function(){function e(t,r,n){var i=this,s=this;s.ver=1,s.sampleRate=100,s.tags={},s[Ii]=Rr(t,n)||Ci,s.data=r,s.time=cc(new Date),s[Em]={time:1,iKey:1,name:1,sampleRate:o(function(){return i.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return o(e,"Envelope"),e}();var Za=function(){function e(t,r,n,i){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var s=this;s.ver=2,s[Ii]=Rr(t,r)||Ci,s[oi]=Mi(t,n),s[Si]=Ui(t,i)}return o(e,"Event"),e.envelopeType="Microsoft.ApplicationInsights.{0}.Event",e.dataType="EventData",e}();var L0e=58,F0e=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,M0e=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,U0e=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,B0e=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,j0e=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,$0e=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,W0e=/([^\(\s\n]+):([0-9]+)$/,FM="<no_method>",Im="error",_s="stack",GT="stackDetails",MM="errorSrc",zT="message",$M="description",UM=[{re:M0e,len:5,m:1,fn:2,ln:3,col:4},{chk:G0e,pre:q0e,re:U0e,len:4,m:1,fn:2,ln:3},{re:B0e,len:3,m:1,fn:2,hdl:jM},{re:j0e,len:2,fn:1,hdl:jM}];function q0e(e){return e.replace(/(\(anonymous\))/,"<anonymous>")}o(q0e,"_scrubAnonymous");function G0e(e){return B0(e,"[native")<0}o(G0e,"_ignoreNative");function HT(e,t){var r=e;return r&&!Yt(r)&&(JSON&&JSON[yg]?(r=JSON[yg](e),t&&(!r||r==="{}")&&(mt(e[xc])?r=e[xc]():r=""+e)):r=""+e+" - (Missing JSON.stringify)"),r||""}o(HT,"_stringify");function WM(e,t){var r=e;return e&&(r&&!Yt(r)&&(r=e[zT]||e[$M]||r),r&&!Yt(r)&&(r=HT(r,!0)),e.filename&&(r=r+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&t!=="String"&&t!=="Object"&&t!=="Error"&&B0(r||"",t)===-1&&(r=t+": "+r),r||""}o(WM,"_formatMessage");function z0e(e){try{if(Ti(e))return"hasFullStack"in e&&"typeName"in e}catch{}return!1}o(z0e,"_isExceptionDetailsInternal");function H0e(e){try{if(Ti(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch{}return!1}o(H0e,"_isExceptionInternal");function BM(e){return e&&e.src&&Yt(e.src)&&e.obj&&tt(e.obj)}o(BM,"_isStackDetails");function tf(e){var t=e||"";Yt(t)||(Yt(t[_s])?t=t[_s]:t=""+t);var r=t[Vu](`
`);return{src:t,obj:r}}o(tf,"_convertStackObj");function V0e(e){for(var t=[],r=e[Vu](`
`),n=0;n<r[pt];n++){var i=r[n];r[n+1]&&(i+="@"+r[n+1],n++),t.push(i)}return{src:e,obj:t}}o(V0e,"_getOperaStack");function qM(e){var t=null;if(e)try{if(e[_s])t=tf(e[_s]);else if(e[Im]&&e[Im][_s])t=tf(e[Im][_s]);else if(e.exception&&e.exception[_s])t=tf(e.exception[_s]);else if(BM(e))t=e;else if(BM(e[GT]))t=e[GT];else if(ao()&&ao().opera&&e[zT])t=V0e(e[vm]);else if(e.reason&&e.reason[_s])t=tf(e.reason[_s]);else if(Yt(e))t=tf(e);else{var r=e[zT]||e[$M]||"";Yt(e[MM])&&(r&&(r+=`
`),r+=" from "+e[MM]),r&&(t=tf(r))}}catch(n){t=tf(n)}return t||{src:"",obj:null}}o(qM,"_getStackFromErrorObj");function K0e(e){var t="";return e&&(e.obj?t=e.obj.join(`
`):t=e.src||""),t}o(K0e,"_formatStackTrace");function Y0e(e){var t,r=e.obj;if(r&&r[pt]>0){t=[];var n=0,i=!1,s=0;Ne(r,function(h){if(i||Q0e(h)){var b=In(h);i=!0;var x=eae(b,n);x&&(s+=x[Tg],t.push(x),n++)}});var a=32*1024;if(s>a)for(var l=0,c=t[pt]-1,u=0,f=l,d=c;l<c;){var m=t[l][Tg],p=t[c][Tg];if(u+=m+p,u>a){var g=d-f+1;t.splice(f,g);break}f=l,d=c,l++,c--}}return t}o(Y0e,"_parseStack");function x3(e){var t="";if(e&&(t=e.typeName||e[Ii]||"",!t))try{var r=/function (.{1,200})\(/,n=r.exec(e.constructor[xc]());t=n&&n[pt]>1?n[1]:""}catch{}return t}o(x3,"_getErrorType");function qT(e){if(e)try{if(!Yt(e)){var t=x3(e),r=HT(e,!1);return(!r||r==="{}")&&(e[Im]&&(e=e[Im],t=x3(e)),r=HT(e,!0)),B0(r,t)!==0&&t!=="String"?t+":"+r:r}}catch{}return""+(e||"")}o(qT,"_formatErrorCode");var rf=function(){function e(t,r,n,i,s,a){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var l=this;l.ver=2,H0e(r)?(l[Tm]=r[Tm]||[],l[oi]=r[oi],l[Si]=r[Si],r[Ju]&&(l[Ju]=r[Ju]),r.id&&(l.id=r.id,r[oi].id=r.id),r[m3]&&(l[m3]=r[m3]),Oe(r.isManual)||(l.isManual=r.isManual)):(n||(n={}),a&&(n.id=a),l[Tm]=[GM(t,r,n)],l[oi]=Mi(t,n),l[Si]=Ui(t,i),s&&(l[Ju]=s),a&&(l.id=a))}return o(e,"Exception"),e.CreateAutoException=function(t,r,n,i,s,a,l,c){var u=x3(s||a||t);return{message:WM(t,u),url:r,lineNumber:n,columnNumber:i,error:qT(s||a||t),evt:qT(a||t),typeName:u,stackDetails:qM(l||s||a),errorSrc:c}},e.CreateFromInterface=function(t,r,n,i){var s=r[Tm]&&Ru(r[Tm],function(l){return Z0e(t,l)}),a=new e(t,hs(hs({},r),{exceptions:s}),n,i);return a},e.prototype.toInterface=function(){var t=this,r=t.exceptions,n=t.properties,i=t.measurements,s=t.severityLevel,a=t.problemGroup,l=t.id,c=t.isManual,u=r instanceof Array&&Ru(r,function(f){return f.toInterface()})||void 0;return{ver:"4.0",exceptions:u,severityLevel:s,properties:n,measurements:i,problemGroup:a,id:l,isManual:c}},e.CreateSimpleException=function(t,r,n,i,s,a){var l;return{exceptions:[(l={},l[Cg]=!0,l.message=t,l.stack=s,l.typeName=r,l)]}},e.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",e.dataType="ExceptionData",e.formatError=qT,e}();var J0e=Fo({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function X0e(){var e=this,t=tt(e[Xu])&&Ru(e[Xu],function(n){return rae(n)}),r={id:e.id,outerId:e.outerId,typeName:e[Eg],message:e[vm],hasFullStack:e[Cg],stack:e[_s],parsedStack:t||void 0};return r}o(X0e,"_toInterface");function GM(e,t,r){var n,i,s,a,l,c,u,f;if(z0e(t))a=t[Eg],l=t[vm],u=t[_s],f=t[Xu]||[],c=t[Cg];else{var d=t,m=d&&d.evt;jp(d)||(d=d[Im]||m||d),a=Rr(e,x3(d))||Ci,l=Sg(e,WM(t||d,a))||Ci;var p=t[GT]||qM(t);f=Y0e(p),tt(f)&&Ru(f,function(g){g[Ig]=Rr(e,g[Ig]),g[Q0]=Rr(e,g[Q0])}),u=OT(e,K0e(p)),c=tt(f)&&f[pt]>0,r&&(r[Eg]=r[Eg]||a)}return n={},n[Em]=J0e,n.id=i,n.outerId=s,n.typeName=a,n.message=l,n[Cg]=c,n.stack=u,n.parsedStack=f,n.toInterface=X0e,n}o(GM,"_createExceptionDetails");function Z0e(e,t){var r=tt(t[Xu])&&Ru(t[Xu],function(i){return tae(i)})||t[Xu],n=GM(e,hs(hs({},t),{parsedStack:r}));return n}o(Z0e,"_createExDetailsFromInterface");function zM(e,t){var r=t[Yu]($0e);if(r&&r[pt]>=4)e[Q0]=r[1],e[Zu]=parseInt(r[2]);else{var n=t[Yu](W0e);n&&n[pt]>=3?(e[Q0]=n[1],e[Zu]=parseInt(n[2])):e[Q0]=t}}o(zM,"_parseFilename");function jM(e,t,r){var n=e[Q0];t.fn&&r&&r[pt]>t.fn&&(t.ln&&r[pt]>t.ln?(n=br(r[t.fn]||""),e[Zu]=parseInt(br(r[t.ln]||""))||0):n=br(r[t.fn]||"")),n&&zM(e,n)}o(jM,"_handleFilename");function Q0e(e){var t=!1;if(e&&Yt(e)){var r=br(e);r&&(t=F0e.test(r))}return t}o(Q0e,"_isStackFrame");var HM=Fo({level:1,method:1,assembly:0,fileName:0,line:0});function eae(e,t){var r,n;if(e&&Yt(e)&&br(e)){n=(r={},r[Em]=HM,r.level=t,r.assembly=br(e),r.method=FM,r.fileName="",r.line=0,r.sizeInBytes=0,r);for(var i=0;i<UM[pt];){var s=UM[i];if(s.chk&&!s.chk(e))break;s.pre&&(e=s.pre(e));var a=e[Yu](s.re);if(a&&a[pt]>=s.len){s.m&&(n.method=br(a[s.m]||FM)),s.hdl?s.hdl(n,s,a):s.fn&&(s.ln?(n[Q0]=br(a[s.fn]||""),n[Zu]=parseInt(br(a[s.ln]||""))||0):zM(n,a[s.fn]||""));break}i++}}return VM(n)}o(eae,"_extractStackFrame");function tae(e){var t,r=(t={},t[Em]=HM,t.level=e.level,t.method=e.method,t.assembly=e[Ig],t.fileName=e[Q0],t.line=e[Zu],t.sizeInBytes=0,t);return VM(r)}o(tae,"_stackFrameFromInterface");function VM(e){var t=L0e;return e&&(t+=e.method[pt],t+=e.assembly[pt],t+=e.fileName[pt],t+=e.level.toString()[pt],t+=e.line.toString()[pt],e[Tg]=t),e}o(VM,"_populateFrameSizeInBytes");function rae(e){return{level:e.level,method:e.method,assembly:e[Ig],fileName:e[Q0],line:e[Zu]}}o(rae,"_parsedFrameToInterface");var KM=function(){function e(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(e,"DataPoint"),e}();var Qa=function(){function e(t,r,n,i,s,a,l,c,u){this.aiDataContract={ver:1,metrics:1,properties:0};var f=this;f.ver=2;var d=new KM;d[SM]=i>0?i:void 0,d.max=isNaN(a)||a===null?void 0:a,d.min=isNaN(s)||s===null?void 0:s,d[Ii]=Rr(t,r)||Ci,d.value=n,d.stdDev=isNaN(l)||l===null?void 0:l,f.metrics=[d],f[oi]=Mi(t,c),f[Si]=Ui(t,u)}return o(e,"Metric"),e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",e}();var Pg="";function b3(e){(isNaN(e)||e<0)&&(e=0),e=JL(e);var t=Pg+e%1e3,r=Pg+$a(e/1e3)%60,n=Pg+$a(e/(1e3*60))%60,i=Pg+$a(e/(1e3*60*60))%24,s=$a(e/(1e3*60*60*24));return t=t[pt]===1?"00"+t:t[pt]===2?"0"+t:t,r=r[pt]<2?"0"+r:r,n=n[pt]<2?"0"+n:n,i=i[pt]<2?"0"+i:i,(s>0?s+".":Pg)+i+":"+n+":"+r+"."+t}o(b3,"msToTimeSpan");var nf=function(){function e(t,r,n,i,s,a,l){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var c=this;c.ver=2,c.id=LT(t,l),c.url=ef(t,n),c[Ii]=Rr(t,r)||Ci,isNaN(i)||(c[Qu]=b3(i)),c[oi]=Mi(t,s),c[Si]=Ui(t,a)}return o(e,"PageView"),e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",e.dataType="PageviewData",e}();var of=function(){function e(t,r,n,i,s,a,l,c,u,f,d,m){u===void 0&&(u="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var p=this;p.ver=2,p.id=r,p[Qu]=b3(s),p.success=a,p.resultCode=l+"",p.type=Rr(t,u);var g=kM(t,n,c,i);p.data=ef(t,i)||g.data,p.target=Rr(t,g.target),f&&(p.target="".concat(p.target," | ").concat(f)),p[Ii]=Rr(t,g[Ii]),p[oi]=Mi(t,d),p[Si]=Ui(t,m)}return o(e,"RemoteDependencyData"),e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e}();var sf=function(){function e(t,r,n,i,s){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var a=this;a.ver=2,r=r||Ci,a[vm]=Sg(t,r),a[oi]=Mi(t,i),a[Si]=Ui(t,s),n&&(a[Ju]=n)}return o(e,"Trace"),e.envelopeType="Microsoft.ApplicationInsights.{0}.Message",e.dataType="MessageData",e}();var af=function(){function e(t,r,n,i,s,a,l){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var c=this;c.ver=2,c.url=ef(t,n),c[Ii]=Rr(t,r)||Ci,c[oi]=Mi(t,s),c[Si]=Ui(t,a),l&&(c.domProcessing=l.domProcessing,c[Qu]=l[Qu],c.networkConnect=l.networkConnect,c.perfTotal=l.perfTotal,c.receivedResponse=l.receivedResponse,c.sentRequest=l.sentRequest)}return o(e,"PageViewPerformance"),e.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",e.dataType="PageviewPerformanceData",e}();var el=function(){function e(t,r){this.aiDataContract={baseType:1,baseData:1},this.baseType=t,this.baseData=r}return o(e,"Data"),e}();function _c(e){var t="ai."+e+".";return function(r){return t+r}}o(_c,"_aiNameFunc");var Rg=_c("application"),Fn=_c("device"),_3=_c("location"),Sm=_c("operation"),VT=_c("session"),bc=_c("user"),lf=_c("cloud"),Dg=_c("internal"),Ag=function(e){z0(t,e);function t(){return e.call(this)||this}return o(t,"ContextTagKeys"),t}(Hv({applicationVersion:Rg("ver"),applicationBuild:Rg("build"),applicationTypeId:Rg("typeId"),applicationId:Rg("applicationId"),applicationLayer:Rg("layer"),deviceId:Fn("id"),deviceIp:Fn("ip"),deviceLanguage:Fn("language"),deviceLocale:Fn("locale"),deviceModel:Fn("model"),deviceFriendlyName:Fn("friendlyName"),deviceNetwork:Fn("network"),deviceNetworkName:Fn("networkName"),deviceOEMName:Fn("oemName"),deviceOS:Fn("os"),deviceOSVersion:Fn("osVersion"),deviceRoleInstance:Fn("roleInstance"),deviceRoleName:Fn("roleName"),deviceScreenResolution:Fn("screenResolution"),deviceType:Fn("type"),deviceMachineName:Fn("machineName"),deviceVMName:Fn("vmName"),deviceBrowser:Fn("browser"),deviceBrowserVersion:Fn("browserVersion"),locationIp:_3("ip"),locationCountry:_3("country"),locationProvince:_3("province"),locationCity:_3("city"),operationId:Sm("id"),operationName:Sm("name"),operationParentId:Sm("parentId"),operationRootId:Sm("rootId"),operationSyntheticSource:Sm("syntheticSource"),operationCorrelationVector:Sm("correlationVector"),sessionId:VT("id"),sessionIsFirst:VT("isFirst"),sessionIsNew:VT("isNew"),userAccountAcquisitionDate:bc("accountAcquisitionDate"),userAccountId:bc("accountId"),userAgent:bc("userAgent"),userId:bc("id"),userStoreRegion:bc("storeRegion"),userAuthUserId:bc("authUserId"),userAnonymousUserAcquisitionDate:bc("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:bc("authUserAcquisitionDate"),cloudName:lf("name"),cloudRole:lf("role"),cloudRoleVer:lf("roleVer"),cloudRoleInstance:lf("roleInstance"),cloudEnvironment:lf("environment"),cloudLocation:lf("location"),cloudDeploymentUnit:lf("deploymentUnit"),internalNodeName:Dg("nodeName"),internalSdkVersion:Dg("sdkVersion"),internalAgentVersion:Dg("agentVersion"),internalSnippet:Dg("snippet"),internalSdkSrc:Dg("sdkSrc")}));var wn=new Ag;function YM(e,t){AT(e,null,null,t)}o(YM,"_disableEvents");function KT(e){var t=Uo(),r=ps(),n=!1,i=[],s=1;r&&!Oe(r.onLine)&&!r.onLine&&(s=2);var a=0,l=m(),c=xg(Ho("OfflineListener"),e);try{if(f(ao())&&(n=!0),t){var u=t.body||t;u.ononline&&f(u)&&(n=!0)}}catch{n=!1}function f(y){var v=!1;return y&&(v=u3(y,"online",h,c),v&&u3(y,"offline",b,c)),v}o(f,"_enableEvents");function d(){return l}o(d,"_isOnline");function m(){return!(a===2||s===2)}o(m,"calCurrentState");function p(){var y=m();l!==y&&(l=y,Ne(i,function(v){var I={isOnline:l,rState:s,uState:a};try{v(I)}catch{}}))}o(p,"listnerNoticeCheck");function g(y){a=y,p()}o(g,"setOnlineState");function h(){s=1,p()}o(h,"_setOnline");function b(){s=2,p()}o(b,"_setOffline");function x(){var y=ao();if(y&&n){if(YM(y,c),t){var v=t.body||t;or(v.ononline)||YM(v,c)}n=!1}}o(x,"_unload");function _(y){return i.push(y),{rm:o(function(){var v=i.indexOf(y);if(v>-1)return i.splice(v,1)},"rm")}}return o(_,"addListener"),{isOnline:d,isListening:o(function(){return n},"isListening"),unload:x,addListener:_,setOnlineState:g}}o(KT,"createOfflineListener");var y3="AppInsightsChannelPlugin";var yc="duration";var Pn="tags",v3="deviceType",fo="data",ea="name",cf="traceID",bt="length",vc="stringify",Tc="measurements",ys="dataType",Ec="envelopeType",tl="toString",rl="enqueue",nl="count",vs="push",Ng="emitLineDelimitedJson",Cc="clear",wm="markAsSent",uf="clearSent",kg="bufferOverride",Pm="BUFFER_KEY",il="SENT_BUFFER_KEY",Ic="concat",Rm="MAX_BUFFER_SIZE",Dm="triggerSend",si="diagLog",T3="initialize",Am="_sender",Nm="endpointUrl",km="instrumentationKey",E3="customHeaders",YT="maxBatchSizeInBytes",C3="onunloadDisableBeacon",I3="isBeaconApiDisabled",JT="alwaysUseXhrOverride",XT="enableSessionStorageBuffer",i0="_buffer",ZT="onunloadDisableFetch",QT="disableSendBeaconSplit",Og="getSenderInst",Sc="_onError",S3="_onPartialSuccess",Lg="_onSuccess",w3="itemsReceived",P3="itemsAccepted",R3="baseType",Om="sampleRate",JM="getHashCodeScore";var eE="baseType",Vr="baseData",Hn="properties",XM="true";function gn(e,t,r){return K0(e,t,r,ec)}o(gn,"_setValueIf");function nae(e,t,r){var n=r[Pn]=r[Pn]||{},i=t.ext=t.ext||{},s=t[Pn]=t[Pn]||[],a=i.user;a&&(gn(n,wn.userAuthUserId,a.authId),gn(n,wn.userId,a.id||a.localId));var l=i.app;l&&gn(n,wn.sessionId,l.sesId);var c=i.device;c&&(gn(n,wn.deviceId,c.id||c.localId),gn(n,wn[v3],c.deviceClass),gn(n,wn.deviceIp,c.ip),gn(n,wn.deviceModel,c.model),gn(n,wn[v3],c[v3]));var u=t.ext.web;if(u){gn(n,wn.deviceLanguage,u.browserLang),gn(n,wn.deviceBrowserVersion,u.browserVer),gn(n,wn.deviceBrowser,u.browser);var f=r[fo]=r[fo]||{},d=f[Vr]=f[Vr]||{},m=d[Hn]=d[Hn]||{};gn(m,"domain",u.domain),gn(m,"isManual",u.isManual?XM:null),gn(m,"screenRes",u.screenRes),gn(m,"userConsent",u.userConsent?XM:null)}var p=i.os;p&&(gn(n,wn.deviceOS,p[ea]),gn(n,wn.deviceOSVersion,p.osVer));var g=i.trace;g&&(gn(n,wn.operationParentId,g.parentID),gn(n,wn.operationName,Rr(e,g[ea])),gn(n,wn.operationId,g[cf]));for(var h={},b=s[bt]-1;b>=0;b--){var x=s[b];xt(x,function(y,v){h[y]=v}),s.splice(b,1)}xt(s,function(y,v){h[y]=v});var _=hs(hs({},n),h);_[wn.internalSdkVersion]||(_[wn.internalSdkVersion]=Rr(e,"javascript:".concat(iae.Version),64)),r[Pn]=$x(_)}o(nae,"_extractPartAExtensions");function wc(e,t,r){Oe(e)||xt(e,function(n,i){Ba(i)?r[n]=i:Yt(i)?t[n]=i:uc()&&(t[n]=Fi()[vc](i))})}o(wc,"_extractPropsAndMeasurements");function ff(e,t){Oe(e)||xt(e,function(r,n){e[r]=n||t})}o(ff,"_convertPropsUndefinedToCustomDefinedValue");function df(e,t,r,n){var i=new WT(e,n,t);gn(i,"sampleRate",r[bg]),(r[Vr]||{}).startTime&&(i.time=cc(r[Vr].startTime)),i.iKey=r.iKey;var s=r.iKey.replace(/-/g,"");return i[ea]=i[ea].replace("{0}",s),nae(e,r,i),r[Pn]=r[Pn]||[],$x(i)}o(df,"_createEnvelope");function mf(e,t){Oe(t[Vr])&&Ce(e,1,46,"telemetryItem.baseData cannot be null.")}o(mf,"EnvelopeCreatorInit");var iae={Version:"3.3.6"};function ZM(e,t,r){mf(e,t);var n=t[Vr][Tc]||{},i=t[Vr][Hn]||{};wc(t[fo],i,n),Oe(r)||ff(i,r);var s=t[Vr];if(Oe(s))return Ja(e,"Invalid input for dependency data"),null;var a=s[Hn]&&s[Hn][f3]?s[Hn][f3]:"GET",l=new of(e,s.id,s.target,s[ea],s[yc],s.success,s.responseCode,a,s.type,s.correlationContext,i,n),c=new el(of[ys],l);return df(e,of[Ec],t,c)}o(ZM,"DependencyEnvelopeCreator");function tE(e,t,r){mf(e,t);var n={},i={};t[eE]!==Za[ys]&&(n.baseTypeSource=t[eE]),t[eE]===Za[ys]?(n=t[Vr][Hn]||{},i=t[Vr][Tc]||{}):t[Vr]&&wc(t[Vr],n,i),wc(t[fo],n,i),Oe(r)||ff(n,r);var s=t[Vr][ea],a=new Za(e,s,n,i),l=new el(Za[ys],a);return df(e,Za[Ec],t,l)}o(tE,"EventEnvelopeCreator");function QM(e,t,r){mf(e,t);var n=t[Vr][Tc]||{},i=t[Vr][Hn]||{};wc(t[fo],i,n),Oe(r)||ff(i,r);var s=t[Vr],a=rf.CreateFromInterface(e,s,i,n),l=new el(rf[ys],a);return df(e,rf[Ec],t,l)}o(QM,"ExceptionEnvelopeCreator");function eU(e,t,r){mf(e,t);var n=t[Vr],i=n[Hn]||{},s=n[Tc]||{};wc(t[fo],i,s),Oe(r)||ff(i,r);var a=new Qa(e,n[ea],n.average,n.sampleCount,n.min,n.max,n.stdDev,i,s),l=new el(Qa[ys],a);return df(e,Qa[Ec],t,l)}o(eU,"MetricEnvelopeCreator");function tU(e,t,r){mf(e,t);var n,i=t[Vr];!Oe(i)&&!Oe(i[Hn])&&!Oe(i[Hn][yc])?(n=i[Hn][yc],delete i[Hn][yc]):!Oe(t[fo])&&!Oe(t[fo][yc])&&(n=t[fo][yc],delete t[fo][yc]);var s=t[Vr],a;((t.ext||{}).trace||{})[cf]&&(a=t.ext.trace[cf]);var l=s.id||a,c=s[ea],u=s.uri,f=s[Hn]||{},d=s[Tc]||{};if(Oe(s.refUri)||(f.refUri=s.refUri),Oe(s.pageType)||(f.pageType=s.pageType),Oe(s.isLoggedIn)||(f.isLoggedIn=s.isLoggedIn[tl]()),!Oe(s[Hn])){var m=s[Hn];xt(m,function(h,b){f[h]=b})}wc(t[fo],f,d),Oe(r)||ff(f,r);var p=new nf(e,c,u,n,f,d,l),g=new el(nf[ys],p);return df(e,nf[Ec],t,g)}o(tU,"PageViewEnvelopeCreator");function rU(e,t,r){mf(e,t);var n=t[Vr],i=n[ea],s=n.uri||n.url,a=n[Hn]||{},l=n[Tc]||{};wc(t[fo],a,l),Oe(r)||ff(a,r);var c=new af(e,i,s,void 0,a,l,n),u=new el(af[ys],c);return df(e,af[Ec],t,u)}o(rU,"PageViewPerformanceEnvelopeCreator");function nU(e,t,r){mf(e,t);var n=t[Vr].message,i=t[Vr].severityLevel,s=t[Vr][Hn]||{},a=t[Vr][Tc]||{};wc(t[fo],s,a),Oe(r)||ff(s,r);var l=new sf(e,n,i,s,a),c=new el(sf[ys],l);return df(e,sf[Ec],t,c)}o(nU,"TraceEnvelopeCreator");var iU=function(){function e(t,r){var n=[],i=!1,s=r.maxRetryCnt;this._get=function(){return n},this._set=function(a){return n=a,n},Cr(e,this,function(a){a[rl]=function(l){if(a[nl]()>=r.eventsLimitInMem){i||(Ce(t,2,105,"Maximum in-memory buffer size reached: "+a[nl](),!0),i=!0);return}l.cnt=l.cnt||0,!(!Oe(s)&&l.cnt>s)&&n[vs](l)},a[nl]=function(){return n[bt]},a.size=function(){for(var l=n[bt],c=0;c<n[bt];c++)l+=n[c].item[bt];return r[Ng]||(l+=2),l},a[Cc]=function(){n=[],i=!1},a.getItems=function(){return n.slice(0)},a.batchPayloads=function(l){if(l&&l[bt]>0){var c=[];Ne(l,function(f){c[vs](f.item)});var u=r[Ng]?c.join(`
`):"["+c.join(",")+"]";return u}return null},a.createNew=function(l,c,u){var f=n.slice(0);l=l||t,c=c||{};var d=u?new rE(l,c):new D3(l,c);return Ne(f,function(m){d[rl](m)}),d}})}return o(e,"BaseSendBuffer"),e.__ieDyn=1,e}(),D3=function(e){z0(t,e);function t(r,n){var i=e.call(this,r,n)||this;return Cr(t,i,function(s,a){s[wm]=function(l){a[Cc]()},s[uf]=function(l){}}),i}return o(t,"ArraySendBuffer"),t.__ieDyn=1,t}(iU);var oae=["AI_buffer","AI_sentBuffer"],rE=function(e){z0(t,e);function t(n,i){var s=e.call(this,n,i)||this,a=!1,l=i?.namePrefix,c=i[kg]||{getItem:BT,setItem:jT},u=c.getItem,f=c.setItem,d=i.maxRetryCnt;return Cr(t,s,function(m,p){var g=v(t[Pm]),h=v(t[il]),b=z(),x=h[Ic](b),_=m._set(g[Ic](x));_[bt]>t[Rm]&&(_[bt]=t[Rm]),R(t[il],[]),R(t[Pm],_),m[rl]=function($){if(m[nl]()>=t[Rm]){a||(Ce(n,2,67,"Maximum buffer size reached: "+m[nl](),!0),a=!0);return}$.cnt=$.cnt||0,!(!Oe(d)&&$.cnt>d)&&(p[rl]($),R(t[Pm],m._get()))},m[Cc]=function(){p[Cc](),R(t[Pm],m._get()),R(t[il],[]),a=!1},m[wm]=function($){R(t[Pm],m._set(y($,m._get())));var Y=v(t[il]);Y instanceof Array&&$ instanceof Array&&(Y=Y[Ic]($),Y[bt]>t[Rm]&&(Ce(n,1,67,"Sent buffer reached its maximum size: "+Y[bt],!0),Y[bt]=t[Rm]),R(t[il],Y))},m[uf]=function($){var Y=v(t[il]);Y=y($,Y),R(t[il],Y)},m.createNew=function($,Y,P){P=!!P;var w=m._get().slice(0),H=v(t[il]).slice(0);$=$||n,Y=Y||{},m[Cc]();var N=P?new t($,Y):new D3($,Y);return Ne(w,function(T){N[rl](T)}),P&&N[wm](H),N};function y($,Y){var P=[],w=[];return Ne($,function(H){w[vs](H.item)}),Ne(Y,function(H){!mt(H)&&mn(w,H.item)===-1&&P[vs](H)}),P}o(y,"_removePayloadsFromBuffer");function v($){var Y=$;return Y=l?l+"_"+Y:Y,I(Y)}o(v,"_getBuffer");function I($){try{var Y=u(n,$);if(Y){var P=Fi().parse(Y);if(Yt(P)&&(P=Fi().parse(P)),P&&tt(P))return P}}catch(w){Ce(n,1,42," storage key: "+$+", "+pn(w),{exception:Xe(w)})}return[]}o(I,"_getBufferBase");function R($,Y){var P=$;try{P=l?l+"_"+P:P;var w=JSON[vc](Y);f(n,P,w)}catch(H){f(n,P,JSON[vc]([])),Ce(n,2,41," storage key: "+P+", "+pn(H)+". Buffer cleared",{exception:Xe(H)})}}o(R,"_setBuffer");function z(){var $=[];try{return Ne(oae,function(Y){var P=V(Y);if($=$[Ic](P),l){var w=l+"_"+Y,H=V(w);$=$[Ic](H)}}),$}catch(Y){Ce(n,2,41,"Transfer events from previous buffers: "+pn(Y)+". previous Buffer items can not be removed",{exception:Xe(Y)})}return[]}o(z,"_getPreviousEvents");function V($){try{var Y=I($),P=[];return Ne(Y,function(w){var H={item:w,cnt:0};P[vs](H)}),$T(n,$),P}catch{}return[]}o(V,"_getItemsFromPreviousKey")}),s}o(t,"SessionStorageSendBuffer");var r;return r=t,t.VERSION="_1",t.BUFFER_KEY="AI_buffer"+r.VERSION,t.SENT_BUFFER_KEY="AI_sentBuffer"+r.VERSION,t.MAX_BUFFER_SIZE=2e3,t}(iU);var oU=function(){function e(t){Cr(e,this,function(r){r.serialize=function(a){var l=n(a,"root");try{return Fi()[vc](l)}catch(c){Ce(t,1,48,c&&mt(c[tl])?c[tl]():"Error serializing object",null,!0)}};function n(a,l){var c="__aiCircularRefCheck",u={};if(!a)return Ce(t,1,48,"cannot serialize object because it is null or undefined",{name:l},!0),u;if(a[c])return Ce(t,2,50,"Circular reference detected while serializing object",{name:l},!0),u;if(!a.aiDataContract){if(l==="measurements")u=s(a,"number",l);else if(l==="properties")u=s(a,"string",l);else if(l==="tags")u=s(a,"string",l);else if(tt(a))u=i(a,l);else{Ce(t,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:l},!0);try{Fi()[vc](a),u=a}catch(f){Ce(t,1,48,f&&mt(f[tl])?f[tl]():"Error serializing object",null,!0)}}return u}return a[c]=!0,xt(a.aiDataContract,function(f,d){var m=mt(d)?d()&1:d&1,p=mt(d)?d()&4:d&4,g=d&2,h=a[f]!==void 0,b=Ti(a[f])&&a[f]!==null;if(m&&!h&&!g)Ce(t,1,24,"Missing required field specification. The field is required but not present on source",{field:f,name:l});else if(!p){var x=void 0;b?g?x=i(a[f],f):x=n(a[f],f):x=a[f],x!==void 0&&(u[f]=x)}}),delete a[c],u}o(n,"_serializeObject");function i(a,l){var c;if(a)if(!tt(a))Ce(t,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:l},!0);else{c=[];for(var u=0;u<a[bt];u++){var f=a[u],d=n(f,l+"["+u+"]");c[vs](d)}}return c}o(i,"_serializeArray");function s(a,l,c){var u;return a&&(u={},xt(a,function(f,d){if(l==="string")d===void 0?u[f]="undefined":d===null?u[f]="null":d[tl]?u[f]=d[tl]():u[f]="invalid field: toString() is not defined.";else if(l==="number")if(d===void 0)u[f]="undefined";else if(d===null)u[f]="null";else{var m=parseFloat(d);u[f]=m}else u[f]="invalid field: "+c+" is of unknown type.",Ce(t,1,u[f],null,!0)})),u}o(s,"_serializeStringMap")})}return o(e,"Serializer"),e.__ieDyn=1,e}();var sae=8,sU=function(){function e(){}return o(e,"HashCodeScoreGenerator"),e.prototype.getHashCodeScore=function(t){var r=this.getHashCode(t)/e.INT_MAX_VALUE;return r*100},e.prototype.getHashCode=function(t){if(t==="")return 0;for(;t[bt]<sae;)t=t[Ic](t);for(var r=5381,n=0;n<t[bt];++n)r=(r<<5)+r+t.charCodeAt(n),r=r&r;return Math.abs(r)},e.INT_MAX_VALUE=2147483647,e}();var aU=function(){function e(){var t=this,r=new sU,n=new Ag;t.getSamplingScore=function(i){var s=0;return i[Pn]&&i[Pn][n.userId]?s=r.getHashCodeScore(i[Pn][n.userId]):i.ext&&i.ext.user&&i.ext.user.id?s=r[JM](i.ext.user.id):i[Pn]&&i[Pn][n.operationId]?s=r.getHashCodeScore(i[Pn][n.operationId]):i.ext&&i.ext.telemetryTrace&&i.ext.telemetryTrace[cf]?s=r.getHashCodeScore(i.ext.telemetryTrace[cf]):s=Math.random()*100,s}}return o(e,"SamplingScoreGenerator"),e}();var lU=function(){function e(t,r){this.INT_MAX_VALUE=2147483647;var n=r||Gu(null);(t>100||t<0)&&(n.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:t},!0),t=100),this[Om]=t,this.samplingScoreGenerator=new aU}return o(e,"Sample"),e.prototype.isSampledIn=function(t){var r=this[Om],n=!1;return r==null||r>=100||t.baseType===Qa[ys]?!0:(n=this.samplingScoreGenerator.getSamplingScore(t)<r,n)},e}();var Ur,ol,ta=void 0,cU="",aae=65e3;function uU(e){try{return e.responseText}catch{}return null}o(uU,"_getResponseText");function lae(e){return e&&e.sendPOST}o(lae,"isOverrideFn");var fU=Su((Ur={endpointUrl:hm(ec,Hu+Z0)},Ur[Ng]=bs(),Ur.maxBatchInterval=15e3,Ur[YT]=102400,Ur.disableTelemetry=bs(),Ur[XT]=bs(!0),Ur.isRetryDisabled=bs(),Ur[I3]=bs(!0),Ur[QT]=bs(!0),Ur.disableXhr=bs(),Ur[ZT]=bs(),Ur[C3]=bs(),Ur[km]=ta,Ur.namePrefix=ta,Ur.samplingPercentage=hm(cae,100),Ur[E3]=ta,Ur.convertUndefined=ta,Ur.eventsLimitInMem=1e4,Ur[kg]=!1,Ur.httpXHROverride={isVal:lae,v:ta},Ur[JT]=bs(),Ur.transports=ta,Ur.retryCodes=ta,Ur.maxRetryCnt={isVal:Ba,v:10},Ur));function cae(e){return!isNaN(e)&&e>0&&e<=100}o(cae,"_chkSampling");var uae=(ol={},ol[Za.dataType]=tE,ol[sf.dataType]=nU,ol[nf.dataType]=tU,ol[af.dataType]=rU,ol[rf.dataType]=QM,ol[Qa.dataType]=eU,ol[of.dataType]=ZM,ol),nE=function(e){z0(t,e);function t(){var r=e.call(this)||this;r.priority=1001,r.identifier=y3;var n,i,s,a,l,c,u,f,d=0,m,p,g,h,b,x,_,y,v,I,R,z,V,$,Y,P,w,H,N,T,E,D,S,A,k,O,M;return Cr(t,r,function(G,se){Re(),G.pause=function(){ge(),a=!0},G.resume=function(){a&&(a=!1,i=null,we(),fe())},G.flush=function(q,J,ae){if(q===void 0&&(q=!0),!a){ge();try{return G[Dm](q,null,ae||1)}catch(pe){Ce(G[si](),1,22,"flush failed, telemetry will not be collected: "+pn(pe),{exception:Xe(pe)})}}},G.onunloadFlush=function(){if(!a)if(_||T)try{return G[Dm](!0,Ke,2)}catch(q){Ce(G[si](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+pn(q),{exception:Xe(q)})}else G.flush(!1)},G.addHeader=function(q,J){f[q]=J},G[T3]=function(q,J,ae,pe){G.isInitialized()&&Ce(G[si](),1,28,"Sender is already initialized"),se[T3](q,J,ae,pe);var _e=G.identifier;c=new oU(J.logger),n=0,i=null,s=0,G[Am]=null,u=0;var Te=G[si]();g=xg(Ho("Sender"),J.evtNamespace&&J.evtNamespace()),p=KT(g),G._addHook(xs(q,function(Ae){var Ye=Ae.cfg;Ye.storagePrefix&&UT(Ye.storagePrefix);var ft=n0(null,Ye,J),Ie=ft.getExtCfg(_e,fU),Nt=Ie[Nm];if(h&&Nt===h){var St=Ye[Nm];St&&St!==Nt&&(Ie[Nm]=St)}Lo(Ie[km])&&(Ie[km]=Ye[km]),mr(G,"_senderConfig",{g:o(function(){return Ie},"g")}),b!==Ie[Nm]&&(h=b=Ie[Nm]),J.activeStatus()===Zs.PENDING?G.pause():J.activeStatus()===Zs.ACTIVE&&G.resume(),I&&I!==Ie[E3]&&Ne(I,function(ot){delete f[ot.header]}),x=Ie[YT],_=(Ie[C3]===!1||Ie[I3]===!1)&&fc(),y=Ie[C3]===!1&&fc(),v=Ie[I3]===!1&&fc(),T=Ie[JT],E=!!Ie.disableXhr,M=Ie.retryCodes;var it=Ie[kg],dt=!!Ie[XT]&&(!!it||h3()),Rt=Ie.namePrefix,Ut=dt!==P||dt&&H!==Rt||dt&&w!==it;if(G[i0]){if(Ut)try{G[i0]=G[i0].createNew(Te,Ie,dt)}catch(ot){Ce(G[si](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+pn(ot),{exception:Xe(ot)})}we()}else G[i0]=dt?new rE(Te,Ie):new D3(Te,Ie);H=Rt,P=dt,w=it,D=!Ie[ZT]&&ig(!0),k=!!Ie[QT],G._sample=new lU(Ie.samplingPercentage,Te),z=Ie[km],!Lo(z)&&!Ge(z,Ye)&&Ce(Te,1,100,"Invalid Instrumentation key "+z),I=Ie[E3],Yt(h)&&!p3(h)&&I&&I[bt]>0?Ne(I,function(ot){r.addHeader(ot.header,ot.value)}):I=null,N=Ie.enableSendPromise;var Ht=xe();O?O.SetConfig(Ht):(O=new PT,O[T3](Ht,Te));var kt=Ie.httpXHROverride,Ot=null,Dt=null,Jt=qx([3,1,2],Ie.transports);Ot=O&&O[Og](Jt,!1);var Bt=O&&O.getFallbackInst();S=o(function(ot,Ct){return ue(Bt,ot,Ct)},"_xhrSend"),A=o(function(ot,Ct){return ue(Bt,ot,Ct,!1)},"_fallbackSend"),Ot=T?kt:Ot||kt||Bt,G[Am]=function(ot,Ct){return ue(Ot,ot,Ct)},D&&(m=ct);var jt=qx([3,1],Ie.unloadTransports);D||(jt=jt.filter(function(ot){return ot!==2})),Dt=O&&O[Og](jt,!0),Dt=T?kt:Dt||kt,(T||Ie.unloadTransports||!m)&&Dt&&(m=o(function(ot,Ct){return ue(Dt,ot,Ct)},"_syncUnloadSender")),m||(m=S),R=Ie.disableTelemetry,V=Ie.convertUndefined||ta,$=Ie.isRetryDisabled,Y=Ie.maxBatchInterval}))},G.processTelemetry=function(q,J){J=G._getTelCtx(J);var ae=J[si]();try{var pe=ne(q,ae);if(!pe)return;var _e=B(q,ae);if(!_e)return;var Te=c.serialize(_e),Ae=G[i0];we(Te);var Ye={item:Te,cnt:0};Ae[rl](Ye),fe()}catch(ft){Ce(ae,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+pn(ft),{exception:Xe(ft)})}G.processNext(q,J)},G.isCompletelyIdle=function(){return!a&&d===0&&G._buffer[nl]()===0},G.getOfflineListener=function(){return p},G._xhrReadyStateChange=function(q,J,ae){if(!nt(J))return Ue(q,J,ae)},G[Dm]=function(q,J,ae){q===void 0&&(q=!0);var pe;if(!a)try{var _e=G[i0];if(R)_e[Cc]();else{if(_e[nl]()>0){var Te=_e.getItems();$e(ae||0,q),J?pe=J.call(G,Te,q):pe=G[Am](Te,q)}s=+new Date}ge()}catch(Ye){var Ae=rT();(!Ae||Ae>9)&&Ce(G[si](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+pn(Ye),{exception:Xe(Ye)})}return pe},G.getOfflineSupport=function(){return{getUrl:o(function(){return h},"getUrl"),createPayload:W,serialize:he,batch:le,shouldProcess:o(function(q){return!!ne(q)},"shouldProcess")}},G._doTeardown=function(q,J){G.onunloadFlush(),Ya(p,!1),Re()},G[Sc]=function(q,J,ae){if(!nt(q))return He(q,J,ae)},G[S3]=function(q,J){if(!nt(q))return Ve(q,J)},G[Lg]=function(q,J){if(!nt(q))return Qe(q,J)},G._xdrOnLoad=function(q,J){if(!nt(J))return ye(q,J)};function ye(q,J){var ae=uU(q);if(q&&(ae+""=="200"||ae===""))n=0,G[Lg](J,0);else{var pe=hg(ae);pe&&pe[w3]&&pe[w3]>pe[P3]&&!$?G[S3](J,pe):G[Sc](J,tg(q))}}o(ye,"_xdrOnLoad");function xe(){try{var q={xdrOnComplete:o(function(ae,pe,_e){var Te=F(_e);if(Te)return ye(ae,Te)},"xdrOnComplete"),fetchOnComplete:o(function(ae,pe,_e,Te){var Ae=F(Te);if(Ae)return ke(ae.status,Ae,ae.url,Ae[bt],ae.statusText,_e||"")},"fetchOnComplete"),xhrOnComplete:o(function(ae,pe,_e){var Te=F(_e);if(Te)return Ue(ae,Te,Te[bt])},"xhrOnComplete"),beaconOnRetry:o(function(ae,pe,_e){return rt(ae,pe,_e)},"beaconOnRetry")},J={enableSendPromise:N,isOneDs:!1,disableCredentials:!1,disableXhr:E,disableBeacon:!v,disableBeaconSync:!y,senderOnCompleteCallBack:q};return J}catch{}return null}o(xe,"_getSendPostMgrConfig");function Ue(q,J,ae){q.readyState===4&&ke(q.status,J,q.responseURL,ae,Wu(q),uU(q)||q.response)}o(Ue,"_xhrReadyStateChange");function He(q,J,ae){Ce(G[si](),2,26,"Failed to send telemetry.",{message:J}),G._buffer&&G._buffer[uf](q)}o(He,"_onError");function Ve(q,J){for(var ae=[],pe=[],_e=J.errors.reverse(),Te=0,Ae=_e;Te<Ae.length;Te++){var Ye=Ae[Te],ft=q.splice(Ye.index,1)[0];De(Ye.statusCode)?pe[vs](ft):ae[vs](ft)}q[bt]>0&&G[Lg](q,J[P3]),ae[bt]>0&&G[Sc](ae,Wu(null,["partial success",J[P3],"of",J.itemsReceived].join(" "))),pe[bt]>0&&(L(pe),Ce(G[si](),2,40,"Partial success. Delivered: "+q[bt]+", Failed: "+ae[bt]+". Will retry to send "+pe[bt]+" our of "+J[w3]+" items"))}o(Ve,"_onPartialSuccess");function Qe(q,J){G._buffer&&G._buffer[uf](q)}o(Qe,"_onSuccess");function F(q){try{if(q){var J=q,ae=J.oriPayload;return ae&&ae[bt]?ae:null}}catch{}return null}o(F,"_getPayloadArr");function ne(q,J){if(R)return!1;if(!q)return J&&Ce(J,1,7,"Cannot send empty telemetry"),!1;if(q.baseData&&!q[R3])return J&&Ce(J,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(q[R3]||(q[R3]="EventData"),!G[Am])return J&&Ce(J,1,28,"Sender was not initialized"),!1;if(re(q))q[bg]=G._sample[Om];else return J&&Ce(J,2,33,"Telemetry item was sampled out and not sent",{SampleRate:G._sample[Om]}),!1;return!0}o(ne,"_validate");function B(q,J){var ae=q.iKey||z,pe=t.constructEnvelope(q,ae,J,V);if(!pe){Ce(J,1,47,"Unable to create an AppInsights envelope");return}var _e=!1;if(q[Pn]&&q[Pn][_g]&&(Ne(q[Pn][_g],function(Te){try{Te&&Te(pe)===!1&&(_e=!0,Ja(J,"Telemetry processor check returns false"))}catch(Ae){Ce(J,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+pn(Ae),{exception:Xe(Ae)},!0)}}),delete q[Pn][_g]),!_e)return pe}o(B,"_getEnvelope");function he(q){var J=cU,ae=G[si]();try{var pe=ne(q,ae),_e=null;pe&&(_e=B(q,ae)),_e&&(J=c.serialize(_e))}catch{}return J}o(he,"_serialize");function le(q){var J=cU;return q&&q[bt]&&(J="["+q.join(",")+"]"),J}o(le,"_batch");function W(q){var J=Ee();return{urlString:h,data:q,headers:J}}o(W,"_createPayload");function re(q){return G._sample.isSampledIn(q)}o(re,"_isSampledIn");function be(q,J,ae,pe){J===200&&q?G._onSuccess(q,q[bt]):pe&&G[Sc](q,pe)}o(be,"_getOnComplete");function ue(q,J,ae,pe){pe===void 0&&(pe=!0);var _e=o(function(Ye,ft,Ie){return be(J,Ye,ft,Ie)},"onComplete"),Te=me(J),Ae=q&&q.sendPOST;return Ae&&Te?(pe&&G._buffer[wm](J),Ae(Te,_e,!ae)):null}o(ue,"_doSend");function me(q){if(tt(q)&&q[bt]>0){var J=G[i0].batchPayloads(q),ae=Ee(),pe={data:J,urlString:h,headers:ae,disableXhrSync:E,disableFetchKeepAlive:!D,oriPayload:q};return pe}return null}o(me,"_getPayload");function Ee(){try{var q=f||{};return p3(h)&&(q[d3[6]]=d3[7]),q}catch{}return null}o(Ee,"_getHeaders");function we(q){var J=q?q[bt]:0;return G[i0].size()+J>x?((!p||p.isOnline())&&G[Dm](!0,null,10),!0):!1}o(we,"_checkMaxSize");function ke(q,J,ae,pe,_e,Te){var Ae=null;if(G._appId||(Ae=hg(Te),Ae&&Ae.appId&&(G._appId=Ae.appId)),(q<200||q>=300)&&q!==0){if((q===301||q===307||q===308)&&!We(ae)){G[Sc](J,_e);return}if(p&&!p.isOnline()){if(!$){var Ye=10;L(J,Ye),Ce(G[si](),2,40,". Offline - Response Code: ".concat(q,". Offline status: ").concat(!p.isOnline(),". Will retry to send ").concat(J.length," items."))}return}!$&&De(q)?(L(J),Ce(G[si](),2,40,". Response code "+q+". Will retry to send "+J[bt]+" items.")):G[Sc](J,_e)}else We(ae),q===206?(Ae||(Ae=hg(Te)),Ae&&!$?G[S3](J,Ae):G[Sc](J,_e)):(n=0,G[Lg](J,pe))}o(ke,"_checkResponsStatus");function We(q){return u>=10?!1:!Oe(q)&&q!==""&&q!==h?(h=q,++u,!0):!1}o(We,"_checkAndUpdateEndPointUrl");function Ke(q,J){if(m)m(q,!1);else{var ae=O&&O[Og]([3],!0);return ue(ae,q,J)}}o(Ke,"_doUnloadSend");function rt(q,J,ae){var pe=q,_e=pe&&pe.oriPayload;if(k)A&&A(_e,!0),Ce(G[si](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var Te=[],Ae=0;Ae<_e[bt];Ae++){var Ye=_e[Ae],ft=[Ye],Ie=me(ft);ae(Ie,J)?G._onSuccess(ft,ft[bt]):Te[vs](Ye)}Te[bt]>0&&(A&&A(Te,!0),Ce(G[si](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}o(rt,"_onBeaconRetry");function nt(q){try{if(q&&q[bt])return Yt(q[0])}catch{}return null}o(nt,"_isStringArr");function ct(q,J){var ae=null;if(tt(q)){for(var pe=q[bt],_e=0;_e<q[bt];_e++)pe+=q[_e].item[bt];var Te=O.getSyncFetchPayload();Te+pe<=aae?ae=2:fc()?ae=3:(ae=1,Ce(G[si](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."));var Ae=O&&O[Og]([ae],!0);return ue(Ae,q,J)}return null}o(ct,"_fetchKeepAliveSender");function L(q,J){if(J===void 0&&(J=1),!(!q||q[bt]===0)){var ae=G[i0];ae[uf](q),n++;for(var pe=0,_e=q;pe<_e.length;pe++){var Te=_e[pe];Te.cnt=Te.cnt||0,Te.cnt++,ae[rl](Te)}Z(J),fe()}}o(L,"_resendPayload");function Z(q){var J=10,ae;if(n<=1)ae=J;else{var pe=(Math.pow(2,n)-1)/2,_e=$a(Math.random()*pe*J)+1;_e=q*_e,ae=wu(jL(_e,3600),J)}var Te=Bo()+ae*1e3;i=Te}o(Z,"_setRetryTime");function fe(){if(!l&&!a){var q=i?wu(0,i-Bo()):0,J=wu(Y,q);l=jo(function(){l=null,G[Dm](!0,null,1)},J)}}o(fe,"_setupTimer");function ge(){l&&l.cancel(),l=null,i=null}o(ge,"_clearScheduledTimer");function De(q){return Oe(M)?q===401||q===408||q===429||q===500||q===502||q===503||q===504:M[bt]&&M.indexOf(q)>-1}o(De,"_isRetriable");function Me(){var q="getNotifyMgr";return G.core[q]?G.core[q]():G.core._notificationManager}o(Me,"_getNotifyMgr");function $e(q,J){var ae=Me();if(ae&&ae.eventsSendRequest)try{ae.eventsSendRequest(q,J)}catch(pe){Ce(G[si](),1,74,"send request notification failed: "+pn(pe),{exception:Xe(pe)})}}o($e,"_notifySendRequest");function Ge(q,J){var ae=J.disableInstrumentationKeyValidation,pe=Oe(ae)?!1:ae;if(pe)return!0;var _e="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",Te=new RegExp(_e);return Te.test(q)}o(Ge,"_validateInstrumentationKey");function Re(){G[Am]=null,G[i0]=null,G._appId=null,G._sample=null,f={},p=null,n=0,i=null,s=null,a=!1,l=null,c=null,u=0,d=0,m=null,g=null,h=null,b=null,x=0,_=!1,I=null,R=!1,z=null,V=ta,$=!1,P=null,H=ta,E=!1,D=!1,k=!1,S=null,A=null,O=null,mr(G,"_senderConfig",{g:o(function(){return Wx({},fU)},"g")})}o(Re,"_initDefaults")}),r}return o(t,"Sender"),t.constructEnvelope=function(r,n,i,s){var a;n!==r.iKey&&!Oe(n)?a=hs(hs({},r),{iKey:n}):a=r;var l=uae[a.baseType]||tE;return l(i,a,s)},t}(gg);var pf="instrumentationKey",Fg="connectionString",Lm="endpointUrl",Fm="userOverrideEndpointUrl";var Mm,iE=void 0,fae=(Mm={diagnosticLogInterval:hm(dae,1e4)},Mm[Fg]=iE,Mm.endpointUrl=iE,Mm[pf]=iE,Mm.extensionConfig={},Mm);function dae(e){return e&&e>0}o(dae,"_chkDiagLevel");var dU=function(){function e(t){var r=new ST,n;(Oe(t)||Oe(t[pf])&&Oe(t[Fg]))&&so("Invalid input configuration"),Cr(e,this,function(s){mr(s,"config",{g:o(function(){return n},"g")}),a(),s.initialize=a,s.track=i,$u(s,r,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange","getTraceCtx","updateCfg","addTelemetryInitializer"]);function a(){var l=Sn(t||{},fae);n=l.cfg,r.addUnloadHook(xs(l,function(){var c=n[Fg];if(Lo(c)){var u=Zp(function(p,g){Go(c,function(h){var b=h.value,x=n[pf];if(!h.rejected&&b){n[Fg]=b;var _=wg(b);x=_.instrumentationkey||x}p(x)})}),f=Zp(function(p,g){Go(c,function(h){var b=h.value,x=n[Lm];if(!h.rejected&&b){var _=wg(b),y=_.ingestionendpoint;x=y?y+Z0:x}p(x)})});n[pf]=u,n[Lm]=n[Fm]||f}if(Yt(c)){var d=wg(c),m=d.ingestionendpoint;n[Lm]=n[Fm]?n[Fm]:m+Z0,n[pf]=d.instrumentationkey||n[pf]}n[Lm]=n[Fm]?n[Fm]:n[Lm]})),r.initialize(n,[new nE])}o(a,"_initialize")});function i(s){s&&(s.baseData=s.baseData||{},s.baseType=s.baseType||"EventData"),r.track(s)}o(i,"_track")}return o(e,"ApplicationInsights"),e.__ieDyn=1,e}();var Vo=Lt(Xc());var Um=class{constructor(t,r,n,i=!1){this.ctx=t;this.namespace=r;this.includeAuthorizationHeader=i;this.onCopilotToken=o(t=>{this.token=t;let r=t.getTokenValue("tid");r!==void 0&&(this.tags["ai.user.id"]=r)},"onCopilotToken");this.xhrOverride={sendPOST:o((t,r)=>{if(typeof t.data!="string")throw new Error(`AppInsightsReporter only supports string payloads, received ${typeof t.data}`);let n=t.headers??{};n["Content-Type"]="application/json",this.includeAuthorizationHeader&&this.token&&(n.Authorization=`Bearer ${this.token.token}`);let i={method:"POST",headers:n,body:t.data};this.ctx.get(Yn).fetch(t.urlString,i).then(s=>s.text().then(a=>{r(s.status,Object.fromEntries(s.headers),a)})).catch(s=>{gt.debug(this.ctx,"Error sending telemetry",s),r(0,{})})},"sendPOST")};this.client=new dU({instrumentationKey:n,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,endpointUrl:t.get(x0).getTelemetryUrl(),extensionConfig:{[y3]:{alwaysUseXhrOverride:!0,httpXHROverride:this.xhrOverride}}}),this.tags=mae(t),this.commonProperties=pae(t),this.#e=dn(t,this.onCopilotToken)}static{o(this,"AppInsightsReporter")}#e;sendTelemetryEvent(t,r,n){r={...r,...this.commonProperties};let i=this.qualifyEventName(t);this.client.track({name:i,tags:this.tags,data:{...r,...n},baseType:"EventData",baseData:{name:i,properties:r,measurements:n}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(this.qualifyEventName(t),r,n)}async dispose(){this.#e.dispose(),await this.client.unload(!0,void 0,200)}qualifyEventName(t){return t.startsWith(this.namespace)?t:`${this.namespace}/${t}`}};function mae(e){let t={},r=e.get(bn);t["ai.session.id"]=r.sessionId;let n=e.get(Xi);return n.trackingId&&(t["ai.user.id"]=n.trackingId),t["ai.cloud.roleInstance"]="REDACTED",t["ai.device.osVersion"]=`${Vo.type()} ${Vo.release()}`,t["ai.device.osArchitecture"]=Vo.arch(),t["ai.device.osPlatform"]=Vo.platform(),t["ai.cloud.role"]="Web",t["ai.application.ver"]=e.get(Nn).getVersion(),t}o(mae,"getTags");function pae(e){let t={};t.common_os=Vo.platform(),t.common_platformversion=Vo.release(),t.common_arch=Vo.arch(),t.common_cpu=Array.from(new Set(Vo.cpus().map(n=>n.model))).join();let r=e.get(bn);return t.common_vscodemachineid=r.machineId,t.common_vscodesessionid=r.sessionId,t.common_uikind=r.uiKind,t.common_remotename=r.remoteName,t.common_isnewappinstall="",t}o(pae,"getCommonProperties");var gae="7d7048df-6dd0-4048-bb23-b716c1461f8f",hae="3fdd7f28-937a-48c8-9a21-ba337db23bd1",xae="f0000000-0000-0000-0000-000000000000",sl=class{constructor(){this._initialized=!1}static{o(this,"TelemetryInitialization")}get isInitialized(){return this._initialized}get isEnabled(){return this._enabled??!1}async initialize(t,r,n){let i=t.get(ko).deactivate();if(this._namespace=r,this._enabled=n,this._initialized=!0,n){let s=t.get(ko);s.setReporter(new Um(t,r,gae)),s.setRestrictedReporter(new Um(t,r,hae)),s.setFTReporter(new Um(t,r,xae,!0))}await i}reInitialize(t){return this._initialized?this.initialize(t,this._namespace,this._enabled):Promise.reject(new Error("Cannot re-initialize telemetry that has not been initialized."))}};function oE(e,t,r){return e.get(sl).initialize(e,t,r)}o(oE,"setupTelemetryReporters");var Br=class{static{o(this,"StatusReporter")}#e=0;#t="Normal";#i;#r;#n=!0;get busy(){return this.#e>0}withProgress(t){return this.#t==="Warning"&&this.forceNormal(),this.#e++===0&&this.#o(),t().finally(()=>{--this.#e===0&&this.#o()})}forceStatus(t,r,n){this.#t===t&&this.#i===r&&!n&&!this.#r&&!this.#n||(this.#t=t,this.#i=r,this.#r=n,this.#n=!1,this.#o())}forceNormal(){this.#t!=="Inactive"&&this.forceStatus("Normal")}setError(t,r){this.forceStatus("Error",t,r)}setWarning(t){this.#t!=="Error"&&this.forceStatus("Warning",t)}setInactive(t){this.#t==="Error"||this.#t==="Warning"||this.forceStatus("Inactive",t)}clearInactive(){this.#t==="Inactive"&&this.forceStatus("Normal")}#o(){let t={kind:this.#t,message:this.#i,busy:this.busy,command:this.#r};this.didChange(t)}};var Yr=class{constructor(t=!1){this.primed=t}static{o(this,"CopilotTokenManager")}primeToken(){this.primed=!0;try{return this.getToken().then(()=>!0,()=>!1)}catch{return Promise.resolve(!1)}}},Ts=class extends yl{constructor(r){super(r.message??"");this.result=r}static{o(this,"TokenResultError")}},A3=class extends Yr{constructor(r,n=!1){super(n);this.ctx=r;this.token=void 0;this.tokenPromise=void 0}static{o(this,"CopilotTokenManagerFromGitHubSession")}async fetchCopilotToken(){let r=await this.getGitHubSession();if(!r)throw new Ts({reason:"NotSignedIn"});if(!r.accessToken)throw new Ts({reason:"HTTP401"});let n=await TL(this.ctx,r);if(n.kind==="failure"){if(n.message)throw new Ts(n);let i=new Error(`Unexpected error getting Copilot token: ${n.reason}`);throw i.code=`CopilotToken.${n.reason}`,i}return n.copilotToken}async getToken(){if(!this.primed){let r=new Error("Token requested before initialization");if(iA(this.ctx))throw r;Fa.exception(this.ctx,r,".getToken")}if(!this.tokenPromise&&(!this.token||this.token?.needsRefresh())){let r=this.fetchCopilotToken().then(n=>this.tokenPromise!==r?n:(this.token=n,this.tokenPromise=void 0,this.ctx.get(Br).forceNormal(),this.token),n=>{if(this.tokenPromise!==r)throw n;this.tokenPromise=void 0;let i=this.ctx.get(Br);if(n instanceof Ts)switch(n.result.reason){case"NotSignedIn":i.setError("You are not signed into GitHub.",{command:"github.copilot.signIn",title:"Sign In"});break;case"HTTP401":i.setError("Your GitHub token is invalid. Try signing in again.");break;case"NotAuthorized":i.setError(n.message||"No access to Copilot found.");break}else i.setWarning(String(n));throw n});this.tokenPromise=r}return this.token&&!this.token.isExpired()?this.token:await this.tokenPromise}resetToken(r){r!==void 0?(Se(this.ctx,"auth.reset_token_"+r),Fa.debug(this.ctx,`Resetting copilot token on HTTP error ${r}`)):Fa.debug(this.ctx,"Resetting copilot token"),this.token=void 0,this.tokenPromise=void 0}};var Pc=class{static{o(this,"CitationManager")}};var bae={didChangeFeatureFlags:!1,fetch:!1,ipCodeCitation:!1,redirectedTelemetry:!1,related:!1,token:!1,watchedFiles:!1,showPanelMessage:!1,showInlineMessage:!1},Mg=class{constructor(){this.capabilities={...bae}}static{o(this,"CopilotCapabilitiesProvider")}setCapabilities(t){let r;for(r in t){let n=t[r];n!==void 0&&(this.capabilities[r]=n)}}getCapabilities(){return this.capabilities}};function sE(e,t){let r=gf(e,t);return r===-1?void 0:e[r]}o(sE,"findLastMonotonous");function gf(e,t,r=0,n=e.length){let i=r,s=n;for(;i<s;){let a=Math.floor((i+s)/2);t(e[a])?i=a+1:s=a}return i-1}o(gf,"findLastIdxMonotonous");function N3(e,t,r=0,n=e.length){let i=r,s=n;for(;i<s;){let a=Math.floor((i+s)/2);t(e[a])?s=a:i=a+1}return i}o(N3,"findFirstIdxMonotonousOrArrLen");var mU=class e{constructor(t){this._array=t;this._findLastMonotonousLastIdx=0}static{o(this,"MonotonousArray")}static{this.assertInvariants=!1}findLastMonotonous(t){if(e.assertInvariants){if(this._prevFindLastPredicate){for(let n of this._array)if(this._prevFindLastPredicate(n)&&!t(n))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=t}let r=gf(this._array,t,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=r+1,r===-1?void 0:this._array[r]}};var aE=class{static{o(this,"ErrorHandler")}constructor(){this.listeners=[],this.unexpectedErrorHandler=function(t){setTimeout(()=>{throw t.stack?k3.isErrorNoTelemetry(t)?new k3(t.message+`

`+t.stack):new Error(t.message+`

`+t.stack):t},0)}}addListener(t){return this.listeners.push(t),()=>{this._removeListener(t)}}emit(t){this.listeners.forEach(r=>{r(t)})}_removeListener(t){this.listeners.splice(this.listeners.indexOf(t),1)}setUnexpectedErrorHandler(t){this.unexpectedErrorHandler=t}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(t){this.unexpectedErrorHandler(t),this.emit(t)}onUnexpectedExternalError(t){this.unexpectedErrorHandler(t)}},pU=new aE;function hf(e){pU.onUnexpectedError(e)}o(hf,"onBugIndicatingError");function jm(e){_ae(e)||pU.onUnexpectedError(e)}o(jm,"onUnexpectedError");var lE="Canceled";function _ae(e){return e instanceof Bm?!0:e instanceof Error&&e.name===lE&&e.message===lE}o(_ae,"isCancellationError");var Bm=class extends Error{static{o(this,"CancellationError")}constructor(){super(lE),this.name=this.message}};function gU(e){return e?new Error(`Illegal argument: ${e}`):new Error("Illegal argument")}o(gU,"illegalArgument");var k3=class e extends Error{static{o(this,"ErrorNoTelemetry")}constructor(t){super(t),this.name="CodeExpectedError"}static fromError(t){if(t instanceof e)return t;let r=new e;return r.message=t.message,r.stack=t.stack,r}static isErrorNoTelemetry(t){return t.name==="CodeExpectedError"}},jr=class e extends Error{static{o(this,"BugIndicatingError")}constructor(t){super(t||"An unexpected bug occurred."),Object.setPrototypeOf(this,e.prototype)}};function*xU(e,t){let r,n;for(let i of e)n!==void 0&&t(n,i)?r.push(i):(r&&(yield r),r=[i]),n=i;r&&(yield r)}o(xU,"groupAdjacentBy");var bU;(l=>{function e(c){return c<0}l.isLessThan=e,o(e,"isLessThan");function t(c){return c<=0}l.isLessThanOrEqual=t,o(t,"isLessThanOrEqual");function r(c){return c>0}l.isGreaterThan=r,o(r,"isGreaterThan");function n(c){return c===0}l.isNeitherLessOrGreaterThan=n,o(n,"isNeitherLessOrGreaterThan"),l.greaterThan=1,l.lessThan=-1,l.neitherLessOrGreaterThan=0})(bU||={});function O3(e,t){return(r,n)=>t(e(r),e(n))}o(O3,"compareBy");var L3=o((e,t)=>e-t,"numberComparator");var hU=class e{constructor(t){this.iterate=t}static{o(this,"CallbackIterable")}static{this.empty=new e(t=>{})}forEach(t){this.iterate(r=>(t(r),!0))}toArray(){let t=[];return this.iterate(r=>(t.push(r),!0)),t}filter(t){return new e(r=>this.iterate(n=>t(n)?r(n):!0))}map(t){return new e(r=>this.iterate(n=>r(t(n))))}some(t){let r=!1;return this.iterate(n=>(r=t(n),!r)),r}findFirst(t){let r;return this.iterate(n=>t(n)?(r=n,!1):!0),r}findLast(t){let r;return this.iterate(n=>(t(n)&&(r=n),!0)),r}findLastMaxBy(t){let r,n=!0;return this.iterate(i=>((n||bU.isGreaterThan(t(i,r)))&&(n=!1,r=i),!0)),r}};function TU(e,t){let r=Object.create(null);for(let n of e){let i=t(n),s=r[i];s||(s=r[i]=[]),s.push(n)}return r}o(TU,"groupBy");var yU,vU,_U=class{constructor(t,r){this.toKey=r;this._map=new Map;this[yU]="SetWithKey";for(let n of t)this.add(n)}static{o(this,"SetWithKey")}get size(){return this._map.size}add(t){let r=this.toKey(t);return this._map.set(r,t),this}delete(t){return this._map.delete(this.toKey(t))}has(t){return this._map.has(this.toKey(t))}*entries(){for(let t of this._map.values())yield[t,t]}keys(){return this.values()}*values(){for(let t of this._map.values())yield t}clear(){this._map.clear()}forEach(t,r){this._map.forEach(n=>t.call(r,n,n,this))}[(vU=Symbol.iterator,yU=Symbol.toStringTag,vU)](){return this.values()}};function cE(e,t){let r=this,n=!1,i;return function(){if(n)return i;if(n=!0,t)try{i=e.apply(r,arguments)}finally{t()}else i=e.apply(r,arguments);return i}}o(cE,"createSingleCallFunction");var uE;(y=>{function e(v){return v&&typeof v=="object"&&typeof v[Symbol.iterator]=="function"}y.is=e,o(e,"is");let t=Object.freeze([]);function r(){return t}y.empty=r,o(r,"empty");function*n(v){yield v}y.single=n,o(n,"single");function i(v){return e(v)?v:n(v)}y.wrap=i,o(i,"wrap");function s(v){return v||t}y.from=s,o(s,"from");function*a(v){for(let I=v.length-1;I>=0;I--)yield v[I]}y.reverse=a,o(a,"reverse");function l(v){return!v||v[Symbol.iterator]().next().done===!0}y.isEmpty=l,o(l,"isEmpty");function c(v){return v[Symbol.iterator]().next().value}y.first=c,o(c,"first");function u(v,I){let R=0;for(let z of v)if(I(z,R++))return!0;return!1}y.some=u,o(u,"some");function f(v,I){for(let R of v)if(I(R))return R}y.find=f,o(f,"find");function*d(v,I){for(let R of v)I(R)&&(yield R)}y.filter=d,o(d,"filter");function*m(v,I){let R=0;for(let z of v)yield I(z,R++)}y.map=m,o(m,"map");function*p(v,I){let R=0;for(let z of v)yield*I(z,R++)}y.flatMap=p,o(p,"flatMap");function*g(...v){for(let I of v)yield*I}y.concat=g,o(g,"concat");function h(v,I,R){let z=R;for(let V of v)z=I(z,V);return z}y.reduce=h,o(h,"reduce");function*b(v,I,R=v.length){for(I<-v.length&&(I=0),I<0&&(I+=v.length),R<0?R+=v.length:R>v.length&&(R=v.length);I<R;I++)yield v[I]}y.slice=b,o(b,"slice");function x(v,I=Number.POSITIVE_INFINITY){let R=[];if(I===0)return[R,v];let z=v[Symbol.iterator]();for(let V=0;V<I;V++){let $=z.next();if($.done)return[R,y.empty()];R.push($.value)}return[R,{[Symbol.iterator](){return z}}]}y.consume=x,o(x,"consume");async function _(v){let I=[];for await(let R of v)I.push(R);return Promise.resolve(I)}y.asyncToArray=_,o(_,"asyncToArray")})(uE||={});var fE=class{constructor(t,r){this.uri=t;this.value=r}static{o(this,"ResourceMapEntry")}};function vae(e){return Array.isArray(e)}o(vae,"isEntries");var IU,F3=class e{constructor(t,r){this[IU]="ResourceMap";if(t instanceof e)this.map=new Map(t.map),this.toKey=r??e.defaultToKey;else if(vae(t)){this.map=new Map,this.toKey=r??e.defaultToKey;for(let[n,i]of t)this.set(n,i)}else this.map=new Map,this.toKey=t??e.defaultToKey}static{o(this,"ResourceMap")}static{this.defaultToKey=o(t=>t.toString(),"defaultToKey")}set(t,r){return this.map.set(this.toKey(t),new fE(t,r)),this}get(t){return this.map.get(this.toKey(t))?.value}has(t){return this.map.has(this.toKey(t))}get size(){return this.map.size}clear(){this.map.clear()}delete(t){return this.map.delete(this.toKey(t))}forEach(t,r){typeof r<"u"&&(t=t.bind(r));for(let[n,i]of this.map)t(i.value,i.uri,this)}*values(){for(let t of this.map.values())yield t.value}*keys(){for(let t of this.map.values())yield t.uri}*entries(){for(let t of this.map.values())yield[t.uri,t.value]}*[(IU=Symbol.toStringTag,Symbol.iterator)](){for(let[,t]of this.map)yield[t.uri,t.value]}},SU,EU=class{constructor(t,r){this[SU]="ResourceSet";!t||typeof t=="function"?this._map=new F3(t):(this._map=new F3(r),t.forEach(this.add,this))}static{o(this,"ResourceSet")}get size(){return this._map.size}add(t){return this._map.set(t,t),this}clear(){this._map.clear()}delete(t){return this._map.delete(t)}forEach(t,r){this._map.forEach((n,i)=>t.call(r,i,i,this))}has(t){return this._map.has(t)}entries(){return this._map.entries()}keys(){return this._map.keys()}values(){return this._map.keys()}[(SU=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}};var wU,CU=class{constructor(){this[wU]="LinkedMap";this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}static{o(this,"LinkedMap")}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,r=0){let n=this._map.get(t);if(n)return r!==0&&this.touch(n,r),n.value}set(t,r,n=0){let i=this._map.get(t);if(i)i.value=r,n!==0&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.key,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}values(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.value,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}entries(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:[n.key,n.value],done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}[(wU=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}trimNew(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._tail,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.previous,n--;this._tail=r,this._size=n,r&&(r.next=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==1&&r!==2)){if(r===1){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===2){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}};var M3=class{constructor(){this.map=new Map}static{o(this,"SetMap")}add(t,r){let n=this.map.get(t);n||(n=new Set,this.map.set(t,n)),n.add(r)}delete(t,r){let n=this.map.get(t);n&&(n.delete(r),n.size===0&&this.map.delete(t))}forEach(t,r){let n=this.map.get(t);n&&n.forEach(r)}get(t){let r=this.map.get(t);return r||new Set}};var Tae=!1,$m=null;var PU=class e{constructor(){this.livingDisposables=new Map}static{o(this,"DisposableTracker")}static{this.idx=0}getDisposableData(t){let r=this.livingDisposables.get(t);return r||(r={parent:null,source:null,isSingleton:!1,value:t,idx:e.idx++},this.livingDisposables.set(t,r)),r}trackDisposable(t){let r=this.getDisposableData(t);r.source||(r.source=new Error().stack)}setParent(t,r){let n=this.getDisposableData(t);n.parent=r}markAsDisposed(t){this.livingDisposables.delete(t)}markAsSingleton(t){this.getDisposableData(t).isSingleton=!0}getRootParent(t,r){let n=r.get(t);if(n)return n;let i=t.parent?this.getRootParent(this.getDisposableData(t.parent),r):t;return r.set(t,i),i}getTrackedDisposables(){let t=new Map;return[...this.livingDisposables.entries()].filter(([,n])=>n.source!==null&&!this.getRootParent(n,t).isSingleton).flatMap(([n])=>n)}computeLeakingDisposables(t=10,r){let n;if(r)n=r;else{let c=new Map,u=[...this.livingDisposables.values()].filter(d=>d.source!==null&&!this.getRootParent(d,c).isSingleton);if(u.length===0)return;let f=new Set(u.map(d=>d.value));if(n=u.filter(d=>!(d.parent&&f.has(d.parent))),n.length===0)throw new Error("There are cyclic diposable chains!")}if(!n)return;function i(c){function u(d,m){for(;d.length>0&&m.some(p=>typeof p=="string"?p===d[0]:d[0].match(p));)d.shift()}o(u,"removePrefix");let f=c.source.split(`
`).map(d=>d.trim().replace("at ","")).filter(d=>d!=="");return u(f,["Error",/^trackDisposable \(.*\)$/,/^DisposableTracker.trackDisposable \(.*\)$/]),f.reverse()}o(i,"getStackTracePath");let s=new M3;for(let c of n){let u=i(c);for(let f=0;f<=u.length;f++)s.add(u.slice(0,f).join(`
`),c)}n.sort(O3(c=>c.idx,L3));let a="",l=0;for(let c of n.slice(0,t)){l++;let u=i(c),f=[];for(let d=0;d<u.length;d++){let m=u[d];m=`(shared with ${s.get(u.slice(0,d+1).join(`
`)).size}/${n.length} leaks) at ${m}`;let g=s.get(u.slice(0,d).join(`
`)),h=TU([...g].map(b=>i(b)[d]),b=>b);delete h[u[d]];for(let[b,x]of Object.entries(h))f.unshift(`    - stacktraces of ${x.length} other leaks continue with ${b}`);f.unshift(m)}a+=`


==================== Leaking disposable ${l}/${n.length}: ${c.value.constructor.name} ====================
${f.join(`
`)}
============================================================

`}return n.length>t&&(a+=`


... and ${n.length-t} more leaking disposables

`),{leaks:n,details:a}}};function Eae(e){$m=e}o(Eae,"setDisposableTracker");if(Tae){let e="__is_disposable_tracked__";Eae(new class{trackDisposable(t){let r=new Error("Potentially leaked disposable").stack;setTimeout(()=>{t[e]||console.log(r)},3e3)}setParent(t,r){if(t&&t!==mo.None)try{t[e]=!0}catch{}}markAsDisposed(t){if(t&&t!==mo.None)try{t[e]=!0}catch{}}markAsSingleton(t){}})}function Wm(e){return $m?.trackDisposable(e),e}o(Wm,"trackDisposable");function qm(e){$m?.markAsDisposed(e)}o(qm,"markAsDisposed");function dE(e,t){$m?.setParent(e,t)}o(dE,"setParentOfDisposable");function Cae(e,t){if($m)for(let r of e)$m.setParent(r,t)}o(Cae,"setParentOfDisposables");function RU(e){if(uE.is(e)){let t=[];for(let r of e)if(r)try{r.dispose()}catch(n){t.push(n)}if(t.length===1)throw t[0];if(t.length>1)throw new AggregateError(t,"Encountered errors while disposing of store");return Array.isArray(e)?[]:e}else if(e)return e.dispose(),e}o(RU,"dispose");function DU(...e){let t=ra(()=>RU(e));return Cae(e,t),t}o(DU,"combinedDisposable");function ra(e){let t=Wm({dispose:cE(()=>{qm(t),e()})});return t}o(ra,"toDisposable");var o0=class e{constructor(){this._toDispose=new Set;this._isDisposed=!1;Wm(this)}static{o(this,"DisposableStore")}static{this.DISABLE_DISPOSED_WARNING=!1}dispose(){this._isDisposed||(qm(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{RU(this._toDispose)}finally{this._toDispose.clear()}}add(t){if(!t)return t;if(t===this)throw new Error("Cannot register a disposable on itself!");return dE(t,this),this._isDisposed?e.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(t),t}delete(t){if(t){if(t===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(t),t.dispose()}}deleteAndLeak(t){t&&this._toDispose.has(t)&&(this._toDispose.delete(t),dE(t,null))}},mo=class{constructor(){this._store=new o0;Wm(this),dE(this._store,this)}static{o(this,"Disposable")}static{this.None=Object.freeze({dispose(){}})}dispose(){qm(this),this._store.dispose()}_register(t){if(t===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(t)}};var Ug=class extends mo{static{o(this,"ChatQuotaService")}constructor(t){super(),this._register(dn(t,r=>{this.processUserInfoQuotaSnapshot(r.userInfo?.raw)}))}get quotaExhausted(){return this._quotaInfo?this._quotaInfo.used>=this._quotaInfo.quota&&!this._quotaInfo.overageEnabled:!1}get overagesEnabled(){return this._quotaInfo?this._quotaInfo.overageEnabled:!1}clearQuota(){this._quotaInfo=void 0}processQuotaHeaders(t){let r=t.get("x-quota-snapshot-premium_models")||t.get("x-quota-snapshot-premium_interactions");if(r)try{let n=new URLSearchParams(r),i=parseInt(n.get("ent")||"0",10),s=parseFloat(n.get("ov")||"0.0"),a=n.get("ovPerm")==="true",l=parseFloat(n.get("rem")||"0.0"),c=n.get("rst"),u;c?u=new Date(c):(u=new Date,u.setMonth(u.getMonth()+1));let f=Math.max(0,i*(1-l/100));this._quotaInfo={quota:i,used:f,overageUsed:s,overageEnabled:a,resetDate:u}}catch(n){console.error("Failed to parse quota header",n)}}processUserInfoQuotaSnapshot(t){!t||!t.quota_snapshots||!t.quota_reset_date||(this._quotaInfo={overageEnabled:t.quota_snapshots.premium_interactions.overage_permitted,overageUsed:t.quota_snapshots.premium_interactions.overage_count,quota:t.quota_snapshots.premium_interactions.entitlement,resetDate:new Date(t.quota_reset_date),used:Math.max(0,t.quota_snapshots.premium_interactions.entitlement*(1-t.quota_snapshots.premium_interactions.percent_remaining/100))})}};var AU=Lt(Wy());var U3="CompletionRequested",xf=class{constructor(t){this.ctx=t}static{o(this,"CompletionNotifier")}#e=new AU.default;notifyRequest(t,r,n,i,s){return this.#e.emit(U3,{completionId:r,completionState:t,telemetryData:n,cancellationToken:i,options:s})}onRequest(t){let r=Jl(this.ctx,t,`event.${U3}`);return this.#e.on(U3,r),tr.Disposable.create(()=>this.#e.off(U3,r))}};var mE=class extends Error{constructor(r){super(`No instance of ${r.name} has been registered`);this.ctor=r;this.name="UnregisteredContextError",this.code=r.name}static{o(this,"UnregisteredContextError")}},B3=class{constructor(){this.instances=new Map}static{o(this,"Context")}get(t){let r=this.tryGet(t);if(r)return r;throw new mE(t)}tryGet(t){let r=this.instances.get(t);if(r)return r}set(t,r){if(this.tryGet(t))throw new Error(`An instance of ${t.name} has already been registered. Use forceSet() if you're sure it's a good idea.`);this.assertIsInstance(t,r),this.instances.set(t,r)}forceSet(t,r){this.assertIsInstance(t,r),this.instances.set(t,r)}assertIsInstance(t,r){if(!(r instanceof t)){let n=JSON.stringify(r);throw new Error(`The instance you're trying to register for ${t.name} is not an instance of it (${n}).`)}}};var Bg={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".h.in",".idc"]},csharp:{extensions:[".cake",".cs",".cs.pp",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},cobol:{extensions:[".cbl",".ccp",".cob",".cobol",".cpy"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".containerfile",".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.sample",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".buckconfig",".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".json.example",".jsonl",".mcmeta",".sarif",".tact",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","MODULE.bazel.lock","Package.resolved","Pipfile.lock","bun.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-color-scheme",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},python:{extensions:[".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:[".gclient","DEPS","SConscript","SConstruct","wscript"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".envrc",".flaskenv",".kshrc",".login",".profile",".tmux.conf",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","tmux.conf","zlogin","zlogout","zprofile","zshenv","zshrc"]},slang:{extensions:[".fxc",".hlsl",".s",".slang",".slangh",".usf",".ush",".vfx"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vim:{extensions:[".vba",".vim",".vimrc",".vmb"],filenames:[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".gpx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mojo",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".clangd",".gemrc","CITATION.cff","glide.lock","pixi.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]},legend:{extensions:[".pure"]}};var NU=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],kU={".php":[".blade"]},OU=Object.keys(Bg).flatMap(e=>Bg[e].extensions);var pE=Lt($f());var zm=class{constructor(t,r,n){this.languageId=t;this.isGuess=r;this.fileExtension=n}static{o(this,"Language")}},jg=class{static{o(this,"LanguageDetection")}},gE=new Map,Gm=new Map;for(let[e,{extensions:t,filenames:r}]of Object.entries(Bg)){for(let n of t)gE.set(n,[...gE.get(n)??[],e]);for(let n of r??[])Gm.set(n,[...Gm.get(n)??[],e])}var hE=class extends jg{static{o(this,"FilenameAndExensionLanguageDetection")}detectLanguage(t){let r=Il(t.uri),n=pE.extname(r).toLowerCase(),i=this.extensionWithoutTemplateLanguage(r,n),s=this.detectLanguageId(r,i),a=this.computeFullyQualifiedExtension(n,i);return s?new zm(s.languageId,s.isGuess,a):new zm(t.languageId,!0,a)}extensionWithoutTemplateLanguage(t,r){if(NU.includes(r)){let n=t.substring(0,t.lastIndexOf(".")),i=pE.extname(n).toLowerCase();if(i.length>0&&OU.includes(i)&&this.isExtensionValidForTemplateLanguage(r,i))return i}return r}isExtensionValidForTemplateLanguage(t,r){let n=kU[t];return!n||n.includes(r)}detectLanguageId(t,r){if(Gm.has(t))return{languageId:Gm.get(t)[0],isGuess:!1};let n=gE.get(r)??[];if(n.length>0)return{languageId:n[0],isGuess:n.length>1};for(;t.includes(".");)if(t=t.replace(/\.[^.]*$/,""),Gm.has(t))return{languageId:Gm.get(t)[0],isGuess:!1}}computeFullyQualifiedExtension(t,r){return t!==r?r+t:t}},xE=class extends jg{constructor(r){super();this.delegate=r}static{o(this,"GroupingLanguageDetection")}detectLanguage(r){let n=this.delegate.detectLanguage(r),i=n.languageId;return i==="c"||i==="cpp"?new zm("cpp",n.isGuess,n.fileExtension):n}},bE=class extends jg{constructor(r){super();this.delegate=r}static{o(this,"ClientProvidedLanguageDetection")}detectLanguage(r){return r.uri.startsWith("untitled:")||r.uri.startsWith("vscode-notebook-cell:")?new zm(r.languageId,!0,""):this.delegate.detectLanguage(r)}},Iae=new xE(new bE(new hE));function Hm({uri:e,languageId:t}){let r=Iae.detectLanguage({uri:e,languageId:"UNKNOWN"});return r.languageId==="UNKNOWN"?t:r.languageId}o(Hm,"detectLanguage");var j3=class e{static{o(this,"FullTextDocument")}constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(let n of t)if(e.isIncremental(n)){let i=MU(n.range),s=this.offsetAt(i.start),a=this.offsetAt(i.end);this._content=this._content.substring(0,s)+n.text+this._content.substring(a,this._content.length);let l=Math.max(i.start.line,0),c=Math.max(i.end.line,0),u=this._lineOffsets,f=LU(n.text,!1,s);if(c-l===f.length)for(let m=0,p=f.length;m<p;m++)u[m+l+1]=f[m];else f.length<1e4?u.splice(l+1,c-l,...f):this._lineOffsets=u=u.slice(0,l+1).concat(f,u.slice(c+1));let d=n.text.length-(a-s);if(d!==0)for(let m=l+1+f.length,p=u.length;m<p;m++)u[m]=u[m]+d}else if(e.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=LU(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return{line:0,character:t};for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let s=n-1;return t=this.ensureBeforeEOL(t,r[s]),{line:s,character:t-r[s]}}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line];if(t.character<=0)return n;let i=t.line+1<r.length?r[t.line+1]:this._content.length,s=Math.min(n+t.character,i);return this.ensureBeforeEOL(s,n)}ensureBeforeEOL(t,r){for(;t>r&&FU(this._content.charCodeAt(t-1));)t--;return t}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}},Rc;(function(e){function t(i,s,a,l){return new j3(i,s,a,l)}o(t,"create"),e.create=t;function r(i,s,a){if(i instanceof j3)return i.update(s,a),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}o(r,"update"),e.update=r;function n(i,s){let a=i.getText(),l=_E(s.map(Sae),(f,d)=>{let m=f.range.start.line-d.range.start.line;return m===0?f.range.start.character-d.range.start.character:m}),c=0,u=[];for(let f of l){let d=i.offsetAt(f.range.start);if(d<c)throw new Error("Overlapping edit");d>c&&u.push(a.substring(c,d)),f.newText.length&&u.push(f.newText),c=i.offsetAt(f.range.end)}return u.push(a.substr(c)),u.join("")}o(n,"applyEdits"),e.applyEdits=n})(Rc||(Rc={}));function _E(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),i=e.slice(r);_E(n,t),_E(i,t);let s=0,a=0,l=0;for(;s<n.length&&a<i.length;)t(n[s],i[a])<=0?e[l++]=n[s++]:e[l++]=i[a++];for(;s<n.length;)e[l++]=n[s++];for(;a<i.length;)e[l++]=i[a++];return e}o(_E,"mergeSort");function LU(e,t,r=0){let n=t?[r]:[];for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);FU(s)&&(s===13&&i+1<e.length&&e.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}o(LU,"computeLineOffsets");function FU(e){return e===13||e===10}o(FU,"isEOL");function MU(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}o(MU,"getWellformedRange");function Sae(e){let t=MU(e.range);return t!==e.range?{newText:e.newText,range:t}:e}o(Sae,"getWellformedEdit");Dp();var wi=class{static{o(this,"LocationFactory")}static{this.range=Er.create.bind(Er)}static{this.position=ri.create.bind(ri)}},bf=class e{constructor(t,r,n){this.uri=t;this._textDocument=r;this.detectedLanguageId=n}static{o(this,"CopilotTextDocument")}static withChanges(t,r,n){let i=Rc.create(t.clientUri,t.clientLanguageId,n,t.getText());return Rc.update(i,r,n),new e(t.uri,i,t.detectedLanguageId)}applyEdits(t){let r=Rc.create(this.clientUri,this.clientLanguageId,this.version,this.getText());return Rc.update(r,t.map(n=>({text:n.newText,range:n.range})),this.version),new e(this.uri,r,this.detectedLanguageId)}static create(t,r,n,i,s=Hm({uri:t,languageId:r})){return new e(vo(t),Rc.create(t,r,n,i),s)}get clientUri(){return this._textDocument.uri}get clientLanguageId(){return this._textDocument.languageId}get languageId(){return this._textDocument.languageId}get version(){return this._textDocument.version}get lineCount(){return this._textDocument.lineCount}getText(t){return this._textDocument.getText(t)}positionAt(t){return this._textDocument.positionAt(t)}offsetAt(t){return this._textDocument.offsetAt(t)}lineAt(t){let r=typeof t=="number"?t:t.line;if(r<0||r>=this.lineCount)throw new RangeError("Illegal value for lineNumber");let n=Er.create(r,0,r+1,0),i=this.getText(n).replace(/\r\n$|\r$|\n$/g,""),s=Er.create(ri.create(r,0),ri.create(r,i.length)),a=i.trim().length===0;return{text:i,range:s,isEmptyOrWhitespace:a}}};var $g={isBlocked:!1,reason:"VALID_FILE"},$3={isBlocked:!1,reason:"NO_MATCHING_POLICY"},UU={isBlocked:!0,reason:"POLICY_ERROR",message:"Copilot is disabled because we could not fetch the repository policy"},_f={all:"all",repo:"repo"},al=new wt("contentExclusion");var W3=class{static{o(this,"PolicyEvaluator")}};var kqe=new wt("repository"),Wg=class e{constructor(){this.data={}}static{o(this,"GitConfigData")}getKeys(){return Object.keys(this.data)}getEntries(){return Object.entries(this.data)}get(t){let r=this.getAll(t);return r?r[r.length-1]:void 0}getAll(t){return this.data[this.normalizeKey(t)]}add(t,r){t in this.data||(this.data[t]=[]),this.data[t].push(r)}getSectionValues(t,r){let n=`${t}.`.toLowerCase(),i=`.${r}`.toLowerCase();return Object.keys(this.data).filter(s=>s.startsWith(n)&&s.endsWith(i)).map(s=>s.slice(n.length,-i.length))}concat(t){return this.getEntries().concat(t.getEntries()).reduce((r,[n,i])=>(i.forEach(s=>r.add(n,s)),r),new e)}normalizeKey(t){let r=t.split(".");return r[0]=r[0].toLowerCase(),r[r.length-1]=r[r.length-1].toLowerCase(),r.join(".")}},Dc=class{static{o(this,"GitConfigLoader")}};var BU=Lt(Xc());var q3=class{constructor(t){this.url=t;this.isUrl()?this.parseUrl():this.tryParseSSHString()||(this._scheme="file")}static{o(this,"GitRemoteUrl")}get scheme(){return this._scheme}get authority(){return this._authority}get hostname(){return this._hostname}get path(){return this._path}isInvalid(){return this._error!==void 0}isRemote(){return this.scheme!=="file"&&this.hostname!==void 0}isGitHub(){return this.isRemote()&&/(?:^|\.)(?:github\.com|ghe\.com)$/i.test(this.hostname??"")}isADO(){return this.isRemote()&&/(?:^|\.)(?:visualstudio\.com|azure\.com)$/i.test(this.hostname??"")}getUrlForApi(){if(!this.isRemote())return null;if(this.isUrl()&&!this.isInvalid())return Cl.from({scheme:this.scheme,authority:this.authority.replace(/^[^@]+@/,""),path:this.path}).toString();if(this.scheme=="ssh"&&this.isADO()){let t=this.url.indexOf(":");return this.url.substring(0,t+1)+this.path}return this.url}isUrl(){return/[A-Za-z0-9][A-Za-z0-9]+:\/\//.test(this.url)}parseUrl(){let t;try{t=Cl.parse(this.url)}catch(r){this._error=r;return}this._scheme=t.scheme,this.setAuthority(t.authority),this.setPath(t.path)}setAuthority(t){this._authority=t;let r=t.replace(/^[^@]+@/,"").replace(/:\d*$/,"");r&&(this._hostname=r)}tryParseSSHString(){let t=/^(?<host>[^:/\\[]*(?:\[[^/\\\]]*\])?):/.exec(this.url);if(t&&((0,BU.platform)()!=="win32"||(t.groups?.host?.length??0)>1)){let r=t.groups?.host??"";return this._scheme="ssh",this.setAuthority(r),this.setPath(this.url.substring(r.length+1)),!0}return!1}setPath(t){if(this.isADO())try{this._path=decodeURIComponent(t);return}catch{}this._path=t}};var G3=class{static{o(this,"GitRemoteResolver")}async resolveRemote(t,r){let n=await t.get(Dc).getConfig(t,r);if(!n)return;let i=this.getRemotes(n),s=i.filter(a=>a.url.isGitHub());if(s.length)return s.find(a=>a.name==="origin")?.url??s[0].url;if(i.length)return i.find(a=>a.name==="origin")?.url??i[0].url}getRemotes(t){let r=this.getInsteadOfRules(t);return t.getSectionValues("remote","url").map(n=>({name:n,url:new q3(this.applyInsteadOfRules(r,t.get(`remote.${n}.url`)??""))})).filter(n=>n.url.isRemote())}applyInsteadOfRules(t,r){for(let n of t)if(r.startsWith(n.insteadOf))return n.base+r.slice(n.insteadOf.length);return r}getInsteadOfRules(t){return t.getSectionValues("url","insteadof").map(r=>({base:r,insteadOf:t.get(`url.${r}.insteadof`)})).sort((r,n)=>n.base.length-r.base.length)}};var Pae=100,yE=class{constructor(t,r){this.baseFolder=t;this.remote=r;this.setNWO()}static{o(this,"GitRepository")}get tenant(){return this._tenant}get owner(){return this._owner}get name(){return this._name}get adoOrganization(){return this._adoOrganization}isGitHub(){return this.remote?.isGitHub()??!1}isADO(){return this.remote?.isADO()??!1}setNWO(){let t=this.remote?.path?.replace(/^\//,"").split("/");if(this.isGitHub()){this._owner=t?.[0],this._name=t?.[1]?.replace(/\.git$/,"");let r=/^(?<tenant>[^.]+)\.ghe\.com$/.exec(this.remote?.hostname??"");r&&(this._tenant=r.groups?.tenant)}else if(this.isADO()&&t?.length===4){if(this.remote?.scheme==="ssh"){this._adoOrganization=t?.[1],this._owner=t?.[2],this._name=t?.[3];return}let r=/(?:(?<org>[^.]+)\.)?visualstudio\.com$/.exec(this.remote?.hostname??"");r?(this._adoOrganization=r.groups?.org,this._owner=t?.[1],this._name=t?.[3]):(this._adoOrganization=t?.[0],this._owner=t?.[1],this._name=t?.[3])}}},ll=class e{constructor(t){this.ctx=t;this.remoteResolver=new G3;this.cache=new _r(Pae)}static{o(this,"RepositoryManager")}async getRepo({uri:t}){let r,n=[];do{if(this.cache.has(t.toString())){let s=this.cache.get(t);return this.updateCache(n,s),s}n.push(t.toString());let i=await this.tryGetRepoForFolder(t);if(i)return this.updateCache(n,i),i;r=t,t=h0(t)}while(t!==r);this.updateCache(n,void 0)}updateCache(t,r){t.forEach(n=>this.cache.set(n,r))}async tryGetRepoForFolder(t){return await this.isBaseRepoFolder(t)?new yE(typeof t=="string"?{uri:t}:t,await this.repoUrl(t)):void 0}async isBaseRepoFolder(t){return await e.getRepoConfigLocation(this.ctx,t)!==void 0}async repoUrl(t){return await this.remoteResolver.resolveRemote(this.ctx,t)}static async getRepoConfigLocation(t,r){try{let n=t.get(Zr),i=Dn(r,".git");if((await n.stat(i)).type&1)return await this.getConfigLocationForGitfile(n,r,i);let a=Dn(i,"config");return await n.stat(a),a}catch{return}}static async getConfigLocationForGitfile(t,r,n){let s=(await t.readFileString(n)).match(/^gitdir:\s+(.+)$/m);if(!s)return;let a=Zc(r,s[1]),l=Dn(a,"config");if(await this.tryStat(t,l)!==void 0)return l;let c=Dn(a,"config.worktree");if(await this.tryStat(t,c)!==void 0)return c;let u=Dn(a,"commondir");a=Zc(a,(await t.readFileString(u)).trimEnd());let f=Dn(a,"config");return await t.stat(f),f}static async tryStat(t,r){try{return await t.stat(r)}catch{return}}};var jU=o((e,t)=>{if(Ul.Check(e,t))return t;let r=`Typebox schema validation failed:
${[...Ul.Errors(e,t)].map(n=>`${n.path} ${n.message}`).join(`
`)}`;throw new Error(r)},"assertShape");var z3=new WeakMap;function H3(e,t){if(e==null||typeof e!="object")return String(e);let r,n="",i=0,s=Object.prototype.toString.call(e);if(s!=="[object RegExp]"&&s!=="[object Date]"&&z3.has(e))return z3.get(e);switch(z3.set(e,"~"+ ++t),s){case"[object Set]":r=Array.from(e);case"[object Array]":for(r||(r=e),n+="a";i<r.length;n+=H3(r[i++],t));break;case"[object Object]":for(n+="o",r=Object.keys(e).sort();i<r.length;n+=r[i]+H3(e[r[i++]],t));break;case"[object Map]":for(n+="o",r=Array.from(e.keys()).sort();i<r.length;n+=r[i]+H3(e.get(r[i++]),t));break;case"[object Date]":return"d"+ +e;case"[object RegExp]":return"r"+e.source+e.flags;default:throw new Error(`Unsupported value ${e}`)}return z3.set(e,n),n}o(H3,"t");function V3(e){return H3(e,0)}o(V3,"r");var vE=new WeakMap;function $U(e,t,r=V3(t)){let n,i,s=vE.get(e);s||(vE.set(e,s=[[],i=[],n=[]]),queueMicrotask(function(){let u,f=0;function d(m){for(;u=n[f++];u.r(m));}o(d,"o"),vE.delete(e),e(i).then(function(m){if(m.length!==n.length)return d(new Error("loader value length mismatch"));for(;u=m[f++],f<=m.length;u instanceof Error?n[f-1].r(u):n[f-1].s(u));},d)}));let a=s[0].indexOf(r);if(~a)return s[2][a].p;let l=s[0].push(r)-1,c=s[2][l]={};return s[1][l]=t,c.p=new Promise(function(u,f){c.s=u,c.r=f})}o($U,"n");var WU=new WeakMap;function Rae(e,t,r,n=V3(r)){if(t||(t=WU.get(e)),t||WU.set(e,t=new Map),t.has(n))return Promise.resolve(t.get(n));let i=$U(e,r,n);return t.set(n,i),i.catch(()=>t.delete(n)),i}o(Rae,"n");function qU(e,t){return function(r,n){return Rae(e,t,r,n)}}o(qU,"o");var uB=Lt(rB(),1);var Gg=o(e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},"assertValidPattern");var Mae={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},zg=o(e=>e.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),Uae=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),nB=o(e=>e.join(""),"rangesToString"),iB=o((e,t)=>{let r=t;if(e.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],i=[],s=r+1,a=!1,l=!1,c=!1,u=!1,f=r,d="";e:for(;s<e.length;){let h=e.charAt(s);if((h==="!"||h==="^")&&s===r+1){u=!0,s++;continue}if(h==="]"&&a&&!c){f=s+1;break}if(a=!0,h==="\\"&&!c){c=!0,s++;continue}if(h==="["&&!c){for(let[b,[x,_,y]]of Object.entries(Mae))if(e.startsWith(b,s)){if(d)return["$.",!1,e.length-r,!0];s+=b.length,y?i.push(x):n.push(x),l=l||_;continue e}}if(c=!1,d){h>d?n.push(zg(d)+"-"+zg(h)):h===d&&n.push(zg(h)),d="",s++;continue}if(e.startsWith("-]",s+1)){n.push(zg(h+"-")),s+=2;continue}if(e.startsWith("-",s+1)){d=h,s+=2;continue}n.push(zg(h)),s++}if(f<s)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,e.length-r,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!u){let h=n[0].length===2?n[0].slice(-1):n[0];return[Uae(h),!1,f-r,!1]}let m="["+(u?"^":"")+nB(n)+"]",p="["+(u?"":"^")+nB(i)+"]";return[n.length&&i.length?"("+m+"|"+p+")":n.length?m:p,l,f-r,!0]},"parseClass");var Ac=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape");var Bae=new Set(["!","?","+","*","@"]),oB=o(e=>Bae.has(e),"isExtglobType"),jae="(?!(?:^|/)\\.\\.?(?:$|/))",K3="(?!\\.)",$ae=new Set(["[","."]),Wae=new Set(["..","."]),qae=new Set("().*{}+?[]^$\\!"),Gae=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),CE="[^/]",sB=CE+"*?",aB=CE+"+?",Vm=class e{static{o(this,"AST")}type;#e;#t;#i=!1;#r=[];#n;#o;#s;#l=!1;#a;#c;#f=!1;constructor(t,r,n={}){this.type=t,t&&(this.#t=!0),this.#n=r,this.#e=this.#n?this.#n.#e:this,this.#a=this.#e===this?n:this.#e.#a,this.#s=this.#e===this?[]:this.#e.#s,t==="!"&&!this.#e.#l&&this.#s.push(this),this.#o=this.#n?this.#n.#r.length:0}get hasMagic(){if(this.#t!==void 0)return this.#t;for(let t of this.#r)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#t=!0;return this.#t}toString(){return this.#c!==void 0?this.#c:this.type?this.#c=this.type+"("+this.#r.map(t=>String(t)).join("|")+")":this.#c=this.#r.map(t=>String(t)).join("")}#m(){if(this!==this.#e)throw new Error("should only call on root");if(this.#l)return this;this.toString(),this.#l=!0;let t;for(;t=this.#s.pop();){if(t.type!=="!")continue;let r=t,n=r.#n;for(;n;){for(let i=r.#o+1;!n.type&&i<n.#r.length;i++)for(let s of t.#r){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(n.#r[i])}r=n,n=r.#n}}return this}push(...t){for(let r of t)if(r!==""){if(typeof r!="string"&&!(r instanceof e&&r.#n===this))throw new Error("invalid part: "+r);this.#r.push(r)}}toJSON(){let t=this.type===null?this.#r.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#r.map(r=>r.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#l&&this.#n?.type==="!")&&t.push({}),t}isStart(){if(this.#e===this)return!0;if(!this.#n?.isStart())return!1;if(this.#o===0)return!0;let t=this.#n;for(let r=0;r<this.#o;r++){let n=t.#r[r];if(!(n instanceof e&&n.type==="!"))return!1}return!0}isEnd(){if(this.#e===this||this.#n?.type==="!")return!0;if(!this.#n?.isEnd())return!1;if(!this.type)return this.#n?.isEnd();let t=this.#n?this.#n.#r.length:0;return this.#o===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let r=new e(this.type,t);for(let n of this.#r)r.copyIn(n);return r}static#u(t,r,n,i){let s=!1,a=!1,l=-1,c=!1;if(r.type===null){let p=n,g="";for(;p<t.length;){let h=t.charAt(p++);if(s||h==="\\"){s=!s,g+=h;continue}if(a){p===l+1?(h==="^"||h==="!")&&(c=!0):h==="]"&&!(p===l+2&&c)&&(a=!1),g+=h;continue}else if(h==="["){a=!0,l=p,c=!1,g+=h;continue}if(!i.noext&&oB(h)&&t.charAt(p)==="("){r.push(g),g="";let b=new e(h,r);p=e.#u(t,b,p,i),r.push(b);continue}g+=h}return r.push(g),p}let u=n+1,f=new e(null,r),d=[],m="";for(;u<t.length;){let p=t.charAt(u++);if(s||p==="\\"){s=!s,m+=p;continue}if(a){u===l+1?(p==="^"||p==="!")&&(c=!0):p==="]"&&!(u===l+2&&c)&&(a=!1),m+=p;continue}else if(p==="["){a=!0,l=u,c=!1,m+=p;continue}if(oB(p)&&t.charAt(u)==="("){f.push(m),m="";let g=new e(p,f);f.push(g),u=e.#u(t,g,u,i);continue}if(p==="|"){f.push(m),m="",d.push(f),f=new e(null,r);continue}if(p===")")return m===""&&r.#r.length===0&&(r.#f=!0),f.push(m),m="",r.push(...d,f),u;m+=p}return r.type=null,r.#t=void 0,r.#r=[t.substring(n-1)],u}static fromGlob(t,r={}){let n=new e(null,void 0,r);return e.#u(t,n,0,r),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();let t=this.toString(),[r,n,i,s]=this.toRegExpSource();if(!(i||this.#t||this.#a.nocase&&!this.#a.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return n;let l=(this.#a.nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${r}$`,l),{_src:r,_glob:t})}get options(){return this.#a}toRegExpSource(t){let r=t??!!this.#a.dot;if(this.#e===this&&this.#m(),!this.type){let c=this.isStart()&&this.isEnd(),u=this.#r.map(p=>{let[g,h,b,x]=typeof p=="string"?e.#p(p,this.#t,c):p.toRegExpSource(t);return this.#t=this.#t||b,this.#i=this.#i||x,g}).join(""),f="";if(this.isStart()&&typeof this.#r[0]=="string"&&!(this.#r.length===1&&Wae.has(this.#r[0]))){let g=$ae,h=r&&g.has(u.charAt(0))||u.startsWith("\\.")&&g.has(u.charAt(2))||u.startsWith("\\.\\.")&&g.has(u.charAt(4)),b=!r&&!t&&g.has(u.charAt(0));f=h?jae:b?K3:""}let d="";return this.isEnd()&&this.#e.#l&&this.#n?.type==="!"&&(d="(?:$|\\/)"),[f+u+d,Ac(u),this.#t=!!this.#t,this.#i]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",s=this.#d(r);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){let c=this.toString();return this.#r=[c],this.type=null,this.#t=void 0,[c,Ac(this.toString()),!1,!1]}let a=!n||t||r||!K3?"":this.#d(!0);a===s&&(a=""),a&&(s=`(?:${s})(?:${a})*?`);let l="";if(this.type==="!"&&this.#f)l=(this.isStart()&&!r?K3:"")+aB;else{let c=this.type==="!"?"))"+(this.isStart()&&!r&&!t?K3:"")+sB+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&a?")":this.type==="*"&&a?")?":`)${this.type}`;l=i+s+c}return[l,Ac(s),this.#t=!!this.#t,this.#i]}#d(t){return this.#r.map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,i,s,a]=r.toRegExpSource(t);return this.#i=this.#i||a,n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")}static#p(t,r,n=!1){let i=!1,s="",a=!1;for(let l=0;l<t.length;l++){let c=t.charAt(l);if(i){i=!1,s+=(qae.has(c)?"\\":"")+c;continue}if(c==="\\"){l===t.length-1?s+="\\\\":i=!0;continue}if(c==="["){let[u,f,d,m]=iB(t,l);if(d){s+=u,a=a||f,l+=d-1,r=r||m;continue}}if(c==="*"){n&&t==="*"?s+=aB:s+=sB,r=!0;continue}if(c==="?"){s+=CE,r=!0;continue}s+=Gae(c)}return[s,Ac(t),!!r,a]}};var IE=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),"escape");var ai=o((e,t,r={})=>(Gg(t),!r.nocomment&&t.charAt(0)==="#"?!1:new Km(t,r).match(e)),"minimatch"),zae=/^\*+([^+@!?\*\[\(]*)$/,Hae=o(e=>t=>!t.startsWith(".")&&t.endsWith(e),"starDotExtTest"),Vae=o(e=>t=>t.endsWith(e),"starDotExtTestDot"),Kae=o(e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),"starDotExtTestNocase"),Yae=o(e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),"starDotExtTestNocaseDot"),Jae=/^\*+\.\*+$/,Xae=o(e=>!e.startsWith(".")&&e.includes("."),"starDotStarTest"),Zae=o(e=>e!=="."&&e!==".."&&e.includes("."),"starDotStarTestDot"),Qae=/^\.\*+$/,ele=o(e=>e!=="."&&e!==".."&&e.startsWith("."),"dotStarTest"),tle=/^\*+$/,rle=o(e=>e.length!==0&&!e.startsWith("."),"starTest"),nle=o(e=>e.length!==0&&e!=="."&&e!=="..","starTestDot"),ile=/^\?+([^+@!?\*\[\(]*)?$/,ole=o(([e,t=""])=>{let r=fB([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocase"),sle=o(([e,t=""])=>{let r=dB([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocaseDot"),ale=o(([e,t=""])=>{let r=dB([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTestDot"),lle=o(([e,t=""])=>{let r=fB([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTest"),fB=o(([e])=>{let t=e.length;return r=>r.length===t&&!r.startsWith(".")},"qmarksTestNoExt"),dB=o(([e])=>{let t=e.length;return r=>r.length===t&&r!=="."&&r!==".."},"qmarksTestNoExtDot"),mB=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",lB={win32:{sep:"\\"},posix:{sep:"/"}},cle=mB==="win32"?lB.win32.sep:lB.posix.sep;ai.sep=cle;var Cs=Symbol("globstar **");ai.GLOBSTAR=Cs;var ule="[^/]",fle=ule+"*?",dle="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",mle="(?:(?!(?:\\/|^)\\.).)*?",ple=o((e,t={})=>r=>ai(r,e,t),"filter");ai.filter=ple;var Es=o((e,t={})=>Object.assign({},e,t),"ext"),gle=o(e=>{if(!e||typeof e!="object"||!Object.keys(e).length)return ai;let t=ai;return Object.assign(o((n,i,s={})=>t(n,i,Es(e,s)),"m"),{Minimatch:class extends t.Minimatch{static{o(this,"Minimatch")}constructor(i,s={}){super(i,Es(e,s))}static defaults(i){return t.defaults(Es(e,i)).Minimatch}},AST:class extends t.AST{static{o(this,"AST")}constructor(i,s,a={}){super(i,s,Es(e,a))}static fromGlob(i,s={}){return t.AST.fromGlob(i,Es(e,s))}},unescape:o((n,i={})=>t.unescape(n,Es(e,i)),"unescape"),escape:o((n,i={})=>t.escape(n,Es(e,i)),"escape"),filter:o((n,i={})=>t.filter(n,Es(e,i)),"filter"),defaults:o(n=>t.defaults(Es(e,n)),"defaults"),makeRe:o((n,i={})=>t.makeRe(n,Es(e,i)),"makeRe"),braceExpand:o((n,i={})=>t.braceExpand(n,Es(e,i)),"braceExpand"),match:o((n,i,s={})=>t.match(n,i,Es(e,s)),"match"),sep:t.sep,GLOBSTAR:Cs})},"defaults");ai.defaults=gle;var pB=o((e,t={})=>(Gg(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,uB.default)(e)),"braceExpand");ai.braceExpand=pB;var hle=o((e,t={})=>new Km(e,t).makeRe(),"makeRe");ai.makeRe=hle;var xle=o((e,t,r={})=>{let n=new Km(t,r);return e=e.filter(i=>n.match(i)),n.options.nonull&&!e.length&&e.push(t),e},"match");ai.match=xle;var cB=/[?*]|[+@!]\(.*?\)|\[|\]/,ble=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),Km=class{static{o(this,"Minimatch")}options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,r={}){Gg(t),r=r||{},this.options=r,this.pattern=t,this.platform=r.platform||mB,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let r of t)if(typeof r!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((s,a,l)=>{if(this.isWindows&&this.windowsNoMagicRoot){let c=s[0]===""&&s[1]===""&&(s[2]==="?"||!cB.test(s[2]))&&!cB.test(s[3]),u=/^[a-z]:/i.test(s[0]);if(c)return[...s.slice(0,4),...s.slice(4).map(f=>this.parse(f))];if(u)return[s[0],...s.slice(1).map(f=>this.parse(f))]}return s.map(c=>this.parse(c))});if(this.debug(this.pattern,i),this.set=i.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){let a=this.set[s];a[0]===""&&a[1]===""&&this.globParts[s][2]==="?"&&typeof a[3]=="string"&&/^[a-z]:$/i.test(a[3])&&(a[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let n=0;n<t.length;n++)for(let i=0;i<t[n].length;i++)t[n][i]==="**"&&(t[n][i]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):r>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let i=n;for(;r[i+1]==="**";)i++;i!==n&&r.splice(n,i-n)}return r})}levelOneOptimize(t){return t.map(r=>(r=r.reduce((n,i)=>{let s=n[n.length-1];return i==="**"&&s==="**"?n:i===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(n.pop(),n):(n.push(i),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let i=1;i<t.length-1;i++){let s=t[i];i===1&&s===""&&t[0]===""||(s==="."||s==="")&&(r=!0,t.splice(i,1),i--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(r=!0,t.pop())}let n=0;for(;(n=t.indexOf("..",n+1))!==-1;){let i=t[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(r=!0,t.splice(n-1,2),n-=2)}}while(r);return t.length===0?[""]:t}firstPhasePreProcess(t){let r=!1;do{r=!1;for(let n of t){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let a=i;for(;n[a+1]==="**";)a++;a>i&&n.splice(i+1,a-i);let l=n[i+1],c=n[i+2],u=n[i+3];if(l!==".."||!c||c==="."||c===".."||!u||u==="."||u==="..")continue;r=!0,n.splice(i,1);let f=n.slice(0);f[i]="**",t.push(f),i--}if(!this.preserveMultipleSlashes){for(let a=1;a<n.length-1;a++){let l=n[a];a===1&&l===""&&n[0]===""||(l==="."||l==="")&&(r=!0,n.splice(a,1),a--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let s=0;for(;(s=n.indexOf("..",s+1))!==-1;){let a=n[s-1];if(a&&a!=="."&&a!==".."&&a!=="**"){r=!0;let c=s===1&&n[s+1]==="**"?["."]:[];n.splice(s-1,2,...c),n.length===0&&n.push(""),s-=2}}}}while(r);return t}secondPhasePreProcess(t){for(let r=0;r<t.length-1;r++)for(let n=r+1;n<t.length;n++){let i=this.partsMatch(t[r],t[n],!this.preserveMultipleSlashes);if(i){t[r]=[],t[n]=i;break}}return t.filter(r=>r.length)}partsMatch(t,r,n=!1){let i=0,s=0,a=[],l="";for(;i<t.length&&s<r.length;)if(t[i]===r[s])a.push(l==="b"?r[s]:t[i]),i++,s++;else if(n&&t[i]==="**"&&r[s]===t[i+1])a.push(t[i]),i++;else if(n&&r[s]==="**"&&t[i]===r[s+1])a.push(r[s]),s++;else if(t[i]==="*"&&r[s]&&(this.options.dot||!r[s].startsWith("."))&&r[s]!=="**"){if(l==="b")return!1;l="a",a.push(t[i]),i++,s++}else if(r[s]==="*"&&t[i]&&(this.options.dot||!t[i].startsWith("."))&&t[i]!=="**"){if(l==="a")return!1;l="b",a.push(r[s]),i++,s++}else return!1;return t.length===r.length&&a}parseNegate(){if(this.nonegate)return;let t=this.pattern,r=!1,n=0;for(let i=0;i<t.length&&t.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=t.slice(n)),this.negate=r}matchOne(t,r,n=!1){let i=this.options;if(this.isWindows){let h=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),b=!h&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),x=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),_=!x&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),y=b?3:h?0:void 0,v=_?3:x?0:void 0;if(typeof y=="number"&&typeof v=="number"){let[I,R]=[t[y],r[v]];I.toLowerCase()===R.toLowerCase()&&(r[v]=I,v>y?r=r.slice(v):y>v&&(t=t.slice(y)))}}let{optimizationLevel:s=1}=this.options;s>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var a=0,l=0,c=t.length,u=r.length;a<c&&l<u;a++,l++){this.debug("matchOne loop");var f=r[l],d=t[a];if(this.debug(r,f,d),f===!1)return!1;if(f===Cs){this.debug("GLOBSTAR",[r,f,d]);var m=a,p=l+1;if(p===u){for(this.debug("** at the end");a<c;a++)if(t[a]==="."||t[a]===".."||!i.dot&&t[a].charAt(0)===".")return!1;return!0}for(;m<c;){var g=t[m];if(this.debug(`
globstar while`,t,m,r,p,g),this.matchOne(t.slice(m),r.slice(p),n))return this.debug("globstar found match!",m,c,g),!0;if(g==="."||g===".."||!i.dot&&g.charAt(0)==="."){this.debug("dot detected!",t,m,r,p);break}this.debug("globstar swallow a segment, and continue"),m++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,m,r,p),m===c))}let h;if(typeof f=="string"?(h=d===f,this.debug("string match",f,d,h)):(h=f.test(d),this.debug("pattern match",f,d,h)),!h)return!1}if(a===c&&l===u)return!0;if(a===c)return n;if(l===u)return a===c-1&&t[a]==="";throw new Error("wtf?")}braceExpand(){return pB(this.pattern,this.options)}parse(t){Gg(t);let r=this.options;if(t==="**")return Cs;if(t==="")return"";let n,i=null;(n=t.match(tle))?i=r.dot?nle:rle:(n=t.match(zae))?i=(r.nocase?r.dot?Yae:Kae:r.dot?Vae:Hae)(n[1]):(n=t.match(ile))?i=(r.nocase?r.dot?sle:ole:r.dot?ale:lle)(n):(n=t.match(Jae))?i=r.dot?Zae:Xae:(n=t.match(Qae))&&(i=ele);let s=Vm.fromGlob(t,this.options).toMMPattern();return i&&typeof s=="object"&&Reflect.defineProperty(s,"test",{value:i}),s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?fle:r.dot?dle:mle,i=new Set(r.nocase?["i"]:[]),s=t.map(c=>{let u=c.map(f=>{if(f instanceof RegExp)for(let d of f.flags.split(""))i.add(d);return typeof f=="string"?ble(f):f===Cs?Cs:f._src});return u.forEach((f,d)=>{let m=u[d+1],p=u[d-1];f!==Cs||p===Cs||(p===void 0?m!==void 0&&m!==Cs?u[d+1]="(?:\\/|"+n+"\\/)?"+m:u[d]=n:m===void 0?u[d-1]=p+"(?:\\/|"+n+")?":m!==Cs&&(u[d-1]=p+"(?:\\/|\\/"+n+"\\/)"+m,u[d+1]=Cs))}),u.filter(f=>f!==Cs).join("/")}).join("|"),[a,l]=t.length>1?["(?:",")"]:["",""];s="^"+a+s+l+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,r=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;let n=this.options;this.isWindows&&(t=t.split("\\").join("/"));let i=this.slashSplit(t);this.debug(this.pattern,"split",i);let s=this.set;this.debug(this.pattern,"set",s);let a=i[i.length-1];if(!a)for(let l=i.length-2;!a&&l>=0;l--)a=i[l];for(let l=0;l<s.length;l++){let c=s[l],u=i;if(n.matchBase&&c.length===1&&(u=[a]),this.matchOne(u,c,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(t){return ai.defaults(t).Minimatch}};ai.AST=Vm;ai.Minimatch=Km;ai.escape=IE;ai.unescape=Ac;var SE="contentExclusion",Y3=class extends W3{static{o(this,"CopilotContentExclusion")}#e;#t=new _r(1e4);#i=new _r(200);constructor(t){super(),this.#e=t}async evaluate(t,r){try{t=Zc(t).toString();let n=await this.getGitRepo({uri:t}),i=await this.#r(n?.url??_f.all);if(!i)return $3;let s=n?.baseFolder?.uri??"file://",a=this.evaluateFilePathRules(t,s,i);if(a.isBlocked)return a;let l=this.evaluateTextBasedRules(t,i,r);if(l.isBlocked)return l}catch(n){return al.exception(this.#e,n,`${SE}.evaluate`),UU}return $g}evaluateFilePathRules(t,r,n){let i=t;if(this.#t.has(i))return this.#t.get(i);let s=$g,a,l=y6(t.replace(r,""));e:for(let c of n)for(let u of c.paths)if(ai(l,u,{nocase:!0,matchBase:!0,nonegate:!0,dot:!0})){s=wE(c,"FILE_BLOCKED_PATH"),a=u;break e}return al.debug(this.#e,`Evaluated path-based exclusion rules for <${t}>`,{result:s,baseUri:r,fileName:l,matchingPattern:a}),this.#t.set(i,s),s}evaluateTextBasedRules(t,r,n){let i=r.filter(l=>l.ifAnyMatch),s=r.filter(l=>l.ifNoneMatch);if(!n||i.length===0&&s.length===0)return $g;let a=this.evaluateFileContent(i,s,n);return al.debug(this.#e,`Evaluated text-based exclusion rules for <${t}>`,{result:a}),a}evaluateFileContent(t,r,n){for(let i of t)if(i.ifAnyMatch&&i.ifAnyMatch.length>0&&i.ifAnyMatch.map(a=>gB(a)).some(a=>a.test(n)))return wE(i,"FILE_BLOCKED_TEXT_BASED");for(let i of r)if(i.ifNoneMatch&&i.ifNoneMatch.length>0&&!i.ifNoneMatch.map(a=>gB(a)).some(a=>a.test(n)))return wE(i,"FILE_BLOCKED_TEXT_BASED");return $g}async refresh(){try{let t=[...this.#i.keys()];this.reset(),await Promise.all(t.map(r=>this.#o(r)))}catch(t){p0(this.#e,t,`${SE}.refresh`)}}reset(){this.#i.clear(),this.#t.clear()}async#r(t){if(this.#n?.length)return this.#n;let r=await this.#o(t.toLowerCase());if(r.length!==0)return r}#n;setTestingRules(t){this.#n=t}#o=qU(async t=>{let r=await this.#e.get(Yr).getGitHubSession();if(!r)throw new yl("No token found");let n=r.devOverride?.contentRestrictionsUrl??"copilot_internal/content_exclusion",i=new URL(n,r.apiUrl),s=t.includes(_f.all);t.filter(u=>u!==_f.all).length>0&&i.searchParams.set("repos",t.filter(u=>u!==_f.all).join(",")),i.searchParams.set("scope",s?_f.all:_f.repo);let l=await Cu(this.#e,r,i.href),c=await l.json();if(!l.ok){if(l.status===404)return Array.from(t,()=>[]);throw this.#s("fetch.error",{message:c.message}),new ga(l)}return this.#s("fetch.success"),jU(Ele,c).map(u=>u.rules)},this.#i);async getGitRepo(t){let n=await this.#e.get(ll).getRepo(h0(t));if(!n||!n?.remote)return;let i=n.remote.getUrlForApi();if(i)return{baseFolder:n.baseFolder,url:i}}#s(t,r,n){Se(this.#e,`${SE}.${t}`,et.createAndMarkAsIssued(r,n))}};function gB(e){if(!e.startsWith("/")&&!e.endsWith("/"))return new RegExp(e);let t=e.slice(1,e.lastIndexOf("/")),r=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,r)}o(gB,"stringToRegex");function wE(e,t){return{isBlocked:!0,message:`Your ${e.source.type.toLowerCase()} '${e.source.name}' has disabled Copilot for this file`,reason:t}}o(wE,"fileBlockedEvaluationResult");var _le=j.Object({name:j.String(),type:j.String()}),yle=j.Object({paths:j.Array(j.String()),ifNoneMatch:j.Optional(j.Array(j.String())),ifAnyMatch:j.Optional(j.Array(j.String())),source:_le}),vle=j.Array(yle),Tle=j.Object({rules:vle,last_updated_at:j.String(),scope:j.String()}),Ele=j.Array(Tle);var Is=class{constructor(t){this.ctx=t;this.#e=!1;this.#t=new Y3(this.ctx);this.evaluateResultCache=new Map;this.onDidChangeActiveTextEditor=o(async t=>{if(!this.#e)return;if(!t){this.updateStatusIcon(!1);return}let r=await this.ctx.get(Gt).getTextDocumentValidation(t.document),n=r.status==="invalid",i=r.status==="invalid"?r.reason:void 0;this.updateStatusIcon(n,i)},"onDidChangeActiveTextEditor");this.ctx.get(Gt).onDidFocusTextDocument(this.onDidChangeActiveTextEditor),dn(this.ctx,r=>{this.#e=r.envelope.copilotignore_enabled??!1,this.evaluateResultCache.clear(),this.#t.refresh()})}static{o(this,"CopilotContentExclusionManager")}#e;#t;get enabled(){return this.#e}async evaluate(t,r,n){let i=D2(t)!==void 0;if(i||al.debug(this.ctx,`Unsupported file URI <${t}>`),!this.#e||!i)return{isBlocked:!1};let s=[],a=o(async(u,f)=>{let d=Date.now(),m=await f.evaluate(t,r),p=Date.now();return s.push({key:u,result:m,elapsedMs:p-d}),m},"track"),c=(await Promise.all([a("contentExclusion.evaluate",this.#t)])).find(u=>u?.isBlocked)??{isBlocked:!1};try{for(let u of s)this.#i(u.key,t,u.result,u.elapsedMs)}catch(u){al.error(this.ctx,"Error tracking telemetry",u)}return n==="UPDATE"&&this.updateStatusIcon(c.isBlocked,c.message),c}updateStatusIcon(t,r){this.#e&&(t?this.ctx.get(Br).setInactive(r??"Copilot is disabled"):this.ctx.get(Br).clearInactive())}#i(t,r,n,i){let s=r+t;if(this.evaluateResultCache.get(s)===n.reason)return!1;if(this.evaluateResultCache.set(s,n.reason??"UNKNOWN"),n.reason===$3.reason)return al.debug(this.ctx,`[${t}] No matching policy for this repository. uri: ${r}`),!1;let l={isBlocked:n.isBlocked?"true":"false",reason:n.reason??"UNKNOWN"},c={elapsedMs:i};return Se(this.ctx,t,et.createAndMarkAsIssued(l,c)),Se(this.ctx,t,et.createAndMarkAsIssued({...l,path:r},c),1),al.debug(this.ctx,`[${t}] ${r}`,n),!0}setTestingRules(t){this.#t.setTestingRules(t)}set __contentExclusions(t){this.#t=t}get __contentExclusions(){return this.#t}};async function yf(e,t,r){let n=await e.get(Is).evaluate(t.uri,r);return n.isBlocked?{status:"invalid",reason:n.message??"Document is blocked by repository policy"}:{status:"valid"}}o(yf,"isDocumentValid");var Gt=class{constructor(t){this.ctx=t}static{o(this,"TextDocumentManager")}async textDocuments(){let t=this.getTextDocumentsUnsafe(),r=[];for(let n of t)(await yf(this.ctx,n,n.getText())).status==="valid"&&r.push(n);return r}getTextDocumentUnsafe(t){let r=vo(t.uri);return this.getTextDocumentsUnsafe().find(n=>n.uri===r)}async getTextDocument(t){return this.getTextDocumentWithValidation(t).then(r=>{if(r.status==="valid")return r.document})}validateTextDocument(t,r){return yf(this.ctx,t,r)}async getTextDocumentValidation(t){try{let r=this.getTextDocumentUnsafe(t)?.getText()??await this.readTextDocumentFromDisk(t.uri);return r===void 0?this.notFoundResult(t):this.validateTextDocument(t,r)}catch{return this.notFoundResult(t)}}async getTextDocumentWithValidation(t){let r=this.getTextDocumentUnsafe(t);if(!r)return this.notFoundResult(t);let n=await this.validateTextDocument(t,r.getText());return n.status==="valid"?{status:"valid",document:r}:n}notFoundResult({uri:t}){return{status:"notfound",message:`Document for URI could not be found: ${t}`}}async readTextDocumentFromDisk(t){try{if((await this.ctx.get(Zr).stat(t)).size>5*1024*1024)return}catch{return}return await this.ctx.get(Zr).readFileString(t)}getWorkspaceFolder(t){let r=vo(t.uri);return this.getWorkspaceFolders().find(n=>r.startsWith(vo(n.uri)))}getRelativePath(t){if(t.uri.startsWith("untitled:"))return;let r=vo(t.uri);for(let n of this.getWorkspaceFolders()){let i=vo(n.uri).replace(/[#?].*/,"").replace(/\/?$/,"/");if(r.startsWith(i))return r.slice(i.length)}return Il(r)}};var na=class{constructor(t){this.ctx=t}static{o(this,"FileReader")}getRelativePath(t){return this.ctx.get(Gt).getRelativePath(t)??Il(t.uri)}getOrReadTextDocument(t){return this.readFile(t.uri)}getOrReadTextDocumentWithFakeClientProperties(t){return this.readFile(t.uri)}async readFile(t){let n=await this.ctx.get(Gt).getTextDocumentWithValidation({uri:t});if(n.status!=="notfound")return n;try{if(await this.getFileSizeMB(t)>1)return{status:"notfound",message:"File too large"};let s=await this.doReadFile(t),a=await yf(this.ctx,{uri:t},s);return a.status==="valid"?{status:"valid",document:bf.create(t,"UNKNOWN",-1,s)}:a}catch{return{status:"notfound",message:"File not found"}}}async doReadFile(t){return await this.ctx.get(Zr).readFileString(t)}async getFileSizeMB(t){return(await this.ctx.get(Zr).stat(t)).size/1024/1024}};var Nc=class{constructor(){this.resolve=o(()=>{},"resolve");this.reject=o(()=>{},"reject");this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}static{o(this,"Deferred")}};function vf(e,t=void 0){return new Promise(r=>setTimeout(()=>r(t),e))}o(vf,"delay");var PE=class{constructor(){this.observers=new Set}static{o(this,"Subject")}subscribe(t){return this.observers.add(t),()=>this.observers.delete(t)}next(t){for(let r of this.observers)r.next(t)}error(t){for(let r of this.observers)r.error?.(t)}complete(){for(let t of this.observers)t.complete?.()}},X3=class extends PE{static{o(this,"ReplaySubject")}subscribe(t){let r=super.subscribe(t);return this._value!==void 0&&t.next(this._value),r}next(t){this._value=t,super.next(t)}};var Ko=class{constructor(t){this.ctx=t;this.#e=new wt("AsyncCompletionManager");this.requests=new _r(100);this.mostRecentRequestId=""}static{o(this,"AsyncCompletionManager")}#e;clear(){this.requests.clear()}shouldWaitForAsyncCompletions(t,r){for(let[n,i]of this.requests)if(RE(t,r,i))return!0;return!1}updateCompletion(t,r){let n=this.requests.get(t);n!==void 0&&(n.partialCompletionText=r,n.subject.next(n))}queueCompletionRequest(t,r,n,i,s){this.#e.debug(this.ctx,`[${t}] Queueing async completion request:`,r.substring(r.lastIndexOf(`
`)+1));let a=new X3;return this.requests.set(t,{state:2,cancellationTokenSource:i,headerRequestId:t,prefix:r,prompt:n,subject:a}),s.then(l=>{if(this.requests.delete(t),l.type!=="success"){this.#e.debug(this.ctx,`[${t}] Request failed with`,l.reason),a.error(l.reason);return}let c={cancellationTokenSource:i,headerRequestId:t,prefix:r,prompt:n,subject:a,choice:l.value[0],result:l,state:0,allChoicesPromise:l.value[1]};this.requests.set(t,c),a.next(c),a.complete()}).catch(l=>{this.#e.error(this.ctx,`[${t}] Request errored with`,l),this.requests.delete(t),a.error(l)})}getFirstMatchingRequestWithTimeout(t,r,n,i,s){let a=this.ctx.get(Be).asyncCompletionsTimeout(s);return a<0?(this.#e.debug(this.ctx,`[${t}] Waiting for completions without timeout`),this.getFirstMatchingRequest(t,r,n,i)):(this.#e.debug(this.ctx,`[${t}] Waiting for completions with timeout of ${a}ms`),Promise.race([this.getFirstMatchingRequest(t,r,n,i),new Promise(l=>setTimeout(()=>l(null),a))]).then(l=>{if(l===null){this.#e.debug(this.ctx,`[${t}] Timed out waiting for completion`);return}return l}))}async getFirstMatchingRequest(t,r,n,i){i||(this.mostRecentRequestId=t);let s=!1,a=new Nc,l=new Map,c=o(f=>()=>{let d=l.get(f);d!==void 0&&(d(),l.delete(f),!s&&l.size===0&&(s=!0,this.#e.debug(this.ctx,`[${t}] No matching completions found`),a.resolve(void 0)))},"finishRequest"),u=o(f=>{if(RE(r,n,f)){if(f.state===0){let d=r.substring(f.prefix.length),{completionText:m}=f.choice;if(!m.startsWith(d)||m.length<=d.length){c(f.headerRequestId)();return}m=m.substring(d.length),f.choice.telemetryData.measurements.foundOffset=d.length,this.#e.debug(this.ctx,`[${t}] Found completion at offset ${d.length}: ${JSON.stringify(m)}`),a.resolve([{...f.choice,completionText:m},f.allChoicesPromise]),s=!0}}else this.cancelRequest(t,f),c(f.headerRequestId)()},"next");for(let[f,d]of this.requests)RE(r,n,d)?l.set(f,d.subject.subscribe({next:u,error:c(f),complete:c(f)})):this.cancelRequest(t,d);return a.promise.finally(()=>{for(let f of l.values())f()})}cancelRequest(t,r){t===this.mostRecentRequestId&&r.state!==0&&(this.#e.debug(this.ctx,`[${t}] Cancelling request: ${r.headerRequestId}`),r.cancellationTokenSource.cancel(),this.requests.delete(r.headerRequestId))}};function RE(e,t,r){if(r.prompt.suffix!==t.suffix||!e.startsWith(r.prefix))return!1;let n=e.substring(r.prefix.length);return r.state===0?r.choice.completionText.startsWith(n)&&r.choice.completionText.trimEnd().length>n.length:r.partialCompletionText===void 0?!0:r.partialCompletionText.startsWith(n)}o(RE,"isCandidate");var Vg=class{constructor(t){this.maxSize=t;this.root=new Hg;this.leafNodes=new Set}static{o(this,"LRURadixTrie")}set(t,r){let{node:n,remainingKey:i}=this.findClosestNode(t);if(i.length>0){for(let[s,a]of n.children)if(s.startsWith(i)){let l=s.slice(0,i.length),c=new Hg;n.removeChild(s),n.addChild(l,c),c.addChild(s.slice(l.length),a),n=c,i=i.slice(l.length);break}if(i.length>0){let s=new Hg;n.addChild(i,s),n=s}}n.value=r,this.leafNodes.add(n),this.leafNodes.size>this.maxSize&&this.evictLeastRecentlyUsed()}findAll(t){return this.findClosestNode(t).stack.map(({node:r,remainingKey:n})=>r.value!==void 0?{remainingKey:n,value:r.value}:void 0).filter(r=>r!==void 0)}delete(t){let{node:r,remainingKey:n}=this.findClosestNode(t);n.length>0||this.deleteNode(r)}findClosestNode(t){let r=!0,n=this.root,i=[{node:n,remainingKey:t}];for(;t.length>0&&r;){r=!1;for(let[s,a]of n.children)if(t.startsWith(s)){t=t.slice(s.length),i.unshift({node:a,remainingKey:t}),n=a,r=!0;break}}return{node:n,remainingKey:t,stack:i}}deleteNode(t){if(t.value=void 0,this.leafNodes.delete(t),t.parent===void 0||t.childCount>1)return;let{node:r,edge:n}=t.parent;if(t.childCount===1){let[s,a]=Array.from(t.children)[0];t.removeChild(s),r.removeChild(n),r.addChild(n+s,a);return}if(r.removeChild(n),r.parent===void 0)return;let i=r.parent;if(r.value===void 0&&r.childCount===1){let[s,a]=Array.from(r.children)[0],l=i.edge+s;r.removeChild(s),i.node.removeChild(i.edge),i.node.addChild(l,a)}}evictLeastRecentlyUsed(){let t=this.findLeastRecentlyUsed();t&&this.deleteNode(t)}findLeastRecentlyUsed(){let t;for(let r of this.leafNodes)(t===void 0||r.touched<t.touched)&&(t=r);return t}},Hg=class{constructor(){this._children=new Map;this._touched=performance.now()}static{o(this,"LRURadixNode")}get children(){return this._children.entries()}get childCount(){return this._children.size}addChild(t,r){this._children.set(t,r),r.parent={node:this,edge:t}}removeChild(t){let r=this._children.get(t);r&&(r.parent=void 0),this._children.delete(t)}get value(){return this.touch(),this._value}set value(t){this.touch(),this._value=t}get touched(){return this._touched}touch(){this._touched=performance.now()}};var ia=class{constructor(){this.cache=new Vg(100)}static{o(this,"CompletionsCache")}findAll(t,r){return this.cache.findAll(t).flatMap(({remainingKey:n,value:i})=>i.content.filter(s=>s.suffix===r&&s.choice.completionText.startsWith(n)&&s.choice.completionText.length>n.length).map(s=>({...s.choice,completionText:s.choice.completionText.slice(n.length),telemetryData:s.choice.telemetryData.extendedBy({},{foundOffset:n.length})})))}append(t,r,n){let i=this.cache.findAll(t);if(i.length>0&&i[0].remainingKey===""){let s=i[0].value.content;this.cache.set(t,{content:[...s,{suffix:r,choice:n}]})}else this.cache.set(t,{content:[{suffix:r,choice:n}]})}clear(){this.cache=new Vg(100)}};var s0=class{constructor(t,r,n){this.languageId=t;this.prefix=r;this.completion=n}static{o(this,"BlockTrimmer")}static isSupported(t){return hi.isSupported(t)}async withParsedStatementTree(t){var n=[];try{let r=c6(n,hi.create(this.languageId,this.prefix+this.completion,this.prefix.length,this.prefix.length+this.completion.length));await r.build();return await t(r)}catch(i){var s=i,a=!0}finally{u6(n,s,a)}}trimmedCompletion(t){return t===void 0?this.completion:this.completion.substring(0,t)}getStatementAtCursor(t){return t.statementAt(Math.max(this.prefix.length-1,0))??t.statements[0]}getContainingBlockOffset(t){let r;if(t&&this.isCompoundStatement(t))r=t;else if(t){let n=t.parent;for(;n&&!this.isCompoundStatement(n);)n=n.parent;r=n}if(r){let n=this.asCompletionOffset(r.node.endIndex);if(n&&this.completion.substring(n).trim()!=="")return n}}hasNonStatementContentAfter(t){if(!t||!t.nextSibling)return!1;let r=this.asCompletionOffset(t.node.endIndex),n=this.asCompletionOffset(t.nextSibling.node.startIndex);return this.completion.substring(Math.max(0,r??0),Math.max(0,n??0)).trim()!==""}asCompletionOffset(t){return t===void 0?void 0:t-this.prefix.length}isCompoundStatement(t){return t.isCompoundStatementType||t.children.length>0}};var Z3=class extends s0{constructor(r,n,i,s=3,a=7){super(r,n,i);this.lineLimit=s;this.lookAhead=a;let l=[...this.completion.matchAll(/\n/g)],c=this.lineLimit+this.lookAhead;l.length>=this.lineLimit&&this.lineLimit>0&&(this.limitOffset=l[this.lineLimit-1].index),l.length>=c&&c>0&&(this.lookAheadOffset=l[c-1].index)}static{o(this,"TerseBlockTrimmer")}async getCompletionTrimOffset(){return await this.withParsedStatementTree(async r=>{let n=r.statementAt(this.stmtStartPos()),i=this.getContainingBlockOffset(n);return i=this.trimAtFirstBlankLine(i),n&&(i=this.trimAtStatementChange(n,i)),this.limitOffset&&this.lookAheadOffset&&(i===void 0||i>this.lookAheadOffset)?this.limitOffset:i})}stmtStartPos(){let r=this.completion.match(/\S/);return r&&r.index!==void 0?this.prefix.length+r.index:Math.max(this.prefix.length-1,0)}trimAtFirstBlankLine(r){let n=[...this.trimmedCompletion(r).matchAll(/\r?\n\s*\r?\n/g)];for(;n.length>0&&(r===void 0||r>n[0].index);){let i=n.shift();if(this.completion.substring(0,i.index).trim()!=="")return i.index}return r}trimAtStatementChange(r,n){let i=this.prefix.length,s=this.prefix.length+(n??this.completion.length);if(r.node.endIndex>i&&this.isCompoundStatement(r))return r.nextSibling&&r.node.endIndex<s?this.asCompletionOffset(r.node.endIndex):n;let a=r,l=r.nextSibling;for(;l&&l.node.endIndex<=s&&!this.hasNonStatementContentAfter(a)&&!this.isCompoundStatement(l);)a=l,l=l.nextSibling;return l&&a.node.endIndex>i&&a.node.endIndex<s?this.asCompletionOffset(a.node.endIndex):n}};async function hB(e,t){var l=[];try{let r=e.getText();let n=e.offsetAt(t);let i=c6(l,hi.create(e.detectedLanguageId,r,0,r.length));await i.build();let s=i.statementAt(n);if(!s)return"non-block";if(!s.isCompoundStatementType&&s.children.length===0)return s.parent&&!s.nextSibling&&s.node.endPosition.row<=t.line?"block-end":s.parent?"mid-block":"non-block";if(s.children.length===0)return"empty-block";let a=s.children[s.children.length-1];if(n<a.node.startIndex)return"mid-block";return"block-end"}catch(c){var u=c,f=!0}finally{u6(l,u,f)}}o(hB,"getBlockPositionType");var cl={" ":1,"!":2,'"':3,"#":4,$:5,"%":6,"&":7,"'":8,"(":9,")":10,"*":11,"+":12,",":13,"-":14,".":15,"/":16,0:17,1:18,2:19,3:20,4:21,5:22,6:23,7:24,8:25,9:26,":":27,";":28,"<":29,"=":30,">":31,"?":32,"@":33,A:34,B:35,C:36,D:37,E:38,F:39,G:40,H:41,I:42,J:43,K:44,L:45,M:46,N:47,O:48,P:49,Q:50,R:51,S:52,T:53,U:54,V:55,W:56,X:57,Y:58,Z:59,"[":60,"\\":61,"]":62,"^":63,_:64,"`":65,a:66,b:67,c:68,d:69,e:70,f:71,g:72,h:73,i:74,j:75,k:76,l:77,m:78,n:79,o:80,p:81,q:82,r:83,s:84,t:85,u:86,v:87,w:88,x:89,y:90,z:91,"{":92,"|":93,"}":94,"~":95};function xB(e){let t;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>427.50000000000006?e[9]>13.500000000000002?e[121]>1e-35?t=-.3793786744885956:e[149]>1e-35?t=-.34717430705356905:t=-.26126834451035963:t=-.2431318366096852:e[5]>888.5000000000001?t=-.20600463586387135:t=-.2568037008471491:e[308]>1e-35?t=-.2363064824497454:e[8]>370.50000000000006?t=-.37470755210284723:t=-.321978453730494:e[3]>24.500000000000004?e[23]>1e-35?e[131]>1e-35?t=-.26259136509758885:t=-.3096719634039438:e[4]>30.500000000000004?e[9]>18.500000000000004?t=-.34254903852890883:e[2]>98.50000000000001?t=-.41585250791146294:t=-.3673574858887241:e[9]>6.500000000000001?t=-.31688079287876225:e[31]>1e-35?t=-.29110977864003823:e[308]>1e-35?t=-.3201411739040839:t=-.36874023066055506:e[8]>691.5000000000001?e[82]>1e-35?t=-.41318393149040566:e[133]>1e-35?t=-.3741272613525161:e[32]>1e-35?t=-.4112378041027121:e[227]>1e-35?t=-.37726615155719356:e[10]>3.5000000000000004?t=-.3164502293560397:t=-.2930071546509045:e[9]>13.500000000000002?t=-.277366858539218:e[308]>1e-35?e[4]>10.500000000000002?t=-.30975610686807187:e[4]>1.5000000000000002?t=-.2549142136728043:t=-.3271325650785176:e[127]>1e-35?e[0]>1937.5000000000002?t=-.2533046188098832:t=-.325520883579:t=-.331628896481776;let r;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?e[9]>13.500000000000002?r=.031231253521808708:r=.05380836288014532:e[5]>423.00000000000006?e[8]>114.50000000000001?r=.06751619128429062:r=.09625089153176467:r=.027268163053989804:e[308]>1e-35?r=.060174483556283756:r=-.049062854038919135:e[3]>24.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?r=-.03969241799174589:r=.01086816842550381:e[31]>1e-35?r=-.003284694817583201:e[9]>6.500000000000001?e[4]>30.500000000000004?r=-.04224490699947552:r=-.011834162944360616:e[308]>1e-35?e[32]>1e-35?r=-.13448447971850278:r=-.019569456707046823:e[19]>1e-35?e[9]>1.5000000000000002?r=-.07256260662659254:e[4]>60.50000000000001?r=-.08227503453609311:r=-.020596416747563847:r=-.07396549241564149:e[8]>691.5000000000001?e[82]>1e-35?r=-.10046536995362734:e[133]>1e-35?r=-.06407649822752297:e[225]>1e-35?r=.08035785003303324:e[92]>1e-35?r=.018901360933204676:e[20]>1e-35?r=.05252546973665552:e[8]>2592.5000000000005?r=-.040543705016462955:r=-.011236043818320725:e[9]>17.500000000000004?r=.025560632674895334:e[308]>1e-35?e[0]>1847.5000000000002?r=.03527165701669741:r=-.0071847350825815035:e[127]>1e-35?r=.024373016379595405:e[9]>2.5000000000000004?r=-.0035090719709448288:r=-.03514829488063766;let n;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?n=.03848674861536988:e[5]>423.00000000000006?e[8]>114.50000000000001?e[9]>56.50000000000001?n=-.003764520033319488:n=.06570817919969299:e[4]>61.50000000000001?n=.028346156293069538:n=.0908154644362606:n=.02445594243234816:e[308]>1e-35?e[8]>65.50000000000001?n=.0019305229020073053:n=.09279357295883772:n=-.04458984161917124:e[3]>24.500000000000004?e[23]>1e-35?n=.0027405390271277013:e[4]>29.500000000000004?e[52]>1e-35?n=.044727478132905285:e[115]>1e-35?n=.10245804828855934:e[9]>17.500000000000004?n=-.03353173647469207:e[2]>98.50000000000001?n=-.10048106638102179:n=-.05484231104348874:e[31]>1e-35?n=.016807537467116516:e[9]>6.500000000000001?n=-.012113620535295137:e[4]>8.500000000000002?e[308]>1e-35?n=-.01882594250504289:n=-.05585658862796076:n=.04279591277938338:e[8]>691.5000000000001?e[82]>1e-35?n=-.09262278043707878:e[133]>1e-35?n=-.058454257768893625:e[32]>1e-35?n=-.09769348447126434:e[25]>1e-35?n=-.0725430043727677:e[122]>1e-35?n=-.10047841601578077:n=-.00580671054458958:e[9]>13.500000000000002?n=.021399199032818294:e[308]>1e-35?e[4]>10.500000000000002?n=-.0076376731757173515:n=.03394923033036848:e[127]>1e-35?n=.02070489091204209:n=-.02290162726126496;let i;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[9]>21.500000000000004?i=.010230295672324606:i=.038540509248742805:e[8]>125.50000000000001?e[1]>49.50000000000001?i=.03086356292895467:i=.057128750867458604:e[5]>888.5000000000001?i=.07861602941396924:i=.030523262699070908:e[308]>1e-35?i=.048236117667577356:e[8]>370.50000000000006?i=-.05642125069212264:i=-.007232836777168195:e[3]>24.500000000000004?e[23]>1e-35?e[131]>1e-35?i=.03640661467213915:i=-.005889820723907028:e[31]>1e-35?i=-.0009007166998276938:e[9]>6.500000000000001?i=-.022590340093882378:e[308]>1e-35?e[32]>1e-35?i=-.1215445089091064:i=-.01435612266219722:e[19]>1e-35?e[9]>1.5000000000000002?i=-.061555513040777825:e[4]>60.50000000000001?i=-.07053475504569347:i=-.013733369453963092:i=-.06302097189114152:e[227]>1e-35?i=-.05820440333190048:e[8]>683.5000000000001?e[82]>1e-35?i=-.08466979526809346:e[10]>24.500000000000004?i=-.017092159721119944:e[92]>1e-35?i=.03592901452463749:i=-.00359310519524756:e[5]>1809.5000000000002?e[243]>1e-35?i=-.03963116207386097:e[118]>1e-35?i=-.09483996283536394:e[217]>1e-35?i=-.03394542089519989:e[242]>1e-35?i=-.07985899422287938:i=.019706602160656964:e[9]>12.500000000000002?i=.014072998937735146:i=-.021156294523894684;let s;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[9]>21.500000000000004?s=.009197756540516563:s=.03458896869535166:e[5]>5082.500000000001?s=.08265545468131008:e[131]>1e-35?s=.0740738432473315:s=.045159136632942756:e[8]>319.50000000000006?s=-.04653401534465376:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?s=-.011400839766681709:s=.11149800187510031:s=-.08683250977599462:s=.08355310136724753:e[4]>23.500000000000004?e[23]>1e-35?e[131]>1e-35?s=.040389083779932555:s=-.009887614274108602:e[52]>1e-35?s=.03705353499757327:e[9]>6.500000000000001?s=-.025401260429257562:e[2]>98.50000000000001?s=-.09237673187534504:s=-.04298556869281803:e[222]>1e-35?s=-.045221965895986184:e[8]>691.5000000000001?e[133]>1e-35?s=-.05435318330148897:e[128]>1e-35?s=-.08672907303184191:e[227]>1e-35?s=-.05568304584186561:e[122]>1e-35?s=-.09623059693538563:e[225]>1e-35?s=.07558331642202279:e[82]>1e-35?s=-.07360566227233566:s=-.005646164647395919:e[242]>1e-35?s=-.08203758341228108:e[9]>13.500000000000002?s=.018726123829696042:e[308]>1e-35?e[4]>10.500000000000002?s=-.011153942154062704:s=.03132858912391067:e[127]>1e-35?s=.021455228822345174:e[23]>1e-35?s=.01959966745346997:s=-.021764790177579325;let a;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>284.50000000000006?e[121]>1e-35?e[18]>1e-35?a=.07547602514276922:a=-.08529678832140396:a=.030314822344598043:e[5]>888.5000000000001?e[4]>61.50000000000001?a=.011143589009415464:a=.0654700456802118:a=.021794712646632755:e[308]>1e-35?a=.04231872551095028:a=-.034381999950549455:e[4]>23.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?a=-.03678981254332261:a=.010518160384496255:e[8]>825.5000000000001?a=-.04506534842082387:e[9]>38.50000000000001?a=.01004983052203438:a=-.030580958620701027:e[39]>1e-35?a=-.12802435021505382:e[8]>691.5000000000001?e[23]>1e-35?e[203]>1e-35?e[4]>6.500000000000001?a=.030426957004611704:a=-.0726407693060581:a=.017395521646964375:e[4]>7.500000000000001?e[0]>93.50000000000001?e[9]>7.500000000000001?a=-.008024349629981291:e[31]>1e-35?a=.01296539930850471:e[308]>1e-35?a=-.012855016509024084:a=-.04564527976851505:a=-.15681420504058596:e[10]>4.500000000000001?e[243]>1e-35?a=-.1012064426380198:a=-.0062808850924854194:a=.030706323726162416:e[9]>13.500000000000002?a=.017081636133736405:e[308]>1e-35?e[4]>10.500000000000002?a=-.009306613091760644:e[4]>1.5000000000000002?a=.03655523200850989:a=-.02671654212893341:e[127]>1e-35?a=.019261510468604387:a=-.017627818570628936;let l;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[308]>1e-35?l=.036100405995889276:l=.011709313297015793:e[0]>119.50000000000001?e[8]>125.50000000000001?l=.03622542297472574:l=.05595579157301536:l=-.02234751038146796:e[8]>319.50000000000006?l=-.040132029478400735:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?l=-.009306153573847916:l=.10058509567064988:l=-.0785668890966017:e[9]>28.500000000000004?l=-.04781977604130416:l=.09753292614937459:e[4]>23.500000000000004?e[131]>1e-35?l=.02372493254975127:e[148]>1e-35?l=.028103095989516644:e[4]>58.50000000000001?e[10]>1e-35?l=-.05000852203469597:l=.02922366846119705:e[23]>1e-35?l=-.0026335076988151292:l=-.03073993752935585:e[222]>1e-35?l=-.03867374428185713:e[32]>1e-35?l=-.07220729365053084:e[39]>1e-35?l=-.11624524614351733:e[8]>691.5000000000001?e[133]>1e-35?l=-.04836360271198036:e[8]>4968.500000000001?l=-.10873681915578029:e[149]>1e-35?l=-.11847484033769298:e[122]>1e-35?l=-.08916172460307559:e[82]>1e-35?l=-.06774726602152634:l=-.0033469147714351327:e[126]>1e-35?l=-.09474445392080015:e[8]>131.50000000000003?e[118]>1e-35?l=-.09002547031023511:l=.015475385187009489:e[25]>1e-35?l=-.08175501232759151:l=-.000429679055394914;let c;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?c=.021942996005324917:c=.042349138084484074:e[308]>1e-35?c=.036507270845732874:c=-.028981850556764995:e[3]>24.500000000000004?e[23]>1e-35?c=.00210930790963475:e[31]>1e-35?c=.006825358293027163:e[9]>6.500000000000001?c=-.013772084269062394:e[308]>1e-35?c=-.008307929099892574:e[19]>1e-35?c=-.027706313312904487:c=-.04891108984170914:e[134]>1e-35?c=-.0605730733844732:e[25]>1e-35?c=-.05347926493253117:e[227]>1e-35?c=-.049415829249003666:e[32]>1e-35?c=-.06807799662179595:e[308]>1e-35?e[4]>10.500000000000002?e[2]>13.500000000000002?c=-.00016302718260794637:c=-.10247095758122947:e[210]>1e-35?c=-.022149002072787024:e[95]>1e-35?c=.15222631630626304:c=.027393884520465712:e[9]>7.500000000000001?e[225]>1e-35?c=.13483346577752245:e[3]>9.500000000000002?e[243]>1e-35?c=-.045352728133789516:e[8]>683.5000000000001?c=.00474372227519902:c=.02635476098707525:e[92]>1e-35?c=.05659380819933452:e[105]>1e-35?c=.07431443210341222:e[186]>1e-35?c=.0915821133384904:c=-.016414750130401053:e[127]>1e-35?c=.011824693641866162:e[23]>1e-35?c=.0228468674288774:e[284]>1e-35?c=.06606936863302432:c=-.02872463273902358;let u;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>125.50000000000001?e[288]>1e-35?u=-.019844363904157558:e[1]>50.50000000000001?e[131]>1e-35?u=.044961338592245194:u=.003659599513761676:e[121]>1e-35?u=-.04057103630479994:u=.03158560697078578:e[0]>421.50000000000006?e[4]>61.50000000000001?u=-.0003708603406529278:u=.05331312264472391:u=.0006575958601218936:e[8]>319.50000000000006?u=-.034654694051901545:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?u=-.0076053515916517005:u=.09116695486305336:u=-.07137458699162028:u=.06633130654035282:e[4]>29.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?u=-.0308520802187302:u=.013156423968295541:e[115]>1e-35?u=.11581171687488252:e[52]>1e-35?e[10]>22.500000000000004?u=.12264179915175587:u=-.021905727233873535:e[8]>799.5000000000001?u=-.04181869575935412:u=-.023695901673350575:e[222]>1e-35?u=-.034612899265371776:e[8]>691.5000000000001?e[9]>98.50000000000001?u=-.06892116536821917:e[149]>1e-35?u=-.11194586444154514:e[133]>1e-35?u=-.04269583234000504:e[128]>1e-35?u=-.0644631966969502:e[8]>4968.500000000001?u=-.09650726096330133:u=-.004219129180139438:e[126]>1e-35?u=-.08038306745347751:e[5]>1809.5000000000002?u=.009265335288169993:e[9]>2.5000000000000004?u=.006447645462117438:u=-.021047132609551503;let f;e[13]>1e-35?e[3]>1.5000000000000002?e[9]>21.500000000000004?e[121]>1e-35?f=-.08436540015142402:e[8]>1861.5000000000002?f=-.01621425699342421:f=.01878613821895428:f=.031052879158242532:e[8]>319.50000000000006?f=-.031536619360997865:e[7]>3.5000000000000004?f=-.004510586962343298:f=.0596524941011746:e[4]>18.500000000000004?e[23]>1e-35?f=.004757490541310808:e[9]>6.500000000000001?f=-.008842393772207996:e[31]>1e-35?f=.0010536183837006993:e[308]>1e-35?f=-.008145882815435419:e[2]>98.50000000000001?f=-.08404937622173021:e[276]>1e-35?f=.0020072791321856663:e[19]>1e-35?f=-.023031820639490178:f=-.04553314326377875:e[8]>2134.5000000000005?f=-.02244583113572251:e[134]>1e-35?f=-.05592137394753121:e[308]>1e-35?e[49]>1e-35?f=.09989109704064947:e[4]>10.500000000000002?e[2]>13.500000000000002?f=-.00447733056482096:f=-.10191061664873849:f=.021765308380331864:e[9]>7.500000000000001?e[118]>1e-35?f=-.07570059131536411:e[243]>1e-35?f=-.040983393346598646:e[3]>9.500000000000002?f=.014763759061483812:e[92]>1e-35?f=.05136368898963024:f=-.008162398981149495:e[127]>1e-35?f=.013999119696708346:e[23]>1e-35?e[20]>1e-35?f=.14138985500120907:f=.008668274102844162:e[284]>1e-35?f=.06356484011042893:f=-.024781304572706303;let d;e[13]>1e-35?e[3]>8.500000000000002?e[8]>892.5000000000001?e[0]>384.50000000000006?d=.014387526569215037:e[8]>2266.5000000000005?d=-.1397298649743087:d=.007953931014097788:e[0]>119.50000000000001?e[4]>61.50000000000001?d=.0029819092211896296:e[218]>1e-35?d=.08450459375645737:d=.031646488019280654:d=-.03544960151460596:e[9]>9.500000000000002?d=-.026002317735915183:e[7]>1.5000000000000002?d=.005074258810794793:d=.0745247650477651:e[4]>29.500000000000004?e[131]>1e-35?d=.023269218675640847:e[148]>1e-35?d=.03812942399144545:e[115]>1e-35?d=.10512283476967227:d=-.02607307479736138:e[227]>1e-35?d=-.036576708299046294:e[101]>1e-35?d=.027948683650881864:e[149]>1e-35?d=-.08195628451594297:e[50]>1e-35?d=-.16997544922278504:e[8]>691.5000000000001?e[9]>101.50000000000001?d=-.06860333850762075:e[225]>1e-35?d=.06066641950951723:e[10]>22.500000000000004?e[1]>29.500000000000004?e[127]>1e-35?d=.028599705845427533:d=-.010746719511640914:e[0]>4877.500000000001?d=-.07251187886096228:d=-.021299712241446785:e[118]>1e-35?d=-.11902023760964736:d=15874469526809387e-21:e[8]>267.50000000000006?d=.01317292185402293:e[148]>1e-35?e[9]>20.500000000000004?d=.09614842415142123:d=.006049073167176467:e[189]>1e-35?d=.05562696451900713:d=-.006257541923837303;let m;e[13]>1e-35?e[9]>14.500000000000002?e[2]>11.500000000000002?e[1]>71.50000000000001?e[8]>1252.5000000000002?m=-.10069846585436666:m=-.010577995535809317:e[146]>1e-35?m=-.008877238274428668:e[280]>1e-35?m=.10076055897012692:e[6]>70.50000000000001?m=-.020603523042565547:e[7]>1.5000000000000002?m=.02819095420813202:m=-.1223354167911277:m=-.025073583348334844:e[8]>416.50000000000006?m=.01718560189149466:e[230]>1e-35?m=.12281803224342265:m=.03281276971308565:e[4]>14.500000000000002?e[23]>1e-35?e[21]>1e-35?m=-.13070568109867683:e[4]>63.50000000000001?m=-.027221825262496814:m=.01530862490082352:e[9]>6.500000000000001?e[5]>4320.500000000001?e[2]>31.500000000000004?m=-.00605574271293711:m=.04739407327741249:m=-.012537528620315956:e[31]>1e-35?e[20]>1e-35?m=.1252215087035768:m=.003905888677601057:e[52]>1e-35?m=.045466299731038815:e[2]>100.50000000000001?m=-.07815624550168065:e[308]>1e-35?m=-.007715815250508057:e[276]>1e-35?e[9]>1.5000000000000002?m=-.03538265083203445:e[18]>1e-35?m=.1591211669800727:m=.015151475408241136:e[8]>557.5000000000001?m=-.04225569725456342:m=-.022455546324243267:e[308]>1e-35?m=.01325441736085826:e[197]>1e-35?m=.03752194600682512:e[225]>1e-35?m=.06583712394533976:m=-.005205289866839043;let p;e[13]>1e-35?e[9]>21.500000000000004?e[2]>12.500000000000002?p=.010264022580774884:p=-.02335958814489217:e[8]>416.50000000000006?e[3]>4.500000000000001?e[295]>1e-35?p=-.0936747137352166:e[0]>384.50000000000006?p=.019846244507320695:p=-.0751102554077272:p=-.026885329334203723:e[0]>966.5000000000001?e[10]>48.50000000000001?p=.11654906890054273:p=.0346250587613322:e[4]>39.50000000000001?p=-.08568002378645614:e[9]>16.500000000000004?p=-.12010535752923689:p=.021321923389033808:e[4]>14.500000000000002?e[23]>1e-35?e[21]>1e-35?p=-.12056431231412057:e[131]>1e-35?p=.03652965550568472:p=.002563006128791669:e[9]>6.500000000000001?e[30]>1e-35?p=-.10141481732178981:p=-.003936457893178248:e[31]>1e-35?p=.008215898756249477:e[52]>1e-35?e[0]>4188.500000000001?p=.12972828769588213:p=-.003137412232297087:e[2]>100.50000000000001?p=-.0730872929087944:e[308]>1e-35?p=-.006958622747243333:e[35]>1e-35?e[0]>3707.5000000000005?p=.07934620723812878:p=-.018598568353702116:p=-.030635505446410763:e[128]>1e-35?p=-.06962290453843294:e[84]>1e-35?p=-.15290337844960322:e[308]>1e-35?e[8]>2543.5000000000005?p=-.034938657503885584:p=.016339322898966915:e[197]>1e-35?p=.03358907965870046:e[18]>1e-35?p=-.01754013791515288:p=-.0004944586067698557;let g;e[13]>1e-35?e[308]>1e-35?e[210]>1e-35?g=.005888790687820524:g=.0429676533834978:e[2]>7.500000000000001?e[0]>119.50000000000001?e[6]>79.50000000000001?g=-.0224319889201976:e[212]>1e-35?g=.06249587051783863:e[8]>963.5000000000001?e[8]>1156.5000000000002?g=.010357273289123324:g=-.029749145161304082:e[218]>1e-35?g=.06449336340743606:g=.018047654539345502:g=-.07350502390293116:g=-.019594829995832414:e[4]>39.50000000000001?g=-.019338083179859314:e[39]>1e-35?g=-.10427066919173111:e[222]>1e-35?e[0]>612.5000000000001?g=-.019197415255018464:g=-.0836562507048181:e[149]>1e-35?g=-.07679624472577429:e[32]>1e-35?g=-.05097506748590604:e[191]>1e-35?g=.04670476485250936:e[30]>1e-35?g=-.05313073892148652:e[8]>691.5000000000001?e[23]>1e-35?e[203]>1e-35?e[4]>8.500000000000002?g=.03930363008271334:g=-.06029171685615689:g=.016203086182431294:e[4]>7.500000000000001?g=-.013824248237085224:e[10]>4.500000000000001?e[94]>1e-35?g=-.09817668643367765:e[10]>40.50000000000001?g=-.023558078753593125:g=.0065113494780482326:e[8]>809.5000000000001?e[297]>1e-35?g=-.1352063548573715:g=.058203900441270634:g=-.035243959159285736:e[10]>59.50000000000001?e[1]>43.50000000000001?g=-.012552876807800442:g=.05991247777734298:g=.0035893102109330177;let h;e[13]>1e-35?e[9]>21.500000000000004?e[145]>1e-35?h=.03507251990078782:e[2]>14.500000000000002?h=.004905698363309292:e[8]>2421.5000000000005?h=-.10306119951984316:h=-.018951037816654928:e[8]>416.50000000000006?e[3]>4.500000000000001?e[295]>1e-35?h=-.08503171085833393:h=.015130974593044409:h=-.024425267075198206:h=.02624054905103126:e[4]>19.500000000000004?e[131]>1e-35?h=.02100191580704534:e[32]>1e-35?e[8]>2302.5000000000005?h=.09908783187786288:h=-.06920877329925636:e[8]>241.50000000000003?h=-.016756131804203496:e[9]>33.50000000000001?h=.04903179955263626:e[217]>1e-35?h=-.047416847619291644:h=-.0017200891991431119:e[39]>1e-35?h=-.10389927604977028:e[134]>1e-35?h=-.050480365434872866:e[178]>1e-35?h=-.05167855791556937:e[8]>2134.5000000000005?h=-.01663197335585307:e[242]>1e-35?h=-.05361323756615453:e[118]>1e-35?h=-.05299780866211368:e[10]>24.500000000000004?e[10]>55.50000000000001?e[8]>764.5000000000001?h=-.0016544848369620534:h=.04494144460483587:h=-.009283616456736156:e[121]>1e-35?e[0]>4463.500000000001?h=.051166688553608355:h=-.06623908820705383:e[84]>1e-35?h=-.12990936092409747:e[306]>1e-35?h=-.07020596855118943:e[49]>1e-35?h=.06272964802556856:e[192]>1e-35?h=.06540204627162581:h=.008277910531592885;let b;e[13]>1e-35?e[308]>1e-35?e[210]>1e-35?b=.003325460510319164:b=.037153108286272905:e[2]>12.500000000000002?e[1]>124.50000000000001?b=-.09880713344892134:e[7]>60.50000000000001?e[10]>71.50000000000001?b=.0697359767152808:e[230]>1e-35?b=.06513506845651572:b=-.02826625276613455:e[5]>246.50000000000003?e[8]>95.50000000000001?b=.013616385013146277:b=.04171540100223404:b=-.04360396575094823:e[212]>1e-35?b=.025945477945627522:b=-.019793208261535442:e[4]>39.50000000000001?e[25]>1e-35?b=-.07856453318384411:b=-.014803893522351739:e[39]>1e-35?b=-.09185452630751932:e[149]>1e-35?b=-.07122426086157027:e[134]>1e-35?b=-.04231052091434186:e[227]>1e-35?b=-.029815824273994197:e[50]>1e-35?b=-.15736496271211153:e[222]>1e-35?b=-.02360285356956629:e[128]>1e-35?b=-.03922080193836443:e[136]>1e-35?b=-.07219685327698587:e[10]>24.500000000000004?e[1]>8.500000000000002?b=-.0029736170756835783:b=-.06482902102259112:e[84]>1e-35?b=-.11340924635708383:e[94]>1e-35?b=-.03635703457792193:e[118]>1e-35?b=-.058181913914186034:e[126]>1e-35?b=-.062030576241517366:e[116]>1e-35?b=-.045086301850604006:e[25]>1e-35?b=-.031665223656767286:e[203]>1e-35?b=-.009444685731407691:b=.0112265153772187;let x;e[13]>1e-35?e[1]>64.50000000000001?e[9]>14.500000000000002?e[9]>54.50000000000001?x=.022717227245241684:x=-.049700413274686266:x=.007175776918589741:e[5]>50.50000000000001?e[8]>61.50000000000001?e[21]>1e-35?x=-.07927556792063156:e[3]>8.500000000000002?e[4]>23.500000000000004?e[281]>1e-35?x=-.12263724050601095:x=.0070743478891288035:e[288]>1e-35?x=-.050439138582109:x=.0255701593657891:x=-.005812703740580558:e[6]>49.50000000000001?x=-.008542694147899113:x=.035147383686665:x=-.0960461939274094:e[32]>1e-35?x=-.04555453745517765:e[222]>1e-35?e[0]>612.5000000000001?x=-.01800870272656664:x=-.07817304234604389:e[30]>1e-35?x=-.05227061750368981:e[25]>1e-35?e[0]>4449.500000000001?e[217]>1e-35?x=.08778416018479411:x=-.026563982720830256:x=-.05296139548112329:e[50]>1e-35?x=-.14926464875852247:e[8]>779.5000000000001?e[133]>1e-35?x=-.036572140520852024:e[183]>1e-35?x=-.10766853736801459:x=-.003966794968701808:e[217]>1e-35?e[5]>5237.500000000001?x=.09513215942486053:x=-.03641865277445567:e[10]>59.50000000000001?x=.03177172388687933:e[39]>1e-35?x=-.10234241303898953:e[243]>1e-35?x=-.02966738115984321:e[190]>1e-35?x=-.04312785336449181:e[118]>1e-35?x=-.05808521194081524:x=.006720381600740378;let _;e[308]>1e-35?e[5]>423.00000000000006?e[133]>1e-35?_=-.046284053681928526:e[210]>1e-35?_=49778070699847876e-21:e[13]>1e-35?_=.03328070054739309:e[128]>1e-35?_=-.054790214922938896:e[126]>1e-35?_=-.08524792218532945:_=.014414055975542446:e[1]>38.50000000000001?_=-.07287851335872973:_=.005263371501687163:e[9]>7.500000000000001?e[21]>1e-35?e[10]>4.500000000000001?_=-.12459748864088374:_=-.004626323021331593:e[298]>1e-35?e[4]>64.50000000000001?_=.13044981041138526:e[9]>71.50000000000001?_=-.056068402282406865:e[9]>12.500000000000002?_=.038957722962512764:_=-.04598815982492169:e[8]>691.5000000000001?e[126]>1e-35?_=-.0852126122372075:e[225]>1e-35?_=.10082066771689505:e[1]>161.50000000000003?_=-.11609832500613824:e[3]>8.500000000000002?e[8]>1685.5000000000002?_=-.010835400874777133:_=.004607419973807752:_=-.016989075258564062:_=.009205417251698097:e[23]>1e-35?e[20]>1e-35?_=.10184317139657878:e[0]>5724.500000000001?_=-.1163666496650542:e[1]>106.50000000000001?_=.1303850608190687:e[129]>1e-35?_=.10745031509534769:_=.006166901738036226:e[31]>1e-35?_=.010177092833155127:e[13]>1e-35?e[0]>213.50000000000003?_=.005004582564506611:_=-.10481581731668346:e[19]>1e-35?_=-.009850706427306281:_=-.02608226348051303;let y;e[13]>1e-35?e[1]>64.50000000000001?e[2]>4.500000000000001?y=-.0024117174588695603:y=-.058339700513831916:e[212]>1e-35?e[0]>2215.5000000000005?e[8]>847.5000000000001?e[10]>21.500000000000004?e[1]>39.50000000000001?y=.04575380761203418:y=-.10025595041353463:e[15]>1e-35?y=.17705790384964004:y=.0073813837628615014:y=.07676373681392407:y=-.027167992693885996:e[3]>11.500000000000002?e[280]>1e-35?y=.07078572910026419:e[4]>23.500000000000004?y=.005513918674164821:y=.0206586476926392:e[0]>5269.500000000001?y=.07706773525822633:y=-.010233826953776122:e[148]>1e-35?e[8]>1622.5000000000002?y=-.03204783603215824:y=.027405418223981973:e[4]>14.500000000000002?e[131]>1e-35?e[9]>1.5000000000000002?e[0]>5026.500000000001?y=-.0930246911392012:y=.011173087289703683:e[3]>24.500000000000004?y=.03281421918878597:y=.12449335091369843:e[204]>1e-35?y=.06634531187326123:y=-.011522999669353388:e[92]>1e-35?e[10]>42.50000000000001?y=-.041196758517013515:e[4]>7.500000000000001?y=-2942718111029724e-20:e[4]>6.500000000000001?y=.11953909558532852:y=.03188615019450534:e[122]>1e-35?y=-.0616037324662157:e[101]>1e-35?y=.027230889593349412:e[8]>4968.500000000001?y=-.1113986516540856:e[3]>2.5000000000000004?y=-.002045140426885727:e[129]>1e-35?y=.12641163374304432:y=.014909826232873194;let v;e[308]>1e-35?e[0]>7277.500000000001?v=-.09337446795435:e[5]>423.00000000000006?e[133]>1e-35?v=-.040884836258675006:e[210]>1e-35?v=-.0003719413278428804:e[13]>1e-35?v=.030287610160818174:v=.011174130013595384:e[1]>38.50000000000001?v=-.0662442170185784:v=.004332185707008564:e[9]>7.500000000000001?e[145]>1e-35?e[285]>1e-35?v=-.08092286307197555:v=.029866363328584986:e[21]>1e-35?e[10]>4.500000000000001?v=-.1155211149523894:v=-.0032903546638958538:e[149]>1e-35?v=-.03632198993199768:e[3]>9.500000000000002?e[8]>999.5000000000001?v=-.003507023626534306:e[128]>1e-35?e[4]>13.500000000000002?e[0]>3459.5000000000005?v=-.025416927789760076:v=.02777568919793122:v=-.10310351509769732:v=.013549608903688785:e[186]>1e-35?v=.08513865847420551:v=-.009306721292510369:e[31]>1e-35?v=.009780833952582307:e[23]>1e-35?v=.011143773934157629:e[210]>1e-35?v=.025354797285173356:e[17]>1e-35?e[10]>3.5000000000000004?v=-.04846287537743046:v=-.014647271080376757:e[2]>5.500000000000001?e[7]>57.50000000000001?v=-.034224938681445764:e[8]>1641.5000000000002?v=-.027298372075800673:e[191]>1e-35?e[10]>18.500000000000004?v=-.027950103994861836:v=.14575930827829034:v=-.007124740389354946:e[10]>22.500000000000004?v=.013173304107866726:v=-.11119620042551365;let I;e[131]>1e-35?I=.01892225243240137:e[308]>1e-35?e[5]>691.5000000000001?e[133]>1e-35?I=-.037118314390013646:e[1]>51.50000000000001?e[5]>3749.5000000000005?e[8]>58.50000000000001?I=-.022305242912035072:I=.024792895826340516:I=.013666137278072166:e[88]>1e-35?e[10]>27.500000000000004?I=.2080083584805785:I=.04247197078083379:e[10]>40.50000000000001?e[18]>1e-35?e[1]>27.500000000000004?I=.060783227455868206:I=-.056904865557409035:I=-.03278952553107572:e[192]>1e-35?I=.13117402617043625:I=.01647119888257836:I=-.01825870445636398:e[9]>6.500000000000001?e[298]>1e-35?I=.026536210945939682:e[8]>691.5000000000001?e[126]>1e-35?I=-.07927319604548912:e[10]>3.5000000000000004?e[21]>1e-35?I=-.11083976837572328:e[146]>1e-35?I=-.03359294484446772:I=-.0042815953591236475:e[190]>1e-35?I=-.09264239592903775:e[10]>1e-35?I=.022282638485105657:I=-.0205994057928458:e[5]>4918.500000000001?I=.03430715695199153:e[243]>1e-35?e[2]>57.50000000000001?I=.08935072241972036:I=-.03781647876237494:I=.0062655753179671515:e[31]>1e-35?I=.008603500300349887:e[230]>1e-35?I=.03350056932774173:e[23]>1e-35?e[241]>1e-35?I=.10277555508503314:I=.0017901817172993888:e[2]>98.50000000000001?I=-.05920081229672715:I=-.015722173275739208;let R;e[13]>1e-35?e[118]>1e-35?R=.07957905150112207:e[1]>125.50000000000001?R=-.0662620579858685:e[145]>1e-35?R=.029682040828779843:e[19]>1e-35?e[6]>15.500000000000002?R=-.0009597832580977798:R=-.081474760755753:e[212]>1e-35?R=.03637001492325179:R=.006912305498963309:e[32]>1e-35?R=-.03919900630910754:e[134]>1e-35?R=-.036225295529777886:e[4]>4.500000000000001?e[5]>384.50000000000006?e[204]>1e-35?R=.06671440854602108:e[136]>1e-35?R=-.07577364230133474:e[148]>1e-35?e[4]>7.500000000000001?R=.026430947016830915:R=-.04075501264495112:e[9]>93.50000000000001?R=-.04353169430417609:e[50]>1e-35?R=-.1411224537622882:e[17]>1e-35?e[49]>1e-35?R=.068392679163672:e[10]>1.5000000000000002?R=-.0209659792007492:R=-.0004393235559249831:e[133]>1e-35?e[9]>64.50000000000001?R=.07254524592323175:R=-.0319087835282534:R=.00037444813327793425:R=-.025138768151370408:e[243]>1e-35?R=-.050010891710502096:e[94]>1e-35?R=-.0817513550778599:e[122]>1e-35?R=-.061038875809822285:e[19]>1e-35?e[8]>1085.5000000000002?R=-.008408408775061623:e[2]>5.500000000000001?e[218]>1e-35?R=.1454877641381946:R=.053787998331240316:e[9]>33.50000000000001?R=.08602629796680285:R=-.03895127455803038:R=.008830878042315722;let z;e[131]>1e-35?z=.01687979707990516:e[8]>2915.5000000000005?e[297]>1e-35?z=.07473600489975568:e[0]>93.50000000000001?z=-.021596848506011502:z=-.13840802327735696:e[230]>1e-35?e[4]>6.500000000000001?e[0]>4977.500000000001?z=.10264284346448256:z=.031042487183181262:z=-.016653982936827776:e[4]>60.50000000000001?e[10]>75.50000000000001?z=.04226403420647408:e[10]>1e-35?e[0]>4733.500000000001?z=.006271403149804702:z=-.030013637555715046:e[0]>4449.500000000001?z=-.06556876058654929:z=.06437994816903034:e[32]>1e-35?z=-.043814577251655815:e[308]>1e-35?e[0]>7277.500000000001?z=-.09349726304052086:e[210]>1e-35?z=-.0035960132209098003:e[5]>691.5000000000001?e[133]>1e-35?z=-.029188394315052574:z=.017219308333820193:z=-.017378928852189585:e[9]>6.500000000000001?e[0]>2653.5000000000005?e[149]>1e-35?z=-.04428555753857688:z=.0001456106867817353:e[5]>213.50000000000003?z=.01740292726636365:z=-.011361718115556464:e[7]>4.500000000000001?e[0]>316.50000000000006?e[19]>1e-35?e[10]>54.50000000000001?z=.03410288911259329:e[121]>1e-35?z=-.06056527462120627:e[8]>2592.5000000000005?z=.12166808844363577:e[191]>1e-35?z=.11669879218998758:z=-.001664858391716235:z=-.01262927450503166:z=-.04506589951879664:e[227]>1e-35?z=-.08548904959752329:z=.02156080776537726;let V;e[306]>1e-35?e[149]>1e-35?V=-.1389218965136736:V=-.032218642644416894:e[13]>1e-35?V=.006465035217331847:e[50]>1e-35?V=-.1381687930130022:e[179]>1e-35?V=-.13112784985951215:e[148]>1e-35?e[8]>1726.5000000000002?V=-.03262719498763048:V=.023342916702125613:e[191]>1e-35?V=.030005484947580197:e[4]>4.500000000000001?e[204]>1e-35?V=.047767773119269434:e[136]>1e-35?e[0]>1937.5000000000002?V=-.09989343595668776:V=.06533942033334243:e[15]>1e-35?e[9]>86.50000000000001?V=-.10577989354150097:e[8]>668.5000000000001?e[126]>1e-35?V=-.09165257825246746:e[9]>32.50000000000001?V=.02484870392366004:V=-.008499493096971395:e[8]>24.500000000000004?V=.02459679192828244:V=-.010527978013140512:e[25]>1e-35?e[217]>1e-35?V=.0015644546318714849:V=-.06579524865022705:V=-.0060233890975120614:e[122]>1e-35?e[1]>36.50000000000001?V=.03331853632960164:V=-.09482264761126993:e[19]>1e-35?e[8]>1430.5000000000002?V=-.019091477207111116:V=.037878468575478504:e[94]>1e-35?V=-.08013082284576584:e[4]>2.5000000000000004?e[186]>1e-35?V=.16919658785098224:e[243]>1e-35?V=-.06580584936754524:V=.01567555159935563:e[129]>1e-35?V=.06721746994993226:e[10]>32.50000000000001?V=-.046394462507797975:V=-.006436180519584767;let $;e[131]>1e-35?$=.015039096856208693:e[8]>779.5000000000001?e[145]>1e-35?$=.019122095523977856:e[298]>1e-35?$=.023828936462317443:e[1]>23.500000000000004?e[5]>384.50000000000006?e[7]>59.50000000000001?$=-.026094309429557913:e[204]>1e-35?$=.09163404305658318:e[1]>27.500000000000004?e[149]>1e-35?e[6]>34.50000000000001?$=.012643810980689466:$=-.07884161741497837:$=-.0025267379810891104:e[2]>43.50000000000001?e[0]>2860.5000000000005?$=.04493082949897325:$=.18046359750455776:e[7]>18.500000000000004?$=-.018667348656891496:$=.02584325784698236:$=-.045696524897545915:e[0]>3321.5000000000005?e[201]>1e-35?$=.04749240016989375:$=-.0333334578246718:e[5]>3276.5000000000005?$=.11330554740098908:e[7]>94.50000000000001?$=.1296600395033268:$=-.003576436308940934:e[15]>1e-35?e[183]>1e-35?$=-.13787130789142835:e[0]>1847.5000000000002?$=.017915229729920556:e[10]>23.500000000000004?e[10]>31.500000000000004?e[6]>7.500000000000001?$=.028856848462727104:$=-.11197632885851168:$=.08169801342016791:e[1]>22.500000000000004?$=-.021052888644970163:$=.019048604298876753:e[7]>4.500000000000001?$=-.002603328695276418:e[7]>1.5000000000000002?e[2]>5.500000000000001?$=.03432638833359197:$=-.0036767863082454973:e[1]>48.50000000000001?$=.03087375270128195:e[2]>3.5000000000000004?$=-.04219917149740248:$=.018818493993207935;let Y;e[306]>1e-35?Y=-.04076858123502297:e[13]>1e-35?e[1]>67.50000000000001?e[9]>14.500000000000002?e[9]>53.50000000000001?e[8]>1971.5000000000002?Y=-.09091897542577475:Y=.04042943082645558:e[218]>1e-35?Y=.056254985867151:Y=-.053848117950183044:Y=.003881630017086845:e[5]>5152.500000000001?e[8]>857.5000000000001?e[6]>28.500000000000004?Y=.021581808008986944:Y=-.05639286496176611:Y=.052838875036198954:e[5]>50.50000000000001?e[5]>4082.5000000000005?e[17]>1e-35?Y=.023061479860228728:e[145]>1e-35?e[9]>10.500000000000002?Y=.023885302967553288:Y=.1617794086125622:e[212]>1e-35?Y=.04504545345658806:e[3]>17.500000000000004?e[4]>45.50000000000001?Y=-.03948072448245435:e[1]>47.50000000000001?e[9]>18.500000000000004?Y=.01894935813286188:Y=-.06449356357429188:Y=.012297239104320094:e[1]>26.500000000000004?e[8]>33.50000000000001?Y=-.034718828212885515:Y=.0898976288814321:e[1]>17.500000000000004?Y=-.15440137451988326:Y=-.03864183216821465:Y=.009988507307006308:Y=-.08540311947043305:e[50]>1e-35?Y=-.13323659732101975:e[134]>1e-35?Y=-.031820386486894385:e[32]>1e-35?e[8]>2302.5000000000005?Y=.08082476177379844:Y=-.041665761903645876:e[179]>1e-35?Y=-.12405023987936657:e[39]>1e-35?Y=-.06247416524997478:e[138]>1e-35?Y=-.10724031753676487:Y=-.0005423122305122404;let P;e[308]>1e-35?P=.006160742906729798:e[190]>1e-35?e[0]>2461.5000000000005?e[10]>22.500000000000004?P=.023223358334607133:P=-.04383410185346742:P=-.08542395045055405:e[297]>1e-35?e[8]>51.50000000000001?e[1]>13.500000000000002?P=.023406489302867494:P=-.085521220804058:P=-.02921899554854833:e[298]>1e-35?e[9]>12.500000000000002?P=.028120059780969632:P=-.04211009474298743:e[294]>1e-35?P=-.05040415676618239:e[86]>1e-35?e[1]>36.50000000000001?P=-.0993035220737934:P=-.0005384930611060366:e[230]>1e-35?e[4]>6.500000000000001?P=.029770210551187937:P=-.016272917551655715:e[4]>60.50000000000001?e[280]>1e-35?P=.06421359317599738:P=-.01963732469244167:e[218]>1e-35?e[3]>3.5000000000000004?P=.024368404612215164:P=-.04045232374803373:e[131]>1e-35?P=.017372701982485795:e[120]>1e-35?P=.08812710275150198:e[18]>1e-35?e[90]>1e-35?P=.18451364351180236:e[7]>33.50000000000001?P=-.03850813130183531:e[195]>1e-35?P=.06966114053446336:e[3]>16.500000000000004?P=-.0012869181693341211:e[0]>4242.500000000001?P=-.054625548611291035:P=-.014431095117473881:e[5]>4558.500000000001?e[8]>1.5000000000000002?P=.006302103427145562:P=.13967622319898698:e[121]>1e-35?P=-.038798585213145644:e[5]>4544.500000000001?P=-.08050498033009466:P=-.002986974112681435;let w;e[0]>384.50000000000006?e[2]>101.50000000000001?e[1]>16.500000000000004?w=-.03461119351456781:w=.05659026566680352:e[306]>1e-35?e[2]>14.500000000000002?e[149]>1e-35?w=-.12404435523286539:w=-.0034376913880382956:w=-.09821622245095822:e[131]>1e-35?e[9]>1.5000000000000002?w=.0037507103585310234:w=.03610387965829944:e[8]>999.5000000000001?e[9]>137.50000000000003?w=-.11985021663179699:e[0]>1847.5000000000002?e[126]>1e-35?w=-.04832024079663151:e[37]>1e-35?w=-.037103393468366934:w=-.004248086592531705:e[8]>3084.0000000000005?e[9]>43.50000000000001?w=.032539071163832034:e[5]>1643.5000000000002?w=.036408625378035665:e[0]>1500.5000000000002?w=-.1346358322854993:w=-.027586559522081014:e[3]>1e-35?e[190]>1e-35?w=-.1133991164577881:e[9]>52.50000000000001?w=-.024478640359723122:w=.03673777861098756:w=-.1037451237591819:e[230]>1e-35?e[9]>48.50000000000001?e[10]>20.500000000000004?w=.002583438691776944:w=.10773520810108106:e[9]>12.500000000000002?e[1]>16.500000000000004?w=-.02141222346712401:w=.06392462314316179:e[4]>12.500000000000002?w=.08700122294434816:e[8]>267.50000000000006?w=.056923170082743224:w=-.07716309825583327:e[32]>1e-35?w=-.03961343943752142:w=.002674914122888783:e[1]>42.50000000000001?w=-.05217539654421676:e[145]>1e-35?w=.09553630282946368:w=-.009424791262477729;let H;e[183]>1e-35?H=-.05753337139158443:e[308]>1e-35?H=.00562436671450989:e[9]>7.500000000000001?e[21]>1e-35?e[10]>8.500000000000002?H=-.10477869875380448:H=-.0070301869937306055:e[3]>9.500000000000002?e[8]>1765.5000000000002?e[0]>4571.500000000001?H=-.12526505173232894:e[10]>1e-35?e[9]>71.50000000000001?H=-.04442302951713574:H=.00012409888451734224:H=-.092199119633697:e[225]>1e-35?H=.13773072450201831:e[0]>2882.5000000000005?H=.0028540012229920533:e[298]>1e-35?H=.07134486044361629:H=.014297412329837425:e[145]>1e-35?H=.05608385321902638:e[92]>1e-35?H=.038298413603926135:e[107]>1e-35?e[2]>6.500000000000001?H=-.0039957800609801315:H=.0776927564241081:e[203]>1e-35?H=-.05502900859432093:e[105]>1e-35?H=.06062892720841595:H=-.009574839629252128:e[31]>1e-35?H=.009488858841144216:e[23]>1e-35?e[20]>1e-35?H=.08818126313644752:e[8]>161.50000000000003?H=.014353968957885408:H=-.022240738532827903:e[210]>1e-35?H=.024648862719806694:e[2]>5.500000000000001?e[4]>4.500000000000001?e[17]>1e-35?e[10]>16.500000000000004?H=-.043902062079383485:H=-.014741559220396223:H=-.00934935734853194:e[6]>32.50000000000001?H=.1514593126307404:H=.010771222510801532:e[10]>22.500000000000004?H=.01412495209334078:H=-.08576940379502533;let N;e[0]>384.50000000000006?e[84]>1e-35?N=-.06647690967306838:e[2]>101.50000000000001?N=-.024451334501552457:e[306]>1e-35?N=-.034517188927733505:e[131]>1e-35?e[9]>1.5000000000000002?N=.0031858381443673127:N=.032574927024450646:e[204]>1e-35?e[1]>62.50000000000001?N=-.08601340441214533:e[1]>29.500000000000004?N=.10487598629539963:e[8]>597.5000000000001?N=-.0786529133673238:N=.08689436600511559:e[8]>779.5000000000001?e[10]>2.5000000000000004?e[9]>100.50000000000001?N=-.04883600353740688:e[126]>1e-35?N=-.03794042763348827:N=-.003358871967539988:e[210]>1e-35?N=.054991356498447566:e[6]>19.500000000000004?N=-.007418396981635549:N=.018032606049498613:e[18]>1e-35?e[7]>35.50000000000001?e[2]>44.50000000000001?N=-.02143003429501711:N=-.09016000554055564:e[1]>19.500000000000004?e[1]>42.50000000000001?e[8]>17.500000000000004?N=-.006636355416244082:N=-.06483095743431454:e[4]>21.500000000000004?N=-.028975965946833545:N=.022012264796522657:N=-.06653648243193663:e[5]>4593.500000000001?N=.01753551428088607:e[217]>1e-35?N=-.028864824937700297:e[94]>1e-35?N=-.04885192273020658:e[279]>1e-35?N=.08105715462329498:e[121]>1e-35?N=-.04576676034750651:N=.004795141324949362:e[1]>42.50000000000001?N=-.047446619702809195:e[145]>1e-35?N=.08400495571952321:N=-.00854528836489364;let T;e[294]>1e-35?T=-.042529778074638265:e[266]>1e-35?T=-.1180276669679798:e[134]>1e-35?T=-.026818144353279623:e[183]>1e-35?T=-.05120747503479363:e[227]>1e-35?e[8]>1641.5000000000002?T=-.07265906898294434:e[4]>12.500000000000002?e[17]>1e-35?T=-.027516137530797014:e[0]>4331.500000000001?e[1]>64.50000000000001?T=-.03049646619610203:e[1]>50.50000000000001?T=.20634590755061122:T=.06956378103625731:e[0]>3770.5000000000005?T=-.07946414366134913:e[19]>1e-35?T=.17083312065604694:e[2]>21.500000000000004?T=-.02327981978127724:T=.129717297518715:e[145]>1e-35?T=.006891245076133524:T=-.0789123467863741:e[3]>99.50000000000001?T=-.02022281202803071:e[302]>1e-35?e[10]>47.50000000000001?T=.06447639919732716:T=-.05457561977645972:e[306]>1e-35?T=-.029995903305383882:e[191]>1e-35?T=.030596508110850414:e[242]>1e-35?T=-.024085578702020216:e[8]>3198.5000000000005?e[297]>1e-35?T=.09518584795377832:T=-.018197744600833596:e[13]>1e-35?T=.006751790086127549:e[148]>1e-35?T=.01904174573618417:e[99]>1e-35?T=.025287735102561926:e[4]>14.500000000000002?T=-.004364337681643273:e[1]>15.500000000000002?e[35]>1e-35?T=-.09467943982430241:e[243]>1e-35?T=-.02521824751996268:T=.005437570718352172:T=-.022476214821960674;let E;e[0]>384.50000000000006?e[84]>1e-35?E=-.06088131453064195:e[147]>1e-35?E=-.05332792965930566:e[135]>1e-35?e[9]>32.50000000000001?E=.04219361472548491:E=-.07227529211725771:e[10]>4.500000000000001?e[21]>1e-35?E=-.0787279848043689:e[17]>1e-35?e[3]>18.500000000000004?e[188]>1e-35?E=-.054347604504400286:e[0]>3544.5000000000005?e[0]>5850.500000000001?E=-.11431764534511478:E=.013549717238356157:E=-.020987333767091276:e[6]>2.5000000000000004?E=-.02914877855133127:E=.08483464900160231:e[8]>58.50000000000001?e[183]>1e-35?E=-.10087072787978416:e[37]>1e-35?E=-.030467397753331196:e[229]>1e-35?E=-.1017559811057469:e[4]>20.500000000000004?E=-.00413177742240167:e[20]>1e-35?E=.05213315982685969:E=.0037921635866823133:e[8]>51.50000000000001?E=.07327913092421544:e[6]>49.50000000000001?E=-.03457694284156811:e[6]>18.500000000000004?e[7]>17.500000000000004?E=.02744420891894289:E=.11288946357194463:E=.003482908820966248:e[18]>1e-35?e[1]>20.500000000000004?e[7]>4.500000000000001?E=-.012329314369909049:E=.026816658655600168:E=-.0872405354618811:E=.007872673500247845:e[1]>42.50000000000001?E=-.04309044198258254:e[145]>1e-35?E=.07572529147860785:e[7]>5.500000000000001?E=-.013837187093264945:e[1]>17.500000000000004?E=.04208698439539668:E=-.06284346769019863;let D;e[294]>1e-35?D=-.0384794324818203:e[266]>1e-35?D=-.1087205883821061:e[32]>1e-35?e[8]>2302.5000000000005?D=.07432960094940501:D=-.035248735855751855:e[134]>1e-35?D=-.02456191365284949:e[121]>1e-35?e[0]>4720.500000000001?e[1]>39.50000000000001?D=-.01706896375068821:D=.08212247914968074:e[2]>59.50000000000001?D=-.09546478958824225:e[6]>53.50000000000001?D=.12317082897575611:e[1]>56.50000000000001?e[4]>7.500000000000001?e[0]>3560.5000000000005?D=.02816463285971267:D=.15449139016588445:D=-.10199787406123524:D=-.038068684323297096:e[223]>1e-35?e[8]>668.5000000000001?D=-.13924786681478077:D=-.0072772442570213335:e[39]>1e-35?D=-.05392786531177836:e[0]>93.50000000000001?e[40]>1e-35?D=-.054059371343144036:e[306]>1e-35?e[2]>14.500000000000002?e[149]>1e-35?D=-.11174465335620831:D=.00013144040097180107:D=-.08493919336681105:e[42]>1e-35?D=-.11078582572836196:e[84]>1e-35?e[4]>17.500000000000004?D=-.015540659878839153:D=-.14442609417300142:e[21]>1e-35?D=-.025251979447574083:D=.0023698372645272847:e[18]>1e-35?D=.07269739695712212:e[8]>2592.5000000000005?D=-.1460388776448558:e[9]>30.500000000000004?e[1]>23.500000000000004?D=-.01835130329646532:e[9]>45.50000000000001?D=.02023047454629885:D=.16469378262221102:D=-.042975030085836426;let S;e[8]>2915.5000000000005?e[297]>1e-35?S=.06257393915394144:e[0]>93.50000000000001?e[4]>1.5000000000000002?S=-.01034964686484714:S=-.07357437440667927:S=-.11987794734779106:e[298]>1e-35?e[8]>81.50000000000001?e[0]>3370.5000000000005?e[8]>155.50000000000003?e[8]>660.5000000000001?e[8]>2134.5000000000005?S=-.09476398869062203:e[9]>72.50000000000001?S=-.0757383854264379:S=.02806542779508718:S=-.05147742568418084:S=.10212721564444344:S=.0518263760642861:S=-.08743405377022222:e[189]>1e-35?e[0]>5269.500000000001?S=-.10669213185972036:S=.027050434286384796:e[302]>1e-35?S=-.0407832394672723:e[116]>1e-35?e[10]>38.50000000000001?S=.06354599160071946:e[1]>67.50000000000001?S=.05317447949011187:S=-.059138165935307165:e[212]>1e-35?e[19]>1e-35?S=-.09369289448773599:e[0]>2215.5000000000005?S=.04077965380363924:e[0]>807.5000000000001?S=-.0591771776458298:S=.057315736906679376:e[308]>1e-35?e[1]>52.50000000000001?e[5]>3749.5000000000005?S=-.016323380219241672:S=.007291062979527741:e[210]>1e-35?e[8]>1641.5000000000002?S=.03720704290087811:S=-.008730548158766654:e[4]>80.50000000000001?S=-.05346644687473197:S=.014596824736762107:e[218]>1e-35?e[3]>3.5000000000000004?S=.019984510398089086:S=-.03917825025861855:e[9]>170.50000000000003?S=-.09759719821334525:S=-.0023586682752856298;let A;e[183]>1e-35?e[17]>1e-35?A=.030100940443356424:e[10]>1.5000000000000002?A=-.10861112216742408:A=.017680668976453255:e[227]>1e-35?e[17]>1e-35?e[2]>16.500000000000004?A=-.032062878390325456:A=-.10808232631806887:e[8]>1641.5000000000002?A=-.06147013392655731:e[4]>12.500000000000002?A=.03324767551088266:e[145]>1e-35?A=.028851633810612017:A=-.054871239091792784:e[134]>1e-35?A=-.023813968121342108:e[266]>1e-35?A=-.10037039667146351:e[222]>1e-35?e[0]>612.5000000000001?e[10]>1e-35?e[8]>1939.5000000000002?A=-.055566877553100726:e[2]>24.500000000000004?e[8]>182.50000000000003?e[10]>43.50000000000001?e[10]>55.50000000000001?A=-.025350325484720576:A=.1579024598549572:e[9]>2.5000000000000004?e[0]>3746.5000000000005?A=.056817276537534815:A=-.07674158463557636:A=-.06335553143454145:e[1]>56.50000000000001?A=.16390494217299284:A=-.0027330160430847177:e[10]>36.50000000000001?e[8]>1067.5000000000002?A=.041717597065890205:A=-.10357913492269129:e[10]>29.500000000000004?A=.1365512866715726:A=.020600048310575665:A=.09708785634773187:A=-.060427658852305666:e[126]>1e-35?e[10]>32.50000000000001?e[6]>24.500000000000004?e[8]>1146.5000000000002?A=-.03146213719547347:A=.11784024316238083:A=-.050940520532045355:A=-.047988344143075616:e[191]>1e-35?A=.028764654731460032:A=.0011911575567860023;let k;e[294]>1e-35?e[10]>50.50000000000001?k=-.11630092297244568:e[0]>2432.5000000000005?e[0]>4199.500000000001?k=-.05103908560370243:k=.05002066201169583:k=-.09976646725732496:e[32]>1e-35?e[0]>4242.500000000001?k=-.0648838712201258:e[5]>3721.5000000000005?e[9]>4.500000000000001?k=.127983140816313:k=-.05436534163636867:k=-.024514536544596455:e[121]>1e-35?e[0]>4449.500000000001?e[4]>9.500000000000002?k=-.009504203657088933:e[8]>819.5000000000001?k=.18689664822602375:k=.03635576744011826:k=-.029862411809998525:e[223]>1e-35?k=-.06474496692999487:e[86]>1e-35?e[8]>65.50000000000001?e[1]>46.50000000000001?k=-.09405026597863717:e[0]>4153.500000000001?k=.053577663326799765:k=-.05062127873995668:k=.06512222894425874:e[39]>1e-35?k=-.04985311717827547:e[51]>1e-35?k=-.04541229517934797:e[178]>1e-35?e[2]>25.500000000000004?e[2]>30.500000000000004?e[0]>2151.5000000000005?k=-.02860634573675884:k=.08863753005590103:k=.11158892111063744:e[0]>655.5000000000001?k=-.031005736641654926:k=-.1439827004505974:e[222]>1e-35?e[1]>11.500000000000002?e[0]>612.5000000000001?k=-.00843386136334982:k=-.05273594615999777:k=.1060183822015004:e[126]>1e-35?e[10]>32.50000000000001?e[8]>719.5000000000001?k=-.015774115523598486:k=.10147367091236065:k=-.048307000563071016:k=.002118376117677254;let O;e[8]>1014.5000000000001?e[9]>137.50000000000003?O=-.10279096288817871:e[0]>93.50000000000001?e[8]>1067.5000000000002?e[227]>1e-35?O=-.03544332389470493:e[285]>1e-35?e[9]>64.50000000000001?O=.07211107542565391:O=-.041556776020476104:e[145]>1e-35?e[1]>66.50000000000001?O=-.0751486415451188:e[1]>59.50000000000001?O=.13459005084554104:O=.024184371850147466:e[0]>3072.5000000000005?e[95]>1e-35?O=.06715575425741895:O=-.005895690393702183:e[8]>2915.5000000000005?O=-.010205039411753762:e[9]>33.50000000000001?e[9]>47.50000000000001?O=-.00029068886245881074:O=.0613467393188786:e[148]>1e-35?O=-.06074463294936236:e[3]>1.5000000000000002?e[5]>1849.5000000000002?e[1]>15.500000000000002?O=.003887223773199377:O=-.08553893131979015:O=.025654192706396767:O=-.05651733979610658:O=-.02039913645229667:e[2]>7.500000000000001?O=-.1058450646728524:O=.02267192191610376:e[1]>120.50000000000001?e[2]>60.50000000000001?O=-.12304707569000428:e[1]>132.50000000000003?e[6]>41.50000000000001?O=.1283258201586378:O=-.01718135372229775:O=-.07702452408491414:e[125]>1e-35?O=-.0804612900572707:e[178]>1e-35?e[0]>4533.500000000001?O=.04273051857848212:O=-.04533122948101463:e[2]>196.50000000000003?O=-.10543331044088727:e[94]>1e-35?e[5]>4532.500000000001?O=.0231032972703664:O=-.04807386814498683:O=.002729435991332102;let M;e[179]>1e-35?M=-.08065315471211375:e[183]>1e-35?e[17]>1e-35?M=.026484626664041125:e[10]>1.5000000000000002?M=-.10187000872941615:M=.015274190652133752:e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?M=.09574540795390041:M=-.06454986703691233:M=-.11411849349353141:e[266]>1e-35?M=-.09281838517322076:e[32]>1e-35?e[8]>2302.5000000000005?M=.06685250330182936:e[4]>67.50000000000001?e[2]>97.50000000000001?M=-.04403391373512386:M=.1132928075412222:e[2]>47.50000000000001?M=-.09700191391838056:M=-.02147184357182825:e[10]>4.500000000000001?e[21]>1e-35?M=-.0735617817957859:e[17]>1e-35?e[3]>18.500000000000004?M=-.001668912999010927:M=-.02363511102970245:e[8]>58.50000000000001?M=-.00035213368294640616:e[3]>17.500000000000004?e[2]>28.500000000000004?e[10]>23.500000000000004?e[1]>38.50000000000001?M=.0911011436534449:e[1]>28.500000000000004?M=-.07192390493729035:M=.06913818091291246:M=-.012312625373699222:M=.06784496312307986:M=-167756936027735e-19:e[18]>1e-35?e[8]>302.50000000000006?M=.0026564453057705273:M=-.025425772389361445:e[122]>1e-35?M=-.12046786388602149:e[0]>3183.5000000000005?M=.01162092842804907:e[91]>1e-35?M=.07000265526928563:e[1]>22.500000000000004?e[0]>576.5000000000001?M=-.0001647792543020228:M=-.023664538532907665:M=.01609078206180752;let G;e[294]>1e-35?e[1]>26.500000000000004?e[0]>4141.500000000001?G=-.051473645433684705:e[0]>3030.5000000000005?e[1]>51.50000000000001?G=-.017696526862422682:G=.1450050954613223:G=-.05406930069823832:G=-.08308700260259043:e[120]>1e-35?G=.058316269489189415:e[297]>1e-35?e[94]>1e-35?G=-.07425512495167255:e[8]>51.50000000000001?e[1]>13.500000000000002?e[1]>33.50000000000001?e[19]>1e-35?e[0]>4498.500000000001?G=.038431826961746934:G=-.05937462906539856:e[9]>65.50000000000001?G=.10814845712507865:e[4]>9.500000000000002?e[2]>22.500000000000004?e[1]>39.50000000000001?e[1]>44.50000000000001?e[10]>44.50000000000001?G=.12297945639231944:e[0]>3796.5000000000005?e[4]>26.500000000000004?G=-.09579030954062734:G=.025064711572811746:G=.02579440518821548:G=.1044440128091862:G=-.058348633139536844:G=.07766788227934436:G=-.01021229539092708:e[2]>2.5000000000000004?e[10]>29.500000000000004?e[0]>3770.5000000000005?e[0]>4438.500000000001?G=.07463684068207214:G=.18244269035484484:e[6]>39.50000000000001?G=-.06050050067471004:G=.05787759066913493:G=.010783225857972171:G=.1674891243602606:e[4]>9.500000000000002?G=-.004814132027475892:G=-.14543299413454813:G=-.02935093398687923:e[116]>1e-35?e[9]>2.5000000000000004?e[8]>1218.5000000000002?G=-.07634466313617769:G=.0287825335169114:G=-.06894721943300268:G=-.00023988459059521937;let se;e[131]>1e-35?e[1]>93.50000000000001?se=-.05706887458825395:e[2]>1.5000000000000002?se=.011446637886629108:se=-.10616119878749211:e[230]>1e-35?e[4]>6.500000000000001?e[0]>4977.500000000001?se=.08424281276381033:e[3]>17.500000000000004?e[20]>1e-35?se=.11146885439601915:e[8]>61.50000000000001?e[0]>3530.5000000000005?e[9]>48.50000000000001?e[9]>61.50000000000001?se=.026278724448495064:se=.17053138400480508:e[0]>4463.500000000001?se=-.06482289890096041:se=.03026516489536295:se=-.031785170717683144:se=.1312690622980455:e[13]>1e-35?se=.14336922540461444:se=.03523850945454039:se=-.015407465968975714:e[39]>1e-35?se=-.054809635385158186:e[32]>1e-35?e[0]>4242.500000000001?se=-.0659975068798723:se=-.008386582621403979:e[4]>60.50000000000001?e[10]>75.50000000000001?e[3]>107.50000000000001?se=-.04225314193574262:e[3]>70.50000000000001?e[1]>29.500000000000004?se=.057409156184759516:se=.2024322059866388:se=-.030670938454461245:e[10]>1e-35?e[0]>4733.500000000001?se=.010648654146284154:e[308]>1e-35?se=.008728141696325391:e[4]>64.50000000000001?e[298]>1e-35?se=.12364025998551711:se=-.02247495081065243:e[1]>22.500000000000004?se=-.0726295464624251:se=.03481895086048152:e[0]>4331.500000000001?se=-.04775443357020673:se=.07172377425057568:e[2]>89.50000000000001?se=-.11782645274716962:se=.00010092665257989378;let ye;e[147]>1e-35?ye=-.041560228567115574:e[302]>1e-35?e[10]>47.50000000000001?ye=.062292114082780084:e[10]>5.500000000000001?e[7]>22.500000000000004?ye=-.016101990375700172:e[0]>2579.5000000000005?ye=-.13045089661551845:ye=-.02874367814784938:ye=.025835149631944995:e[167]>1e-35?e[0]>3928.5000000000005?ye=.17084176915326055:ye=-.019195947948312853:e[222]>1e-35?e[30]>1e-35?e[1]>36.50000000000001?e[8]>45.50000000000001?e[8]>578.5000000000001?e[1]>67.50000000000001?ye=.10591712319944074:ye=-.024082167264285:ye=.16497698867036126:ye=-.04985066326861431:e[0]>1937.5000000000002?e[2]>16.500000000000004?ye=-.021012910475524206:ye=-.13058422554298485:e[0]>1102.5000000000002?ye=.10955864175201457:ye=-.03566689354348996:e[1]>11.500000000000002?ye=-.02093884208606101:ye=.09107244766183857:e[126]>1e-35?e[10]>32.50000000000001?e[8]>719.5000000000001?ye=-.013861861436128482:ye=.09756849802202777:e[224]>1e-35?e[1]>51.50000000000001?ye=.10163873449625677:ye=-.02779270277623805:e[1]>26.500000000000004?ye=-.08035058228527389:ye=.0005719695099064484:e[191]>1e-35?e[9]>9.500000000000002?ye=-.007028075523033826:ye=.0489470913925288:e[1]>61.50000000000001?e[132]>1e-35?ye=.11230846723576784:e[0]>350.50000000000006?e[2]>1.5000000000000002?ye=-.0032075580718124892:ye=-.04442829143298883:ye=-.06597073245775804:ye=.0015594090939337751;let xe;e[223]>1e-35?e[8]>668.5000000000001?xe=-.12803889879260094:xe=.002171373740016862:e[121]>1e-35?e[0]>4720.500000000001?e[217]>1e-35?xe=.08967966612917375:e[1]>39.50000000000001?xe=-.059791671514498074:xe=.05648934961902822:e[2]>59.50000000000001?xe=-.08633234097449628:e[6]>53.50000000000001?xe=.11140345067444689:e[1]>56.50000000000001?e[4]>7.500000000000001?e[0]>3560.5000000000005?xe=.025606129643140924:xe=.13835395886271978:xe=-.09361630641448024:e[4]>7.500000000000001?e[1]>26.500000000000004?e[1]>49.50000000000001?xe=-.09975506556937946:e[10]>36.50000000000001?xe=-.09427724661655643:e[10]>24.500000000000004?xe=.07329330653410447:xe=-.02271182965807972:xe=-.09767874967639482:e[6]>13.500000000000002?e[10]>23.500000000000004?xe=-.05082091374050816:xe=.1687114435254966:e[0]>2314.5000000000005?xe=-.06422664016383926:xe=.0636688376664789:e[298]>1e-35?e[9]>12.500000000000002?e[133]>1e-35?xe=-.06857762517406195:e[9]>71.50000000000001?e[0]>4188.500000000001?xe=-.1274167728754332:xe=.01308079126447365:e[4]>73.50000000000001?xe=.13854015371106546:e[4]>48.50000000000001?xe=-.03684255740123261:e[6]>45.50000000000001?xe=.10329912215813097:e[10]>77.50000000000001?xe=-.08630788656925215:xe=.031022006843800853:e[1]>25.500000000000004?xe=-.08278381528048026:xe=.06664374548141594:e[84]>1e-35?xe=-.05624227409079396:xe=.00012184182357340415;let Ue;e[179]>1e-35?Ue=-.07443348719246982:e[40]>1e-35?e[0]>1937.5000000000002?Ue=-.07595415373151816:Ue=.054065040429292326:e[134]>1e-35?e[11]>1e-35?e[2]>13.500000000000002?e[0]>1187.5000000000002?Ue=.022822510448266862:Ue=.17491569312933697:Ue=-.058362287133533565:e[2]>2.5000000000000004?Ue=-.03633895806364428:Ue=.06397808186120692:e[8]>4968.500000000001?e[1]>31.500000000000004?Ue=-.07294848747514579:Ue=.025053613105805606:e[230]>1e-35?e[4]>6.500000000000001?e[107]>1e-35?Ue=-.07009535282685533:e[8]>2640.0000000000005?Ue=-.051761240111316276:e[131]>1e-35?Ue=-.06245774419231631:Ue=.03495606662854905:Ue=-.013863522184803188:e[131]>1e-35?e[1]>93.50000000000001?e[1]>105.50000000000001?Ue=.0015036626973581122:Ue=-.12505706794835883:e[1]>48.50000000000001?e[276]>1e-35?Ue=.10435171369790015:e[0]>5026.500000000001?e[0]>5308.500000000001?Ue=.022343994371919224:Ue=-.14087991797693533:e[8]>1323.5000000000002?e[10]>49.50000000000001?Ue=.07724450228328664:e[0]>3853.5000000000005?Ue=-.15671707454435677:e[10]>28.500000000000004?Ue=-.10179090671841723:Ue=.014878216919760927:Ue=.03967665658164865:e[8]>2696.5000000000005?e[15]>1e-35?Ue=.14054154485273487:Ue=.01821247272493051:e[2]>5.500000000000001?e[2]>100.50000000000001?Ue=-.08632985141410315:Ue=.005524157938954954:Ue=-.08802502622523681:Ue=-.0004649168897260341;let He;e[86]>1e-35?e[8]>65.50000000000001?e[1]>32.50000000000001?e[4]>16.500000000000004?He=-.007458687464321174:He=-.09444966249102484:e[1]>23.500000000000004?He=.08564129697360716:He=-.07105002902845851:He=.05688756955238231:e[294]>1e-35?e[10]>50.50000000000001?He=-.10326216566705966:e[1]>26.500000000000004?He=.0050539832484585365:He=-.07080395606126953:e[306]>1e-35?e[149]>1e-35?He=-.10399433201474328:e[2]>14.500000000000002?e[9]>6.500000000000001?He=.05783632021087773:e[10]>17.500000000000004?He=-.06720598671764105:e[1]>47.50000000000001?He=.097495825172558:He=-.013372242800584872:He=-.06463226787713715:e[42]>1e-35?He=-.0885725817597767:e[204]>1e-35?e[1]>62.50000000000001?He=-.07496598696848249:e[1]>29.500000000000004?e[8]>446.50000000000006?He=.11051270080118503:He=.027719462817590454:e[8]>597.5000000000001?He=-.08441503592016869:He=.05534229430302502:e[223]>1e-35?e[8]>668.5000000000001?He=-.12190088985091102:He=-.0067442838156576345:e[148]>1e-35?e[9]>79.50000000000001?He=.09225972475904022:e[2]>10.500000000000002?e[1]>102.50000000000001?He=.11805676536334647:e[8]>1726.5000000000002?e[9]>10.500000000000002?He=.016585157185448045:He=-.11032043771149425:He=.01586986028570486:e[8]>388.50000000000006?He=-.10592413013261853:He=.04930703248769364:e[13]>1e-35?He=.003621937787920821:He=-.0013786331198611841;let Ve;e[145]>1e-35?e[1]>32.50000000000001?e[1]>38.50000000000001?e[10]>55.50000000000001?e[1]>54.50000000000001?Ve=.009769895322846493:Ve=-.10620052926943656:e[9]>19.500000000000004?Ve=.03781202525403449:e[9]>14.500000000000002?Ve=-.11485785321365344:e[9]>6.500000000000001?Ve=.07677177833073881:e[0]>4342.500000000001?Ve=-.07079285609687631:e[49]>1e-35?Ve=.06156814809246001:Ve=-.014788509042554625:Ve=-.032659201618470655:e[5]>5207.500000000001?Ve=-.09013500825185713:e[3]>10.500000000000002?e[8]>1787.5000000000002?Ve=-.03094160322187924:e[1]>29.500000000000004?Ve=.09474646043921069:Ve=.023445783928231618:Ve=.09342846694174194:e[0]>533.5000000000001?e[204]>1e-35?e[1]>62.50000000000001?Ve=-.07164443768784848:e[1]>29.500000000000004?Ve=.089473622509272:e[8]>597.5000000000001?Ve=-.08155349903101317:Ve=.07098423265024251:e[8]>691.5000000000001?e[5]>2252.5000000000005?Ve=-.004003900679358653:e[190]>1e-35?Ve=-.09236113461485262:e[8]>3198.5000000000005?Ve=-.0124130160451179:Ve=.018453070064009328:e[15]>1e-35?Ve=.012013209112857824:e[7]>4.500000000000001?e[7]>5.500000000000001?Ve=-.0009580759587680961:Ve=-.03227283036698222:Ve=.01369287669536875:e[1]>50.50000000000001?Ve=-.04213060332500437:e[35]>1e-35?Ve=-.11508095777767471:e[190]>1e-35?Ve=-.08611884672400155:e[297]>1e-35?Ve=.05723551879433584:Ve=-.004829340082311461;let Qe;e[183]>1e-35?Qe=-.037994150023203555:e[227]>1e-35?e[17]>1e-35?e[3]>20.500000000000004?e[10]>36.50000000000001?Qe=-.11753465135886734:Qe=-.007515490299047085:Qe=-.08576941990777916:e[8]>1641.5000000000002?e[10]>37.50000000000001?Qe=-.12371142493530439:e[1]>36.50000000000001?Qe=.032189417575190435:Qe=-.10339125953022954:e[3]>32.50000000000001?e[4]>27.500000000000004?e[1]>59.50000000000001?Qe=-.0784518658439288:e[2]>54.50000000000001?Qe=.12477882322370665:Qe=.000313468482399738:Qe=.12261955132611434:e[8]>81.50000000000001?e[23]>1e-35?Qe=.04969252946760318:e[8]>511.50000000000006?e[8]>1146.5000000000002?Qe=.0353146070135579:Qe=-.06327619611098285:Qe=.02813577701641991:Qe=-.12354390728506215:e[34]>1e-35?Qe=-.07664408516055397:e[3]>99.50000000000001?e[1]>16.500000000000004?e[1]>26.500000000000004?Qe=-.01245803535276381:Qe=-.07169472553475001:e[1]>11.500000000000002?Qe=.12989984824561698:Qe=-.01201544398886606:e[6]>91.50000000000001?e[1]>22.500000000000004?Qe=.010390226893521422:e[10]>14.500000000000002?Qe=.16790888126487719:Qe=.010614982228955577:e[4]>79.50000000000001?e[9]>44.50000000000001?e[0]>3853.5000000000005?Qe=-.043398307129729134:Qe=.09963544907820426:e[9]>30.500000000000004?Qe=-.13540713124984502:e[9]>17.500000000000004?Qe=.0509435850590757:Qe=-.04761897852404613:e[4]>78.50000000000001?Qe=.09197086656470652:Qe=.0006771050176682337;let F;e[122]>1e-35?e[6]>36.50000000000001?F=.05686884451670743:F=-.05334759543084309:e[266]>1e-35?F=-.08603579519816038:e[157]>1e-35?F=-.06736746113382097:e[302]>1e-35?e[0]>2579.5000000000005?F=-.0499592651503952:e[0]>725.5000000000001?F=.11780353905132664:F=-.05232097173108943:e[147]>1e-35?e[1]>53.50000000000001?F=-.11398297342629615:e[0]>2604.5000000000005?e[0]>3629.5000000000005?F=-.03190157229022304:F=.07985197845805492:F=-.0763078988943886:e[4]>41.50000000000001?e[280]>1e-35?F=.05162933940904835:e[11]>1e-35?e[0]>460.50000000000006?F=-.027174047777029083:F=.057117284879796476:e[3]>43.50000000000001?F=-.0016147040913107311:F=-.05856597304613519:e[2]>45.50000000000001?e[0]>4663.500000000001?e[18]>1e-35?F=-.04779247091640426:e[10]>25.500000000000004?e[9]>22.500000000000004?e[22]>1e-35?F=-.01466076988151239:F=.13375695925484857:F=-.04885873081899647:e[0]>5566.500000000001?F=.11086813028591343:e[8]>992.5000000000001?F=-.07622304217072383:F=.04316019272026325:e[10]>12.500000000000002?e[9]>36.50000000000001?e[9]>45.50000000000001?F=.03285858361708423:F=-.12354858211764992:F=.0672788301823281:e[15]>1e-35?F=.08658836986585006:F=-.02741484278509758:e[290]>1e-35?F=-.08161310335133287:e[135]>1e-35?F=-.04824156054814152:F=.0009156904299554183;let ne;e[3]>7.500000000000001?ne=.0006791852818377787:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?ne=.03642374718166293:ne=.16379973756366603:ne=-.03946685266127979:e[186]>1e-35?ne=.07618896623420895:e[96]>1e-35?ne=.0680272261319657:e[107]>1e-35?e[1]>48.50000000000001?ne=-.022822371600847505:ne=.0501405836324949:e[203]>1e-35?e[1]>77.50000000000001?ne=.044416424920571296:ne=-.0648450593196238:e[5]>3921.5000000000005?e[1]>110.50000000000001?ne=-.11110466767595227:e[9]>5.500000000000001?e[9]>52.50000000000001?e[1]>50.50000000000001?ne=.1061937286809567:e[7]>54.50000000000001?ne=.11487507743121311:e[8]>819.5000000000001?ne=-.07181278009001418:e[10]>25.500000000000004?ne=.13499019430369633:e[1]>31.500000000000004?ne=.09032979489780704:ne=-.12754166393372374:e[9]>37.50000000000001?ne=-.05093963635361407:ne=-.005026651151683848:e[9]>2.5000000000000004?ne=.07619735785573735:ne=.012363301341532136:e[26]>1e-35?ne=-.10685800454968203:e[8]>125.50000000000001?e[8]>446.50000000000006?e[0]>3842.5000000000005?ne=-.08783796894105043:e[282]>1e-35?e[1]>47.50000000000001?e[9]>40.50000000000001?ne=-.10764172927882483:ne=.01890760098464703:ne=.06573095405846417:e[8]>634.5000000000001?ne=-.00783575973273707:ne=-.050612689680229306:e[1]>22.500000000000004?ne=-.0016842490401359626:ne=.0738227088444087:ne=-.02663970950432175;let B;e[31]>1e-35?e[8]>17.500000000000004?B=.013678038624884814:e[1]>35.50000000000001?e[1]>51.50000000000001?B=.007191286124908192:B=-.09347881647636902:e[10]>1.5000000000000002?B=.07938758708008091:B=-.008702935600305113:e[224]>1e-35?e[149]>1e-35?e[13]>1e-35?B=.12321804057595996:B=-.018281109320672437:e[23]>1e-35?e[4]>62.50000000000001?B=-.04644244754790671:B=.024546310702263208:e[8]>862.5000000000001?e[0]>3429.5000000000005?e[4]>9.500000000000002?e[52]>1e-35?B=.0706108609273337:e[2]>40.50000000000001?B=-.028046629962303716:B=-.06497613993109329:B=.01076489668586676:e[1]>33.50000000000001?e[0]>966.5000000000001?e[2]>14.500000000000002?e[1]>38.50000000000001?B=-.03056331974267756:B=-.11886389712497057:B=.053364962175658184:e[8]>2233.5000000000005?B=-.0448152521157682:B=.1508651602190868:e[2]>33.50000000000001?e[0]>2882.5000000000005?e[0]>3183.5000000000005?B=.03818796510453344:B=.23673992112982362:B=.02858814226507374:e[10]>44.50000000000001?B=-.1125863771551199:B=.009129996952394916:e[1]>7.500000000000001?B=-.004374525302461639:B=-.07858519434925451:e[149]>1e-35?e[6]>23.500000000000004?B=.0005231594491642136:e[0]>4053.5000000000005?e[8]>660.5000000000001?B=-.13677189943034931:e[10]>2.5000000000000004?B=.039591891437078086:B=-.09312596849507347:B=-.02423172142089822:B=.0009836986075266283;let he;e[189]>1e-35?e[0]>5269.500000000001?he=-.103183298350443:e[2]>51.50000000000001?he=.09784373530929913:e[10]>26.500000000000004?e[8]>764.5000000000001?he=-.05186168947388339:he=.0496996365539082:e[10]>23.500000000000004?he=.1404445738719:e[93]>1e-35?he=.0027146310074558505:e[5]>3821.5000000000005?he=.002153033152069652:e[4]>2.5000000000000004?he=.007663539551317215:he=.13902616832015402:e[298]>1e-35?e[8]>81.50000000000001?e[4]>64.50000000000001?he=.11498405722487515:e[2]>23.500000000000004?e[0]>2815.5000000000005?e[2]>44.50000000000001?e[4]>42.50000000000001?he=-.021479467709980358:he=.09336868994327292:e[1]>22.500000000000004?e[15]>1e-35?he=.021660293256233334:he=-.0927396152303864:he=.0665074081601698:e[0]>1550.5000000000002?he=.08972407105958534:he=-.0380796411182682:e[6]>13.500000000000002?e[10]>2.5000000000000004?he=.06761927942466854:he=-.015762168112653286:e[17]>1e-35?he=.10311304131145381:he=-.017672785252336027:he=-.08629805732772755:e[1]>24.500000000000004?e[138]>1e-35?he=-.10638321435298535:he=.0007073011744385905:e[18]>1e-35?he=-.027056185501334325:e[145]>1e-35?he=.023191199677450886:e[9]>33.50000000000001?e[201]>1e-35?he=.09762140519655171:e[9]>110.50000000000001?he=-.06581942957595835:e[6]>54.50000000000001?he=.04959634035251596:he=.0022616298654554207:he=-.007437620924990854;let le;e[179]>1e-35?le=-.06961998209988884:e[167]>1e-35?e[0]>3928.5000000000005?le=.1470294450403005:le=-.01671476793947083:e[187]>1e-35?e[6]>13.500000000000002?e[4]>30.500000000000004?e[13]>1e-35?le=.07448480853603114:e[0]>1012.5000000000001?e[5]>2883.5000000000005?e[0]>3682.5000000000005?e[5]>4031.5000000000005?e[23]>1e-35?le=.07965955447707423:e[10]>10.500000000000002?le=-.09236156404262426:le=.03396273196231458:le=-.13246465021467432:le=.07092822261735353:le=-.08753829085942:le=.09409024840640956:e[1]>40.50000000000001?e[8]>984.5000000000001?e[8]>1514.5000000000002?e[8]>2134.5000000000005?le=.004705878789890202:le=.13775378964952867:le=-.04770928980587811:e[10]>29.500000000000004?le=.011221519891071544:e[0]>3853.5000000000005?le=.06365381191628273:le=.15506252245336827:e[1]>37.50000000000001?le=-.07254777021042061:le=.026514587757252385:e[308]>1e-35?le=.04115804816617256:e[10]>26.500000000000004?le=.02077721353011946:e[5]>3548.5000000000005?le=-.1280907116663952:le=-.021974774274438:e[306]>1e-35?le=-.02700446558079895:e[297]>1e-35?e[212]>1e-35?le=.07794139136748461:e[7]>5.500000000000001?e[19]>1e-35?le=-.005710865560475598:e[94]>1e-35?le=-.06751507982853555:le=.027250040757588703:e[9]>52.50000000000001?le=.07060357924595577:le=-.030297760713011795:le=-.0006005400085266517;let W;e[113]>1e-35?W=-.07311041707507712:e[40]>1e-35?e[0]>1937.5000000000002?W=-.06996356565314456:W=.04780211300352931:e[10]>52.50000000000001?e[49]>1e-35?W=-.08317707559926495:e[21]>1e-35?W=-.0817284654645976:e[15]>1e-35?e[2]>3.5000000000000004?W=-.010538203005984922:W=.08454819465349446:e[9]>124.50000000000001?W=.09015659250299132:e[7]>15.500000000000002?e[5]>5732.500000000001?W=-.08542251249346582:e[9]>50.50000000000001?W=-.023428882537657472:W=.010042500833979073:W=.020697210754240154:e[10]>28.500000000000004?e[5]>423.00000000000006?e[148]>1e-35?W=.03006025206979096:e[9]>108.50000000000001?W=-.09153851322499747:e[145]>1e-35?e[5]>4814.500000000001?e[2]>38.50000000000001?W=.04222035773042132:W=-.09078149053947535:e[8]>568.5000000000001?e[1]>64.50000000000001?W=-.07209095448054853:W=.028065954981903313:W=.08714651929917122:W=-.006678820669279169:e[10]>40.50000000000001?W=.006982396294941626:W=-.07889649792011418:e[94]>1e-35?e[4]>30.500000000000004?W=-.09351114982645548:e[4]>3.5000000000000004?W=-.004837550129223451:W=-.08324141237464677:e[303]>1e-35?W=.10703037493990825:e[9]>156.50000000000003?W=-.10803018621648303:e[116]>1e-35?W=-.03208302566598311:e[212]>1e-35?e[243]>1e-35?W=.10261721665006701:W=.018994509090668264:W=.0011244262442038839;let re;e[86]>1e-35?e[8]>65.50000000000001?e[1]>46.50000000000001?re=-.08404263465005328:e[0]>3682.5000000000005?re=.041259223920298876:e[1]>29.500000000000004?re=-.09541257493441671:re=.001482192721625409:re=.051541427372951004:e[3]>7.500000000000001?e[157]>1e-35?re=-.08268996098437432:e[230]>1e-35?re=.015749498159959817:e[4]>7.500000000000001?e[3]>11.500000000000002?re=-913218977737457e-19:e[4]>10.500000000000002?re=-.056334165674005156:e[127]>1e-35?re=-.0784634021824036:e[2]>9.500000000000002?e[1]>62.50000000000001?re=-.04231200150318989:e[10]>42.50000000000001?re=.10182973257894812:re=.015934763950068445:re=-.03130938805859397:e[92]>1e-35?e[4]>6.500000000000001?e[1]>51.50000000000001?e[9]>19.500000000000004?re=-.041117068322885315:re=.1167767830037126:re=.13611206992387337:e[10]>41.50000000000001?re=-.07120286010564107:re=.022032788063345417:e[8]>1.5000000000000002?e[1]>51.50000000000001?e[9]>72.50000000000001?re=-.07702290997669524:e[198]>1e-35?re=.08776558554437136:re=-.008290740324975692:e[2]>32.50000000000001?re=.07198457624219955:re=.005463113714361629:re=.09414099512900526:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?re=.03295785445437507:re=.15140250150674536:re=-.035613213948910254:e[186]>1e-35?re=.06849425535860769:e[96]>1e-35?re=.06028225812727254:re=-.007582543288662308;let be;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?be=.08396556264106572:be=-.0562516995099192:be=-.10593011018789432:e[183]>1e-35?e[15]>1e-35?be=-.09705176473553752:e[7]>18.500000000000004?e[2]>37.50000000000001?be=.0052017514017035915:be=-.11194119432743639:be=.03724337696163019:e[227]>1e-35?e[17]>1e-35?e[2]>16.500000000000004?be=-.025692451287403446:be=-.09511862672123193:e[8]>1661.5000000000002?e[10]>37.50000000000001?be=-.11892250746801664:e[10]>22.500000000000004?be=.07548493166973796:be=-.05973048107712209:e[4]>12.500000000000002?e[0]>4319.500000000001?e[10]>4.500000000000001?e[10]>37.50000000000001?be=.13750699058082427:e[18]>1e-35?be=.06535408879552801:be=-.054118179035040674:be=.1344282838979622:e[0]>3982.5000000000005?be=-.10409582202467015:e[19]>1e-35?be=.12672850705810795:e[8]>587.5000000000001?e[1]>35.50000000000001?be=.012705935670766466:be=.14149359442527545:be=-.047977876173706004:e[20]>1e-35?be=.057945228080337946:e[0]>3642.5000000000005?be=-.008726535792122467:be=-.08424769891378858:e[34]>1e-35?be=-.0699329538228602:e[134]>1e-35?e[11]>1e-35?e[4]>15.500000000000002?e[0]>1187.5000000000002?be=.01196849566739346:be=.1614642278429876:be=-.043022338150701625:e[3]>5.500000000000001?be=-.03907848255033881:be=.018280601026175593:be=.0006654540402589085;let ue;e[31]>1e-35?e[2]>58.50000000000001?e[9]>1.5000000000000002?ue=-.01386103677247845:ue=.11386694333005128:e[4]>27.500000000000004?ue=-.021862617610091336:e[2]>31.500000000000004?ue=.0828858469030438:ue=.006483353475830127:e[224]>1e-35?e[149]>1e-35?e[13]>1e-35?ue=.11303635767048735:ue=-.01645525128352694:e[23]>1e-35?e[4]>62.50000000000001?ue=-.04238798044549342:ue=.022091190130494303:e[5]>5082.500000000001?ue=-.04287166152163786:e[8]>862.5000000000001?e[19]>1e-35?ue=.000660344696244351:e[4]>9.500000000000002?e[0]>1277.5000000000002?ue=-.04291104140431434:e[17]>1e-35?ue=.11256797532342613:ue=-.017206916368289193:ue=.026482035265709743:e[1]>8.500000000000002?e[11]>1e-35?ue=.04060606971664621:e[0]>4733.500000000001?e[8]>214.50000000000003?e[5]>4814.500000000001?ue=.03581712466863222:ue=.14770264307668884:e[8]>73.50000000000001?ue=-.13093289429740068:ue=.042461737442702936:e[52]>1e-35?ue=.0501831919044939:ue=-.010450249720465756:ue=-.0753365425372656:e[149]>1e-35?e[6]>23.500000000000004?ue=.0005381332165438493:ue=-.04549431717503909:e[133]>1e-35?e[2]>5.500000000000001?e[8]>698.5000000000001?e[282]>1e-35?ue=.04849637311285226:ue=-.036671377119808564:e[0]>421.50000000000006?ue=.00020968499911058945:ue=.11636422423182405:ue=-.12687837788222575:ue=.0012774367867215346;let me;e[120]>1e-35?me=.04776057572434719:e[229]>1e-35?e[0]>2952.5000000000005?e[0]>3904.5000000000005?me=-.042799574885345304:me=.07412430171193245:me=-.11248270469336048:e[193]>1e-35?me=-.060694220820603384:e[121]>1e-35?e[217]>1e-35?e[0]>4449.500000000001?e[4]>8.500000000000002?me=.028911612178122104:me=.12326369727728437:e[0]>4091.5000000000005?me=-.09370267064141052:e[0]>3519.5000000000005?e[8]>668.5000000000001?me=.1159839898100149:me=-.01924880886585737:e[8]>501.50000000000006?e[10]>16.500000000000004?me=-.0216343737351583:me=-.1220272260878369:e[2]>18.500000000000004?me=.09152924475072398:e[8]>55.50000000000001?me=.039508716651005665:me=-.11714436880423203:e[18]>1e-35?e[9]>2.5000000000000004?me=.06793009902674053:me=-.024060578029812988:e[4]>2.5000000000000004?e[2]>16.500000000000004?e[4]>11.500000000000002?me=-.04391068849624096:me=.04009967593394672:e[8]>1085.5000000000002?me=-.024773826356034825:me=-.13919707884246582:me=.06659278075192335:e[223]>1e-35?e[8]>668.5000000000001?me=-.11567917501901476:me=-.006813640337684114:e[3]>7.500000000000001?me=.0010671269682548076:e[7]>3.5000000000000004?e[1]>33.50000000000001?e[0]>1597.5000000000002?e[10]>1.5000000000000002?me=-.001754586408351048:me=-.055422422450722056:me=-.06090032532532226:e[0]>5269.500000000001?me=.11787981735983527:me=-.00198119768540783:me=.00210412924303036;let Ee;e[294]>1e-35?e[10]>50.50000000000001?Ee=-.09738558653332406:e[0]>2432.5000000000005?e[0]>4533.500000000001?Ee=-.06063239096209816:Ee=.03317022411417386:Ee=-.08607562321324262:e[120]>1e-35?e[4]>18.500000000000004?Ee=-.013608609329298802:Ee=.09078000157330264:e[99]>1e-35?Ee=.014828708581964632:e[10]>52.50000000000001?e[49]>1e-35?Ee=-.07536137260189814:Ee=.006253266595455118:e[10]>28.500000000000004?Ee=-.006106041147592768:e[9]>156.50000000000003?Ee=-.11828932797811101:e[94]>1e-35?Ee=-.02566078479505714:e[303]>1e-35?Ee=.09544850289775349:e[15]>1e-35?e[224]>1e-35?e[4]>56.50000000000001?Ee=-.08401252789168523:e[5]>4244.500000000001?Ee=.026372887658499107:e[1]>16.500000000000004?Ee=-.027836756345634026:Ee=.09205362097909099:Ee=.00934612788718244:e[203]>1e-35?Ee=-.016371658366767253:e[7]>26.500000000000004?e[0]>966.5000000000001?e[1]>38.50000000000001?e[146]>1e-35?e[9]>21.500000000000004?Ee=-.09580979052540028:e[1]>50.50000000000001?Ee=-.06402211827281554:Ee=.08342858760095972:e[2]>36.50000000000001?Ee=.008114897658204584:e[92]>1e-35?Ee=.09541587072672864:Ee=-.022342147210555434:Ee=-.01660492519175128:Ee=.014721622240945446:e[4]>25.500000000000004?e[11]>1e-35?Ee=.15846731118501817:Ee=.039498507912023195:e[245]>1e-35?Ee=.07008718676813333:Ee=.0019806389728814727;let we;e[32]>1e-35?e[8]>90.50000000000001?e[4]>67.50000000000001?e[0]>4188.500000000001?we=-.01192072916082109:we=.13888590840802637:e[1]>16.500000000000004?e[8]>2302.5000000000005?we=.06874032717466054:e[4]>40.50000000000001?we=-.07752510020707537:e[1]>76.50000000000001?we=-.09944032260703917:e[8]>1381.5000000000002?we=-.054466635810800745:e[1]>32.50000000000001?we=.05974084520839573:we=-.0384718740755954:we=-.11374190719134032:e[0]>2151.5000000000005?we=-.13703645155803298:we=.004833344758654556:e[297]>1e-35?e[212]>1e-35?we=.06954747264544993:e[7]>9.500000000000002?e[19]>1e-35?e[1]>30.500000000000004?e[0]>4242.500000000001?we=.013539805885738608:we=-.0692740641801559:e[0]>2653.5000000000005?e[10]>57.50000000000001?we=.09941880179344399:we=-.01608127391210995:we=.08025226531247417:e[9]>67.50000000000001?we=.13525448212444113:e[6]>61.50000000000001?we=-.05511099182158894:e[94]>1e-35?we=-.06821509831783572:e[128]>1e-35?we=.11361314817714643:we=.030160785008575566:e[1]>13.500000000000002?e[8]>17.500000000000004?e[16]>1e-35?we=-.09954181329804547:e[197]>1e-35?we=.10102833149755386:e[188]>1e-35?we=.05584490988313965:e[9]>49.50000000000001?e[4]>5.500000000000001?we=-.03781554214742005:we=.09927933385592314:we=-.020006000056720083:we=-.10520473615957895:we=-.12006990846253787:we=-.00026111570975317574;let ke;e[8]>2830.5000000000005?e[1]>31.500000000000004?e[9]>32.50000000000001?e[5]>1234.5000000000002?e[0]>1725.5000000000002?e[7]>14.500000000000002?e[2]>38.50000000000001?ke=-.019188245509744628:ke=-.13354864350075848:e[0]>2461.5000000000005?ke=.051885477468354396:ke=-.0833581968852119:ke=.08233441701532287:ke=-.10865584951212362:e[8]>2992.5000000000005?e[10]>49.50000000000001?e[10]>56.50000000000001?e[1]>45.50000000000001?e[0]>2041.5000000000002?ke=.09926337893072812:ke=-.027753610497327715:e[0]>1972.5000000000002?ke=-.09780045823152517:ke=.032380915168504935:ke=.11502632261226381:e[17]>1e-35?ke=-.06094965899579662:e[10]>40.50000000000001?ke=-.07500475582440802:ke=.006499832113084677:e[10]>4.500000000000001?e[4]>10.500000000000002?ke=-.09584538995220808:ke=-.00908705814304442:ke=.03203281520813893:e[10]>49.50000000000001?ke=-.03146271513986384:e[2]>63.50000000000001?ke=.13172001315536286:e[224]>1e-35?ke=.08945777550527927:e[0]>2282.5000000000005?e[4]>4.500000000000001?ke=.09521549382082259:ke=-.04414925613522197:e[0]>1847.5000000000002?ke=-.09118580379557353:ke=.009206744918282364:e[178]>1e-35?e[2]>25.500000000000004?e[1]>31.500000000000004?ke=.03525144509943896:ke=-.053340750721609057:e[0]>1057.5000000000002?e[10]>2.5000000000000004?ke=-.04766112322938157:e[2]>10.500000000000002?ke=.0728516504357201:ke=-.05049625965272536:ke=-.10868663055825774:ke=.0005382613419948969;let We;e[147]>1e-35?e[1]>53.50000000000001?We=-.10615739288764095:e[0]>2604.5000000000005?e[0]>3629.5000000000005?We=-.030504020655417463:We=.07102458639110094:We=-.07058131985243714:e[302]>1e-35?e[10]>47.50000000000001?We=.055304563442710876:e[1]>53.50000000000001?We=.033723409577443623:e[8]>175.50000000000003?e[0]>2628.5000000000005?e[9]>40.50000000000001?We=-.1568835288372895:We=-.0279829124400056:We=.04493843959601833:We=-.11637042729644327:e[191]>1e-35?e[282]>1e-35?We=-.054133834303687026:e[9]>48.50000000000001?We=.11263810289007213:e[9]>9.500000000000002?We=-.02202034562838259:e[4]>45.50000000000001?We=-.03410927569045158:We=.04381615166534081:e[242]>1e-35?e[0]>3615.5000000000005?e[3]>19.500000000000004?e[1]>56.50000000000001?e[4]>28.500000000000004?We=-.029687297407295893:We=.10673602850001934:e[4]>42.50000000000001?We=.0036275562945108117:We=-.0760789221330622:We=-.10385623431741903:e[2]>34.50000000000001?e[2]>44.50000000000001?e[4]>51.50000000000001?We=.08274426793676076:We=-.07076234425516396:We=.13890177606150175:We=-.019863286503635686:e[53]>1e-35?e[18]>1e-35?We=-.09250637750836187:We=-.0031531727902009026:e[2]>107.50000000000001?e[4]>91.50000000000001?e[1]>16.500000000000004?We=-.01897867921812603:We=.04890781705365262:We=-.11569892307597907:e[2]>106.50000000000001?We=.09032697440623969:We=.00047935919155035045;let Ke;e[115]>1e-35?Ke=.05338335681275557:e[242]>1e-35?e[0]>3615.5000000000005?e[4]>42.50000000000001?e[4]>75.50000000000001?Ke=-.10131179514695865:e[8]>938.5000000000001?Ke=.10203729808015481:Ke=-.015357944186835289:e[1]>56.50000000000001?e[2]>22.500000000000004?Ke=.03574015165562999:Ke=-.07763042506449493:Ke=-.0813323116215548:e[2]>34.50000000000001?e[2]>44.50000000000001?e[4]>51.50000000000001?Ke=.0665706259130275:Ke=-.06586817559309924:Ke=.11925564412287476:Ke=-.014170019267143326:e[1]>124.50000000000001?e[2]>30.500000000000004?e[8]>533.5000000000001?e[4]>41.50000000000001?e[8]>977.5000000000001?Ke=.046017146627455346:Ke=-.08623321630086885:e[8]>1765.5000000000002?Ke=-.017990564319859934:e[10]>25.500000000000004?e[10]>48.50000000000001?Ke=.11143827902215087:Ke=-.01817808730473413:Ke=.16980985030210127:Ke=-.09357806298740017:e[10]>7.500000000000001?e[10]>54.50000000000001?Ke=.010168994879727824:Ke=-.09099594488792513:e[9]>1.5000000000000002?Ke=.0533459678147928:Ke=-.06886854808370108:e[99]>1e-35?e[17]>1e-35?e[9]>22.500000000000004?Ke=-.062346959148773695:e[1]>47.50000000000001?Ke=-.0021578343835599316:e[2]>27.500000000000004?Ke=.19567373210166172:Ke=.07851555379116423:e[18]>1e-35?Ke=.03711549097804649:e[8]>359.50000000000006?Ke=.012492346746905587:e[4]>20.500000000000004?Ke=.047511695735697544:Ke=-.07999269063948773:Ke=6802045404471004e-20;let rt;e[222]>1e-35?e[0]>612.5000000000001?e[10]>1e-35?e[8]>2167.5000000000005?e[4]>25.500000000000004?rt=.0011484728213539738:rt=-.0936582904650763:e[2]>25.500000000000004?e[8]>182.50000000000003?e[10]>22.500000000000004?e[0]>5026.500000000001?rt=-.09828874964938798:e[8]>1586.5000000000002?rt=.13726397438080162:e[4]>48.50000000000001?e[2]>63.50000000000001?rt=.011938269926919522:rt=.17541983715953954:e[19]>1e-35?rt=.023002786011088672:rt=-.06221461272461431:e[9]>2.5000000000000004?e[0]>3818.5000000000005?rt=.06508934844183291:rt=-.10168553534835639:rt=-.07755626499024171:e[2]>51.50000000000001?e[4]>65.50000000000001?rt=.021140806225203937:rt=-.1167833342453639:e[2]>33.50000000000001?rt=.13163585734056618:rt=-.00203273890889717:e[10]>36.50000000000001?e[8]>1067.5000000000002?rt=.06314479201263888:rt=-.09639088327091713:e[10]>29.500000000000004?rt=.09225469303582386:e[0]>3129.5000000000005?e[0]>4091.5000000000005?e[0]>4354.500000000001?rt=40577156464836036e-21:rt=.12322387121810757:rt=-.03697224045046014:e[1]>22.500000000000004?rt=.016474835887320276:rt=.16919298733903063:rt=.07633203630214054:rt=-.047438037934250644:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?rt=.14150493354700563:rt=-.01831155354975749:e[1]>28.500000000000004?rt=-.07952557178685365:e[10]>28.500000000000004?rt=.0665695554984927:rt=-.053640139319277094:rt=.0004754840665898665;let nt;e[76]>1e-35?nt=-.06814884255939921:e[179]>1e-35?nt=-.06325743795510681:e[122]>1e-35?e[6]>36.50000000000001?nt=.05052338063261613:e[8]>626.5000000000001?e[1]>38.50000000000001?nt=.004193658608848433:nt=-.1066968975983452:e[8]>302.50000000000006?nt=.05476730110440451:nt=-.06382970920394895:e[218]>1e-35?e[2]>3.5000000000000004?e[6]>13.500000000000002?e[2]>19.500000000000004?e[0]>3200.5000000000005?e[4]>91.50000000000001?nt=-.12156071809840739:e[9]>21.500000000000004?e[5]>3883.5000000000005?e[8]>919.5000000000001?e[8]>1085.5000000000002?nt=.013555772109446666:nt=-.09856116699770784:nt=.0284329611813383:e[2]>52.50000000000001?nt=.04008708444763762:e[9]>29.500000000000004?nt=-.1289599546008197:nt=-.018566534248335896:e[8]>747.5000000000001?nt=.02236484980076122:nt=.1148871655157582:e[8]>3084.0000000000005?nt=-.05573875952902531:e[10]>17.500000000000004?e[2]>51.50000000000001?nt=.03164751204281298:nt=.11752140436184891:e[9]>42.50000000000001?nt=-.07180559595410106:e[22]>1e-35?nt=.09325040416256854:nt=-.016041122807939914:nt=-.02765708954618808:e[1]>30.500000000000004?e[1]>66.50000000000001?nt=-.010718250133458515:nt=.09818827994853763:nt=.010180038981174032:nt=-.039472162599295535:e[9]>170.50000000000003?nt=-.08536729235976731:e[189]>1e-35?e[0]>5269.500000000001?nt=-.08674788057474031:nt=.02077653508548371:nt=-.0003536561382007414;let ct;e[86]>1e-35?e[10]>6.500000000000001?e[0]>4376.500000000001?ct=.018337297491457794:ct=-.05926206443180149:ct=.024026520855881126:e[288]>1e-35?e[184]>1e-35?ct=.10747078482128616:e[126]>1e-35?ct=-.10550625192391357:e[7]>71.50000000000001?ct=-.07698346027863572:e[8]>302.50000000000006?e[6]>49.50000000000001?e[4]>47.50000000000001?e[1]>38.50000000000001?e[15]>1e-35?ct=.1317396472229434:ct=-.025035791351328947:ct=-.0728334305864372:e[8]>963.5000000000001?ct=.023642201723096064:ct=.183010326734258:e[128]>1e-35?ct=.04228920135648387:e[2]>34.50000000000001?e[15]>1e-35?ct=.002801782941492993:e[3]>40.50000000000001?e[4]>39.50000000000001?ct=-.1088876900335281:ct=.02758317023002635:ct=-.11886771300807207:e[9]>59.50000000000001?e[1]>33.50000000000001?ct=-.01928020117446408:ct=.10193718474139135:e[1]>48.50000000000001?e[4]>9.500000000000002?e[8]>932.5000000000001?ct=.07893723375925096:ct=-.009878929627026153:e[10]>2.5000000000000004?e[9]>20.500000000000004?ct=-.10301657587280551:ct=.005787463140224318:ct=.07421364314695046:e[0]>2840.5000000000005?e[10]>29.500000000000004?ct=-.019296977889522397:ct=-.07274529751752634:e[1]>30.500000000000004?ct=-.050368901143148286:ct=.029630869489466655:e[2]>6.500000000000001?e[4]>9.500000000000002?ct=.0015332402792773946:ct=.09930153676749967:ct=-.06370844564357069:ct=.00042272155209927616;let L;e[71]>1e-35?e[4]>17.500000000000004?L=.12586844370423247:L=-.006791999603126354:e[222]>1e-35?e[1]>10.500000000000002?e[30]>1e-35?e[1]>36.50000000000001?e[9]>1.5000000000000002?e[10]>25.500000000000004?L=-.08474891624263797:e[8]>125.50000000000001?L=.08125086980439704:L=-.04082085238068532:e[0]>3863.5000000000005?L=.020481535807469208:L=.14810819386202126:e[0]>1937.5000000000002?e[2]>16.500000000000004?L=-.019110200161573936:L=-.12387719685855114:e[0]>1102.5000000000002?L=.08376595701957407:L=-.031821919580524834:e[9]>4.500000000000001?L=-.08116383486497568:e[7]>8.500000000000002?e[2]>24.500000000000004?L=-.02154820850475448:e[0]>3863.5000000000005?e[8]>902.5000000000001?L=.1349841206807871:L=.011864053595560297:e[1]>41.50000000000001?L=-.08203662486612544:e[2]>18.500000000000004?L=-.009541865642346947:L=.08345043168501759:e[2]>10.500000000000002?L=-.09585031818030947:L=.019432330487099865:L=.08399259524715129:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?L=.11951517733981365:L=-.016651014735738538:e[1]>28.500000000000004?L=-.07410922545030711:e[10]>28.500000000000004?L=.05886430683844788:L=-.04929626605117184:e[191]>1e-35?e[9]>9.500000000000002?e[9]>48.50000000000001?L=.04802269879144705:L=-.026208212831796737:e[4]>45.50000000000001?L=-.03227476944664786:L=.05124575625622705:L=.00020506696916003137;let Z;e[116]>1e-35?e[9]>2.5000000000000004?e[9]>17.500000000000004?Z=-.03042091758483443:e[10]>14.500000000000002?Z=.09816619204768777:Z=.01332124067720947:e[8]>8.500000000000002?e[4]>15.500000000000002?Z=-.02381165060401718:Z=-.10950361804974783:Z=.03538211665111128:e[212]>1e-35?e[19]>1e-35?Z=-.09940014650006174:e[0]>2215.5000000000005?e[5]>5056.500000000001?e[3]>5.500000000000001?e[10]>25.500000000000004?Z=-.06371052144380579:Z=.0835500621252692:Z=-.10408255929333915:e[1]>74.50000000000001?Z=.13208968122712403:e[1]>64.50000000000001?Z=-.04778844603644965:e[8]>51.50000000000001?e[8]>201.50000000000003?e[8]>660.5000000000001?e[6]>4.500000000000001?e[9]>5.500000000000001?e[1]>29.500000000000004?e[0]>3830.5000000000005?Z=.09922816902423433:Z=.016366955328796718:Z=.1592412560903584:e[1]>39.50000000000001?Z=.05409467990258923:Z=-.08260633210459611:Z=-.06307205775247567:e[9]>36.50000000000001?Z=.040253940015648144:Z=.14202568969471283:Z=-.028761848341594044:Z=.08994073058773508:e[0]>807.5000000000001?Z=-.043427848826323195:Z=.04573516446846493:e[20]>1e-35?e[188]>1e-35?Z=-.0758877731600639:e[23]>1e-35?Z=.05913923322043199:e[8]>155.50000000000003?e[128]>1e-35?Z=.08124700978741987:Z=.013296063087086852:e[7]>5.500000000000001?Z=-.01640196088612987:Z=-.12685498840146067:Z=-.0004940792382459551;let fe;e[1]>24.500000000000004?e[103]>1e-35?e[8]>61.50000000000001?e[17]>1e-35?fe=-.05584993681929434:e[9]>27.500000000000004?e[0]>3916.5000000000005?fe=.08513773825688947:fe=-.1184664832315282:fe=.05676963535893477:fe=.14263843210340613:fe=.0005795003292924202:e[18]>1e-35?e[0]>5453.500000000001?e[1]>11.500000000000002?fe=-.10669720555606924:fe=.029016613003137307:e[2]>46.50000000000001?e[10]>9.500000000000002?fe=.0664744575868955:fe=-.08469256188890871:fe=-.026746678040592144:e[281]>1e-35?fe=-.07408427239006925:e[145]>1e-35?e[4]>6.500000000000001?e[9]>16.500000000000004?e[4]>18.500000000000004?fe=.012131807587207655:fe=-.12776015795398743:fe=.04320472481083551:fe=.08390980661550446:e[10]>227.50000000000003?fe=-.09771783809101153:e[10]>130.50000000000003?fe=.11175201938704937:e[8]>779.5000000000001?e[5]>3325.5000000000005?e[128]>1e-35?fe=-.07610698254064358:e[8]>902.5000000000001?fe=-.03136381213599649:e[131]>1e-35?fe=.0704821739127936:e[224]>1e-35?fe=-.056961477774953785:e[10]>30.500000000000004?e[9]>43.50000000000001?fe=.10431473040024908:e[8]>841.5000000000001?fe=.07304745320500514:fe=-.038011541882439825:fe=-.01679746695007364:e[0]>3129.5000000000005?fe=.05589952587431965:e[210]>1e-35?fe=.06227198085800842:fe=-.0011341890997947812:e[8]>740.5000000000001?fe=.04817300084412584:fe=-.000577001010789238;let ge;e[187]>1e-35?e[6]>12.500000000000002?e[10]>8.500000000000002?e[10]>16.500000000000004?e[8]>234.50000000000003?e[4]>43.50000000000001?e[0]>4476.500000000001?ge=-.10504730480402079:e[5]>3341.5000000000005?ge=.11087894671081754:ge=-.0406668834674614:ge=.03308382165616109:e[8]>104.50000000000001?ge=-.10431436764549162:ge=.0073928337244891455:e[4]>34.50000000000001?ge=-.10571751512748416:ge=-.006081128814142983:e[13]>1e-35?ge=.1299673566095023:e[4]>60.50000000000001?ge=-.06587492443829139:e[0]>2604.5000000000005?e[3]>19.500000000000004?ge=.04857126072645073:ge=-.03431365358104773:e[4]>16.500000000000004?ge=.04101865986596709:ge=.16480274980378218:e[10]>26.500000000000004?ge=.03673978504199255:e[10]>9.500000000000002?ge=-.10996402743800027:e[308]>1e-35?ge=.0553693735082498:ge=-.041600136235644125:e[306]>1e-35?e[8]>1156.5000000000002?e[4]>14.500000000000002?e[10]>21.500000000000004?ge=.010902983761213922:ge=.1325118659895645:ge=-.064362945508595:e[1]>66.50000000000001?ge=.033416767779331176:ge=-.054080316225040496:e[42]>1e-35?ge=-.07762364337810815:e[10]>1089.5000000000002?ge=-.08465599849125216:e[31]>1e-35?e[8]>30.500000000000004?ge=.012788520036013586:e[1]>32.50000000000001?e[1]>51.50000000000001?ge=.0220102041325908:ge=-.06516708740003069:ge=.012833498905748267:e[224]>1e-35?ge=-.007038418272997865:ge=.00037666304316290967;let De;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?De=.07554189644995735:De=-.052089349455904946:De=-.10148206848169845:e[113]>1e-35?De=-.06666678653225779:e[39]>1e-35?e[9]>3.5000000000000004?e[0]>3670.5000000000005?De=.07172653627995676:De=-.07602959317610998:De=-.08790686271287523:e[229]>1e-35?e[0]>2952.5000000000005?e[0]>3904.5000000000005?De=-.0399322883690891:De=.06523495517476098:De=-.10358715295743802:e[193]>1e-35?De=-.05551414334329124:e[134]>1e-35?e[11]>1e-35?e[2]>13.500000000000002?e[10]>1.5000000000000002?De=.015928764772252406:De=.1341513061552287:De=-.04975001987586173:e[10]>2.5000000000000004?e[3]>5.500000000000001?e[9]>2.5000000000000004?e[8]>310.50000000000006?De=-.033592997607280156:De=-.12432458028446665:e[1]>32.50000000000001?e[217]>1e-35?De=-.08402551858097379:De=.017401984506038796:e[1]>25.500000000000004?De=.13337205393591278:De=-.01160208350090984:De=.06708317942315471:e[8]>227.50000000000003?De=-.08486943882418681:De=-.013970104864235007:e[8]>4968.500000000001?e[1]>31.500000000000004?e[9]>4.500000000000001?De=-.10496268177586783:De=-.020921489532370493:De=.02629915927247642:e[7]>20.500000000000004?e[8]>251.50000000000003?e[115]>1e-35?De=.11639296062157028:De=-.004275784356569115:e[32]>1e-35?De=-.07297384970166025:De=.006026841626381599:De=.002034611134960428;let Me;e[248]>1e-35?Me=.06091438745093315:e[0]>384.50000000000006?e[204]>1e-35?e[1]>62.50000000000001?Me=-.06455513326540585:e[1]>29.500000000000004?Me=.07718474591552532:e[4]>7.500000000000001?Me=.040139336931404826:Me=-.09685734690563386:Me=.00015327283570347363:e[9]>88.50000000000001?Me=.10079017954199324:e[1]>47.50000000000001?e[2]>20.500000000000004?e[2]>27.500000000000004?Me=-.04077257804338707:Me=.0739963982640615:e[9]>1.5000000000000002?e[17]>1e-35?Me=.03778141591008941:Me=-.06459919920634845:Me=-.11193190957880604:e[7]>6.500000000000001?e[11]>1e-35?e[18]>1e-35?Me=.14063930759326346:e[0]>179.50000000000003?Me=.07287482250668585:e[8]>1180.5000000000002?Me=-.14419393112726253:e[10]>28.500000000000004?Me=-.07993142770099469:e[17]>1e-35?Me=-.04702595410391655:e[7]>21.500000000000004?e[2]>26.500000000000004?Me=.05527969663610186:Me=-.10824385941441346:e[3]>11.500000000000002?Me=.12358502961047915:Me=-.017509147119622873:e[0]>74.50000000000001?Me=-.014907705458730486:e[8]>95.50000000000001?Me=-.02225118168342062:Me=-.1222374623708485:e[8]>1.5000000000000002?e[8]>950.5000000000001?Me=.06946188930925638:e[3]>6.500000000000001?e[10]>2.5000000000000004?e[19]>1e-35?Me=.04962819555610421:Me=-.07213577821855309:Me=.09139529824708481:e[19]>1e-35?Me=.013439401088345224:Me=-.049274647207292056:Me=.10531673719686951;let $e;e[40]>1e-35?e[0]>1937.5000000000002?$e=-.06421671152073961:$e=.04235421241226177:e[294]>1e-35?e[10]>50.50000000000001?$e=-.09100102290316286:e[0]>3030.5000000000005?e[0]>4177.500000000001?$e=-.03520420769287065:e[8]>1085.5000000000002?$e=-.019817352506127633:$e=.11444439424520964:$e=-.06854631664538167:e[120]>1e-35?e[4]>18.500000000000004?$e=-.010490117519863269:$e=.08104430117757461:e[121]>1e-35?e[243]>1e-35?$e=.16408304891242204:e[217]>1e-35?e[0]>4449.500000000001?$e=.06619344145920268:e[0]>4091.5000000000005?$e=-.08813353450871053:e[0]>3519.5000000000005?e[8]>668.5000000000001?$e=.10016091391222309:$e=-.017407607199427293:e[8]>501.50000000000006?e[10]>16.500000000000004?$e=-.019511460451434884:$e=-.11643672465055221:e[2]>18.500000000000004?$e=.07848228087333317:e[8]>55.50000000000001?$e=.032583027899956235:$e=-.11209832692153521:e[11]>1e-35?$e=.027482174104412567:e[10]>1.5000000000000002?e[6]>26.500000000000004?e[4]>19.500000000000004?e[9]>31.500000000000004?$e=-.09996887746328006:e[9]>2.5000000000000004?$e=.02157682011863397:$e=-.05247727848991843:$e=.07409150201483244:e[1]>38.50000000000001?$e=-.11378466075449625:e[224]>1e-35?$e=-.10741749127732923:e[1]>26.500000000000004?$e=.07343136534146562:$e=-.07013573628594773:e[25]>1e-35?$e=-.04626669734164317:$e=.05518333197956482:$e=.00032434010867555516;let Ge;e[183]>1e-35?e[10]>1.5000000000000002?e[17]>1e-35?Ge=.026313251010808853:Ge=-.08997339150292381:Ge=.025062509535227952:e[227]>1e-35?e[1]>6.500000000000001?e[2]>9.500000000000002?e[210]>1e-35?Ge=.08071107515789745:e[23]>1e-35?e[1]>75.50000000000001?Ge=.0905155504503746:e[8]>1049.5000000000002?Ge=-.062312558183394054:e[8]>719.5000000000001?Ge=.09583836191410239:e[0]>3719.5000000000005?Ge=-.0778097309430818:Ge=.04012012419054895:e[4]>12.500000000000002?e[8]>1496.5000000000002?e[10]>42.50000000000001?Ge=-.12920865648544927:e[0]>2699.5000000000005?Ge=-.07086587879041864:Ge=.022614182502461846:e[4]>15.500000000000002?e[8]>55.50000000000001?e[1]>60.50000000000001?e[8]>652.5000000000001?Ge=-.11377786322600797:Ge=-.009486325820117998:e[1]>55.50000000000001?Ge=.12430248795958142:e[0]>2952.5000000000005?e[0]>4331.500000000001?e[1]>38.50000000000001?Ge=-.07938291201004219:e[2]>36.50000000000001?Ge=.01520046732530246:Ge=.13649854049662832:Ge=-.07145015938528873:e[8]>407.50000000000006?Ge=-.00350257360822279:Ge=.11332047082193297:Ge=-.10060624458629897:Ge=.05429496612497562:e[8]>1446.5000000000002?Ge=.006073419197482838:Ge=-.08718676350883998:Ge=-.11532497988252638:Ge=.10766270463068293:e[34]>1e-35?Ge=-.06345912440611544:e[131]>1e-35?e[9]>1.5000000000000002?Ge=-.0004109812623829506:Ge=.021601073497455662:Ge=-7343540098965853e-20;let Re;e[298]>1e-35?e[9]>12.500000000000002?e[133]>1e-35?Re=-.06107663265515864:e[9]>70.50000000000001?e[10]>37.50000000000001?Re=.05995640200798119:e[0]>3443.5000000000005?Re=-.14698883458733583:Re=-.030039164579240187:e[189]>1e-35?Re=-.06086763220538141:e[1]>86.50000000000001?Re=-.05096727866142538:e[4]>64.50000000000001?Re=.11240554253834577:e[4]>45.50000000000001?Re=-.030279760168394117:e[6]>45.50000000000001?Re=.10161088917815142:e[10]>77.50000000000001?Re=-.0792333078055653:e[7]>23.500000000000004?e[0]>2882.5000000000005?Re=-.06672020005240323:Re=.08831457502630258:e[8]>2592.5000000000005?Re=-.052617701047376654:e[10]>29.500000000000004?Re=.08499327690298047:e[2]>12.500000000000002?e[9]>41.50000000000001?Re=.12880460816709416:e[9]>25.500000000000004?e[4]>11.500000000000002?Re=-.064099222705728:Re=.044332487521538365:e[0]>2882.5000000000005?Re=.031099546885005065:Re=.12938467051623853:e[0]>4221.500000000001?Re=-.0928676413498701:e[9]>30.500000000000004?Re=-.05781824812803708:Re=.07561268901778094:e[8]>711.5000000000001?e[2]>22.500000000000004?Re=-.06648105454098469:Re=.05985487552383097:Re=-.13070190291919334:e[116]>1e-35?e[10]>38.50000000000001?Re=.05282385499619401:e[1]>66.50000000000001?Re=.048802929108006314:e[2]>4.500000000000001?e[0]>4593.500000000001?Re=.027885690791379255:Re=-.08407126408362446:Re=.014432924125571093:Re=-9903435845205118e-20;let q;e[76]>1e-35?q=-.06307875292162934:e[21]>1e-35?e[7]>10.500000000000002?e[10]>4.500000000000001?e[8]>944.5000000000001?e[0]>3655.5000000000005?q=.013633653464240465:q=-.10164319411983509:q=-.1228424374328996:e[1]>26.500000000000004?e[2]>28.500000000000004?q=.00632864847804078:q=-.08393000368134668:q=.07870508617440916:e[284]>1e-35?q=.1092302727710421:q=-.0025505047582483234:e[248]>1e-35?q=.07101822393621864:e[274]>1e-35?q=-.06621099406425579:e[1]>26.500000000000004?e[1]>28.500000000000004?q=.0003077044909372931:e[10]>2.5000000000000004?e[0]>3770.5000000000005?q=.025081789181021243:q=-.014813325803582618:e[9]>33.50000000000001?q=-.033466921233840194:e[3]>12.500000000000002?e[23]>1e-35?q=.11926990418060353:q=.01852125513565268:q=.0975367595927343:e[5]>3325.5000000000005?e[8]>892.5000000000001?e[133]>1e-35?q=-.1178464984373743:e[283]>1e-35?q=.043370859226927405:e[5]>4320.500000000001?q=-.01103141226366587:e[8]>1104.5000000000002?q=-.023053423988095886:q=-.0734238953804657:e[6]>18.500000000000004?e[8]>85.50000000000001?q=.000579145585864887:q=.03389152834202143:e[128]>1e-35?q=-.14527722052568462:e[210]>1e-35?q=-.08915971541902741:e[7]>9.500000000000002?q=-.03307314577076116:e[18]>1e-35?q=-.05521712302023565:q=.009315605032770029:q=.0036332551852289933;let J;e[0]>689.5000000000001?e[5]>768.5000000000001?e[20]>1e-35?e[5]>4368.500000000001?J=-.07583539600416284:e[188]>1e-35?J=-.07042659515500142:e[23]>1e-35?e[0]>3807.5000000000005?J=-.011038193049597113:J=.08154028164397753:e[1]>85.50000000000001?J=.10259361975201933:J=.011640408330521594:J=-.00023319159023748508:e[92]>1e-35?J=.13771692859530546:J=.022860029819654806:e[1]>22.500000000000004?e[1]>24.500000000000004?e[2]>96.50000000000001?J=.09967230141007705:e[30]>1e-35?J=-.08888529037551285:J=-.008615931385397808:e[10]>5.500000000000001?e[4]>36.50000000000001?J=.08284665960761373:J=-.029292565021289504:e[7]>7.500000000000001?J=-.09945093355204493:J=-.008381393701708593:e[20]>1e-35?J=-.04218678460370465:e[10]>6.500000000000001?e[9]>2.5000000000000004?e[1]>13.500000000000002?e[8]>143.50000000000003?e[4]>7.500000000000001?e[2]>36.50000000000001?J=.07585582641438211:e[8]>284.50000000000006?J=-.029387993239886723:J=.07716738177321587:e[1]>18.500000000000004?J=.026745348497993746:J=.1427429617069753:e[9]>16.500000000000004?e[9]>33.50000000000001?J=.02337306890530338:J=-.10390355904767366:J=.07390521199638532:J=-.06788247515155237:J=-.04201446383470994:e[2]>25.500000000000004?e[2]>29.500000000000004?e[8]>227.50000000000003?J=-.06360325615644084:J=.04342192339836601:J=-.10598779152030145:J=.05253384605768211;let ae;e[3]>7.500000000000001?e[157]>1e-35?ae=-.07514182877923786:ae=.000636205502279271:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?ae=.028692053800951845:ae=.14081686716133598:ae=-.03316566526940354:e[186]>1e-35?e[0]>2653.5000000000005?ae=.0037139292567243084:ae=.12662311031652707:e[107]>1e-35?e[0]>612.5000000000001?ae=.01202688580305612:ae=.0993509141454483:e[203]>1e-35?e[1]>77.50000000000001?ae=.043935495082738626:ae=-.05639305759669704:e[247]>1e-35?ae=-.06770766046891649:e[105]>1e-35?e[19]>1e-35?ae=.10331836202616368:ae=.0006926658459781341:e[96]>1e-35?ae=.05361846065599475:e[127]>1e-35?e[0]>2723.5000000000005?e[1]>54.50000000000001?ae=-.0741403257305367:ae=.022900127535540854:e[7]>3.5000000000000004?ae=.038110741403836294:ae=.14618649985842758:e[5]>3921.5000000000005?e[1]>110.50000000000001?ae=-.09552842289807008:e[1]>27.500000000000004?ae=.012505935885798007:ae=-.020509603428689526:e[282]>1e-35?e[9]>45.50000000000001?e[6]>5.500000000000001?ae=-.1046104767723845:ae=.031388606992301074:e[8]>114.50000000000001?e[9]>17.500000000000004?e[9]>22.500000000000004?e[1]>32.50000000000001?ae=.023466328488582572:ae=.11730925774586994:ae=-.04771965631104874:ae=.17059689880751394:ae=-.08181850955999449:e[26]>1e-35?ae=-.12727482696678769:ae=-.014343123272734182;let pe;e[147]>1e-35?e[1]>53.50000000000001?pe=-.0993064321015924:e[0]>2604.5000000000005?e[0]>3629.5000000000005?pe=-.02763546051134888:pe=.06423344777499343:pe=-.064606430904295:e[302]>1e-35?e[10]>2.5000000000000004?e[10]>47.50000000000001?pe=.049825139823021586:e[7]>22.500000000000004?pe=-.01131680751379858:e[0]>2579.5000000000005?pe=-.10673674485369694:pe=-.015387212937189957:pe=.04347325151148724:e[179]>1e-35?pe=-.05788885608624092:e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?pe=.0650355590939066:pe=-.0473332870892226:pe=-.09699315983340703:e[288]>1e-35?e[88]>1e-35?pe=.11139543329789044:e[126]>1e-35?pe=-.09726928633696198:e[8]>149.50000000000003?e[9]>46.50000000000001?e[4]>1.5000000000000002?e[8]>1861.5000000000002?pe=.06370903833231022:e[10]>29.500000000000004?pe=.03415223859607161:e[10]>3.5000000000000004?pe=-.07415518117873297:pe=-.0014119203473324082:pe=.12617652343819508:e[9]>41.50000000000001?pe=-.10311145857176976:e[8]>2757.5000000000005?pe=-.08106484219011428:e[7]>71.50000000000001?pe=-.09783384432091176:e[1]>88.50000000000001?pe=.06249739709782831:e[3]>9.500000000000002?e[5]>1601.5000000000002?pe=-.008884084501608536:pe=.061339437777743616:pe=-.042490992675121846:e[2]>6.500000000000001?e[3]>10.500000000000002?pe=.01526664064166223:pe=.13534828515415498:pe=-.06985484465894776:pe=.0005758961943178744;let _e;e[86]>1e-35?e[1]>23.500000000000004?e[1]>29.500000000000004?e[4]>16.500000000000004?e[2]>31.500000000000004?_e=-.029152732370514342:_e=.07173628916139178:e[1]>36.50000000000001?_e=-.08859111297255318:_e=.0018030071815630785:_e=.13652461563759322:_e=-.07550137680349367:e[10]>52.50000000000001?e[49]>1e-35?_e=-.07145140450454163:e[21]>1e-35?_e=-.07422841663493233:_e=.006289319702780104:e[10]>40.50000000000001?e[9]>59.50000000000001?e[19]>1e-35?e[13]>1e-35?_e=.11864240653986852:e[3]>33.50000000000001?_e=-.08821209591953476:_e=.05706392280054726:_e=-.03600088051578915:e[18]>1e-35?e[1]>24.500000000000004?_e=.01953613016837112:_e=-.059781039130025006:e[148]>1e-35?_e=.052668447861325476:e[3]>30.500000000000004?e[9]>49.50000000000001?_e=.07207826841738371:e[202]>1e-35?_e=.08163917539410503:_e=-.01319846363832958:e[9]>35.50000000000001?e[5]>4134.500000000001?e[10]>44.50000000000001?_e=-.06858280496900336:_e=-.1781828899516648:_e=-.04024620133969553:e[9]>10.500000000000002?e[1]>22.500000000000004?e[1]>37.50000000000001?_e=.018232649414147116:_e=-.04419781124222661:_e=.05145485182416554:e[1]>23.500000000000004?e[0]>655.5000000000001?e[5]>4901.500000000001?e[10]>45.50000000000001?_e=.11452368095776105:_e=-.036496437259924026:_e=-.040445338739465486:_e=.0816572651001145:_e=-.08968914517368663:_e=.0002826343082585516;let Te;e[189]>1e-35?e[0]>5269.500000000001?Te=-.08839493050459957:e[10]>85.50000000000001?Te=.10046908365702462:e[8]>2592.5000000000005?Te=-.09632233975926387:e[8]>2000.5000000000002?Te=.10282992953871627:e[8]>1266.5000000000002?e[9]>34.50000000000001?Te=.035504970430426296:e[1]>31.500000000000004?Te=-.1133764813142531:Te=-.01138280942244812:e[8]>1125.5000000000002?Te=.09800530246229806:Te=.016170419267589393:e[218]>1e-35?e[9]>99.50000000000001?e[9]>101.50000000000001?e[9]>124.50000000000001?Te=.07316772160107896:Te=-.059095014819051765:Te=.17859437315769733:e[2]>1.5000000000000002?e[9]>86.50000000000001?Te=-.09150209066166894:e[8]>3084.0000000000005?Te=-.05443972593168094:e[1]>65.50000000000001?e[10]>11.500000000000002?e[9]>33.50000000000001?Te=-.04449234460408263:Te=.05568837973347338:Te=-.12362324875024472:e[1]>41.50000000000001?e[10]>12.500000000000002?e[8]>1336.5000000000002?Te=.12741077850267066:Te=.007372371864985329:e[2]>39.50000000000001?Te=.02295917234617787:Te=.14966532083907075:e[1]>39.50000000000001?Te=-.06685557815340279:e[10]>22.500000000000004?e[2]>52.50000000000001?Te=-.02511861881285652:e[1]>27.500000000000004?Te=.08683660011672288:Te=.02956214835267301:e[9]>15.500000000000002?Te=-.016538805462996232:Te=.04352738094981517:Te=-.05561856645643868:e[9]>170.50000000000003?Te=-.07996752635874248:e[179]>1e-35?Te=-.09065975936933919:Te=-.00042817975060427177;let Ae;e[39]>1e-35?e[4]>25.500000000000004?Ae=.03443173196222934:Ae=-.06554248341270724:e[32]>1e-35?e[8]>90.50000000000001?e[4]>67.50000000000001?e[4]>86.50000000000001?Ae=-.0013415395759330318:Ae=.12950978489563347:e[1]>22.500000000000004?e[10]>19.500000000000004?e[4]>30.500000000000004?e[9]>41.50000000000001?Ae=.002297618040307216:Ae=-.12522800128774994:e[4]>8.500000000000002?e[8]>1075.5000000000002?Ae=-.015297257305397608:Ae=.09651828834062742:Ae=-.06636003334371929:e[10]>11.500000000000002?Ae=.17631616138309397:e[0]>1639.5000000000002?Ae=3804386478092585e-20:Ae=-.09099296398683193:Ae=-.06874415876172972:e[0]>2151.5000000000005?Ae=-.1311264883406766:Ae=.00809052010141122:e[253]>1e-35?Ae=-.06338558211939296:e[178]>1e-35?e[2]>25.500000000000004?e[2]>30.500000000000004?e[0]>2151.5000000000005?e[10]>10.500000000000002?e[0]>3615.5000000000005?Ae=.045038497754638605:Ae=-.07770167665661752:Ae=-.08596294280650517:Ae=.08538655727027213:Ae=.09829076418590559:e[1]>39.50000000000001?e[9]>1.5000000000000002?Ae=.054627956617973275:e[1]>61.50000000000001?Ae=-.11994465088415499:e[4]>8.500000000000002?Ae=.06676200239406452:Ae=-.027503148069376867:e[8]>676.5000000000001?Ae=-.10363964928357075:e[4]>8.500000000000002?Ae=-.07589816227175682:Ae=.034664436544646814:e[1]>159.50000000000003?e[6]>25.500000000000004?Ae=.009093153189012338:Ae=-.06119765876605404:Ae=.0004668642103528348;let Ye;e[223]>1e-35?e[1]>31.500000000000004?e[8]>711.5000000000001?Ye=-.10100794502567233:Ye=.08000205636470442:Ye=-.11945419826856896:e[113]>1e-35?Ye=-.06105445938688056:e[167]>1e-35?e[0]>3928.5000000000005?Ye=.1224302423880318:Ye=-.01875566982911468:e[222]>1e-35?e[1]>8.500000000000002?e[1]>24.500000000000004?e[4]>3.5000000000000004?e[0]>725.5000000000001?e[0]>1682.5000000000002?e[0]>2860.5000000000005?Ye=.0019277012166729114:e[1]>28.500000000000004?Ye=-.054445821715687494:Ye=.045645722976713245:e[30]>1e-35?Ye=.13402660155331655:Ye=.008921176001777645:Ye=-.058547426505451076:Ye=.08841202222426625:e[1]>22.500000000000004?e[10]>9.500000000000002?Ye=-.13526418192218206:Ye=-.03266013432583145:e[1]>20.500000000000004?e[4]>27.500000000000004?Ye=.0007263224246135398:Ye=.12450043268647056:e[1]>17.500000000000004?e[9]>1.5000000000000002?Ye=-.11575657261278308:Ye=-.01530376565862095:e[4]>13.500000000000002?e[4]>22.500000000000004?Ye=-.01995960178292952:Ye=.11216586049153021:Ye=-.10050961087149474:Ye=.08848063368485726:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?Ye=.10303451081526649:Ye=-.01375730267020699:e[1]>28.500000000000004?e[2]>20.500000000000004?Ye=-.043799548968209395:Ye=-.12451444314954115:e[4]>12.500000000000002?Ye=-.03838117361958468:Ye=.06504990789767144:e[57]>1e-35?Ye=.06890006938293915:Ye=.0003914274695562949;let ft;e[53]>1e-35?e[4]>11.500000000000002?e[8]>617.5000000000001?e[2]>41.50000000000001?ft=.004271749009686975:ft=-.10523878297127605:ft=.04633982158107851:ft=-.10349713975483057:e[183]>1e-35?e[15]>1e-35?ft=-.08655730561951676:e[8]>919.5000000000001?ft=-.0676453705610183:e[7]>18.500000000000004?ft=-.027787974193650575:ft=.08012784576991301:e[227]>1e-35?e[1]>6.500000000000001?e[3]>8.500000000000002?e[210]>1e-35?ft=.07185850683316512:e[8]>201.50000000000003?e[8]>348.50000000000006?e[23]>1e-35?e[8]>1049.5000000000002?ft=-.03473877164537313:e[8]>719.5000000000001?ft=.10471053866934404:ft=.008236107678382981:e[4]>57.50000000000001?ft=.09412219478825269:e[10]>66.50000000000001?ft=-.13884338641811986:e[10]>19.500000000000004?e[10]>22.500000000000004?e[0]>2490.5000000000005?ft=-.040681323751002293:ft=.06374650297561021:ft=.12884615227401788:e[10]>5.500000000000001?ft=-.0887517295786972:e[8]>597.5000000000001?e[18]>1e-35?ft=-.05474068967150784:ft=.03744700650806603:ft=-.07846396348680855:e[1]>42.50000000000001?ft=.018972315810821302:ft=.10953621007604744:e[5]>4439.500000000001?ft=.010999776705494586:e[1]>40.50000000000001?ft=-.12394200059775967:e[10]>2.5000000000000004?ft=.013528093962849453:ft=-.09222088417048682:ft=-.12662967149701485:ft=.09327296405849603:e[3]>99.50000000000001?ft=-.013581954439986752:ft=.0005526498251862075;let Ie;e[187]>1e-35?e[243]>1e-35?Ie=-.08392792551692502:e[10]>68.50000000000001?Ie=.07871769409454053:e[10]>8.500000000000002?e[10]>16.500000000000004?e[2]>17.500000000000004?e[3]>31.500000000000004?e[91]>1e-35?e[10]>21.500000000000004?e[10]>33.50000000000001?e[10]>48.50000000000001?Ie=-.0825306209711224:Ie=.049559996084532945:Ie=-.1064938580886302:Ie=.03353240732240275:Ie=.045985370399163464:e[1]>42.50000000000001?e[4]>20.500000000000004?Ie=.16966001471529374:e[1]>57.50000000000001?Ie=-.005772777673676247:Ie=.09383677041525058:e[8]>747.5000000000001?Ie=.054068175469351235:Ie=-.049968216310277036:e[8]>753.5000000000001?Ie=-.0679383555784074:e[4]>8.500000000000002?Ie=-.059757341189735386:Ie=.05701083682780414:Ie=-.052497281448921164:e[6]>12.500000000000002?e[8]>969.5000000000001?e[4]>23.500000000000004?Ie=.05820296128730006:Ie=-.1063042385102475:e[1]>49.50000000000001?e[8]>302.50000000000006?Ie=.15340611616954566:Ie=.04385036188666874:e[0]>4449.500000000001?Ie=-.02110897605541555:e[1]>24.500000000000004?e[2]>17.500000000000004?Ie=.004840354641006495:Ie=.09967827580276283:Ie=.11605363537391578:e[9]>19.500000000000004?Ie=-.0735831692725717:Ie=.019973331823355176:e[306]>1e-35?e[149]>1e-35?Ie=-.08968948874343531:e[8]>1094.5000000000002?e[10]>15.500000000000002?Ie=-.02442182361342386:Ie=.10334853004243093:Ie=-.030431948680167104:Ie=-956078595250818e-19;let Nt;e[294]>1e-35?e[1]>26.500000000000004?e[0]>4078.5000000000005?Nt=-.040232505718244854:e[0]>3030.5000000000005?Nt=.0634109586813073:Nt=-.04043617034245621:Nt=-.06385323610738443:e[120]>1e-35?e[4]>18.500000000000004?Nt=-.007859096946435131:Nt=.07282728486115758:e[229]>1e-35?e[0]>2952.5000000000005?e[17]>1e-35?Nt=.05515771679628051:Nt=-.04214471312668263:Nt=-.09589322222261765:e[193]>1e-35?Nt=-.05056345906812831:e[121]>1e-35?e[243]>1e-35?Nt=.14857706653119385:e[4]>9.500000000000002?e[1]>26.500000000000004?e[2]>59.50000000000001?Nt=-.08152604001147906:e[11]>1e-35?Nt=.09132936522356462:e[15]>1e-35?e[4]>23.500000000000004?Nt=.13100930780107503:e[10]>25.500000000000004?Nt=.05921074710011526:Nt=-.07226005736695183:e[0]>3304.5000000000005?e[0]>3707.5000000000005?e[0]>4053.5000000000005?Nt=.0009447118243153454:Nt=-.09820565036865991:Nt=.057146909749745546:e[0]>2115.5000000000005?Nt=-.12331216726611678:Nt=.007281983677694285:e[2]>56.50000000000001?Nt=.012310154675612615:Nt=-.08873665774670461:e[6]>25.500000000000004?Nt=.134708740821879:e[9]>5.500000000000001?Nt=-.0805901581148979:e[224]>1e-35?Nt=-.063684477784257:e[7]>2.5000000000000004?e[19]>1e-35?Nt=.10842593386554122:e[2]>13.500000000000002?Nt=.06466798320378395:Nt=-.08578130788886655:Nt=-.03590892078300114:Nt=.0003499894043880708;let St;e[134]>1e-35?e[6]>50.50000000000001?e[0]>3601.5000000000005?St=.10839808814624702:St=-.028043875308180352:e[7]>30.500000000000004?e[8]>932.5000000000001?St=-.007478368069393829:St=-.09066751344326617:e[0]>3588.5000000000005?e[5]>4748.500000000001?St=.04035247751736232:e[0]>4255.500000000001?St=-.1310865624507367:e[0]>4004.5000000000005?St=.06647367311982634:St=-.08339693352955757:e[4]>10.500000000000002?e[1]>34.50000000000001?St=-.011618902907510411:St=.1114646660406691:e[10]>2.5000000000000004?e[0]>3072.5000000000005?St=.09356028223727986:St=-.03811765057032162:St=-.09456215497345526:e[280]>1e-35?e[7]>70.50000000000001?St=.10322956436499003:e[2]>22.500000000000004?e[1]>83.50000000000001?St=.1146142460964847:e[1]>62.50000000000001?St=-.09679869865322362:e[9]>71.50000000000001?St=-.07377580769927583:e[4]>19.500000000000004?e[0]>4571.500000000001?St=-.039046426387852974:St=.04558778688367152:St=.11220830937352602:e[7]>5.500000000000001?e[9]>17.500000000000004?e[8]>1067.5000000000002?St=.03261697816211156:e[15]>1e-35?St=.02586252542264368:e[2]>14.500000000000002?St=-.016420452667484604:St=-.1011799626006976:St=-.13787471318963773:e[6]>4.500000000000001?e[8]>427.50000000000006?e[10]>36.50000000000001?St=.010193588102560583:St=.11748729525930773:St=-.04468162226743652:St=-.028365274393617957:e[71]>1e-35?St=.05115139346588793:St=-.0001510425316936658;let it;e[298]>1e-35?e[8]>81.50000000000001?e[8]>119.50000000000001?e[4]>64.50000000000001?it=.09072192054181037:e[9]>72.50000000000001?e[8]>1094.5000000000002?it=.020637047900190317:it=-.1017300802134141:e[1]>23.500000000000004?e[9]>12.500000000000002?e[0]>2815.5000000000005?e[0]>3183.5000000000005?e[3]>23.500000000000004?e[3]>45.50000000000001?e[4]>48.50000000000001?it=-.04632587527094407:it=.08603684785510396:it=-.05101401015448496:it=.025466432054358498:it=-.07897811963329214:e[6]>13.500000000000002?e[10]>26.500000000000004?it=.020385355430046367:it=.12032592051335252:it=-.012387370292173013:e[2]>23.500000000000004?it=-.12568545484492677:it=-.022261190943521976:e[8]>634.5000000000001?e[8]>857.5000000000001?it=.043528764484784536:it=.14352071657196003:it=-.009332833816977268:it=.11186782227735846:it=-.0737365712425554:e[136]>1e-35?e[0]>1937.5000000000002?it=-.05649104643152564:it=.03884200719305747:e[42]>1e-35?it=-.07191700385792335:e[116]>1e-35?e[9]>2.5000000000000004?e[9]>17.500000000000004?it=-.04103416502526736:it=.04881823954656287:e[4]>15.500000000000002?it=.009342724662897898:e[0]>3969.5000000000005?it=-.025637309961309498:it=-.12574492012987865:e[212]>1e-35?e[19]>1e-35?it=-.08185697075265091:e[0]>2215.5000000000005?it=.030063975892297354:e[0]>807.5000000000001?it=-.03924325550733229:it=.0415330999189793:it=-.00024374664461674863;let dt;e[3]>7.500000000000001?dt=.0005117490419655908:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?dt=.025798416259686565:dt=.13251610353146012:dt=-.029900559552677654:e[1]>81.50000000000001?e[1]>110.50000000000001?e[0]>4242.500000000001?dt=-.11098564237775424:dt=25960925309712775e-21:e[0]>4177.500000000001?e[9]>35.50000000000001?dt=.15347826616466054:e[3]>4.500000000000001?dt=.10379320730958941:dt=-.008896303020010654:e[0]>3415.5000000000005?e[0]>3830.5000000000005?dt=.03159791088468647:dt=-.10612873364104258:dt=.05059856107348746:e[133]>1e-35?e[2]>5.500000000000001?dt=-.02335760775001469:dt=-.1379386577903324:e[1]>62.50000000000001?e[3]>2.5000000000000004?dt=-.011164334474672973:dt=-.06594044410501655:e[207]>1e-35?dt=-.1014214372326535:e[8]>3.5000000000000004?e[107]>1e-35?e[2]>6.500000000000001?dt=-.01725821503981916:dt=.05594086838700241:e[203]>1e-35?e[1]>44.50000000000001?e[1]>51.50000000000001?dt=-.04226531631656534:dt=-.14409800530171432:dt=-.03245576341206398:e[8]>4214.500000000001?dt=.0895409165534886:e[247]>1e-35?dt=-.06506383629143335:e[118]>1e-35?dt=-.07214270121257443:e[8]>546.5000000000001?dt=-.004385020865473831:dt=.009321812545248529:e[0]>1639.5000000000002?e[13]>1e-35?dt=.046278501133958524:dt=-.030835570926968044:e[0]>493.50000000000006?dt=-.12794504651610425:dt=.009415039807550776;let Rt;e[304]>1e-35?Rt=-.04717777269217453:e[76]>1e-35?Rt=-.05813439142128324:e[1]>59.50000000000001?e[0]>350.50000000000006?e[53]>1e-35?Rt=-.09648224457374217:e[132]>1e-35?Rt=.07089308107910267:e[0]>2248.5000000000005?e[5]>2525.5000000000005?e[9]>1.5000000000000002?e[114]>1e-35?Rt=-.08595213071749083:e[9]>14.500000000000002?e[9]>33.50000000000001?e[285]>1e-35?Rt=.10838431695638147:e[230]>1e-35?Rt=.06458713915750626:e[0]>3219.5000000000005?e[3]>23.500000000000004?e[9]>69.50000000000001?Rt=.050071316251979:Rt=-.006356941111525215:e[6]>8.500000000000002?Rt=-.0384814076434817:e[1]>73.50000000000001?e[0]>3746.5000000000005?Rt=.10217402850540398:Rt=-.048840949025349197:Rt=-.03668313197909846:e[7]>39.50000000000001?Rt=-.0562642841496003:e[10]>2.5000000000000004?Rt=.09749777369987417:Rt=-.04848223121417616:e[0]>5453.500000000001?Rt=.08316648226133942:Rt=-.0261979698267618:e[212]>1e-35?Rt=.09565573198318654:e[5]>4814.500000000001?e[8]>963.5000000000001?e[8]>1514.5000000000002?Rt=.04837009746506856:Rt=-.09184360565631328:Rt=.0032411047845613606:e[0]>4733.500000000001?Rt=.0977378556864798:Rt=.010776545559325588:Rt=-.012483310473120218:Rt=-.049284121449103935:Rt=.011962641341789565:e[1]>67.50000000000001?e[1]>77.50000000000001?Rt=-.08380361910948711:Rt=.07375088778585813:Rt=-.1084864186071348:Rt=.0007819503469605476;let Ut;e[7]>17.500000000000004?e[115]>1e-35?Ut=.08741852531696623:e[167]>1e-35?Ut=.10078975495600809:Ut=-.0018324767784017562:e[290]>1e-35?Ut=-.0850089851255888:e[74]>1e-35?e[10]>16.500000000000004?Ut=.1379733311640402:Ut=-.0038500648529631075:e[6]>29.500000000000004?e[8]>876.5000000000001?e[0]>3129.5000000000005?e[9]>5.500000000000001?e[8]>1765.5000000000002?Ut=-.09360083033774169:Ut=.061471353193188374:e[10]>11.500000000000002?e[10]>31.500000000000004?Ut=-.015599362579530679:e[0]>4593.500000000001?Ut=-.12029549262691491:Ut=-.018917032256501397:Ut=.04632831686576592:Ut=.06892347785444271:e[4]>8.500000000000002?e[10]>33.50000000000001?Ut=-.05894883236412263:Ut=.05213944998315824:Ut=.12621779223564986:e[243]>1e-35?e[6]>16.500000000000004?e[0]>4141.500000000001?e[0]>5850.500000000001?Ut=.07577412405680808:Ut=-.053144737214742235:e[1]>29.500000000000004?e[9]>16.500000000000004?Ut=-.0277076900736147:e[1]>65.50000000000001?Ut=-.023587471585763506:Ut=.10184896592433082:Ut=-.057699270527916825:Ut=-.041191811945739454:e[114]>1e-35?e[2]>23.500000000000004?Ut=.06566902102799584:e[10]>25.500000000000004?Ut=-.07033633753181047:Ut=-.01599120398351932:e[242]>1e-35?e[0]>2402.5000000000005?Ut=-.08108035861059537:Ut=.04184690010531078:e[35]>1e-35?e[0]>2904.5000000000005?Ut=-.12431182772561139:Ut=.01886235886984271:Ut=.0025579594894418116;let Ht;e[8]>2915.5000000000005?e[101]>1e-35?Ht=.08648323956719083:e[0]>93.50000000000001?e[196]>1e-35?Ht=-.09509320772734361:e[4]>1.5000000000000002?e[5]>1106.5000000000002?e[5]>1191.5000000000002?e[283]>1e-35?Ht=-.11268313808648661:e[10]>12.500000000000002?e[131]>1e-35?Ht=.0687641681341721:e[10]>102.50000000000001?Ht=-.09667920080214842:e[4]>15.500000000000002?e[8]>2992.5000000000005?e[1]>24.500000000000004?e[1]>71.50000000000001?Ht=-.06762578396473291:e[10]>65.50000000000001?Ht=-.05226727783610509:e[282]>1e-35?Ht=.09911438410640917:e[19]>1e-35?Ht=.06915156336429933:Ht=-.006565637886508241:Ht=-.08344300251849307:Ht=-.0928863907927501:e[1]>60.50000000000001?e[2]>17.500000000000004?Ht=.19428463865406298:Ht=.016073883020956765:e[13]>1e-35?Ht=.06864077097923665:Ht=-.01388867527034731:e[0]>1847.5000000000002?Ht=.004655280608161356:e[1]>40.50000000000001?Ht=.031406054057765996:Ht=.12798062439212832:Ht=.09859670536264255:e[10]>2.5000000000000004?e[9]>68.50000000000001?Ht=.08821759640665892:e[9]>32.50000000000001?e[8]>3960.0000000000005?e[1]>31.500000000000004?Ht=-.0706095614785733:Ht=.04227164041372561:Ht=-.1056906923176064:e[2]>8.500000000000002?e[19]>1e-35?Ht=-.07139533369873902:Ht=.008952586782921625:Ht=.06086212582180936:Ht=-.0816938490403437:Ht=-.051224901945956025:Ht=-.10525399124186095:Ht=.000270924147208224;let kt;e[122]>1e-35?e[0]>2461.5000000000005?e[2]>36.50000000000001?kt=.029186512383291244:e[7]>1.5000000000000002?kt=-.14984127276725573:e[1]>40.50000000000001?kt=.032757060730648144:kt=-.07675575422749602:e[6]>8.500000000000002?kt=.10599766037117893:kt=-.0541423394552156:e[1]>24.500000000000004?e[103]>1e-35?e[8]>61.50000000000001?e[17]>1e-35?kt=-.051394622947855385:kt=.03237141302699347:kt=.12526173027943244:kt=.000579473126472788:e[18]>1e-35?e[3]>4.500000000000001?e[3]>6.500000000000001?e[0]>5453.500000000001?kt=-.07383912482657777:e[0]>5147.500000000001?kt=.07008813937042091:e[10]>38.50000000000001?kt=-.06779203808365307:kt=-.013782769999524498:kt=.0880038869117715:kt=-.12846294176070952:e[281]>1e-35?kt=-.06810806903850834:e[10]>227.50000000000003?kt=-.08937977001661111:e[10]>130.50000000000003?kt=.10538920632708033:e[145]>1e-35?e[4]>6.500000000000001?e[9]>16.500000000000004?e[4]>18.500000000000004?kt=.011036530162093841:kt=-.11500797478569702:kt=.03702229366129399:kt=.07242026683784307:e[189]>1e-35?kt=.03331407112090286:e[9]>33.50000000000001?e[201]>1e-35?kt=.08979610115743614:e[7]>57.50000000000001?e[1]>20.500000000000004?kt=-.02608892716555304:kt=.09609599320761308:e[9]>105.50000000000001?kt=-.06848127135991534:kt=.0023675721254089715:e[86]>1e-35?kt=-.11049635625500497:kt=-.004847764219432233;let Ot;e[125]>1e-35?e[0]>3969.5000000000005?Ot=-.09462233499115416:Ot=.05235324508465096:e[17]>1e-35?e[49]>1e-35?e[10]>19.500000000000004?Ot=-.030700661288166148:Ot=.0870883677166864:e[10]>3.5000000000000004?e[3]>18.500000000000004?e[0]>3544.5000000000005?e[188]>1e-35?e[9]>7.500000000000001?Ot=.03149547314036763:Ot=-.08166208257451366:e[0]>5850.500000000001?Ot=-.10228136324773157:e[102]>1e-35?Ot=-.10572585290676295:e[8]>726.5000000000001?e[5]>3657.5000000000005?Ot=.01782894842128785:e[13]>1e-35?Ot=.002680190260979968:Ot=.1773965720476949:e[2]>72.50000000000001?Ot=.09090831938627947:e[1]>59.50000000000001?Ot=-.12297206702816128:e[0]>4977.500000000001?Ot=.09899015653118268:Ot=-.022207141540838887:e[4]>32.50000000000001?e[1]>34.50000000000001?Ot=-.0675900954187773:Ot=.012336403425364092:Ot=-.0017002325391924573:e[6]>7.500000000000001?e[1]>17.500000000000004?Ot=-.02671721777458802:Ot=-.09242452991958029:e[284]>1e-35?Ot=-.08585691288582491:Ot=.013332890564324447:e[4]>14.500000000000002?Ot=-.005245022074799553:e[23]>1e-35?Ot=-.020036720167235768:e[1]>29.500000000000004?e[114]>1e-35?Ot=-.09289852307936758:e[116]>1e-35?Ot=-.09686573010015055:e[8]>804.5000000000001?Ot=.03812547148215318:Ot=.005162744968176633:e[9]>43.50000000000001?Ot=-.059246106396159376:Ot=.050370113808135275:Ot=.000794041852811028;let Dt;e[3]>7.500000000000001?Dt=.0004981426543104341:e[9]>114.50000000000001?Dt=.05666010099424601:e[129]>1e-35?e[6]>3.5000000000000004?Dt=-.019061766497948867:Dt=.07193491146561211:e[186]>1e-35?e[0]>2653.5000000000005?Dt=-.006044199577160493:Dt=.1147136801028133:e[6]>85.50000000000001?e[8]>847.5000000000001?Dt=.11486607015912494:e[9]>16.500000000000004?Dt=-.08686820858087294:Dt=.06119632492911875:e[127]>1e-35?e[0]>2723.5000000000005?e[0]>3682.5000000000005?e[1]>38.50000000000001?Dt=-.022230207980026437:Dt=.1056683690528792:Dt=-.05859530800943035:Dt=.06970608927597141:e[7]>3.5000000000000004?e[105]>1e-35?Dt=.08073568184886762:e[107]>1e-35?e[2]>6.500000000000001?Dt=-.05177544573528314:Dt=.05370469772149028:e[1]>35.50000000000001?e[0]>4106.500000000001?e[9]>46.50000000000001?e[0]>4633.500000000001?Dt=.15159657923771555:Dt=-.0060542654587671055:e[9]>5.500000000000001?Dt=-.042808028205051786:e[1]>48.50000000000001?Dt=-.010449538258110742:Dt=.10026907521968294:Dt=-.04249349329714756:e[9]>42.50000000000001?e[1]>19.500000000000004?e[8]>852.5000000000001?Dt=-.02272452389409874:Dt=-.11202691218244319:e[5]>1809.5000000000002?Dt=-.04460413584255906:Dt=.08196329474205256:e[10]>69.50000000000001?Dt=.10221481166238167:Dt=.0004063052701699382:e[243]>1e-35?Dt=-.07563941678849846:e[18]>1e-35?Dt=.02563513231103432:Dt=-.004740081147303786;let Jt;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?Jt=.057446442918106:Jt=-.04404018270156349:Jt=-.09282976714550464:e[0]>384.50000000000006?e[204]>1e-35?e[1]>62.50000000000001?Jt=-.05930486238817954:e[1]>29.500000000000004?Jt=.06955866121256543:e[8]>597.5000000000001?Jt=-.06538593556505168:Jt=.06212512595497445:Jt=.00021102929959182257:e[9]>90.50000000000001?Jt=.0958061289119631:e[102]>1e-35?Jt=.07172059675638813:e[1]>47.50000000000001?Jt=-.03879798603977766:e[297]>1e-35?Jt=.054948234271956144:e[282]>1e-35?e[2]>6.500000000000001?Jt=.003805910996312012:Jt=.09304295674749524:e[11]>1e-35?e[18]>1e-35?Jt=.11252376801858695:e[288]>1e-35?Jt=-.10293901912180432:Jt=.014669268837893872:e[1]>42.50000000000001?Jt=-.05988274123836837:e[145]>1e-35?Jt=.06142784665288495:e[3]>1.5000000000000002?e[4]>4.500000000000001?e[1]>21.500000000000004?e[1]>27.500000000000004?e[9]>24.500000000000004?Jt=.038791154988529926:e[10]>22.500000000000004?e[2]>19.500000000000004?Jt=-.03366718308159971:Jt=.11936550608549797:e[1]>31.500000000000004?Jt=-.07454716789539667:Jt=.027859650621164217:e[10]>10.500000000000002?Jt=-.11806374092321247:Jt=-.03506042229223101:Jt=-.0007080765837654515:e[10]>6.500000000000001?Jt=-.028077713664996503:e[2]>7.500000000000001?Jt=.15803724124216814:Jt=.0351381284833169:Jt=-.07877953381054767;let Bt;e[131]>1e-35?e[282]>1e-35?e[4]>23.500000000000004?Bt=.14144941521975005:Bt=.0007727806714190652:e[9]>1.5000000000000002?e[8]>2134.5000000000005?e[2]>34.50000000000001?Bt=.10514088112381886:e[7]>18.500000000000004?Bt=-.10370643555956745:Bt=.04093594315421388:e[6]>15.500000000000002?e[4]>9.500000000000002?e[10]>27.500000000000004?e[10]>71.50000000000001?Bt=-.0508129468802936:e[224]>1e-35?Bt=-.037816066368733595:e[10]>43.50000000000001?Bt=.07793408602607932:Bt=.017646166646099453:e[9]>3.5000000000000004?e[9]>29.500000000000004?e[17]>1e-35?Bt=.036972453794202324:Bt=-.08727431092411866:e[8]>427.50000000000006?e[8]>1278.5000000000002?Bt=.09475302525132188:Bt=-.03580104945898193:Bt=.08349488283861875:e[10]>3.5000000000000004?e[0]>1847.5000000000002?e[0]>4280.500000000001?e[2]>27.500000000000004?Bt=-.1282448778804823:Bt=-.014395808269207212:Bt=-.008940927190750592:Bt=-.1459118815453748:e[0]>4897.500000000001?Bt=-.09733068457286576:e[1]>57.50000000000001?Bt=.06575271409540207:Bt=-.019556422817450115:Bt=-.10623959222984136:e[18]>1e-35?Bt=.11280940901275241:e[8]>319.50000000000006?e[2]>6.500000000000001?Bt=.008125645893104896:Bt=-.11084368630465868:Bt=.0584398731508786:e[0]>350.50000000000006?e[3]>83.50000000000001?Bt=-.05854904579626861:e[4]>5.500000000000001?Bt=.02985784951394175:Bt=-.03247600140149334:Bt=-.11152899295304973:Bt=-.00035424577714215764;let jt;e[32]>1e-35?e[17]>1e-35?e[8]>359.50000000000006?e[8]>804.5000000000001?jt=-.06563670567578264:jt=.067656954313663:jt=-.10388217548685377:e[8]>2302.5000000000005?jt=.07190621943790435:e[4]>67.50000000000001?jt=.060020507643618604:e[4]>38.50000000000001?jt=-.08707253184321638:e[2]>11.500000000000002?e[2]>16.500000000000004?e[1]>31.500000000000004?e[1]>59.50000000000001?jt=-.06568134366461277:e[8]>1075.5000000000002?jt=-.004768057709758692:jt=.11785959165999467:jt=-.05080221682879267:jt=.14814206127494542:jt=-.07241946332311736:e[253]>1e-35?jt=-.058893562861261274:e[4]>61.50000000000001?e[283]>1e-35?e[10]>23.500000000000004?jt=-.02471195342450034:jt=.11866056464409412:e[10]>44.50000000000001?e[1]>16.500000000000004?e[8]>2640.0000000000005?jt=-.10741850739482771:jt=.010051635824944:jt=.12502069436017124:e[8]>1971.5000000000002?e[1]>23.500000000000004?e[308]>1e-35?jt=.10511236013756364:e[10]>10.500000000000002?e[1]>53.50000000000001?jt=-.08992396138178163:jt=.010944365997007212:jt=.06221307021813793:jt=.1286024087559141:e[127]>1e-35?jt=.06568148624531012:e[10]>40.50000000000001?jt=-.07567979134643352:e[5]>5647.500000000001?jt=.07594672895572069:jt=-.018158016446439187:e[6]>55.50000000000001?jt=.009293422430111872:e[4]>45.50000000000001?jt=-.017749818406964022:e[2]>46.50000000000001?jt=.01714136511113982:jt=-724762291423549e-19;let ot;e[1]>24.500000000000004?e[103]>1e-35?e[8]>48.50000000000001?e[17]>1e-35?ot=-.048689215588703864:e[9]>27.500000000000004?e[0]>3916.5000000000005?ot=.07084726276890757:ot=-.11232323677722932:ot=.04812773089510436:ot=.11757502216780046:e[5]>1464.5000000000002?e[5]>1505.5000000000002?e[167]>1e-35?ot=.07470606002425358:e[1]>53.50000000000001?e[132]>1e-35?ot=.0879462816013881:ot=-.002966662093626573:e[306]>1e-35?ot=-.04588085188342676:ot=.0031910005157084823:e[3]>10.500000000000002?e[10]>20.500000000000004?ot=-.006600332774461143:ot=.1272481351557754:ot=-.09030973597154808:e[284]>1e-35?e[1]>38.50000000000001?e[10]>2.5000000000000004?ot=.011884312066620044:ot=.11678751052403374:e[4]>8.500000000000002?ot=.03627129613273813:ot=-.12132783497902287:ot=-.006784372643244717:e[18]>1e-35?e[3]>4.500000000000001?e[3]>6.500000000000001?e[0]>5453.500000000001?ot=-.06830131718398992:e[0]>5147.500000000001?ot=.062360406249609306:e[4]>4.500000000000001?ot=-.013162203864592055:ot=-.07153029184927609:ot=.07628618062271557:ot=-.12085065687320373:e[190]>1e-35?ot=-.045816889524231186:e[137]>1e-35?ot=-.07956001795911584:e[199]>1e-35?e[0]>3853.5000000000005?ot=.025895337822752502:ot=-.06503949350616421:e[10]>227.50000000000003?ot=-.09989456525790491:e[10]>130.50000000000003?ot=.08616651057030683:ot=.0001234981796706021;let Ct;e[8]>1014.5000000000001?e[9]>137.50000000000003?Ct=-.08778879924617534:e[8]>1022.5000000000001?e[285]>1e-35?e[9]>64.50000000000001?Ct=.04955806187281689:e[0]>3670.5000000000005?e[10]>32.50000000000001?Ct=-.141732381961068:Ct=-.0317152307496497:Ct=-.02074638849097191:e[0]>93.50000000000001?e[0]>3072.5000000000005?e[10]>100.50000000000001?e[4]>24.500000000000004?e[8]>1336.5000000000002?Ct=.12191801556691254:Ct=-.0003444689085397977:Ct=.005739668504631604:e[146]>1e-35?e[308]>1e-35?Ct=.015237524791728777:e[6]>61.50000000000001?e[4]>63.50000000000001?Ct=-.05676033995381961:Ct=.10933961076803381:e[4]>26.500000000000004?Ct=-.11667582544549814:e[8]>1765.5000000000002?Ct=.032174455312047705:Ct=-.0755016390126608:e[293]>1e-35?Ct=-.08234885407658332:e[9]>41.50000000000001?e[0]>3830.5000000000005?Ct=.026571311956824436:e[15]>1e-35?Ct=.06175459479851121:Ct=-.018778084411148754:e[9]>40.50000000000001?Ct=-.09420232889965811:Ct=-.004578248021263184:e[2]>1.5000000000000002?Ct=.005453714644971445:Ct=-.03907138175699279:Ct=-.055296364182154736:e[23]>1e-35?Ct=.036555134842143476:e[0]>4188.500000000001?e[6]>29.500000000000004?Ct=-.09358146510580179:Ct=.060524657996178094:Ct=-.11245101144669545:e[125]>1e-35?e[9]>1.5000000000000002?Ct=-.12698331085931538:Ct=.006059605604079918:e[2]>196.50000000000003?Ct=-.09451315810804783:Ct=.0011390147031687425;let ar;e[8]>2830.5000000000005?e[1]>31.500000000000004?e[9]>32.50000000000001?e[5]>1234.5000000000002?e[8]>3794.5000000000005?ar=.05517359070460923:ar=-.04758751221404857:ar=-.09482078194138792:e[8]>2992.5000000000005?e[1]>101.50000000000001?ar=.1040436595565776:e[9]>21.500000000000004?ar=.04032250517675179:e[107]>1e-35?ar=.05978752253058374:e[210]>1e-35?e[4]>37.50000000000001?ar=.1192453009230486:e[1]>51.50000000000001?ar=.0443376336292195:ar=-.07967674833321865:e[5]>2117.5000000000005?e[9]>10.500000000000002?ar=-.10025078607591283:e[0]>2882.5000000000005?e[18]>1e-35?ar=-.08999822408398037:ar=.017533219253893447:e[9]>1.5000000000000002?e[4]>12.500000000000002?ar=-.061850439226075:ar=.08849196353361093:ar=.10536348167793089:e[92]>1e-35?ar=.04894947712119185:e[9]>16.500000000000004?ar=.05900227903883853:e[9]>5.500000000000001?ar=-.11946594348916476:ar=-.03652096348071964:e[1]>41.50000000000001?ar=-.07411603110840567:ar=-.00021033247574340914:e[10]>22.500000000000004?e[9]>68.50000000000001?ar=.08493634342741495:e[11]>1e-35?ar=-.10899097825564363:ar=-.006156708838964173:e[8]>3198.5000000000005?e[2]>41.50000000000001?ar=.08356655906359918:e[7]>25.500000000000004?ar=-.09475076526194888:e[10]>5.500000000000001?ar=-.01999406228763778:ar=.06696212545889428:e[6]>20.500000000000004?ar=.14713592661393468:ar=.0459917279002218:ar=.00027445928493734093;let lr;e[223]>1e-35?e[1]>31.500000000000004?e[8]>634.5000000000001?lr=-.06904501553217077:lr=.05696231672035904:lr=-.1124703178077813:e[99]>1e-35?e[1]>89.50000000000001?lr=-.05074261170009721:e[1]>57.50000000000001?e[8]>969.5000000000001?lr=-.011419256378538392:e[0]>3830.5000000000005?lr=.140315841503076:lr=.02403434913963024:e[1]>31.500000000000004?e[8]>65.50000000000001?e[2]>10.500000000000002?lr=-.04027822909411164:lr=.03176085103667189:lr=.06779515865838849:e[4]>15.500000000000002?lr=.0762878389015175:e[8]>175.50000000000003?e[0]>3030.5000000000005?e[8]>1041.5000000000002?lr=.06124039747298539:lr=-.04312732764434027:lr=.09161522761808062:lr=-.09663512235460074:e[280]>1e-35?e[6]>45.50000000000001?e[1]>46.50000000000001?lr=.11211681010488772:e[13]>1e-35?lr=.06725735814960367:lr=-.046744031455827846:e[10]>44.50000000000001?e[0]>3400.5000000000005?e[0]>4004.5000000000005?e[2]>22.500000000000004?lr=.11743605068905603:lr=-.011309033539148687:lr=-.07896094707523052:lr=.12862714793172117:e[10]>1.5000000000000002?e[8]>455.50000000000006?e[0]>4706.500000000001?lr=-.09218756798869711:e[10]>19.500000000000004?e[0]>1894.5000000000002?e[0]>3719.5000000000005?lr=.02836295848998302:lr=.12210680366745175:lr=-.058302317470509096:e[5]>4144.500000000001?lr=.06123341960495106:lr=-.03840046906926525:lr=-.05221474543453495:lr=.03988215485860711:lr=-.00033074684693083496;let zI=Cle(t+r+n+i+s+a+l+c+u+f+d+m+p+g+h+b+x+_+y+v+I+R+z+V+$+Y+P+w+H+N+T+E+D+S+A+k+O+M+G+se+ye+xe+Ue+He+Ve+Qe+F+ne+B+he+le+W+re+be+ue+me+Ee+we+ke+We+Ke+rt+nt+ct+L+Z+fe+ge+De+Me+$e+Ge+Re+q+J+ae+pe+_e+Te+Ae+Ye+ft+Ie+Nt+St+it+dt+Rt+Ut+Ht+kt+Ot+Dt+Jt+Bt+jt+ot+Ct+ar+lr);return[1-zI,zI]}o(xB,"multilineModelPredict");function Cle(e){if(e<0){let t=Math.exp(e);return t/(1+t)}return 1/(1+Math.exp(-e))}o(Cle,"sigmoid");var Ile={javascript:["//"],typescript:["//"],typescriptreact:["//"],javascriptreact:["//"],vue:["//","-->"],php:["//","#"],dart:["//"],go:["//"],cpp:["//"],scss:["//"],csharp:["//"],java:["//"],c:["//"],rust:["//"],python:["#"],markdown:["#","-->"],css:["*/"]},bB={javascript:1,javascriptreact:2,typescript:3,typescriptreact:4,python:5,go:6,ruby:7};function _B(e,t,r,n=!0){let i=e.split(`
`);if(n&&(i=i.filter(l=>l.trim().length>0)),Math.abs(t)>i.length||t>=i.length)return!1;t<0&&(t=i.length+t);let s=i[t];return(Ile[r]??[]).some(l=>s.includes(l))}o(_B,"hasComment");var Q3=class{static{o(this,"PromptFeatures")}constructor(t,r){let[n,i]=this.firstAndLast(t),s=this.firstAndLast(t.trimEnd());this.language=r,this.length=t.length,this.firstLineLength=n.length,this.lastLineLength=i.length,this.lastLineRstripLength=i.trimEnd().length,this.lastLineStripLength=i.trim().length,this.rstripLength=t.trimEnd().length,this.stripLength=t.trim().length,this.rstripLastLineLength=s[1].length,this.rstripLastLineStripLength=s[1].trim().length,this.secondToLastLineHasComment=_B(t,-2,r),this.rstripSecondToLastLineHasComment=_B(t.trimEnd(),-2,r),this.prefixEndsWithNewline=t.endsWith(`
`),this.lastChar=t.slice(-1),this.rstripLastChar=t.trimEnd().slice(-1),this.firstChar=t[0],this.lstripFirstChar=t.trimStart().slice(0,1)}firstAndLast(t){let r=t.split(`
`),n=r.length,i=r[0],s=r[n-1];return s==""&&n>1&&(s=r[n-2]),[i,s]}},DE=class{static{o(this,"MultilineModelFeatures")}constructor(t,r,n){this.language=n,this.prefixFeatures=new Q3(t,n),this.suffixFeatures=new Q3(r,n)}constructFeatures(){let t=new Array(14).fill(0);t[0]=this.prefixFeatures.length,t[1]=this.prefixFeatures.firstLineLength,t[2]=this.prefixFeatures.lastLineLength,t[3]=this.prefixFeatures.lastLineRstripLength,t[4]=this.prefixFeatures.lastLineStripLength,t[5]=this.prefixFeatures.rstripLength,t[6]=this.prefixFeatures.rstripLastLineLength,t[7]=this.prefixFeatures.rstripLastLineStripLength,t[8]=this.suffixFeatures.length,t[9]=this.suffixFeatures.firstLineLength,t[10]=this.suffixFeatures.lastLineLength,t[11]=this.prefixFeatures.secondToLastLineHasComment?1:0,t[12]=this.prefixFeatures.rstripSecondToLastLineHasComment?1:0,t[13]=this.prefixFeatures.prefixEndsWithNewline?1:0;let r=new Array(Object.keys(bB).length+1).fill(0);r[bB[this.language]??0]=1;let n=new Array(Object.keys(cl).length+1).fill(0);n[cl[this.prefixFeatures.lastChar]??0]=1;let i=new Array(Object.keys(cl).length+1).fill(0);i[cl[this.prefixFeatures.rstripLastChar]??0]=1;let s=new Array(Object.keys(cl).length+1).fill(0);s[cl[this.suffixFeatures.firstChar]??0]=1;let a=new Array(Object.keys(cl).length+1).fill(0);return a[cl[this.suffixFeatures.lstripFirstChar]??0]=1,t.concat(r,n,i,s,a)}};function Sle(e,t){return new DE(e.prefix,e.suffix,t)}o(Sle,"constructMultilineFeatures");function yB(e,t){let r=Sle(e,t).constructFeatures();return xB(r)[1]}o(yB,"requestMultilineScore");async function*eb(e,t){for await(let r of e)yield t(r)}o(eb,"asyncIterableMap");async function*vB(e,t){for await(let r of e)await t(r)&&(yield r)}o(vB,"asyncIterableFilter");function TB(e,t,r){let n=r.extendedBy({messagesJson:JSON.stringify(t)});return Se(e,"engine.messages",n,1)}o(TB,"logEngineMessages");var po=new wt("streamChoices"),AE=class{constructor(){this.logprobs=[];this.top_logprobs=[];this.text=[];this.tokens=[];this.text_offset=[];this.copilot_annotations=new OE;this.tool_calls=[];this.function_call=new kE;this.copilot_references=[];this.yielded=!1}static{o(this,"APIJsonDataStreaming")}append(t){if(t.text&&this.text.push(t.text),t.delta?.content&&t.delta.role!=="function"&&this.text.push(t.delta.content),t.logprobs&&(this.tokens.push(t.logprobs.tokens??[]),this.text_offset.push(t.logprobs.text_offset??[]),this.logprobs.push(t.logprobs.token_logprobs??[]),this.top_logprobs.push(t.logprobs.top_logprobs??[])),t.copilot_annotations&&this.copilot_annotations.update(t.copilot_annotations),t.delta?.copilot_annotations&&this.copilot_annotations.update(t.delta.copilot_annotations),t.delta?.tool_calls&&t.delta.tool_calls.length>0)for(let r of t.delta.tool_calls){let n=r.index;this.tool_calls[n]||(this.tool_calls[n]=new NE),this.tool_calls[n].update(r)}t.delta?.function_call&&this.function_call.update(t.delta.function_call),t?.finish_reason&&(this.finish_reason=t.finish_reason)}};function wle(e){let t=e.split(`
`),r=t.pop();return[t.filter(n=>n!=""),r]}o(wle,"splitChunk");var NE=class{constructor(){this.arguments=[]}static{o(this,"StreamingToolCall")}update(t){t.function.name&&(this.name=t.function.name),this.arguments.push(t.function.arguments)}},kE=class{constructor(){this.arguments=[]}static{o(this,"StreamingFunctionCall")}update(t){t.name&&(this.name=t.name),this.arguments.push(t.arguments)}},OE=class{constructor(){this.current={}}static{o(this,"StreamCopilotAnnotations")}update(t){Object.entries(t).forEach(([r,n])=>{n.forEach(i=>this.update_namespace(r,i))})}update_namespace(t,r){this.current[t]||(this.current[t]=[]);let n=this.current[t],i=n.findIndex(s=>s.id===r.id);i>=0?n[i]=r:n.push(r)}for(t){return this.current[t]??[]}},Ym=class e{constructor(t,r,n,i,s,a,l){this.ctx=t;this.expectedNumChoices=r;this.response=n;this.body=i;this.telemetryData=s;this.dropCompletionReasons=a;this.cancellationToken=l;this.requestId=Jm(this.response);this.stats=new FE;this.solutions={}}static{o(this,"SSEProcessor")}static create(t,r,n,i,s,a){let l=n.body();if(l===null)throw new Error("No response body available");return typeof l.setEncoding=="function"?l.setEncoding("utf8"):l=l.pipeThrough(new TextDecoderStream),new e(t,r,n,l,i,s??[],a)}async*processSSE(t=()=>{}){try{yield*this.processSSEInner(t)}finally{this.cancel(),po.debug(this.ctx,`request done: headerRequestId: [${this.requestId.headerRequestId}] model deployment ID: [${this.requestId.deploymentId}]`),po.debug(this.ctx,"request stats:",this.stats)}}async*processSSEInner(t){let r="",n=null,i,s;e:for await(let a of this.body){if(this.maybeCancel("after awaiting body chunk"))return;po.debug(this.ctx,"chunk",a.toString());let[l,c]=wle(r+a.toString());r=c;for(let u of l){let f=u.slice(5).trim();if(f=="[DONE]"){yield*this.finishSolutions(n,i,s,t);return}n=null;let d;try{d=JSON.parse(f)}catch{po.error(this.ctx,"Error parsing JSON stream data",u);continue}if(d.copilot_confirmation&&Ple(d.copilot_confirmation)&&await t("",{text:"",requestId:this.requestId,copilotConfirmation:d.copilot_confirmation}),d.copilot_references&&await t("",{text:"",requestId:this.requestId,copilotReferences:d.copilot_references}),d.choices===void 0){!d.copilot_references&&!d.copilot_confirmation&&(d.error!==void 0?po.error(this.ctx,"Error in response:",d.error.message):po.error(this.ctx,"Unexpected response with no choices or error: "+f)),d.copilot_errors&&await t("",{text:"",requestId:this.requestId,copilotErrors:d.copilot_errors});continue}if(this.requestId.created==0&&(this.requestId=Jm(this.response,d),this.requestId.created===0&&d.choices?.length&&po.error(this.ctx,'Request id invalid, should have "completionId" and "created":',this.requestId)),i===void 0&&d.model&&(i=d.model),s===void 0&&d.usage&&(s=d.usage),this.allSolutionsDone()){r="";break e}for(let m=0;m<d.choices?.length;m++){let p=d.choices[m];po.debug(this.ctx,"choice",p),this.stats.add(p.index),p.index in this.solutions||(this.solutions[p.index]=new AE);let g=this.solutions[p.index];if(g==null)continue;g.append(p);let h=this.asSolutionDecision(),b=p.text?.indexOf(`
`)>-1||p.delta?.content?.indexOf(`
`)>-1;if(p.finish_reason||b){let _=g.text.join("");if(h=this.asSolutionDecision(await t(_,{text:_,index:p.index,requestId:this.requestId,annotations:g.copilot_annotations,copilotReferences:g.copilot_references,getAPIJsonData:o(()=>LE(g),"getAPIJsonData"),finished:!!p.finish_reason,telemetryData:this.telemetryData})),this.maybeCancel("after awaiting finishedCb"))return}if(p.finish_reason&&g.function_call.name!==void 0){n=p.finish_reason;continue}if(p.finish_reason&&(h.yieldSolution=!0,h.continueStreaming=!1),!h.yieldSolution)continue;let x=p.finish_reason??"client-trimmed";if(Se(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:x,engineName:i??"",engineChoiceSource:bd(this.ctx,this.telemetryData).engineChoiceSource})),this.dropCompletionReasons.includes(p.finish_reason)?this.solutions[p.index]=null:g.yielded||(this.stats.markYielded(p.index),yield{solution:g,finishOffset:h.finishOffset,reason:p.finish_reason,requestId:this.requestId,index:p.index,model:i,usage:s},g.yielded=!0),this.maybeCancel("after yielding finished choice"))return;h.continueStreaming||(this.solutions[p.index]=null)}}}for(let[a,l]of Object.entries(this.solutions)){let c=Number(a);if(l!=null&&(Se(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:"Iteration Done",engineName:i??""})),this.stats.markYielded(c),yield{solution:l,finishOffset:void 0,reason:"Iteration Done",requestId:this.requestId,index:c,model:i,usage:s},this.maybeCancel("after yielding after iteration done")))return}if(r.length>0)try{let a=JSON.parse(r);a.error!==void 0&&po.error(this.ctx,`Error in response: ${a.error.message}`,a.error)}catch{po.error(this.ctx,`Error parsing extraData: ${r}`)}}asSolutionDecision(t){return t===void 0?{yieldSolution:!1,continueStreaming:!0}:typeof t=="number"?{yieldSolution:!0,continueStreaming:!1,finishOffset:t}:t}async*finishSolutions(t,r,n,i){for(let[s,a]of Object.entries(this.solutions)){let l=Number(s);if(a==null)continue;let c=a.text.join("");if(await i(c,{text:c,index:l,requestId:this.requestId,annotations:a.copilot_annotations,copilotReferences:a.copilot_references,getAPIJsonData:o(()=>LE(a),"getAPIJsonData"),finished:!0,telemetryData:this.telemetryData}),!a.yielded&&(this.stats.markYielded(l),Se(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:t??"DONE",engineName:r??""})),yield{solution:a,finishOffset:void 0,reason:t??"DONE",requestId:this.requestId,index:l,model:r,usage:n},this.maybeCancel("after yielding on DONE")))return}}maybeCancel(t){return this.cancellationToken?.isCancellationRequested?(po.debug(this.ctx,"Cancelled: "+t),this.cancel(),!0):!1}cancel(){this.body&&"destroy"in this.body&&typeof this.body.destroy=="function"?this.body.destroy():this.body instanceof ReadableStream&&this.body.cancel()}allSolutionsDone(){let t=Object.values(this.solutions);return t.length==this.expectedNumChoices&&t.every(r=>r==null)}};function tb(e,t,r){let n=t.solution.text.join(""),i=!1;t.finishOffset!==void 0&&(po.debug(e,`solution ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),i=!0),po.info(e,`solution ${t.index} returned. finish reason: [${t.reason}]`),po.debug(e,`solution ${t.index} details: finishOffset: [${t.finishOffset}] completionId: [{${t.requestId.completionId}}] created: [{${t.requestId.created}}]`);let s=LE(t.solution);return rb(e,n,s,t.index,t.requestId,i,r)}o(tb,"prepareSolutionForReturn");function LE(e){let t=e.text.join(""),r=Rle(e),n=Dle(e),i=e.copilot_annotations.current,s={text:t,tokens:e.text,tool_calls:r,function_call:n,copilot_annotations:i,finish_reason:e.finish_reason??"stop"};if(e.logprobs.length===0)return s;let a=e.logprobs.reduce((f,d)=>f.concat(d),[]),l=e.top_logprobs.reduce((f,d)=>f.concat(d),[]),c=e.text_offset.reduce((f,d)=>f.concat(d),[]),u=e.tokens.reduce((f,d)=>f.concat(d),[]);return{...s,logprobs:{token_logprobs:a,top_logprobs:l,text_offset:c,tokens:u}}}o(LE,"convertToAPIJsonData");function Ple(e){return typeof e.title=="string"&&typeof e.message=="string"&&!!e.confirmation}o(Ple,"isCopilotConfirmation");function Rle(e){let t=[];for(let r of e.tool_calls)if(r.name){let n=r.arguments.length>0?JSON.parse(r.arguments.join("")):{};t.push({type:"function",function:{name:r.name,arguments:n},approxNumTokens:r.arguments.length+1})}return t}o(Rle,"extractToolCalls");function Dle(e){if(e.function_call.name){let t=e.function_call.arguments.length>0?JSON.parse(e.function_call.arguments.join("")):{};return{name:e.function_call.name,arguments:t}}}o(Dle,"extractFunctionCall");var FE=class{constructor(){this.choices=new Map}static{o(this,"ChunkStats")}getChoiceStats(t){let r=this.choices.get(t);return r||(r=new ME,this.choices.set(t,r)),r}add(t){this.getChoiceStats(t).increment()}markYielded(t){this.getChoiceStats(t).markYielded()}toString(){return Array.from(this.choices.entries()).map(([t,r])=>`${t}: ${r.yieldedTokens} -> ${r.seenTokens}`).join(", ")}},ME=class{constructor(){this.yieldedTokens=-1;this.seenTokens=0}static{o(this,"ChoiceStats")}increment(){this.seenTokens++}markYielded(){this.yieldedTokens=this.seenTokens}};function Ale(e,t){return e!==null&&typeof e=="object"&&t in e}o(Ale,"hasKey");function oa(e,t){return Ale(e,t)?e[t]:void 0}o(oa,"getKey");var IB=Lt(yi());var en=new wt("fetchCompletions");function Jm(e,t){return{headerRequestId:e.headers.get("x-request-id")||"",completionId:t&&t.id?t.id:"",created:t&&t.created?t.created:0,serverExperiments:e.headers.get("X-Copilot-Experiment")||"",deploymentId:e.headers.get("azureml-model-deployment")||""}}o(Jm,"getRequestId");function UE(e){let t=e.headers.get("openai-processing-ms");return t?parseInt(t,10):0}o(UE,"getProcessingTime");function SB(e){switch(e){case"ghostText":return"copilot-ghost";case"synthesize":return"copilot-panel"}}o(SB,"uiKindToIntent");var kc=class{static{o(this,"OpenAIFetcher")}};function Nle(e,t,r,n){return N2(e,t,"proxy","v1/engines",r,n)}o(Nle,"getProxyEngineUrl");function wB(e,t,r,n){for(let[i,s]of Object.entries(e)){if(r.includes(i))continue;let a=s;if(i==="extra"&&n){let l={...a};for(let c of n)delete l[c];a=l}t.properties[`request.option.${i}`]=JSON.stringify(a)??"undefined"}}o(wB,"sanitizeRequestOptionTelemetry");async function CB(e,t,r,n,i,s,a,l,c,u,f){let d=e.get(Br),m=Nle(e,a,r,n),p=c.extendedBy({endpoint:n,engineName:r,uiKind:l},W4(t));wB(s,p,["prompt","suffix"],["context"]),p.properties.headerRequestId=i,Se(e,"request.sent",p);let g=kn(),h=SB(l);return h6(e,m,a.token,h,i,s,u,f).then(b=>{let x=Jm(b,void 0);p.extendWithRequestId(x);let _=kn()-g;return p.measurements.totalTimeMs=_,en.info(e,`Request ${i} at <${m}> finished with ${b.status} status after ${_}ms`),p.properties.status=String(b.status),en.debug(e,"request.response properties",p.properties),en.debug(e,"request.response measurements",p.measurements),en.debug(e,"prompt:",t),Se(e,"request.response",p),b}).catch(b=>{if(m0(b))throw Se(e,"request.cancel",p),b;d.setWarning(oa(b,"message")??"");let x=p.extendedBy({error:"Network exception"});Se(e,"request.shownWarning",x),p.properties.message=String(oa(b,"name")??""),p.properties.code=String(oa(b,"code")??""),p.properties.errno=String(oa(b,"errno")??""),p.properties.type=String(oa(b,"type")??"");let _=kn()-g;throw p.measurements.totalTimeMs=_,en.info(e,`Request ${i} at <${m}> rejected with ${String(b)} after ${_}ms`),en.debug(e,"request.error properties",p.properties),en.debug(e,"request.error measurements",p.measurements),Se(e,"request.error",p),b}).finally(()=>{HO(e,t,p)})}o(CB,"fetchWithInstrumentation");async function kle(e,t,r,n,i,s,a,l,c,u){let f=c.extendedBy({endpoint:"chat/completions",engineModelId:r,uiKind:l});wB(s,f,["messages"]),f.properties.headerRequestId=i,Se(e,"request.sent",f);let d=kn(),m=SB(l),p={...T6(e)};try{let g=await h6(e,n,a.token,m,i,s,u,p),h=Jm(g,void 0);f.extendWithRequestId(h);let b=kn()-d;return f.measurements.totalTimeMs=b,en.info(e,`Request ${i} at <${n}> finished with ${g.status} status after ${b}ms`),en.debug(e,"request.response properties",f.properties),en.debug(e,"request.response measurements",f.measurements),en.debug(e,"messages:",JSON.stringify(t)),Se(e,"request.response",f),g}catch(g){if(m0(g))throw Se(e,"request.cancel",f),g;let h=f.extendedBy({error:"Network exception"});Se(e,"request.shownWarning",h),f.properties.message=String(oa(g,"name")??""),f.properties.code=String(oa(g,"code")??""),f.properties.errno=String(oa(g,"errno")??""),f.properties.type=String(oa(g,"type")??"");let b=kn()-d;throw f.measurements.totalTimeMs=b,en.info(e,`Request ${i} at <${n}> rejected with ${String(g)} after ${b}ms`),en.debug(e,"request.error properties",f.properties),en.debug(e,"request.error measurements",f.measurements),Se(e,"request.error",f),g}finally{TB(e,t,f)}}o(kle,"fetchChatWithInstrumentation");function BE(e){return vB(e,t=>t.completionText.trim().length>0)}o(BE,"postProcessChoices");var Yg="github.copilot.completions.quotaExceeded",Kg=class extends kc{static{o(this,"LiveOpenAIFetcher")}#e;async fetchAndStreamCompletions(t,r,n,i,s){if(this.#e)return{type:"canceled",reason:this.#e};let a=t.get(Br),l="completions",c=await t.get(Yr).getToken(),u=await this.fetchWithParameters(t,l,r,c,n,s);if(u==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let p=u.body();try{p&&"destroy"in p&&typeof p.destroy=="function"?p.destroy():p instanceof ReadableStream&&p.cancel()}catch(g){en.exception(t,g,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(u.status!==200){let p=this.createTelemetryData(l,t,r);return this.handleError(t,a,p,u,c)}let d=Ym.create(t,r.count,u,n,[],s).processSSE(i),m=eb(d,p=>tb(t,p,n));return{type:"success",choices:BE(m),getProcessingTime:o(()=>UE(u),"getProcessingTime")}}async fetchAndStreamChat(t,r,n,i,s,a,l,c={},u){if(this.#e)return{type:"canceled",reason:this.#e};let f="https://copilot-proxy.githubusercontent.com/chat/completions",d={messages:r,model:l.id,stream:!0,...c},m=n.extendedBy({endpoint:f,model:l.name}),p=t.get(Br),g=await t.get(Yr).getToken(),h=await kle(t,r,l.id,f,s,d,g,i,m,u);if(u?.isCancellationRequested){let y=h.body();try{y&&"destroy"in y&&typeof y.destroy=="function"?y.destroy():y instanceof ReadableStream&&y.cancel()}catch(v){en.exception(t,v,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(h.status!==200){let y=et.createAndMarkAsIssued({endpoint:f,engineName:l.name,uiKind:i,headerRequestId:s});return this.handleError(t,p,y,h,g)}let x=Ym.create(t,1,h,m,[],IB.CancellationToken.None).processSSE(),_=eb(x,y=>tb(t,y,n));return{type:"success",choices:BE(_),getProcessingTime:o(()=>UE(h),"getProcessingTime")}}async fetchAndStreamSpeculation(t,r,n,i,s){if(this.#e)return{type:"canceled",reason:this.#e};let a=t.get(Br),l="speculation",c=await t.get(Yr).getToken(),u={prompt:{prefix:r.prompt,suffix:"",isFimEnabled:!1},speculation:r.speculation,ourRequestId:Li(),engineModelId:r.engineModelId,uiKind:r.uiKind,headers:r.headers,stops:r.stops},f=await this.fetchSpeculationWithParameters(t,l,u,c,n,s);if(f==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let g=f.body();try{g&&"destroy"in g&&typeof g.destroy=="function"?g.destroy():g instanceof ReadableStream&&g.cancel()}catch(h){en.exception(t,h,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(f.status!==200){let g=this.createTelemetryData(l,t,u);return this.handleError(t,a,g,f,c)}let m=Ym.create(t,1,f,n,[],s).processSSE(i),p=eb(m,g=>tb(t,g,n));return{type:"success",choices:BE(p),getProcessingTime:o(()=>UE(f),"getProcessingTime")}}createTelemetryData(t,r,n){return et.createAndMarkAsIssued({endpoint:t,engineName:n.engineModelId,uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchSpeculationWithParameters(t,r,n,i,s,a){let l={prompt:n.prompt.prefix,speculation:n.speculation,temperature:0,stream:!0,stop:n.stops??[]};return await vf(0),a?.isCancellationRequested?"not-sent":await CB(t,n.prompt,n.engineModelId,r,n.ourRequestId,l,i,n.uiKind,s,a,n.headers)}async fetchWithParameters(t,r,n,i,s,a){let l=t.get(Be).disableLogProb(s),c={prompt:n.prompt.prefix,suffix:n.prompt.suffix,max_tokens:ib(t),temperature:nb(t,n.count),top_p:RB(t),n:n.count,stop:PB(t,n.languageId),stream:!0,extra:n.extra};(n.requestLogProbs||!l)&&(c.logprobs=2);let u=K1(n.repoInfo);return u!==void 0&&(c.nwo=u),n.postOptions&&Object.assign(c,n.postOptions),n.prompt.context&&(c.extra.context=n.prompt.context),await vf(0),a?.isCancellationRequested?"not-sent":await CB(t,n.prompt,n.engineModelId,r,n.ourRequestId,c,i,n.uiKind,s,a,n.headers)}async handleError(t,r,n,i,s){let a=await i.text();if(i.status===402){this.#e="monthly free code completions exhausted",r.setError("Completions limit reached",{command:Yg,title:"Learn More"});let c=dn(t,u=>{this.#e=void 0,(u.envelope.limited_user_quotas?.completions??1)>0&&(r.forceNormal(),c.dispose())});return{type:"failed",reason:this.#e}}if(i.status===466)return r.setError(a),en.info(t,a),{type:"failed",reason:`client not supported: ${a}`};if(i.clientError&&!i.headers.get("x-github-request-id")){let l=`Last response was a ${i.status} error and does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`;en.error(t,l),r.setWarning(l),n.properties.error=`Response status was ${i.status} with no x-github-request-id header`}else i.clientError?(en.warn(t,`Response status was ${i.status}:`,a),r.setWarning(`Last response was a ${i.status} error: ${a}`),n.properties.error=`Response status was ${i.status}: ${a}`):(r.setWarning(`Last response was a ${i.status} error`),n.properties.error=`Response status was ${i.status}`);return n.properties.status=String(i.status),Se(t,"request.shownWarning",n),i.status===401||i.status===403?(t.get(Yr).resetToken(i.status),{type:"failed",reason:`token expired or invalid: ${i.status}`}):i.status===429?(setTimeout(()=>{this.#e=void 0},10*1e3),this.#e="rate limited",en.warn(t,"Rate limited by server. Denying completions for the next 10 seconds."),{type:"failed",reason:this.#e}):i.status===499?(en.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server"}):(en.error(t,"Unhandled status from server:",i.status,a),{type:"failed",reason:`unhandled status from server: ${i.status} ${a}`})}};function rb(e,t,r,n,i,s,a){return zO(e,t,r,i,n),{completionText:t,meanLogProb:Ole(e,r),meanAlternativeLogProb:Lle(e,r),choiceIndex:n,requestId:i,blockFinished:s,tokens:r.tokens,numTokens:r.tokens.length,telemetryData:a,copilotAnnotations:r.copilot_annotations,clientCompletionId:Li(),finishReason:r.finish_reason}}o(rb,"convertToAPIChoice");function Ole(e,t){if(t?.logprobs?.token_logprobs)try{let r=0,n=0,i=50;for(let s=0;s<t.logprobs.token_logprobs.length-1&&i>0;s++,i--)r+=t.logprobs.token_logprobs[s],n+=1;return n>0?r/n:void 0}catch(r){gt.exception(e,r,"Error calculating mean prob")}}o(Ole,"calculateMeanLogProb");function Lle(e,t){if(t?.logprobs?.top_logprobs)try{let r=0,n=0,i=50;for(let s=0;s<t.logprobs.token_logprobs.length-1&&i>0;s++,i--){let a={...t.logprobs.top_logprobs[s]};delete a[t.logprobs.tokens[s]],r+=Math.max(...Object.values(a)),n+=1}return n>0?r/n:void 0}catch(r){gt.exception(e,r,"Error calculating mean prob")}}o(Lle,"calculateMeanAlternativeLogProb");function nb(e,t){return Ns(e)||t<=1?0:t<10?.2:t<20?.4:.8}o(nb,"getTemperatureForSamples");var Fle={markdown:[`


`],python:[`
def `,`
class `,`
if `,`

#`]};function PB(e,t){return Fle[t??""]??[`


`,"\n```"]}o(PB,"getStops");function RB(e){return 1}o(RB,"getTopP");function ib(e){return ep}o(ib,"getMaxSolutionTokens");var jE=class e{constructor(t,r){this.index=t;this.documentPrefix=r;this.startOffset=0;this.text="";this.trimCount=0}static{o(this,"StreamingCompletion")}updateText(t){this.text=t}get addedToPrefix(){return this.text.substring(0,this.startOffset)}get effectivePrefix(){return this.documentPrefix+this.addedToPrefix}get effectiveText(){return this.text.substring(this.startOffset)}get isFirstCompletion(){return this.trimCount===0}get firstNewlineOffset(){let t=[...this.text.matchAll(/\r?\n/g)];return t.length>0&&t[0].index===0&&t.shift(),t.length>0?t[0].index:-1}trimAt(t){let r=new e(this.index,this.documentPrefix);return r.startOffset=this.startOffset,r.text=this.text.substring(0,this.startOffset+t),r.trimCount=this.trimCount,this.startOffset+=t,this.trimCount++,r}},ob=class{constructor(t,r,n,i,s,a){this.ctx=t;this.prefix=r;this.languageId=n;this.initialSingleLine=i;this.trimmerLookahead=s;this.cacheFunction=a;this.lineLimit=3;this.completions=new Map}static{o(this,"StreamedCompletionSplitter")}getFinishedCallback(){return async(t,r)=>{let n=r.index??0,i=this.getCompletion(n,t);if(i.isFirstCompletion&&this.initialSingleLine&&i.firstNewlineOffset>=0){let s={yieldSolution:!0,continueStreaming:!0,finishOffset:i.firstNewlineOffset};return i.trimAt(s.finishOffset),r.finished&&await this.trimAll(r,i),s}return r.finished?await this.trimAll(r,i):await this.trimOnce(r,i)}}getCompletion(t,r){let n=this.completions.get(t);return n||(n=new jE(t,this.prefix),this.completions.set(t,n)),n.updateText(r),n}async trimOnce(t,r){let n=await this.trim(r);return n===void 0?{yieldSolution:!1,continueStreaming:!0}:r.isFirstCompletion?(r.trimAt(n),{yieldSolution:!0,continueStreaming:!0,finishOffset:n}):(this.cacheCompletion(t,r,n),{yieldSolution:!1,continueStreaming:!0})}async trimAll(t,r){let n,i;do n=await this.trim(r),r.isFirstCompletion?(i=n,r.trimAt(n??r.effectiveText.length)):this.cacheCompletion(t,r,n);while(n!==void 0);return i!==void 0?{yieldSolution:!0,continueStreaming:!0,finishOffset:i}:{yieldSolution:!1,continueStreaming:!0}}async trim(t){return await new Z3(this.languageId,t.effectivePrefix,t.effectiveText,this.lineLimit,this.trimmerLookahead).getCompletionTrimOffset()}cacheCompletion(t,r,n){let i=r.trimAt(n??r.effectiveText.length);if(i.effectiveText.trim()==="")return;let s=rb(this.ctx,i.effectiveText.trimEnd(),t.getAPIJsonData(),i.index,t.requestId,n!==void 0,t.telemetryData);s.copilotAnnotations=this.adjustedAnnotations(s,r,i),s.generatedChoiceIndex=i.trimCount,this.cacheFunction(i.addedToPrefix,s)}adjustedAnnotations(t,r,n){if(t.copilotAnnotations===void 0)return;let i=n.addedToPrefix.length,a=i+t.completionText.length>=r.text.length,l={};for(let[c,u]of Object.entries(t.copilotAnnotations)){let f=u.filter(d=>d.start_offset-i<t.completionText.length&&d.stop_offset-i>0).map(d=>{let m={...d};return m.start_offset-=i,m.stop_offset-=i,a||(m.stop_offset=Math.min(m.stop_offset,t.completionText.length)),m});f.length>0&&(l[c]=f)}return Object.keys(l).length>0?l:void 0}};var sb=new wt("getCompletions");function DB(e,t,r){r.telemetry.markAsDisplayed(),r.telemetry.properties.reason=Xm(r.resultType),Se(e,`${t}.shown`,r.telemetry)}o(DB,"telemetryShown");function AB(e,t,r){let n=t+".accepted";Se(e,n,r)}o(AB,"telemetryAccepted");function NB(e,t,r){let n=t+".rejected";Se(e,n,r)}o(NB,"telemetryRejected");function sa(e,t={}){return{...t,telemetryBlob:e}}o(sa,"mkCanceledResultTelemetry");function tn(e){let t={headerRequestId:e.properties.headerRequestId,copilot_trackingId:e.properties.copilot_trackingId};return e.properties.sku!==void 0&&(t.sku=e.properties.sku),e.properties.opportunityId!==void 0&&(t.opportunityId=e.properties.opportunityId),e.properties.organizations_list!==void 0&&(t.organizations_list=e.properties.organizations_list),e.properties.enterprise_list!==void 0&&(t.enterprise_list=e.properties.enterprise_list),e.properties.clientCompletionId!==void 0&&(t.clientCompletionId=e.properties.clientCompletionId),t["abexp.assignmentcontext"]=e.filtersAndExp.exp.assignmentContext,t}o(tn,"mkBasicResultTelemetry");function kB(e,t){if(t.type!=="promptOnly"){if(t.type==="success"){let r=kn()-t.telemetryBlob.issuedTime,n=Xm(t.resultType),i=JSON.stringify(t.performanceMetrics),s={...t.telemetryData,reason:n,performanceMetrics:i},{foundOffset:a}=t.telemetryBlob.measurements,l=t.performanceMetrics?.map(([c,u])=>`
${u.toFixed(2)}	${c}`).join("")??"";return sb.debug(e,`ghostText produced from ${n} in ${Math.round(r)}ms with foundOffset ${a}${l}`),By(e,"ghostText.produced",s,{timeToProduceMs:r,foundOffset:a}),t.value}if(sb.debug(e,"No ghostText produced -- "+t.type+": "+t.reason),t.type==="canceled"){Se(e,"ghostText.canceled",t.telemetryData.telemetryBlob.extendedBy({reason:t.reason,cancelledNetworkRequest:t.telemetryData.cancelledNetworkRequest?"true":"false"}));return}By(e,`ghostText.${t.type}`,{...t.telemetryData,reason:t.reason},{})}}o(kB,"handleGhostTextResultTelemetry");function Xm(e){switch(e){case 0:return"network";case 1:return"cache";case 3:return"cycling";case 2:return"typingAsSuggested";case 4:return"async"}}o(Xm,"resultTypeToString");async function Mle(e){if(e.isCancellationRequested)return;let t=new Nc,r=e.onCancellationRequested(()=>{t.resolve(),r.dispose()});await t.promise}o(Mle,"cancellationTokenToPromise");async function OB(e,t){if(t){let r=Mle(t);await Promise.race([e,r])}else await e}o(OB,"raceCancellation");function $E(e){return Array.isArray(e)}o($E,"isArrayOfT");async function lb(e,t){let r=new Map,n=[];for(let[i,s]of e.entries()){let a=(async()=>{let l;s instanceof Promise?l=await Ule(s,t):l=await Ble(s,t),r.set(i,l)})();n.push(a)}return await Promise.allSettled(n.values()),r}o(lb,"resolveAll");async function Ule(e,t){let r=performance.now(),n={status:"none",resolutionTime:0,value:null},i=(async()=>{try{let s=await e;if(t?.isCancellationRequested)return;n={status:"full",resolutionTime:0,value:$E(s)?[...s]:[s]}}catch(s){if(t?.isCancellationRequested)return;n={status:"error",resolutionTime:0,reason:s}}})();return await OB(i,t),n.resolutionTime=performance.now()-r,n}o(Ule,"resolvePromise");async function Ble(e,t){let r=performance.now(),n={status:"none",resolutionTime:0,value:null},i=(async()=>{try{for await(let s of e){if(t?.isCancellationRequested)return;n.status!="partial"&&(n={status:"partial",resolutionTime:0,value:[]}),n.value.push(s)}t?.isCancellationRequested||(n.status!=="partial"?n={status:"full",resolutionTime:0,value:[]}:n.status="full")}catch(s){if(t?.isCancellationRequested)return;n={status:"error",resolutionTime:0,reason:s}}})();return await OB(i,t),n.resolutionTime=performance.now()-r,n}o(Ble,"resolveIterable");var jle={maxSnippetLength:3e3,maxSnippetCount:7,enabledFeatures:"Deferred",timeBudgetMs:7,doAggregateSnippets:!0},$le="ms-vscode.cpptools";function LB(e,t,r,n){(t.length===1&&t[0]==="*"||t.includes($le))&&Wle(e,r,n)}o(LB,"fillInCppVSCodeActiveExperiments");function Wle(e,t,r){try{let n=jle,i=e.get(Be).cppContextProviderParams(r);if(i)try{n=JSON.parse(i)}catch(s){gt.error(e,"Failed to parse cppContextProviderParams",s)}for(let[s,a]of Object.entries(n))t.set(s,a)}catch(n){gt.exception(e,n,"fillInCppActiveExperiments")}}o(Wle,"addActiveExperiments");function FB(e,t,r){try{let n=e.get(Be).csharpContextProviderParams(r);if(n){let i=JSON.parse(n);for(let[s,a]of Object.entries(i))t.set(s,a)}}catch(n){return gt.debug(e,"Failed to get the active C# experiments for the Context Provider API",n),!1}return!0}o(FB,"fillInCSharpActiveExperiments");var qle="fallbackContextProvider",Gle={mlcpMaxContextItems:20,mlcpMaxSymbolMatches:20};function MB(e,t,r,n){(t.length===1&&t[0]==="*"||t.includes(qle))&&zle(e,r,n)}o(MB,"fillInMultiLanguageActiveExperiments");function zle(e,t,r){try{let n=Gle,i=e.get(Be).multiLanguageContextProviderParams(r);if(i)try{n=JSON.parse(i)}catch(s){gt.error(e,"Failed to parse multiLanguageContextProviderParams",s)}for(let[s,a]of Object.entries(n))t.set(s,a)}catch(n){gt.exception(e,n,"fillInMultiLanguageActiveExperiments")}}o(zle,"addActiveExperiments");var UB=j.Object({importance:j.Optional(j.Integer({minimum:0,maximum:100})),id:j.Optional(j.String()),origin:j.Optional(j.Union([j.Literal("request"),j.Literal("update")]))}),BB=j.Intersect([j.Object({name:j.String(),value:j.String()}),UB]),jB=j.Intersect([j.Object({uri:j.String(),value:j.String(),additionalUris:j.Optional(j.Array(j.String()))}),UB]),Hle=[BB,jB],Vle=j.Union(Hle),Kle=new Map([["Trait",jl.Compile(BB)],["CodeSnippet",jl.Compile(jB)]]),Yle=o(e=>e,"ensureTypesAreEqual");Yle(!0);var Jle=j.Object({contextItems:j.Array(Vle)}),Xle=j.Object({selector:j.Array(j.Union([j.String(),j.Object({language:j.Optional(j.String()),scheme:j.Optional(j.String()),pattern:j.Optional(j.String())})]))}),WE=j.Object({id:j.String()}),Zle=j.Intersect([WE,Xle]),Qle=j.Intersect([WE,Jle]),KVe=j.Object({providers:j.Array(Zle)}),YVe=j.Object({providers:j.Array(WE)}),ece=j.Object({providers:j.Array(Qle),updating:j.Optional(j.Array(j.String()))}),JVe=j.Intersect([eL,j.Object({contextItems:j.Optional(ece)})]);function cb(e,t){return e.map(r=>{let n=r.data.filter(i=>i.type===t);return n.length>0?{...r,data:n}:void 0}).filter(r=>r!==void 0)}o(cb,"filterContextItemsByType");function $B(e){let t=[],r=0;return e.forEach(n=>{let i=!1;for(let[s,a]of Kle.entries())if(a.Check(n)){t.push({...n,type:s}),i=!0;break}i||r++}),[t,r]}o($B,"filterSupportedContextItems");function tce(e){return e.length>0&&e.replaceAll(/[^a-zA-Z0-9-]/g,"").length===e.length}o(tce,"validateContextItemId");function WB(e,t){let r=new Set,n=[];for(let i of t){let s=i.id??Li();if(!tce(s)){let a=Li();gt.error(e,`Invalid context item ID ${s}, replacing with ${a}`),s=a}if(r.has(s)){let a=Li();gt.error(e,`Duplicate context item ID ${s}, replacing with ${a}`),s=a}r.add(s),n.push({...i,id:s})}return n}o(WB,"addOrValidateContextItemsIDs");function qB(e){return e instanceof qE?!0:e instanceof Error&&e.name===GE&&e.message===GE}o(qB,"isCancellationError");var qE=class extends Error{static{o(this,"CancellationError")}constructor(){super(GE),this.name=this.message}},GE="Canceled";var Bi=class{constructor(t=()=>new zE){this.createStatistics=t;this.statistics=new _r(25)}static{o(this,"ContextProviderStatistics")}getStatisticsForCompletion(t){let r=this.statistics.get(t);if(r)return r;let n=this.createStatistics();return this.statistics.set(t,n),n}getPreviousStatisticsForCompletion(t){let r=Array.from(this.statistics.keys());for(let n=r.length-1;n>=0;n--){let i=r[n];if(i!==t)return this.statistics.peek(i)}}},zE=class{constructor(){this._expectations=new Map;this._lastResolution=new Map;this._statistics=new Map}static{o(this,"PerCompletionContextProviderStatistics")}addExpectations(t,r){let n=this._expectations.get(t)??[];this._expectations.set(t,[...n,...r])}clearExpectations(){this._expectations.clear()}setLastResolution(t,r){this._lastResolution.set(t,r)}get(t){return this._statistics.get(t)}computeMatch(t){try{for(let[r,n]of this._expectations){if(n.length===0)continue;let i=this._lastResolution.get(r)??"none";if(i==="none"||i==="error"){this._statistics.set(r,{usage:"none",resolution:i});continue}let s=[];for(let[u,f]of n){let d={id:u.id,type:u.type};if(u.origin&&(d.origin=u.origin),f==="content_excluded"){s.push({...d,usage:"none_content_excluded"});continue}let m=t.find(p=>p.source===u);m===void 0?s.push({...d,usage:"error"}):s.push({...d,usage:m.expectedTokens>0&&m.expectedTokens===m.actualTokens?"full":m.actualTokens>0?"partial":"none",expectedTokens:m.expectedTokens,actualTokens:m.actualTokens})}let l=s.reduce((u,f)=>f.usage==="full"?u+1:f.usage==="partial"?u+.5:u,0)/n.length,c=l===1?"full":l===0?"none":"partial";this._statistics.set(r,{resolution:i,usage:c,usageDetails:s})}}finally{this.clearExpectations(),this._lastResolution.clear()}}};function GB(e){return e.map(t=>{if(!(t.source===void 0||t.expectedTokens===void 0||t.actualTokens===void 0))return{source:t.source,expectedTokens:t.expectedTokens,actualTokens:t.actualTokens}}).filter(t=>t!==void 0)}o(GB,"componentStatisticsToPromptMatcher");var zB=Lt(yi());var aa=class{static{o(this,"ContextProviderRegistry")}},Oc=class{static{o(this,"DefaultContextProviders")}},ub=class extends Oc{constructor(){super();this.ids=[]}static{o(this,"DefaultContextProvidersContainer")}add(r){this.ids.push(r)}getIds(){return this.ids}},HE=class extends aa{constructor(r,n){super();this.ctx=r;this.match=n;this._providers=[]}static{o(this,"CoreContextProviderRegistry")}registerContextProvider(r){if(r.id.includes(",")||r.id.includes("*"))throw new Error(`A context provider id cannot contain a comma or an asterisk. The id ${r.id} is invalid.`);if(this._providers.find(n=>n.id===r.id))throw new Error(`A context provider with id ${r.id} has already been registered`);this._providers.push(r)}unregisterContextProvider(r){this._providers=this._providers.filter(n=>n.id!==r)}get providers(){return this._providers.slice()}async resolveAllProviders(r,n,i,s,a){if(s?.isCancellationRequested)return gt.debug(this.ctx,"Resolving context providers cancelled"),[];let l=new Map;FB(this.ctx,l,i);let c=[];if(this._providers.length===0)return c;let u=await this.matchProviders(n,i),f=u.filter(y=>y[1]>0),d=u.filter(y=>y[1]<=0);if(LB(this.ctx,f.map(y=>y[0].id),l,i),MB(this.ctx,f.map(y=>y[0].id),l,i),d.forEach(([y,v])=>{let I={providerId:y.id,matchScore:v,resolution:"none",resolutionTimeMs:0,data:[]};c.push(I)}),f.length===0)return c;if(s?.isCancellationRequested)return gt.debug(this.ctx,"Resolving context providers cancelled"),[];let m=new zB.CancellationTokenSource;if(s){let y=s.onCancellationRequested(v=>{m.cancel(),y.dispose()})}let p=b6(this.ctx)&&!uw(this.ctx)?0:nce(this.ctx,i),g=p>0?Date.now()+p:Number.MAX_SAFE_INTEGER,h;p>0&&(h=setTimeout(()=>{m.cancel(),m.dispose()},p));let b=new Map,x={completionId:r,documentContext:n,activeExperiments:l,timeBudget:p,timeoutEnd:g,data:a};for(let[y]of f){let v=this.ctx.get(Bi).getPreviousStatisticsForCompletion(r)?.get(y.id);v&&(x.previousUsageStatistics=v);let I=y.resolver.resolve(x,m.token);b.set(y.id,I)}let _=await lb(b,m.token);h&&clearTimeout(h);for(let[y,v]of f){let I=_.get(y.id);if(I)if(this.ctx.get(Bi).getStatisticsForCompletion(r).setLastResolution(y.id,I.status),I.status==="error")qB(I.reason)||gt.error(this.ctx,`Error resolving context from ${y.id}: `,I.reason),c.push({providerId:y.id,matchScore:v,resolution:I.status,resolutionTimeMs:I.resolutionTime,data:[]});else{let R=[...I.value??[]];if((I.status==="none"||I.status==="partial")&&(gt.info(this.ctx,`Context provider ${y.id} exceeded time budget of ${p}ms`),y.resolver.resolveOnTimeout))try{let P=y.resolver.resolveOnTimeout(x);$E(P)?R.push(...P):P&&R.push(P)}catch(P){gt.error(this.ctx,`Error in fallback logic for context provider ${y.id}: `,P)}let[z,V]=$B(R);V&&gt.error(this.ctx,`Dropped ${V} context items from ${y.id} due to invalid schema`);let $=WB(this.ctx,z),Y={providerId:y.id,matchScore:v,resolution:I.status,resolutionTimeMs:I.resolutionTime,data:$};c.push(Y)}else gt.error(this.ctx,`Context provider ${y.id} not found in results`)}return c.sort((y,v)=>v.matchScore-y.matchScore)}async matchProviders(r,n){let i=YB(this.ctx,n),s=i.length===1&&i[0]==="*";return await Promise.all(this._providers.map(async l=>{if(!s&&!i.includes(l.id))return[l,0];let c=await this.match(this.ctx,l.selector,r);return[l,c]}))}},VE=class extends aa{constructor(r){super();this.delegate=r;this._cachedContextItems=new _r(5)}static{o(this,"CachedContextProviderRegistry")}registerContextProvider(r){this.delegate.registerContextProvider(r)}unregisterContextProvider(r){this.delegate.unregisterContextProvider(r)}get providers(){return this.delegate.providers}async resolveAllProviders(r,n,i,s,a){let l=this._cachedContextItems.get(r);if(r&&l&&l.length>0)return l;let c=await this.delegate.resolveAllProviders(r,n,i,s,a);return c.length>0&&r&&this._cachedContextItems.set(r,c),c}};function HB(e,t){return new VE(new HE(e,t))}o(HB,"getContextProviderRegistry");function VB(e,t,r){let n=e.get(Bi).getStatisticsForCompletion(t);return r.map(s=>{let{providerId:a,resolution:l,resolutionTimeMs:c,matchScore:u,data:f}=s,d=n.get(a),m=d?.usage??"none";(u<=0||l==="none"||l==="error")&&(m="none");let p={providerId:a,resolution:l,resolutionTimeMs:c,usage:m,usageDetails:d?.usageDetails,matched:u>0,numResolvedItems:f.length},g=d?.usageDetails!==void 0?d?.usageDetails.filter(b=>b.usage==="full"||b.usage==="partial"||b.usage==="partial_content_excluded").length:void 0,h=d?.usageDetails!==void 0?d?.usageDetails.filter(b=>b.usage==="partial"||b.usage==="partial_content_excluded").length:void 0;return g!==void 0&&(p.numUsedItems=g),h!==void 0&&(p.numPartiallyUsedItems=h),p})}o(VB,"telemetrizeContextItems");function KB(e){return e.matchScore>0&&e.resolution!=="error"}o(KB,"matchContextItems");function YB(e,t){let r=rce(e,t),n=Ze(e,de.ContextProviders)??[];if(r.length===1&&r[0]==="*"||n.length===1&&n[0]==="*")return["*"];let i=e.get(Oc).getIds();return Array.from(new Set([...i,...r,...n]))}o(YB,"getActiveContextProviders");function rce(e,t){return b6(e)?["*"]:e.get(Be).contextProviders(t)}o(rce,"getExpContextProviders");function KE(e,t){return YB(e,t).length>0}o(KE,"useContextProviderAPI");function nce(e,t){let r=Ze(e,de.ContextProviderTimeBudget);return r!==void 0&&typeof r=="number"?r:e.get(Be).contextProviderTimeBudget(t)}o(nce,"getContextProviderTimeBudget");var ul=class{constructor(t){this.ctx=t;this.scheduledResolutions=new _r(25)}static{o(this,"ContextProviderBridge")}schedule(t,r,n,i,s){let a=this.ctx.get(aa),{textDocument:l,originalPosition:c,originalOffset:u,originalVersion:f,editsWithPosition:d}=t,m=a.resolveAllProviders(r,{uri:l.uri,languageId:l.detectedLanguageId,version:f,offset:u,position:c,proposedEdits:d.length>0?d:void 0},n,i,s?.data);this.scheduledResolutions.set(r,m)}async resolution(t){let r=this.scheduledResolutions.get(t);return r?await r:[]}};var fb=class{constructor(t,r,n){this.languageId=t;this.nodeMatch=r;this.nodeTypesWithBlockOrStmtChild=n}static{o(this,"BaseBlockParser")}async getNodeMatchAtPosition(t,r,n){let i=await mu(this.languageId,t);try{let a=i.rootNode.descendantForIndex(r);for(;a;){let l=this.nodeMatch[a.type];if(l){if(!this.nodeTypesWithBlockOrStmtChild.has(a.type))break;let c=this.nodeTypesWithBlockOrStmtChild.get(a.type);if((c==""?a.namedChildren[0]:a.childForFieldName(c))?.type==l)break}a=a.parent}return a?n(a):void 0}finally{i.delete()}}getNextBlockAtPosition(t,r,n){return this.getNodeMatchAtPosition(t,r,i=>{let s=i.children.reverse().find(a=>a.type==this.nodeMatch[i.type]);if(s){if(this.languageId=="python"&&s.parent){let a=s.parent.type==":"?s.parent.parent:s.parent,l=a?.nextSibling;for(;l&&l.type=="comment";){let c=l.startPosition.row==s.endPosition.row&&l.startPosition.column>=s.endPosition.column,u=l.startPosition.row>a.endPosition.row&&l.startPosition.column>a.startPosition.column;if(c||u)s=l,l=l.nextSibling;else break}}if(!(s.endIndex>=s.tree.rootNode.endIndex-1&&(s.hasError()||s.parent.hasError())))return n(s)}})}async isBlockBodyFinished(t,r,n){let i=(t+r).trimEnd(),s=await this.getNextBlockAtPosition(i,n,a=>a.endIndex);if(s!==void 0&&s<i.length){let a=s-t.length;return a>0?a:void 0}}getNodeStart(t,r){let n=t.trimEnd();return this.getNodeMatchAtPosition(n,r,i=>i.startIndex)}},db=class extends fb{constructor(r,n,i,s,a){super(r,s,a);this.blockEmptyMatch=n;this.lineMatch=i}static{o(this,"RegexBasedBlockParser")}isBlockStart(r){return this.lineMatch.test(r.trimStart())}async isBlockBodyEmpty(r,n){let i=await this.getNextBlockAtPosition(r,n,s=>{s.startIndex<n&&(n=s.startIndex);let a=r.substring(n,s.endIndex).trim();return a==""||a.replace(/\s/g,"")==this.blockEmptyMatch});return i===void 0||i}async isEmptyBlockStart(r,n){return n=XB(r,n),this.isBlockStart(ice(r,n))&&this.isBlockBodyEmpty(r,n)}};function ice(e,t){let r=e.lastIndexOf(`
`,t-1),n=e.indexOf(`
`,t);return n<0&&(n=e.length),e.slice(r+1,n)}o(ice,"getLineAtOffset");function XB(e,t){let r=t;for(;r>0&&/\s/.test(e.charAt(r-1));)r--;return r}o(XB,"rewindToNearestNonWs");function JB(e,t){let r=e.startIndex,n=e.startIndex-e.startPosition.column,i=t.substring(n,r);if(/^\s*$/.test(i))return i}o(JB,"indent");function oce(e,t,r){if(t.startPosition.row<=e.startPosition.row)return!1;let n=JB(e,r),i=JB(t,r);return n!==void 0&&i!==void 0&&n.startsWith(i)}o(oce,"outdented");var la=class extends fb{constructor(r,n,i,s,a,l,c){super(r,n,i);this.startKeywords=s;this.blockNodeType=a;this.emptyStatementType=l;this.curlyBraceLanguage=c}static{o(this,"TreeSitterBasedBlockParser")}isBlockEmpty(r,n){let i=r.text.trim();return this.curlyBraceLanguage&&(i.startsWith("{")&&(i=i.slice(1)),i.endsWith("}")&&(i=i.slice(0,-1)),i=i.trim()),!!(i.length==0||this.languageId=="python"&&(r.parent?.type=="class_definition"||r.parent?.type=="function_definition")&&r.children.length==1&&YD(r.parent))}async isEmptyBlockStart(r,n){if(n>r.length)throw new RangeError("Invalid offset");for(let s=n;s<r.length&&r.charAt(s)!=`
`;s++)if(/\S/.test(r.charAt(s)))return!1;n=XB(r,n);let i=await mu(this.languageId,r);try{let s=i.rootNode.descendantForIndex(n-1);if(s==null||this.curlyBraceLanguage&&s.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&s.parent&&s.parent.type=="object"&&s.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let f=s;for(;f.parent;){if(f.type=="function_signature"||f.type=="method_signature"){let d=s.nextSibling;return d&&f.hasError()&&oce(f,d,r)?!0:!f.children.find(p=>p.type==";")&&f.endIndex<=n}f=f.parent}}let a=null,l=null,c=null,u=s;for(;u!=null;){if(u.type==this.blockNodeType){l=u;break}if(this.nodeMatch[u.type]){c=u;break}if(u.type=="ERROR"){a=u;break}u=u.parent}if(l!=null){if(!l.parent||!this.nodeMatch[l.parent.type])return!1;if(this.languageId=="python"){let f=l.previousSibling;if(f!=null&&f.hasError()&&(f.text.startsWith('"""')||f.text.startsWith("'''")))return!0}return this.isBlockEmpty(l,n)}if(a!=null){if(a.previousSibling?.type=="module"||a.previousSibling?.type=="internal_module"||a.previousSibling?.type=="def")return!0;let f=[...a.children].reverse(),d=f.find(p=>this.startKeywords.includes(p.type)),m=f.find(p=>p.type==this.blockNodeType);if(d){switch(this.languageId){case"python":{d.type=="try"&&s.type=="identifier"&&s.text.length>4&&(m=f.find(h=>h.hasError())?.children.find(h=>h.type=="block"));let p,g=0;for(let h of a.children){if(h.type==":"&&g==0){p=h;break}h.type=="("&&(g+=1),h.type==")"&&(g-=1)}if(p&&d.endIndex<=p.startIndex&&p.nextSibling){if(d.type=="def"){let h=p.nextSibling;if(h.type=='"'||h.type=="'"||h.type=="ERROR"&&(h.text=='"""'||h.text=="'''"))return!0}return!1}break}case"javascript":{let p=f.find(b=>b.type=="formal_parameters");if(d.type=="class"&&p)return!0;let g=f.find(b=>b.type=="{");if(g&&g.startIndex>d.endIndex&&g.nextSibling!=null||f.find(b=>b.type=="do")&&d.type=="while"||d.type=="=>"&&d.nextSibling&&d.nextSibling.type!="{")return!1;break}case"typescript":{let p=f.find(h=>h.type=="{");if(p&&p.startIndex>d.endIndex&&p.nextSibling!=null||f.find(h=>h.type=="do")&&d.type=="while"||d.type=="=>"&&d.nextSibling&&d.nextSibling.type!="{")return!1;break}}return m&&m.startIndex>d.endIndex?this.isBlockEmpty(m,n):!0}}if(c!=null){let f=this.nodeMatch[c.type],d=c.children.slice().reverse().find(m=>m.type==f);if(d)return this.isBlockEmpty(d,n);if(this.nodeTypesWithBlockOrStmtChild.has(c.type)){let m=this.nodeTypesWithBlockOrStmtChild.get(c.type),p=m==""?c.children[0]:c.childForFieldName(m);if(p&&p.type!=this.blockNodeType&&p.type!=this.emptyStatementType)return!1}return!0}return!1}finally{i.delete()}}},sce={python:new la("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new la("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new la("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new la("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new db("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new db("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map),c_sharp:new la("csharp",{},new Map([]),[],"block",null,!0),java:new la("java",{},new Map([]),[],"block",null,!0),php:new la("php",{},new Map([]),[],"block",null,!0),cpp:new la("cpp",{},new Map([]),[],"block",null,!0)};function ZB(e){if(!w0(e))throw new Error(`Language ${e} is not supported`);return sce[U5(e)]}o(ZB,"getBlockParser");async function QB(e,t,r){return w0(e)?ZB(e).isEmptyBlockStart(t,r):!1}o(QB,"isEmptyBlockStart");async function ej(e,t,r,n){if(w0(e))return ZB(e).isBlockBodyFinished(t,r,n)}o(ej,"isBlockBodyFinished");var FKe=new wt("parseBlock");function tj(e,t,r,n){let i=t.getText(wi.range(wi.position(0,0),r))+(n?`
`:""),s=t.offsetAt(r)+(n?1:0),a=t.detectedLanguageId;return l=>ej(a,i,l,s)}o(tj,"parsingBlockFinished");function pb(e,t){return QB(e.detectedLanguageId,e.getText(),e.offsetAt(t))}o(pb,"isEmptyBlockStartUtil");var ace=["\\{","\\}","\\[","\\]","\\(","\\)"].concat(["then","else","elseif","elif","catch","finally","fi","done","end","loop","until","where","when"].map(e=>e+"\\b")),lce=new RegExp(`^(${ace.join("|")})`);function cce(e){return lce.test(e.trimLeft().toLowerCase())}o(cce,"isContinuationLine");function mb(e){let t=/^(\s*)([^]*)$/.exec(e);if(t&&t[2]&&t[2].length>0)return t[1].length}o(mb,"indentationOfLine");function YE(e,t){let r=e.getText(),n=e.offsetAt(t);return JE(r,n,e.detectedLanguageId)}o(YE,"contextIndentation");function JE(e,t,r){let n=e.slice(0,t).split(`
`),i=e.slice(t).split(`
`);function s(f,d,m){let p=d,g,h;for(;g===void 0&&p>=0&&p<f.length;)g=mb(f[p]),h=p,p+=m;if(r==="python"&&m===-1){p++;let b=f[p].trim();if(b.endsWith('"""')){if(!(b.startsWith('"""')&&b!=='"""'))for(p--;p>=0&&!f[p].trim().startsWith('"""');)p--;if(p>=0)for(g=void 0,p--;g===void 0&&p>=0;)g=mb(f[p]),h=p,p--}}return[g,h]}o(s,"seekNonBlank");let[a,l]=s(n,n.length-1,-1),c=(()=>{if(!(a===void 0||l===void 0))for(let f=l-1;f>=0;f--){let d=mb(n[f]);if(d!==void 0&&d<a)return d}})(),[u]=s(i,1,1);return{prev:c,current:a??0,next:u}}o(JE,"contextIndentationFromText");var uce=!1;function fce(e,t,r){let n=e.split(`
`),i=r!==void 0,s=r?.split(`
`).pop(),a=0;if(i&&s?.trim()!=""&&n[0].trim()!==""&&a++,!i&&uce&&n[0].trim()===""&&a++,i||a++,n.length===a)return"continue";let l=Math.max(t.current,t.next??0);for(let c=a;c<n.length;c++){let u=n[c];c==0&&s!==void 0&&(u=s+u);let f=mb(u);if(f!==void 0&&(f<l||f===l&&!cce(u)))return n.slice(0,c).join(`
`).length}return"continue"}o(fce,"completionCutOrContinue");function rj(e,t){return async r=>{let n=fce(r,e,t);return n==="continue"?void 0:n}}o(rj,"indentationBlockFinished");function nj(e,t){return{...j5,useSubsetMatching:XE(e,t)}}o(nj,"getCppSimilarFilesOptions");function ij(e){return j5.maxTopSnippets}o(ij,"getCppNumberOfSnippets");var dce=new Map([["cpp",nj]]);function gb(e,t,r){let n=dce.get(r);return n?n(e,t):{...Q1,useSubsetMatching:XE(e,t)}}o(gb,"getSimilarFilesOptions");var mce=new Map([["cpp",ij]]);function oj(e,t){let r=mce.get(t);return r?r(e):XD}o(oj,"getNumberOfSnippets");function XE(e,t){return(t.filtersAndExp.exp.variables.copilotsubsetmatching||Ze(e,de.UseSubsetMatching))??!1}o(XE,"useSubsetMatching");var pce=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function gce(e){return pce.has(e.code??"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}o(gce,"isOomError");function Lc(e,t,r,n=gt){if(!m0(t)){if(t instanceof Error){let i=t;gce(i)?e.get(Br).setWarning("Out of memory"):i.code==="EMFILE"||i.code==="ENFILE"?e.get(Br).setWarning("Too many open files"):i.code==="CopilotPromptLoadFailure"?e.get(Br).setWarning("Corrupted Copilot installation"):`${i.code}`.startsWith("CopilotPromptWorkerExit")?e.get(Br).setWarning("Worker unexpectedly exited"):i.syscall==="uv_cwd"&&i.code==="ENOENT"&&e.get(Br).setWarning("Current working directory does not exist")}n.exception(e,t,r)}}o(Lc,"handleException");var hce="content_excluded";async function sj(e,t,r,n){let i=cb(r,"CodeSnippet");if(i.length===0)return[];let s=new Set,a=i.flatMap(f=>f.data.map(d=>(s.add(d.uri),d.additionalUris?.forEach(m=>s.add(m)),{providerId:f.providerId,data:d}))),l=e.get(Gt),c=new Map;await Promise.all(Array.from(s).map(async f=>{c.set(f,await l.getTextDocumentValidation({uri:f}))}));let u=e.get(Bi).getStatisticsForCompletion(t);return a.filter(f=>{let m=[f.data.uri,...f.data.additionalUris??[]].every(p=>c.get(p)?.status==="valid");return m?u.addExpectations(f.providerId,[[f.data,"included"]]):u.addExpectations(f.providerId,[[f.data,hce]]),m}).map(f=>f.data)}o(sj,"getCodeSnippetsFromContextItems");function aj(e,t){let r=e.get(Gt);return t.map(n=>({snippet:n,relativePath:r.getRelativePath(n)}))}o(aj,"addRelativePathToCodeSnippets");function Mn(e){if(e.children)return Array.isArray(e.children)?e.children.join(""):e.children}o(Mn,"Text");function Fc(e){if(e.children)return Array.isArray(e.children)?e.children.join(""):e.children}o(Fc,"Code");function Zm(e){return e.children}o(Zm,"Chunk");function qe(e,t,r){let n=[];Array.isArray(t.children)?n=t.children:t.children&&(n=[t.children]);let i={...t,children:n};return r&&(i.key=r),{type:e,props:i}}o(qe,"functionComponentFunction");function a0(e){return{type:"f",children:e}}o(a0,"fragmentFunction");a0.isFragmentFunction=!0;var hb=o((e,t)=>{let[r,n]=t.useState(),[i,s]=t.useState();if(t.useData(Pi,u=>{u.codeSnippets!==r&&n(u.codeSnippets),u.document.uri!==i?.uri&&s(u.document)}),!r||r.length===0||!i)return;let a=aj(e.ctx,r),l=new Map;for(let u of a){let f=u.relativePath??u.snippet.uri,d=l.get(f);d===void 0&&(d=[],l.set(f,d)),d.push(u)}let c=[];for(let[u,f]of l.entries()){let d=f.filter(m=>m.snippet.value.length>0);d.length>0&&c.push({chunkElements:d.map(m=>m.snippet),importance:Math.max(...d.map(m=>m.snippet.importance??0)),uri:u})}if(c.length!==0)return c.sort((u,f)=>f.importance-u.importance),c.reverse(),c.map(u=>{let f=[];return f.push(qe(Mn,{expElidableTextWeight:1,children:`Compare ${u.chunkElements.length>1?"these snippets":"this snippet"} from ${u.uri}:`})),u.chunkElements.forEach((d,m)=>{f.push(qe(Fc,{source:d,expElidableTextWeight:.99,children:d.value},d.id)),u.chunkElements.length>1&&m<u.chunkElements.length-1&&f.push(qe(Mn,{expElidableTextWeight:.5,children:"---"}))}),qe(Zm,{children:f})})},"CodeSnippets");function ZE(e){return e.children}o(ZE,"CompletionsContext");function QE(e){return e.children}o(QE,"StableCompletionsContext");function eC(e){return e.children}o(eC,"AdditionalCompletionsContext");function xb(e){return e.name===ZE.name||e.name===QE.name||e.name===eC.name}o(xb,"isContextNode");var lj=class e{static{o(this,"Node")}static{this.Undefined=new e(void 0)}constructor(t){this.element=t,this.next=e.Undefined,this.prev=e.Undefined}};var xce=globalThis.performance&&typeof globalThis.performance.now=="function",bb=class e{static{o(this,"StopWatch")}static create(t){return new e(t)}constructor(t){this._now=xce&&t===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};var cj=!1,bce=!1,Xg;(N=>{N.None=o(()=>mo.None,"None");function t(T){if(bce){let{onDidAddListener:E}=T,D=Jg.create(),S=0;T.onDidAddListener=()=>{++S===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),D.print()),E?.()}}}o(t,"_addLeakageTraceLogic");function r(T,E){return p(T,()=>{},0,void 0,!0,void 0,E)}N.defer=r,o(r,"defer");function n(T){return(E,D=null,S)=>{let A=!1,k;return k=T(O=>{if(!A)return k?k.dispose():A=!0,E.call(D,O)},null,S),A&&k.dispose(),k}}N.once=n,o(n,"once");function i(T,E){return N.once(N.filter(T,E))}N.onceIf=i,o(i,"onceIf");function s(T,E,D){return d((S,A=null,k)=>T(O=>S.call(A,E(O)),null,k),D)}N.map=s,o(s,"map");function a(T,E,D){return d((S,A=null,k)=>T(O=>{E(O),S.call(A,O)},null,k),D)}N.forEach=a,o(a,"forEach");function l(T,E,D){return d((S,A=null,k)=>T(O=>E(O)&&S.call(A,O),null,k),D)}N.filter=l,o(l,"filter");function c(T){return T}N.signal=c,o(c,"signal");function u(...T){return(E,D=null,S)=>{let A=DU(...T.map(k=>k(O=>E.call(D,O))));return m(A,S)}}N.any=u,o(u,"any");function f(T,E,D,S){let A=D;return s(T,k=>(A=E(A,k),A),S)}N.reduce=f,o(f,"reduce");function d(T,E){let D,S={onWillAddFirstListener(){D=T(A.fire,A)},onDidRemoveLastListener(){D?.dispose()}};E||t(S);let A=new l0(S);return E?.add(A),A.event}o(d,"snapshot");function m(T,E){return E instanceof Array?E.push(T):E&&E.add(T),T}o(m,"addAndReturnDisposable");function p(T,E,D=100,S=!1,A=!1,k,O){let M,G,se,ye=0,xe,Ue={leakWarningThreshold:k,onWillAddFirstListener(){M=T(Ve=>{ye++,G=E(G,Ve),S&&!se&&(He.fire(G),G=void 0),xe=o(()=>{let Qe=G;G=void 0,se=void 0,(!S||ye>1)&&He.fire(Qe),ye=0},"doFire"),typeof D=="number"?(clearTimeout(se),se=setTimeout(xe,D)):se===void 0&&(se=0,queueMicrotask(xe))})},onWillRemoveListener(){A&&ye>0&&xe?.()},onDidRemoveLastListener(){xe=void 0,M.dispose()}};O||t(Ue);let He=new l0(Ue);return O?.add(He),He.event}N.debounce=p,o(p,"debounce");function g(T,E=0,D){return N.debounce(T,(S,A)=>S?(S.push(A),S):[A],E,void 0,!0,void 0,D)}N.accumulate=g,o(g,"accumulate");function h(T,E=(S,A)=>S===A,D){let S=!0,A;return l(T,k=>{let O=S||!E(k,A);return S=!1,A=k,O},D)}N.latch=h,o(h,"latch");function b(T,E,D){return[N.filter(T,E,D),N.filter(T,S=>!E(S),D)]}N.split=b,o(b,"split");function x(T,E=!1,D=[],S){let A=D.slice(),k=T(G=>{A?A.push(G):M.fire(G)});S&&S.add(k);let O=o(()=>{A?.forEach(G=>M.fire(G)),A=null},"flush"),M=new l0({onWillAddFirstListener(){k||(k=T(G=>M.fire(G)),S&&S.add(k))},onDidAddFirstListener(){A&&(E?setTimeout(O):O())},onDidRemoveLastListener(){k&&k.dispose(),k=null}});return S&&S.add(M),M.event}N.buffer=x,o(x,"buffer");function _(T,E){return o((S,A,k)=>{let O=E(new v);return T(function(M){let G=O.evaluate(M);G!==y&&S.call(A,G)},void 0,k)},"fn")}N.chain=_,o(_,"chain");let y=Symbol("HaltChainable");class v{constructor(){this.steps=[]}static{o(this,"ChainableSynthesis")}map(E){return this.steps.push(E),this}forEach(E){return this.steps.push(D=>(E(D),D)),this}filter(E){return this.steps.push(D=>E(D)?D:y),this}reduce(E,D){let S=D;return this.steps.push(A=>(S=E(S,A),S)),this}latch(E=(D,S)=>D===S){let D=!0,S;return this.steps.push(A=>{let k=D||!E(A,S);return D=!1,S=A,k?A:y}),this}evaluate(E){for(let D of this.steps)if(E=D(E),E===y)break;return E}}function I(T,E,D=S=>S){let S=o((...M)=>O.fire(D(...M)),"fn"),A=o(()=>T.on(E,S),"onFirstListenerAdd"),k=o(()=>T.removeListener(E,S),"onLastListenerRemove"),O=new l0({onWillAddFirstListener:A,onDidRemoveLastListener:k});return O.event}N.fromNodeEventEmitter=I,o(I,"fromNodeEventEmitter");function R(T,E,D=S=>S){let S=o((...M)=>O.fire(D(...M)),"fn"),A=o(()=>T.addEventListener(E,S),"onFirstListenerAdd"),k=o(()=>T.removeEventListener(E,S),"onLastListenerRemove"),O=new l0({onWillAddFirstListener:A,onDidRemoveLastListener:k});return O.event}N.fromDOMEventEmitter=R,o(R,"fromDOMEventEmitter");function z(T,E){return new Promise(D=>n(T)(D,null,E))}N.toPromise=z,o(z,"toPromise");function V(T){let E=new l0;return T.then(D=>{E.fire(D)},()=>{E.fire(void 0)}).finally(()=>{E.dispose()}),E.event}N.fromPromise=V,o(V,"fromPromise");function $(T,E){return T(D=>E.fire(D))}N.forward=$,o($,"forward");function Y(T,E,D){return E(D),T(S=>E(S))}N.runAndSubscribe=Y,o(Y,"runAndSubscribe");class P{constructor(E,D){this._observable=E;this._counter=0;this._hasChanged=!1;let S={onWillAddFirstListener:o(()=>{E.addObserver(this),this._observable.reportChanges()},"onWillAddFirstListener"),onDidRemoveLastListener:o(()=>{E.removeObserver(this)},"onDidRemoveLastListener")};D||t(S),this.emitter=new l0(S),D&&D.add(this.emitter)}static{o(this,"EmitterObserver")}beginUpdate(E){this._counter++}handlePossibleChange(E){}handleChange(E,D){this._hasChanged=!0}endUpdate(E){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function w(T,E){return new P(T,E).emitter.event}N.fromObservable=w,o(w,"fromObservable");function H(T){return(E,D,S)=>{let A=0,k=!1,O={beginUpdate(){A++},endUpdate(){A--,A===0&&(T.reportChanges(),k&&(k=!1,E.call(D)))},handlePossibleChange(){},handleChange(){k=!0}};T.addObserver(O),T.reportChanges();let M={dispose(){T.removeObserver(O)}};return S instanceof o0?S.add(M):Array.isArray(S)&&S.push(M),M}}N.fromObservableLight=H,o(H,"fromObservableLight")})(Xg||={});var tC=class e{constructor(t){this.listenerCount=0;this.invocationCount=0;this.elapsedOverall=0;this.durations=[];this.name=`${t}_${e._idPool++}`,e.all.add(this)}static{o(this,"EventProfiling")}static{this.all=new Set}static{this._idPool=0}start(t){this._stopWatch=new bb,this.listenerCount=t}stop(){if(this._stopWatch){let t=this._stopWatch.elapsed();this.durations.push(t),this.elapsedOverall+=t,this.invocationCount+=1,this._stopWatch=void 0}}},uj=-1;var rC=class e{constructor(t,r,n=(e._idPool++).toString(16).padStart(3,"0")){this._errorHandler=t;this.threshold=r;this.name=n;this._warnCountdown=0}static{o(this,"LeakageMonitor")}static{this._idPool=1}dispose(){this._stacks?.clear()}check(t,r){let n=this.threshold;if(n<=0||r<n)return;this._stacks||(this._stacks=new Map);let i=this._stacks.get(t.value)||0;if(this._stacks.set(t.value,i+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=n*.5;let[s,a]=this.getMostFrequentStack(),l=`[${this.name}] potential listener LEAK detected, having ${r} listeners already. MOST frequent listener (${a}):`;console.warn(l),console.warn(s);let c=new nC(l,s);this._errorHandler(c)}return()=>{let s=this._stacks.get(t.value)||0;this._stacks.set(t.value,s-1)}}getMostFrequentStack(){if(!this._stacks)return;let t,r=0;for(let[n,i]of this._stacks)(!t||r<i)&&(t=[n,i],r=i);return t}},Jg=class e{constructor(t){this.value=t}static{o(this,"Stacktrace")}static create(){let t=new Error;return new e(t.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},nC=class extends Error{static{o(this,"ListenerLeakError")}constructor(t,r){super(t),this.name="ListenerLeakError",this.stack=r}},iC=class extends Error{static{o(this,"ListenerRefusalError")}constructor(t,r){super(t),this.name="ListenerRefusalError",this.stack=r}},_ce=0,Qm=class{constructor(t){this.value=t;this.id=_ce++}static{o(this,"UniqueContainer")}},yce=2,vce=o((e,t)=>{if(e instanceof Qm)t(e);else for(let r=0;r<e.length;r++){let n=e[r];n&&t(n)}},"forEachListener"),l0=class{constructor(t){this._size=0;this._options=t,this._leakageMon=uj>0||this._options?.leakWarningThreshold?new rC(t?.onListenerError??jm,this._options?.leakWarningThreshold??uj):void 0,this._perfMon=this._options?._profName?new tC(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}static{o(this,"Emitter")}dispose(){if(!this._disposed){if(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners){if(cj){let t=this._listeners;queueMicrotask(()=>{vce(t,r=>r.stack?.print())})}this._listeners=void 0,this._size=0}this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose()}}get event(){return this._event??=(t,r,n)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let c=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(c);let u=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],f=new iC(`${c}. HINT: Stack shows most frequent listener (${u[1]}-times)`,u[0]);return(this._options?.onListenerError||jm)(f),mo.None}if(this._disposed)return mo.None;r&&(t=t.bind(r));let i=new Qm(t),s,a;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(i.stack=Jg.create(),s=this._leakageMon.check(i.stack,this._size+1)),cj&&(i.stack=a??Jg.create()),this._listeners?this._listeners instanceof Qm?(this._deliveryQueue??=new oC,this._listeners=[this._listeners,i]):this._listeners.push(i):(this._options?.onWillAddFirstListener?.(this),this._listeners=i,this._options?.onDidAddFirstListener?.(this)),this._options?.onDidAddListener?.(this),this._size++;let l=ra(()=>{s?.(),this._removeListener(i)});return n instanceof o0?n.add(l):Array.isArray(n)&&n.push(l),l},this._event}_removeListener(t){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let r=this._listeners,n=r.indexOf(t);if(n===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,r[n]=void 0;let i=this._deliveryQueue.current===this;if(this._size*yce<=r.length){let s=0;for(let a=0;a<r.length;a++)r[a]?r[s++]=r[a]:i&&s<this._deliveryQueue.end&&(this._deliveryQueue.end--,s<this._deliveryQueue.i&&this._deliveryQueue.i--);r.length=s}}_deliver(t,r){if(!t)return;let n=this._options?.onListenerError||jm;if(!n){t.value(r);return}try{t.value(r)}catch(i){n(i)}}_deliverQueue(t){let r=t.current._listeners;for(;t.i<t.end;)this._deliver(r[t.i++],t.value);t.reset()}fire(t){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof Qm)this._deliver(this._listeners,t);else{let r=this._deliveryQueue;r.enqueue(this,t,this._listeners.length),this._deliverQueue(r)}this._perfMon?.stop()}hasListeners(){return this._size>0}};var oC=class{constructor(){this.i=-1;this.end=0}static{o(this,"EventDeliveryQueuePrivate")}enqueue(t,r,n){this.i=0,this.end=n,this.current=t,this.value=r}reset(){this.i=this.end,this.current=void 0,this.value=void 0}};var fj=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),dj;(n=>{function e(i){return i===n.None||i===n.Cancelled||i instanceof sC?!0:!i||typeof i!="object"?!1:typeof i.isCancellationRequested=="boolean"&&typeof i.onCancellationRequested=="function"}n.isCancellationToken=e,o(e,"isCancellationToken"),n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Xg.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:fj})})(dj||={});var sC=class{constructor(){this._isCancelled=!1;this._emitter=null}static{o(this,"MutableToken")}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?fj:(this._emitter||(this._emitter=new l0),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}};function pj(e){return e}o(pj,"identity");var _b=class{constructor(t,r){this.lastCache=void 0;this.lastArgKey=void 0;typeof t=="function"?(this._fn=t,this._computeKey=pj):(this._fn=r,this._computeKey=t.getCacheKey)}static{o(this,"LRUCachedFunction")}get(t){let r=this._computeKey(t);return this.lastArgKey!==r&&(this.lastArgKey=r,this.lastCache=this._fn(t)),this.lastCache}},yb=class{constructor(t,r){this._map=new Map;this._map2=new Map;typeof t=="function"?(this._fn=t,this._computeKey=pj):(this._fn=r,this._computeKey=t.getCacheKey)}static{o(this,"CachedFunction")}get cachedValues(){return this._map}get(t){let r=this._computeKey(t);if(this._map2.has(r))return this._map2.get(r);let n=this._fn(t);return this._map.set(t,n),this._map2.set(r,n),n}};var Zg=class{constructor(t){this.executor=t;this._didRun=!1}static{o(this,"Lazy")}get hasValue(){return this._didRun}get value(){if(!this._didRun)try{this._value=this.executor()}catch(t){this._error=t}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};function vb(e){return e.split(/\r\n|\r|\n/)}o(vb,"splitLines");function bj(e,t){let r=Math.min(e.length,t.length),n;for(n=0;n<r;n++)if(e.charCodeAt(n)!==t.charCodeAt(n))return n;return r}o(bj,"commonPrefixLength");function _j(e,t){let r=Math.min(e.length,t.length),n,i=e.length-1,s=t.length-1;for(n=0;n<r;n++)if(e.charCodeAt(i-n)!==t.charCodeAt(s-n))return n;return r}o(_j,"commonSuffixLength");var sJe=String.fromCharCode(65279);function yj(e){return e.charAt(0).toUpperCase()+e.slice(1)}o(yj,"uppercaseFirstLetter");var gj=class e{static{o(this,"GraphemeBreakTree")}static{this._INSTANCE=null}static getInstance(){return e._INSTANCE||(e._INSTANCE=new e),e._INSTANCE}constructor(){this._data=Ece()}getGraphemeBreakType(t){if(t<32)return t===10?3:t===13?2:4;if(t<127)return 0;let r=this._data,n=r.length/3,i=1;for(;i<=n;)if(t<r[3*i])i=2*i;else if(t>r[3*i+1])i=2*i+1;else return r[3*i+2];return 0}};function Ece(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}o(Ece,"getGraphemeBreakRawData");var hj=class e{constructor(t){this.confusableDictionary=t}static{o(this,"AmbiguousCharacters")}static{this.ambiguousCharacterData=new Zg(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'))}static{this.cache=new _b({getCacheKey:JSON.stringify},t=>{function r(f){let d=new Map;for(let m=0;m<f.length;m+=2)d.set(f[m],f[m+1]);return d}o(r,"arrayToMap");function n(f,d){let m=new Map(f);for(let[p,g]of d)m.set(p,g);return m}o(n,"mergeMaps");function i(f,d){if(!f)return d;let m=new Map;for(let[p,g]of f)d.has(p)&&m.set(p,g);return m}o(i,"intersectMaps");let s=this.ambiguousCharacterData.value,a=t.filter(f=>!f.startsWith("_")&&f in s);a.length===0&&(a=["_default"]);let l;for(let f of a){let d=r(s[f]);l=i(l,d)}let c=r(s._common),u=n(c,l);return new e(u)})}static getInstance(t){return e.cache.get(Array.from(t))}static{this._locales=new Zg(()=>Object.keys(e.ambiguousCharacterData.value).filter(t=>!t.startsWith("_")))}static getLocales(){return e._locales.value}isAmbiguous(t){return this.confusableDictionary.has(t)}containsAmbiguousCharacter(t){for(let r=0;r<t.length;r++){let n=t.codePointAt(r);if(typeof n=="number"&&this.isAmbiguous(n))return!0}return!1}getPrimaryConfusable(t){return this.confusableDictionary.get(t)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}},xj=class e{static{o(this,"InvisibleCharacters")}static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static{this._data=void 0}static getData(){return this._data||(this._data=new Set(e.getRawData())),this._data}static isInvisibleCharacter(t){return e.getData().has(t)}static containsInvisibleCharacter(t){for(let r=0;r<t.length;r++){let n=t.codePointAt(r);if(typeof n=="number"&&e.isInvisibleCharacter(n))return!0}return!1}static get codePoints(){return e.getData()}};function vj(e,t){if(e.length===0||t.length===0)return{score:e.length+t.length};let r=Array.from({length:e.length}).map(()=>Array.from({length:t.length}).map(()=>0));for(let n=0;n<e.length;n++)r[n][0]=n;for(let n=0;n<t.length;n++)r[0][n]=n;for(let n=0;n<t.length;n++)for(let i=0;i<e.length;i++)r[i][n]=Math.min((i==0?n:r[i-1][n])+1,(n==0?i:r[i][n-1])+1,(i==0||n==0?Math.max(i,n):r[i-1][n-1])+(e[i]==t[n]?0:1));return{score:r[e.length-1][t.length-1]}}o(vj,"findEditDistanceScore");var Tj=50;function aC(e){let t=e*4,r=e*.1;return Math.floor(t+r)}o(aC,"approximateMaxCharacters");function Qg(e,t){let[r,n]=t.useState(),[i,s]=t.useState(),[a,l]=t.useState(0),[c,u]=t.useState(),[f,d]=t.useState();t.useData(Pi,p=>{let g=p.document;(p.document.uri!==r?.uri||g.getText()!==r?.getText())&&n(g),p.position!==i&&s(p.position),p.suffixMatchThreshold!==c&&u(p.suffixMatchThreshold),p.maxPromptTokens!==a&&l(p.maxPromptTokens),p.tokenizer!==f&&d(p.tokenizer)});let m=aC(a);return qe(a0,{children:[qe(Tf,{document:r,position:i,maxCharacters:m}),qe(Tb,{document:r,position:i,suffixMatchThreshold:c,maxCharacters:m,tokenizer:f})]})}o(Qg,"CurrentFile");function Tf(e){if(e.document===void 0||e.position===void 0)return qe(Mn,{});let t=e.document.getText({start:{line:0,character:0},end:e.position});return t.length>e.maxCharacters&&(t=t.slice(-e.maxCharacters)),qe(Fc,{children:t})}o(Tf,"BeforeCursor");function Tb(e,t){let[r,n]=t.useState("");if(e.document===void 0||e.position===void 0)return qe(Mn,{});let i=e.document.getText({start:e.position,end:{line:Number.MAX_VALUE,character:Number.MAX_VALUE}});i.length>e.maxCharacters&&(i=i.slice(0,e.maxCharacters));let s=i.replace(/^.*/,"").trimStart();if(s==="")return qe(Mn,{});if(r===s)return qe(Mn,{children:r});let a=s;if(r!==""){let l=mi(e.tokenizer),c=l.takeFirstTokens(s,Tj);c.tokens.length>0&&100*vj(c.tokens,l.takeFirstTokens(r,Tj).tokens)?.score<(e.suffixMatchThreshold??$5)*c.tokens.length&&(a=r)}return a!==r&&n(a),qe(Mn,{children:a})}o(Tb,"AfterCursor");function Ej(e,t){let[r,n]=t.useState(),[i,s]=t.useState(),[a,l]=t.useState(0);t.useData(Pi,u=>{let f=u.document;(u.document.uri!==r?.uri||f.getText()!==r?.getText())&&n(f),u.position!==i&&s(u.position),u.maxPromptTokens!==a&&l(u.maxPromptTokens)});let c=aC(a);return qe(Tf,{document:r,position:i,maxCharacters:c})}o(Ej,"DocumentPrefix");function Cj(e,t){let[r,n]=t.useState(),[i,s]=t.useState(),[a,l]=t.useState(0),[c,u]=t.useState(),[f,d]=t.useState();t.useData(Pi,p=>{let g=p.document;(p.document.uri!==r?.uri||g.getText()!==r?.getText())&&n(g),p.position!==i&&s(p.position),p.suffixMatchThreshold!==c&&u(p.suffixMatchThreshold),p.maxPromptTokens!==a&&l(p.maxPromptTokens),p.tokenizer!==f&&d(p.tokenizer)});let m=aC(a);return qe(Tb,{document:r,position:i,suffixMatchThreshold:c,maxCharacters:m,tokenizer:f})}o(Cj,"DocumentSuffix");var Cce={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[[({]/,closer:/^[\])}]/},Ice=X1(Cce);function Ij(e){let t=e;return J1(t,Ice),t=U7(t),t=du(t),O5(t),gi(t,r=>{if(r.label==="class"||r.label==="interface")for(let n of r.subs)!Qn(n)&&(n.label===void 0||n.label==="annotation")&&(n.label="member")},"bottomUp"),t}o(Ij,"processJava");var Sce={heading:/^# /,subheading:/^## /,subsubheading:/### /},wce=X1(Sce);function Sj(e){let t=e;if(J1(t,wce),Qn(t))return t;function r(s){if(s.label==="heading")return 1;if(s.label==="subheading")return 2;if(s.label==="subsubheading")return 3}o(r,"headingLevel");let n=[t],i=[...t.subs];t.subs=[];for(let s of i){let a=r(s);if(a===void 0||Qn(s))n[n.length-1].subs.push(s);else{for(;n.length<a;)n.push(n[n.length-1]);for(n[a-1].subs.push(s),n[a]=s;n.length>a+1;)n.pop()}}return t=zD(t),t=du(t),O5(t),t}o(Sj,"processMarkdown");function wj(e){return" ".repeat(e.indentation)+e.sourceLine+`
`}o(wj,"deparseLine");B7("markdown",Sj);B7("java",Ij);var Pce={worthUp:.9,worthSibling:.88,worthDown:.8};function lC(e,t,r=mi(),n=Pce){let i=fu(e,s=>s?1:void 0);return gi(i,s=>{if(Qn(s))return;let a=s.subs.reduce((l,c)=>Math.max(l,c.label??0),0);s.label=Math.max(s.label??0,a*n.worthUp)},"bottomUp"),gi(i,s=>{if(Qn(s))return;let a=s.subs.map(u=>u.label??0),l=[...a];for(let u=0;u<a.length;u++)a[u]!==0&&(l=l.map((f,d)=>Math.max(f,Math.pow(n.worthSibling,Math.abs(u-d))*a[u])));let c=s.label;c!==void 0&&(l=l.map(u=>Math.max(u,n.worthDown*c))),s.subs.forEach((u,f)=>u.label=l[f])},"topDown"),Rce(i,t,r)}o(lC,"fromTreeWithFocussedLines");function Rce(e,t,r=mi()){let n=M7(e,[],(i,s)=>((i.type==="line"||i.type==="blank")&&s.push(i.type==="line"?[wj(i).trimEnd(),i.label??0]:["",i.label??0]),s),"topDown");return new Mc(n,t,r)}o(Rce,"fromTreeWithValuedLines");function Eb(e,t=!0,r=!0,n,i=mi()){let s=typeof e=="string"?Z1(e):Z1(e.source,e.languageId);du(s);let a=fu(s,l=>t&&l!=="closer");return gi(a,l=>{l.label===void 0&&(l.label=t&&l.label!==!1)},"topDown"),t&&gi(a,l=>{if(l.label){let c=!1;for(let u of[...l.subs].reverse())u.label&&!c?c=!0:u.label=!1}else for(let c of l.subs)c.label=!1;l.subs.length>0&&(l.label=!1)},"topDown"),r&&gi(a,l=>{l.label||=(cu(l)||Qn(l))&&l.lineNumber==0},"topDown"),lC(a,n,i)}o(Eb,"elidableTextForSourceCode");var eh=class e{constructor(t,r,n,i="strict",s){this.text=t;this._value=r;this._cost=n;this.metadata=s;this.markedForRemoval=!1;if(t.includes(`
`)&&i!=="none")throw new Error("LineWithValueAndCost: text contains newline");if(r<0&&i!=="none")throw new Error("LineWithValueAndCost: value is negative");if(n<0&&i!=="none")throw new Error("LineWithValueAndCost: cost is negative");if(i=="strict"&&r>1)throw new Error("Value should normally be between 0 and 1 -- set validation to `loose` to ignore this error")}static{o(this,"LineWithValueAndCost")}get value(){return this._value}get cost(){return this._cost}adjustValue(t){return this._value*=t,this}setValue(t){return this._value=t,this}recost(t=r=>mi().tokenLength(r+`
`)){return this._cost=t(this.text),this}copy(){let t=new e(this.text,this.value,this.cost,"none",this.metadata);return t.markedForRemoval=this.markedForRemoval,t}};var rh="elidableTextChunk",Mc=class e{constructor(t,r,n=mi()){this.metadata=r;this.tokenizer=n;this.lines=[];let i=[];for(let s of t){let a=Array.isArray(s)?s[1]:1,l=Array.isArray(s)?s[0]:s;typeof l=="string"?l.split(`
`).forEach(c=>i.push(new eh(c,a,n.tokenLength(c+`
`),"strict",this.metadata))):l instanceof e?l.lines.forEach(c=>i.push(c.copy().adjustValue(a))):"source"in l&&"languageId"in l&&Eb(l).lines.forEach(c=>i.push(c.copy().adjustValue(a)))}this.lines=i}static{o(this,"ElidableText")}adjust(t){this.lines.forEach(r=>r.adjustValue(t))}recost(t=r=>mi().tokenLength(r+`
`)){this.lines.forEach(r=>r.recost(t))}elide(t,r="[...]",n=!0,i="removeLeastDesirable",s=this.tokenizer,a="topToBottom"){if(s.tokenLength(r+`
`)>t)throw new Error("maxTokens must be larger than the ellipsis length");let{lines:l,totalCost:c,priorityQueue:u,chunksToLinesMap:f}=Ace(this.lines,i);if(c<=t)return Pj(l);Nce(u,a);let d=c;for(;d>t&&u.length>0;){let p=u.shift().originalIndex,g=l[p];if(g.markedForRemoval)continue;d=Lce(l,p,g,f,r,d);let b=n?kce(l,p):"",x=Oce(b,r,g,s);l[p]=x,d-=g.cost,d+=x.cost;let _=p+1;if(_<l.length){let v=l[_];th(v,r)&&(d-=v.cost,v.markedForRemoval=!0)}let y=p-1;if(y>=0){let v=l[y];th(v,r)&&(d-=v.cost,v.markedForRemoval=!0)}}if(d>t)throw new Error(`Could not elide text to fit into ${t} tokens. Total cost is ${d}.`);let m=l.filter(p=>!p.markedForRemoval);for(let p=m.length-1;p>0;p--)th(m[p],r)&&th(m[p-1],r)&&m.splice(p,1);return Pj(m)}};function Dce(e){return e?.text.match(/^\s*/)?.[0]??""}o(Dce,"getIndentation");function th(e,t){return e?.text.trim()===t.trim()}o(th,"isEllipsis");function Pj(e){return{getText:o(()=>e.map(t=>t.text).join(`
`),"getText"),getLines:o(()=>e,"getLines")}}o(Pj,"produceElidedText");function Ace(e,t){let r=0,n=[],i=new Map;return{lines:e.map((a,l)=>{let c=a.copy();t==="removeLeastBangForBuck"&&c.adjustValue(1/c.cost),r+=c.cost,n.push({originalIndex:l,value:c.value});let u=c.metadata?.get(rh);if(u)for(let f of u)i.has(f)||i.set(f,new Set),i.get(f).add(l);return c}),totalCost:r,priorityQueue:n,chunksToLinesMap:i}}o(Ace,"initializeElisionContext");function Nce(e,t){e.sort((r,n)=>r.value!==n.value?r.value-n.value:t==="bottomToTop"?n.originalIndex-r.originalIndex:r.originalIndex-n.originalIndex)}o(Nce,"sortPriorityQueue");function kce(e,t){let r="";for(let n=t;n>=0;n--){let i=e[n];if(!i.markedForRemoval&&i.text.trim()!==""){r=Dce(i);break}}return r}o(kce,"getClosestIndentation");function Oce(e,t,r,n){let i=e+t;return new eh(i,1/0,n.tokenLength(i+`
`),"loose",r.metadata)}o(Oce,"getNewEllipsis");function Lce(e,t,r,n,i,s){let a=r.metadata?.get(rh);if(a&&a.size>0){let l=new Set;for(let c of a){let u=n.get(c);if(u)for(let f of u)f!==t&&!e[f].markedForRemoval&&l.add(f)}for(let c of l){let u=e[c];if(!th(u,i)&&!u.markedForRemoval){let f=u.metadata?.get(rh);f&&f.size>0&&[...a].every(d=>f.has(d))&&(u.markedForRemoval=!0,s-=u.cost)}}}return s}o(Lce,"handleChunks");function c0(){}o(c0,"Diff");c0.prototype={diff:o(function(t,r){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.callback;typeof i=="function"&&(s=i,i={});var a=this;function l(v){return v=a.postProcess(v,i),s?(setTimeout(function(){s(v)},0),!0):v}o(l,"done"),t=this.castInput(t,i),r=this.castInput(r,i),t=this.removeEmpty(this.tokenize(t,i)),r=this.removeEmpty(this.tokenize(r,i));var c=r.length,u=t.length,f=1,d=c+u;i.maxEditLength!=null&&(d=Math.min(d,i.maxEditLength));var m=(n=i.timeout)!==null&&n!==void 0?n:1/0,p=Date.now()+m,g=[{oldPos:-1,lastComponent:void 0}],h=this.extractCommon(g[0],r,t,0,i);if(g[0].oldPos+1>=u&&h+1>=c)return l(Rj(a,g[0].lastComponent,r,t,a.useLongestToken));var b=-1/0,x=1/0;function _(){for(var v=Math.max(b,-f);v<=Math.min(x,f);v+=2){var I=void 0,R=g[v-1],z=g[v+1];R&&(g[v-1]=void 0);var V=!1;if(z){var $=z.oldPos-v;V=z&&0<=$&&$<c}var Y=R&&R.oldPos+1<u;if(!V&&!Y){g[v]=void 0;continue}if(!Y||V&&R.oldPos<z.oldPos?I=a.addToPath(z,!0,!1,0,i):I=a.addToPath(R,!1,!0,1,i),h=a.extractCommon(I,r,t,v,i),I.oldPos+1>=u&&h+1>=c)return l(Rj(a,I.lastComponent,r,t,a.useLongestToken));g[v]=I,I.oldPos+1>=u&&(x=Math.min(x,v-1)),h+1>=c&&(b=Math.max(b,v+1))}f++}if(o(_,"execEditLength"),s)o(function v(){setTimeout(function(){if(f>d||Date.now()>p)return s();_()||v()},0)},"exec")();else for(;f<=d&&Date.now()<=p;){var y=_();if(y)return y}},"diff"),addToPath:o(function(t,r,n,i,s){var a=t.lastComponent;return a&&!s.oneChangePerToken&&a.added===r&&a.removed===n?{oldPos:t.oldPos+i,lastComponent:{count:a.count+1,added:r,removed:n,previousComponent:a.previousComponent}}:{oldPos:t.oldPos+i,lastComponent:{count:1,added:r,removed:n,previousComponent:a}}},"addToPath"),extractCommon:o(function(t,r,n,i,s){for(var a=r.length,l=n.length,c=t.oldPos,u=c-i,f=0;u+1<a&&c+1<l&&this.equals(n[c+1],r[u+1],s);)u++,c++,f++,s.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return f&&!s.oneChangePerToken&&(t.lastComponent={count:f,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=c,u},"extractCommon"),equals:o(function(t,r,n){return n.comparator?n.comparator(t,r):t===r||n.ignoreCase&&t.toLowerCase()===r.toLowerCase()},"equals"),removeEmpty:o(function(t){for(var r=[],n=0;n<t.length;n++)t[n]&&r.push(t[n]);return r},"removeEmpty"),castInput:o(function(t){return t},"castInput"),tokenize:o(function(t){return Array.from(t)},"tokenize"),join:o(function(t){return t.join("")},"join"),postProcess:o(function(t){return t},"postProcess")};function Rj(e,t,r,n,i){for(var s=[],a;t;)s.push(t),a=t.previousComponent,delete t.previousComponent,t=a;s.reverse();for(var l=0,c=s.length,u=0,f=0;l<c;l++){var d=s[l];if(d.removed)d.value=e.join(n.slice(f,f+d.count)),f+=d.count;else{if(!d.added&&i){var m=r.slice(u,u+d.count);m=m.map(function(p,g){var h=n[f+g];return h.length>p.length?h:p}),d.value=e.join(m)}else d.value=e.join(r.slice(u,u+d.count));u+=d.count,d.added||(f+=d.count)}}return s}o(Rj,"buildValues");var TXe=new c0;function Dj(e,t){var r;for(r=0;r<e.length&&r<t.length;r++)if(e[r]!=t[r])return e.slice(0,r);return e.slice(0,r)}o(Dj,"longestCommonPrefix");function Aj(e,t){var r;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(r=0;r<e.length&&r<t.length;r++)if(e[e.length-(r+1)]!=t[t.length-(r+1)])return e.slice(-r);return e.slice(-r)}o(Aj,"longestCommonSuffix");function cC(e,t,r){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return r+e.slice(t.length)}o(cC,"replacePrefix");function uC(e,t,r){if(!t)return e+r;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+r}o(uC,"replaceSuffix");function nh(e,t){return cC(e,t,"")}o(nh,"removePrefix");function Cb(e,t){return uC(e,t,"")}o(Cb,"removeSuffix");function Nj(e,t){return t.slice(0,Fce(e,t))}o(Nj,"maximumOverlap");function Fce(e,t){var r=0;e.length>t.length&&(r=e.length-t.length);var n=t.length;e.length<t.length&&(n=e.length);var i=Array(n),s=0;i[0]=0;for(var a=1;a<n;a++){for(t[a]==t[s]?i[a]=i[s]:i[a]=s;s>0&&t[a]!=t[s];)s=i[s];t[a]==t[s]&&s++}s=0;for(var l=r;l<e.length;l++){for(;s>0&&e[l]!=t[s];)s=i[s];e[l]==t[s]&&s++}return s}o(Fce,"overlapCount");var Ib="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",Mce=new RegExp("[".concat(Ib,"]+|\\s+|[^").concat(Ib,"]"),"ug"),Sb=new c0;Sb.equals=function(e,t,r){return r.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()};Sb.tokenize=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r;if(t.intlSegmenter){if(t.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');r=Array.from(t.intlSegmenter.segment(e),function(s){return s.segment})}else r=e.match(Mce)||[];var n=[],i=null;return r.forEach(function(s){/\s/.test(s)?i==null?n.push(s):n.push(n.pop()+s):/\s/.test(i)?n[n.length-1]==i?n.push(n.pop()+s):n.push(i+s):n.push(s),i=s}),n};Sb.join=function(e){return e.map(function(t,r){return r==0?t:t.replace(/^\s+/,"")}).join("")};Sb.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var r=null,n=null,i=null;return e.forEach(function(s){s.added?n=s:s.removed?i=s:((n||i)&&kj(r,i,n,s),r=s,n=null,i=null)}),(n||i)&&kj(r,i,n,null),e};function kj(e,t,r,n){if(t&&r){var i=t.value.match(/^\s*/)[0],s=t.value.match(/\s*$/)[0],a=r.value.match(/^\s*/)[0],l=r.value.match(/\s*$/)[0];if(e){var c=Dj(i,a);e.value=uC(e.value,a,c),t.value=nh(t.value,c),r.value=nh(r.value,c)}if(n){var u=Aj(s,l);n.value=cC(n.value,l,u),t.value=Cb(t.value,u),r.value=Cb(r.value,u)}}else if(r)e&&(r.value=r.value.replace(/^\s*/,"")),n&&(n.value=n.value.replace(/^\s*/,""));else if(e&&n){var f=n.value.match(/^\s*/)[0],d=t.value.match(/^\s*/)[0],m=t.value.match(/\s*$/)[0],p=Dj(f,d);t.value=nh(t.value,p);var g=Aj(nh(f,p),m);t.value=Cb(t.value,g),n.value=cC(n.value,f,g),e.value=uC(e.value,f,f.slice(0,f.length-g.length))}else if(n){var h=n.value.match(/^\s*/)[0],b=t.value.match(/\s*$/)[0],x=Nj(b,h);t.value=Cb(t.value,x)}else if(e){var _=e.value.match(/\s*$/)[0],y=t.value.match(/^\s*/)[0],v=Nj(_,y);t.value=nh(t.value,v)}}o(kj,"dedupeWhitespaceInChangeObjects");var Uce=new c0;Uce.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(Ib,"]+|[^\\S\\n\\r]+|[^").concat(Ib,"]"),"ug");return e.match(t)||[]};var pC=new c0;pC.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var r=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var i=0;i<n.length;i++){var s=n[i];i%2&&!t.newlineIsToken?r[r.length-1]+=s:r.push(s)}return r};pC.equals=function(e,t,r){return r.ignoreWhitespace?((!r.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!r.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):r.ignoreNewlineAtEof&&!r.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),c0.prototype.equals.call(this,e,t,r)};var Bce=new c0;Bce.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var jce=new c0;jce.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function fC(e){"@babel/helpers - typeof";return fC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fC(e)}o(fC,"_typeof");var ih=new c0;ih.useLongestToken=!0;ih.tokenize=pC.tokenize;ih.castInput=function(e,t){var r=t.undefinedReplacement,n=t.stringifyReplacer,i=n===void 0?function(s,a){return typeof a>"u"?r:a}:n;return typeof e=="string"?e:JSON.stringify(dC(e,null,null,i),i,"  ")};ih.equals=function(e,t,r){return c0.prototype.equals.call(ih,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),r)};function dC(e,t,r,n,i){t=t||[],r=r||[],n&&(e=n(i,e));var s;for(s=0;s<t.length;s+=1)if(t[s]===e)return r[s];var a;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),a=new Array(e.length),r.push(a),s=0;s<e.length;s+=1)a[s]=dC(e[s],t,r,n,i);return t.pop(),r.pop(),a}if(e&&e.toJSON&&(e=e.toJSON()),fC(e)==="object"&&e!==null){t.push(e),a={},r.push(a);var l=[],c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&l.push(c);for(l.sort(),s=0;s<l.length;s+=1)c=l[s],a[c]=dC(e[c],t,r,n,c);t.pop(),r.pop()}else a=e;return a}o(dC,"canonicalize");var mC=new c0;mC.tokenize=function(e){return e.slice()};mC.join=mC.removeEmpty=function(e){return e};var wb=class{static{o(this,"WishlistElision")}elide(t,r,n,i,s){if(r<=0)throw new Error("Prefix limit must be greater than 0");let[a,l]=this.preparePrefixBlocks(t,s),{elidedSuffix:c,adjustedPrefixTokenLimit:u}=this.elideSuffix(n,i,r,l,s),f=this.elidePrefix(a,u,l,s);return{blocks:[c,...f],cycles:1}}preparePrefixBlocks(t,r){let n=0,i=new Set;return[t.map((a,l)=>{let c=0,f=a.value.split(/([^\n]*\n+)/).filter(m=>m!=="").map(m=>{let p=r.tokenLength(m);return c+=p,n+=p,{line:m,componentPath:a.componentPath,tokens:p}}),d=a.componentPath;if(i.has(d))throw new Error(`Duplicate component path in prefix blocks: ${d}`);return i.add(d),{...a,tokens:c,markedForRemoval:!1,originalIndex:l,lines:f}}),n]}elideSuffix(t,r,n,i,s){let a=t.value;if(a.length===0||r<=0)return{elidedSuffix:{...t,tokens:0,elidedValue:"",elidedTokens:0},adjustedPrefixTokenLimit:n+Math.max(0,r)};i<n&&(r=r+(n-i),n=i);let l=s.takeFirstTokens(a,r);return{elidedSuffix:{...t,value:a,tokens:s.tokenLength(a),elidedValue:l.text,elidedTokens:l.tokens.length},adjustedPrefixTokenLimit:n+Math.max(0,r-l.tokens.length)}}elidePrefix(t,r,n,i){let s=this.removeLowWeightPrefixBlocks(t,r,n),a=s.filter(f=>!f.markedForRemoval).flatMap(f=>f.lines);if(a.length===0)return[];let[l,c]=this.trimPrefixLinesToFit(a,r,i),u=c;return s.map(f=>{if(f.markedForRemoval)return u+f.tokens<=r&&!f.chunks?(u+=f.tokens,{...f,elidedValue:f.value,elidedTokens:f.tokens}):{...f,elidedValue:"",elidedTokens:0};let d=l.filter(p=>p.componentPath===f.componentPath&&p.line!=="").map(p=>p.line).join(""),m=f.tokens;return d!==f.value&&(m=d!==""?i.tokenLength(d):0),{...f,elidedValue:d,elidedTokens:m}})}removeLowWeightPrefixBlocks(t,r,n){let i=n;t.sort((s,a)=>s.weight-a.weight);for(let s of t){if(i<=r)break;if(s.weight!==1&&!(s.chunks&&s.markedForRemoval))if(s.chunks&&s.chunks.size>0)for(let a of t)!a.markedForRemoval&&a.chunks&&[...s.chunks].every(l=>a.chunks?.has(l))&&(a.markedForRemoval=!0,i-=a.tokens);else s.markedForRemoval=!0,i-=s.tokens}return t.sort((s,a)=>s.originalIndex-a.originalIndex)}trimPrefixLinesToFit(t,r,n){let i=0,s=[];for(let a=t.length-1;a>=0;a--){let l=t[a],c=l.tokens;if(i+c<=r)s.unshift(l),i+=c;else break}if(s.length===0){let a=t[t.length-1];if(a&&a.line.length>0){let c=n.takeLastTokens(a.line,r);return s.push({line:c.text,componentPath:a.componentPath,tokens:c.tokens.length}),[s,c.tokens.length]}let l=`Cannot fit prefix within limit of ${r} tokens`;throw new Error(l)}return[s,i]}};function gC(e){return e.map(t=>t.elidedValue).join("")}o(gC,"makePrompt");function Lj(e){return e.filter(t=>t.type==="prefix").map(t=>t.elidedValue).join("")}o(Lj,"makePrefixPrompt");function Fj(e){if(e.length===0)return[];let t=new Map;for(let i of e)if(i.type==="context"&&i.index!==void 0){t.has(i.index)||t.set(i.index,[]);let s=i.elidedValue.trim();s.length>0&&t.get(i.index).push(s)}let r=Math.max(...Array.from(t.keys()),-1),n=[];for(let i=0;i<=r;i++){let s=t.get(i);if(s&&s.length>0){let a=s.join(`
`).trim();n.push(a)}else n.push("")}return n}o(Fj,"makeContextPrompt");var Pb=class{constructor(t="[...]",r=`
`,n=!1,i=60){this.ellipsis=t;this.delimiter=r;this.turnOffChunks=n;this.keepLinesBeforeCursor=i}static{o(this,"ElidableTextElision")}elide(t,r,n,i,s){let a;if(n.value.length===0||i<=s.tokenLength(this.ellipsis))a=[],r=r+Math.max(0,i);else{let p=Oj([n],s).elide(i,this.ellipsis,!0,"removeLeastDesirable",s,"bottomToTop");r=r+Math.max(0,i-s.tokenLength(p.getText())),a=p.getLines()}let c=Oj(t.map(m=>this.turnOffChunks?{...m,chunks:void 0}:m),s,this.keepLinesBeforeCursor).elide(r),u=r-s.tokenLength(c.getText()),f=[...c.getLines(),...a],d=[n,...t];return{cycles:1,blocks:d.map((m,p)=>{let g=f.filter(h=>h.metadata?.get("componentPath")===m.componentPath);if(g.length===0)return{...m,tokens:s.tokenLength(m.value),elidedValue:"",elidedTokens:0};{let h=g.map(b=>b.text).join(this.delimiter);return p===d.length-1&&u>0&&h.trim()===this.ellipsis?h=this.ellipsis+this.delimiter+s.takeLastTokens(m.value,u-s.tokenLength(this.ellipsis+this.delimiter)).text:p!==0&&p!==d.length-1&&(h=h.endsWith(this.delimiter)?h:h+this.delimiter),{...m,tokens:s.tokenLength(m.value),elidedValue:h,elidedTokens:s.tokenLength(h)}}})}}},Mj=(r=>(r.componentPath="componentPath",r[r.chunk=rh]="chunk",r))(Mj||{});function Oj(e,t,r=0){let n=new Mc(e.map(i=>{let s=new Map([["componentPath",i.componentPath],[Mj.chunk,i.chunks]]);return i.isCode?new Mc([[Eb(i.value,!0,!0,s,t),i.expElidableTextWeight]]):new Mc([[i.value,i.expElidableTextWeight]],s,t)}),void 0,t);return r>0&&n.lines.forEach((i,s)=>{s+1>=n.lines.length-r&&i.setValue(1)}),n}o(Oj,"prepareWeightedBlocks");var Rb=class{constructor(t,r="o200k_base",n){this.delegate=t;this.approximateTokenizer=new h5(r,n)}static{o(this,"ApproximateElision")}elide(t,r,n,i,s){let{blocks:[a,...l]}=this.delegate.elide(t,r,n,i,this.approximateTokenizer),c=gC(l);if(s.tokenLength(c+a.elidedValue)>r+i){let{blocks:f}=this.delegate.elide(t,r,n,i,s);return{blocks:f,cycles:2}}else return{blocks:[a,...l],cycles:1}}};var e1=class{constructor(t,r=hC()){this.snapshot=t;this.transformers=r}static{o(this,"SnapshotWalker")}walkSnapshot(t){this.walkSnapshotNode(this.snapshot,void 0,t,{})}walkSnapshotNode(t,r,n,i){let s=this.transformers.reduce((l,c)=>c(t,r,l),{...i});if(n(t,r,s))for(let l of t.children??[])this.walkSnapshotNode(l,t,n,s)}};function hC(){return[(e,t,r)=>{r.weight===void 0&&(r.weight=1);let n=e.props?.weight??1,i=typeof n=="number"?Math.max(0,Math.min(1,n)):1;return{...r,weight:i*r.weight}},(e,t,r)=>{r.expElidableTextWeight===void 0&&(r.expElidableTextWeight=1);let n=e.props?.expElidableTextWeight??1,i=typeof n=="number"?Math.max(0,Math.min(1,n)):1;return{...r,expElidableTextWeight:i*r.expElidableTextWeight}},(e,t,r)=>{if(e.name===Zm.name){let n=r.chunks?new Set(r.chunks):new Set;return n.add(e.path),{...r,chunks:n}}return r},(e,t,r)=>e.props?.source!==void 0?{...r,source:e.props.source}:r,(e,t,r)=>e.name===Fc.name?{...r,isCode:!0}:r]}o(hC,"defaultTransformers");var xC={abap:{lineComment:{start:'"',end:""},markdownLanguageIds:["abap","sap-abap"]},aspdotnet:{lineComment:{start:"<%--",end:"--%>"}},bat:{lineComment:{start:"REM",end:""}},bibtex:{lineComment:{start:"%",end:""},markdownLanguageIds:["bibtex"]},blade:{lineComment:{start:"#",end:""}},BluespecSystemVerilog:{lineComment:{start:"//",end:""}},c:{lineComment:{start:"//",end:""},markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";",end:""},markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["coffeescript","coffee","cson","iced"]},cpp:{lineComment:{start:"//",end:""},markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"]},csharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["csharp","cs"]},css:{lineComment:{start:"/*",end:"*/"}},cuda:{lineComment:{start:"//",end:""}},dart:{lineComment:{start:"//",end:""}},dockerfile:{lineComment:{start:"#",end:""},markdownLanguageIds:["dockerfile","docker"]},dotenv:{lineComment:{start:"#",end:""}},elixir:{lineComment:{start:"#",end:""}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%",end:""},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"]},go:{lineComment:{start:"//",end:""},markdownLanguageIds:["go","golang"]},graphql:{lineComment:{start:"#",end:""}},groovy:{lineComment:{start:"//",end:""}},haml:{lineComment:{start:"-#",end:""}},handlebars:{lineComment:{start:"{{!",end:"}}"},markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"]},haskell:{lineComment:{start:"--",end:""},markdownLanguageIds:["haskell","hs"]},hlsl:{lineComment:{start:"//",end:""}},html:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["html","xhtml"]},ini:{lineComment:{start:";",end:""}},java:{lineComment:{start:"//",end:""},markdownLanguageIds:["java","jsp"]},javascript:{lineComment:{start:"//",end:""},markdownLanguageIds:["javascript","js"]},javascriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},jsonc:{lineComment:{start:"//",end:""}},jsx:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#",end:""},markdownLanguageIds:["julia","jl"]},kotlin:{lineComment:{start:"//",end:""},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%",end:""},markdownLanguageIds:["tex"]},legend:{lineComment:{start:"//",end:""}},less:{lineComment:{start:"//",end:""}},lua:{lineComment:{start:"--",end:""},markdownLanguageIds:["lua","pluto"]},makefile:{lineComment:{start:"#",end:""},markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"[]: #",end:""},markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec","mm","objc","obj-c"]},"objective-cpp":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#",end:""},markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//",end:""}},powershell:{lineComment:{start:"#",end:""},markdownLanguageIds:["powershell","ps","ps1"]},pug:{lineComment:{start:"//",end:""}},python:{lineComment:{start:"#",end:""},markdownLanguageIds:["python","py","gyp"]},ql:{lineComment:{start:"//",end:""}},r:{lineComment:{start:"#",end:""}},razor:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["cshtml","razor","razor-cshtml"]},ruby:{lineComment:{start:"#",end:""},markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"]},rust:{lineComment:{start:"//",end:""},markdownLanguageIds:["rust","rs"]},sass:{lineComment:{start:"//",end:""}},scala:{lineComment:{start:"//",end:""}},scss:{lineComment:{start:"//",end:""}},shellscript:{lineComment:{start:"#",end:""},markdownLanguageIds:["bash","sh","zsh"]},slang:{lineComment:{start:"//",end:""}},slim:{lineComment:{start:"/",end:""}},solidity:{lineComment:{start:"//",end:""},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--",end:""}},stylus:{lineComment:{start:"//",end:""}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//",end:""}},systemverilog:{lineComment:{start:"//",end:""}},terraform:{lineComment:{start:"#",end:""}},tex:{lineComment:{start:"%",end:""}},typescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["typescript","ts"]},typescriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["tsx"]},vb:{lineComment:{start:"'",end:""},markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//",end:""}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//",end:""}},xml:{lineComment:{start:"<!--",end:"-->"}},xsl:{lineComment:{start:"<!--",end:"-->"}},yaml:{lineComment:{start:"#",end:""},markdownLanguageIds:["yaml","yml"]}},Uj={};for(let[e,t]of Object.entries(xC))if(t.markdownLanguageIds)for(let r of t.markdownLanguageIds)Uj[r]=e;else Uj[e]=e;var Wce={start:"//",end:""},qce=["php","plaintext"],bC={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};function Bj(e){return Object.values(bC).includes(e.trim())}o(Bj,"isShebangLine");function Gce({source:e}){return e.startsWith("#!")||e.startsWith("<!DOCTYPE")}o(Gce,"hasLanguageMarker");function zce(e,t){let r=xC[t]?xC[t].lineComment:Wce;if(r){let n=r.end==""?"":" "+r.end;return`${r.start} ${e}${n}`}return""}o(zce,"comment");function Db(e,t){if(e==="")return"";let r=e.endsWith(`
`),i=(r?e.slice(0,-1):e).split(`
`).map(s=>zce(s,t)).join(`
`);return r?i+`
`:i}o(Db,"commentBlockAsSingles");function jj(e){let{languageId:t}=e;return qce.indexOf(t)===-1&&!Gce(e)?t in bC?bC[t]:`Language: ${t}`:""}o(jj,"getLanguageMarker");function $j(e){return e.relativePath?`Path: ${e.relativePath}`:""}o($j,"getPathMarker");function oh(e){return e===""||e.endsWith(`
`)?e:e+`
`}o(oh,"newLineEnded");var Hce=5,t1=class{constructor(){this.renderId=0;this.formatPrefix=gC}static{o(this,"CompletionsPromptRenderer")}render(t,r,n){let i=this.renderId++,s=performance.now();try{if(n?.isCancellationRequested)return{status:"cancelled"};let a=r.delimiter??"",l=r.tokenizer??"o200k_base",{prefixBlocks:c,suffixBlock:u,componentStatistics:f}=this.processSnapshot(t,a,r.languageId),{prefixTokenLimit:d,suffixTokenLimit:m}=this.getPromptLimits(u,r),p=performance.now(),[g,h]=Kce(r),{blocks:[b,...x],cycles:_}=g.elide(c,d,u,m,mi(l)),y=performance.now(),v=this.formatPrefix(x),I=this.formatContext?this.formatContext(x):void 0,R=b.elidedValue,z=x.reduce(($,Y)=>$+Y.elidedTokens,0),V=z+b.elidedTokens;return f.push(...Vce([...x,b])),{prefix:v,prefixTokens:z,suffix:R,suffixTokens:b.elidedTokens,context:I,tokens:V,status:"ok",metadata:{renderId:i,rendererName:"completions",tokenizer:l,elisionStrategy:h,elisionCycles:_,actualTokens:V,elisionTimeMs:y-p,renderTimeMs:performance.now()-s,componentStatistics:f,updateDataTimeMs:f.reduce(($,Y)=>$+(Y.updateDataTimeMs??0),0),status:"ok"}}}catch(a){return{status:"error",error:a}}}getPromptLimits(t,r){let n=t?.value??"",i=r.promptTokenLimit,s=r.suffixPercent;if(n.length==0||s==0)return{prefixTokenLimit:i,suffixTokenLimit:0};i=n.length>0?i-Hce:i;let a=Math.ceil(i*(s/100));return{prefixTokenLimit:i-a,suffixTokenLimit:a}}processSnapshot(t,r,n){let i=[],s=[],a=[],l=!1;if(new e1(t,_C).walkSnapshot((f,d,m)=>{if(f===t||(f.name===Qg.name&&(l=!0),f.statistics.updateDataTimeMs&&f.statistics.updateDataTimeMs>0&&a.push({componentPath:f.path,updateDataTimeMs:f.statistics.updateDataTimeMs}),f.value===void 0||f.value===""))return!0;let p=m.chunks,g=m.isCode;if(m.type==="suffix")s.push({value:sh(f.value),type:"suffix",weight:m.weight,expElidableTextWeight:m.expElidableTextWeight,componentPath:f.path,nodeStatistics:f.statistics,chunks:p,source:m.source,isCode:g});else{let h=f.value.endsWith(r)?f.value:f.value+r,b=h;m.type==="prefix"?b=f.value:Bj(f.value)?b=h:b=Db(h,n),i.push({type:m.type==="prefix"?"prefix":"context",value:sh(b),weight:m.weight,expElidableTextWeight:m.expElidableTextWeight,componentPath:f.path,nodeStatistics:f.statistics,chunks:p,source:m.source,isCode:g})}return!0}),!l)throw new Error(`Node of type ${Qg.name} not found`);if(s.length>1)throw new Error("Only one suffix is allowed");let u=s.length===1?s[0]:{componentPath:"",value:"",weight:1,expElidableTextWeight:1,nodeStatistics:{},type:"suffix"};return{prefixBlocks:i,suffixBlock:u,componentStatistics:a}}},_C=[...hC(),(e,t,r)=>xb(e)?{...r,type:"context"}:r,(e,t,r)=>e.name===Tf.name?{...r,type:"prefix"}:r,(e,t,r)=>e.name===Tb.name?{...r,type:"suffix"}:r];function Vce(e){return e.map(t=>{let r={componentPath:t.componentPath};return t.tokens!==0&&(r.expectedTokens=t.tokens,r.actualTokens=t.elidedTokens),t.nodeStatistics.updateDataTimeMs!==void 0&&(r.updateDataTimeMs=t.nodeStatistics.updateDataTimeMs),t.source&&(r.source=t.source),r})}o(Vce,"computeComponentStatistics");function sh(e){return e.replace(/\r\n?/g,`
`)}o(sh,"normalizeLineEndings");function Kce(e){let t=e.elisionStrategy,r=e.elisionStrategy==="wishlist"?new wb:new Pb(e.ellipsis,e.delimiter,e.elisionStrategy==="elidableTextWithoutChunks",e.aroundCursorLines);return e.approximateElision?[new Rb(r,e.tokenizer,e.languageId),"approximate"+yj(t)]:[r,t]}o(Kce,"chooseElisionStrategy");var Ab=o((e,t)=>{let[r,n]=t.useState();if(t.useData(Pi,i=>{n(i.telemetryData)}),r&&e.by(e.ctx,r))return e.children},"Gated");var Nb=o((e,t)=>{let[r,n]=t.useState();if(t.useData(Pi,i=>{i.document.uri!==r?.uri&&n(i.document)}),r){let i=e.ctx.get(Gt),s=i.getRelativePath(r),a={uri:r.uri,source:r.getText(),relativePath:s,languageId:r.detectedLanguageId},l=i.findNotebook(r);return a.relativePath&&!l?qe(Yce,{docInfo:a}):qe(Jce,{docInfo:a})}},"DocumentMarker"),Yce=o(e=>qe(Mn,{children:$j(e.docInfo)}),"PathMarker"),Jce=o(e=>qe(Mn,{children:jj(e.docInfo)}),"LanguageMarker");function qj(e){return Object.values(e).flatMap(t=>t.edits).sort((t,r)=>t.timestamp-r.timestamp)}o(qj,"getAllRecentEditsByTimestamp");function Gj(e,t){let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];)r++;let n=e.length-1,i=t.length-1;for(;n>=r&&i>=r&&e[n]===t[i];)n--,i--;return r>n&&r>i?null:{start:r,endPrev:n,endNew:i}}o(Gj,"findChangeSpan");function Xce(e,t,r,n,i,s,a){let l=Math.max(0,n-a),c=Math.min(r.length,s+a+1);return{file:e,pre:l,post:c,before:t.slice(l,n),removed:t.slice(n,i+1),added:r.slice(n,s+1),after:r.slice(s+1,c)}}o(Xce,"getDiff");function Zce(e){return[...e.before,...e.removed,...e.added,...e.after].reduce((r,n)=>r+n.length+1,0)}o(Zce,"measureDiffSize");function Qce(e,t=!1,r=!1,n=!1){let i=[];i.push(`--- a/${e.file}`),i.push(`+++ b/${e.file}`);let s=e.before.length+e.removed.length+e.after.length,a=e.before.length+e.added.length+e.after.length;i.push(`@@ -${e.pre+1},${s} +${e.pre+1},${a} @@`);for(let l of e.before)i.push(" "+l);if(r)for(let l of e.added)i.push("+"+l);if(!t){let l=n?" --- IGNORE ---":"";for(let c of e.removed)i.push("-"+c+l)}if(!r)for(let l of e.added)i.push("+"+l);for(let l of e.after)i.push(" "+l);return i.join(`
`)+`
`}o(Qce,"unifiedDiff");function eue(e,t=!1){let{before:r,removed:n,added:i,after:s}=e,a=[];return a.push(">>>>>>> SEARCH"),a.push(...r),t?a.push("..."):a.push(...n),a.push(...s),a.push("======="),a.push(...r),a.push(...i),a.push(...s),a.push("<<<<<<<<< REPLACE"),a.join(`
`)}o(eue,"aidersDiff");function tue(e,t=!1){let{before:r,removed:n,added:i,after:s}=e,a=t?["..."]:n.map(f=>`${f} --- DO NOT REPLY WITH CODE FROM THIS LINE ---`),l=[...r,...a,...s],c=[...r,...i,...s],u=[];return u.push("--- User edited code: ---"),u.push(...l),a.length===0?u.push(`--- and added ${i.length} line${i.length===1?"":"s"} to make: ---`):i.length===0?u.push(`--- and deleted ${a.length} line${a.length===1?"":"s"} to make: ---`):u.push("--- and replaced it with: ---"),u.push(...c),u.push("--- End of edit ---"),u.join(`
`)}o(tue,"findReplaceDiff");function Wj(e,t){for(let r of t){let n=e.slice(0,r.startLine),i=e.slice(r.endLine+1),s=r.diff.added?r.diff.added:[];e=[...n,...s,...i]}return e}o(Wj,"applyEditsToLines");function rue(e,t,r){let{added:n}=t.diff,i=t.startLine,s=t.startLine+n.length,a=e.startLine,l=e.endLine+1;return a<=s+r&&l>=i-r}o(rue,"editsOverlap");function nue(e,t,r,n,i){let s=[...t];if(s.length>0){let a=s[s.length-1];if(rue(r,a,i.editMergeLineDistance)){let c=Wj(e.split(`
`),s.slice(0,-1)),u=Gj(c,n);u&&(r=zj(r.file,c,n,u,i),s=[...s.slice(0,-1),r])}else s.push(r)}else s.push(r);if(s.length>i.maxEditsPerFile){let a=s.slice(0,s.length-i.maxEditsPerFile);s=s.slice(s.length-i.maxEditsPerFile,s.length),e=Wj(e.split(`
`),a).join(`
`)}return{originalContent:e,edits:s}}o(nue,"updateEdits");function zj(e,t,r,n,i){let{start:s,endPrev:a,endNew:l}=n;if(!i||typeof i.diffContextLines!="number")throw new Error("Invalid configuration passed to buildIncomingEdit");let c=Xce(e,t,r,s,a,l,i.diffContextLines);return{file:e,startLine:s,endLine:a,diff:c,timestamp:performance.now()}}o(zj,"buildIncomingEdit");function iue(e,t){let r={...e},n=Object.entries(e).filter(([s])=>e[s].edits.length).sort(([s,a],[l,c])=>a.edits[a.edits.length-1].timestamp-c.edits[c.edits.length-1].timestamp),i=Math.max(0,n.length-t);if(i)for(let s=0;s<i;s++){let a=n[s][0];delete r[a]}return r}o(iue,"trimOldFilesFromState");function Hj(e={},t,r,n){if(r.length>2*1024*1024)return e;let i=e[t];if(!i)return{...e,[t]:{originalContent:r,currentContent:r,edits:[]}};if(i.currentContent===r)return e;let s=i.currentContent.split(`
`),a=r.split(`
`),l=Gj(s,a);if(!l)return{...e,[t]:{...i,currentContent:r}};let c=zj(t,s,a,l,n);if(Zce(c.diff)>n.maxCharsPerEdit)return{...e,[t]:{originalContent:r,currentContent:r,edits:[]}};let{originalContent:u,edits:f}=nue(i.originalContent,i.edits,c,a,n),d={...e,[t]:{originalContent:u,currentContent:r,edits:f}};return iue(d,n.maxFiles)}o(Hj,"recentEditsReducer");function Vj(e,t){let r=e.diff.removed.filter(s=>s.trim().length>0),n=e.diff.added.filter(s=>s.trim().length>0),i;if(t.removeDeletedLines&&n.length===0)i=null;else if(r.length===0&&n.length===0)i=null;else if(r.join("").trim()===n.join("").trim())i=null;else if(e.diff.added.length>t.maxLinesPerEdit||e.diff.removed.length>t.maxLinesPerEdit)i=null;else if(t.summarizationFormat==="aiders-diff")i=eue(e.diff);else if(t.summarizationFormat==="diff")i=Qce(e.diff,t.removeDeletedLines,t.insertionsBeforeDeletions,t.appendNoReplyMarker);else if(t.summarizationFormat==="find-replace")i=tue(e.diff);else throw new Error(`Unknown summarization format: ${t.summarizationFormat}`);return i}o(Vj,"summarizeEdit");function ah(e,t="unexpected state"){if(!e)throw new jr(`Assertion Failed: ${t}`)}o(ah,"assert");function Uc(e){if(!e()){debugger;e(),jm(new jr("Assertion Failed"))}}o(Uc,"assertFn");function kb(e,t){let r=0;for(;r<e.length-1;){let n=e[r],i=e[r+1];if(!t(n,i))return!1;r++}return!0}o(kb,"checkAdjacentItems");var fl=o((e,t)=>e===t,"strictEquals");var go=class{constructor(t,r,n){this.owner=t;this.debugNameSource=r;this.referenceFn=n}static{o(this,"DebugNameData")}getDebugName(t){return Xj(t,this)}},Kj=new Map,yC=new WeakMap;function Xj(e,t){let r=yC.get(e);if(r)return r;let n=oue(e,t);if(n){let i=Kj.get(n)??0;i++,Kj.set(n,i);let s=i===1?n:`${n}#${i}`;return yC.set(e,s),s}}o(Xj,"getDebugName");function oue(e,t){let r=yC.get(e);if(r)return r;let n=t.owner?aue(t.owner)+".":"",i,s=t.debugNameSource;if(s!==void 0)if(typeof s=="function"){if(i=s(),i!==void 0)return n+i}else return n+s;let a=t.referenceFn;if(a!==void 0&&(i=Ob(a),i!==void 0))return n+i;if(t.owner!==void 0){let l=sue(t.owner,e);if(l!==void 0)return n+l}}o(oue,"computeDebugName");function sue(e,t){for(let r in e)if(e[r]===t)return r}o(sue,"findKey");var Yj=new Map,Jj=new WeakMap;function aue(e){let t=Jj.get(e);if(t)return t;let r=lue(e),n=Yj.get(r)??0;n++,Yj.set(r,n);let i=n===1?r:`${r}#${n}`;return Jj.set(e,i),i}o(aue,"formatOwner");function lue(e){let t=e.constructor;return t?t.name:"Object"}o(lue,"getClassName");function Ob(e){let t=e.toString(),n=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(t);return(n?n[1]:void 0)?.trim()}o(Ob,"getFunctionName");var Ef;function Fb(e){Ef?Ef instanceof Lb?Ef.loggers.push(e):Ef=new Lb([Ef,e]):Ef=e}o(Fb,"addLogger");function Kr(){return Ef}o(Kr,"getLogger");var vC;function Zj(e){vC=e}o(Zj,"setLogObservableFn");function Qj(e){vC&&vC(e)}o(Qj,"logObservable");var Lb=class{constructor(t){this.loggers=t}static{o(this,"ComposedLogger")}handleObservableCreated(t){for(let r of this.loggers)r.handleObservableCreated(t)}handleOnListenerCountChanged(t,r){for(let n of this.loggers)n.handleOnListenerCountChanged(t,r)}handleObservableUpdated(t,r){for(let n of this.loggers)n.handleObservableUpdated(t,r)}handleAutorunCreated(t){for(let r of this.loggers)r.handleAutorunCreated(t)}handleAutorunDisposed(t){for(let r of this.loggers)r.handleAutorunDisposed(t)}handleAutorunDependencyChanged(t,r,n){for(let i of this.loggers)i.handleAutorunDependencyChanged(t,r,n)}handleAutorunStarted(t){for(let r of this.loggers)r.handleAutorunStarted(t)}handleAutorunFinished(t){for(let r of this.loggers)r.handleAutorunFinished(t)}handleDerivedDependencyChanged(t,r,n){for(let i of this.loggers)i.handleDerivedDependencyChanged(t,r,n)}handleDerivedCleared(t){for(let r of this.loggers)r.handleDerivedCleared(t)}handleBeginTransaction(t){for(let r of this.loggers)r.handleBeginTransaction(t)}handleEndTransaction(t){for(let r of this.loggers)r.handleEndTransaction(t)}};var e$;function t$(e){e$=e}o(t$,"_setRecomputeInitiallyAndOnChange");var r$;function n$(e){r$=e}o(n$,"_setKeepObserved");var TC;function i$(e){TC=e}o(i$,"_setDerivedOpts");var Mb=class{static{o(this,"ConvenientObservable")}get TChange(){return null}reportChanges(){this.get()}read(t){return t?t.readObservable(this):this.get()}map(t,r){let n=r===void 0?void 0:t,i=r===void 0?t:r;return TC({owner:n,debugName:o(()=>{let s=Ob(i);if(s!==void 0)return s;let l=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(i.toString());if(l)return`${this.debugName}.${l[2]}`;if(!n)return`${this.debugName} (mapped)`},"debugName"),debugReferenceFn:i},s=>i(this.read(s),s))}flatten(){return TC({owner:void 0,debugName:o(()=>`${this.debugName} (flattened)`,"debugName")},t=>this.read(t).read(t))}recomputeInitiallyAndOnChange(t,r){return t.add(e$(this,r)),this}keepObserved(t){return t.add(r$(this)),this}get debugValue(){return this.get()}},Bc=class extends Mb{constructor(){super();this.observers=new Set;Kr()?.handleObservableCreated(this)}static{o(this,"BaseObservable")}addObserver(r){let n=this.observers.size;this.observers.add(r),n===0&&this.onFirstObserverAdded(),n!==this.observers.size&&Kr()?.handleOnListenerCountChanged(this,this.observers.size)}removeObserver(r){let n=this.observers.delete(r);n&&this.observers.size===0&&this.onLastObserverRemoved(),n&&Kr()?.handleOnListenerCountChanged(this,this.observers.size)}onFirstObserverAdded(){}onLastObserverRemoved(){}log(){let r=!!Kr();return Qj(this),r||Kr()?.handleObservableCreated(this),this}};function Bb(e,t){let r=new r1(e,t);try{e(r)}finally{r.finish()}}o(Bb,"transaction");function EC(e,t,r){e?t(e):Bb(t,r)}o(EC,"subtransaction");var r1=class{constructor(t,r){this._fn=t;this._getDebugName=r;this.updatingObservers=[];Kr()?.handleBeginTransaction(this)}static{o(this,"TransactionImpl")}getDebugName(){return this._getDebugName?this._getDebugName():Ob(this._fn)}updateObserver(t,r){this.updatingObservers.push({observer:t,observable:r}),t.beginUpdate(r)}finish(){let t=this.updatingObservers;for(let r=0;r<t.length;r++){let{observer:n,observable:i}=t[r];n.endUpdate(i)}this.updatingObservers=null,Kr()?.handleEndTransaction(this)}};function dl(e,t){let r;return typeof e=="string"?r=new go(void 0,e,void 0):r=new go(e,void 0,void 0),new Ub(r,t,fl)}o(dl,"observableValue");var Ub=class extends Bc{constructor(r,n,i){super();this._debugNameData=r;this._equalityComparator=i;this._value=n,Kr()?.handleObservableUpdated(this,{hadValue:!1,newValue:n,change:void 0,didChange:!0,oldValue:void 0})}static{o(this,"ObservableValue")}get debugName(){return this._debugNameData.getDebugName(this)??"ObservableValue"}get(){return this._value}set(r,n,i){if(i===void 0&&this._equalityComparator(this._value,r))return;let s;n||(n=s=new r1(()=>{},()=>`Setting ${this.debugName}`));try{let a=this._value;this._setValue(r),Kr()?.handleObservableUpdated(this,{oldValue:a,newValue:r,change:i,didChange:!0,hadValue:!0});for(let l of this.observers)n.updateObserver(l,this),l.handleChange(this,i)}finally{s&&s.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(r){this._value=r}};function ch(e){return new lh(new go(void 0,void 0,e),e,void 0,void 0)}o(ch,"autorun");function CC(e,t){return new lh(new go(e.owner,e.debugName,e.debugReferenceFn??t),t,e.createEmptyChangeSummary,e.handleChange)}o(CC,"autorunHandleChanges");var lh=class{constructor(t,r,n,i){this._debugNameData=t;this._runFn=r;this.createChangeSummary=n;this._handleChange=i;this.state=2;this.updateCount=0;this.disposed=!1;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this._isRunning=!1;this.changeSummary=this.createChangeSummary?.(),Kr()?.handleAutorunCreated(this),this._runIfNeeded(),Wm(this)}static{o(this,"AutorunObserver")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}dispose(){this.disposed=!0;for(let t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),Kr()?.handleAutorunDisposed(this),qm(this)}_runIfNeeded(){if(this.state===3)return;let t=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=t,this.state=3;try{if(!this.disposed){Kr()?.handleAutorunStarted(this);let r=this.changeSummary;try{this.changeSummary=this.createChangeSummary?.(),this._isRunning=!0,this._runFn(this,r)}catch(n){hf(n)}finally{this._isRunning=!1}}}finally{this.disposed||Kr()?.handleAutorunFinished(this);for(let r of this.dependenciesToBeRemoved)r.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(t){this.state===3&&(this.state=1),this.updateCount++}endUpdate(t){try{if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let r of this.dependencies)if(r.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3)}finally{this.updateCount--}Uc(()=>this.updateCount>=0)}handlePossibleChange(t){this.state===3&&this._isDependency(t)&&(this.state=1)}handleChange(t,r){if(this._isDependency(t)){Kr()?.handleAutorunDependencyChanged(this,t,r);try{(this._handleChange?this._handleChange({changedObservable:t,change:r,didChange:o(i=>i===t,"didChange")},this.changeSummary):!0)&&(this.state=2)}catch(n){hf(n)}}}_isDependency(t){return this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)}readObservable(t){if(!this._isRunning)throw new jr("The reader object cannot be used outside its compute function!");if(this.disposed)return t.get();t.addObserver(this);let r=t.get();return this.dependencies.add(t),this.dependenciesToBeRemoved.delete(t),r}};(t=>t.Observer=lh)(ch||={});function jb(e,t){return new Cf(new go(e.owner,e.debugName,e.debugReferenceFn),t,void 0,void 0,e.onLastObserverRemoved,e.equalsFn??fl)}o(jb,"derivedOpts");i$(jb);var Cf=class extends Bc{constructor(r,n,i,s,a=void 0,l){super();this._debugNameData=r;this._computeFn=n;this.createChangeSummary=i;this._handleChange=s;this._handleLastObserverRemoved=a;this._equalityComparator=l;this.state=0;this.value=void 0;this.updateCount=0;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this.changeSummary=void 0;this._isUpdating=!1;this._isComputing=!1;this._removedObserverToCallEndUpdateOn=null;this._isReaderValid=!1;this.changeSummary=this.createChangeSummary?.()}static{o(this,"Derived")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}onLastObserverRemoved(){this.state=0,this.value=void 0,Kr()?.handleDerivedCleared(this);for(let r of this.dependencies)r.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(this._isComputing,this.observers.size===0){let n;try{this._isReaderValid=!0,n=this._computeFn(this,this.createChangeSummary?.())}finally{this._isReaderValid=!1}return this.onLastObserverRemoved(),n}else{do{if(this.state===1){for(let n of this.dependencies)if(n.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){if(this.state===3)return;let r=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=r;let n=this.state!==0,i=this.value;this.state=3;let s=!1;this._isComputing=!0;try{let a=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this._isReaderValid=!0,this.value=this._computeFn(this,a)}finally{this._isReaderValid=!1;for(let l of this.dependenciesToBeRemoved)l.removeObserver(this);this.dependenciesToBeRemoved.clear()}s=n&&!this._equalityComparator(i,this.value),Kr()?.handleObservableUpdated(this,{oldValue:i,newValue:this.value,change:void 0,didChange:s,hadValue:n})}catch(a){hf(a)}if(this._isComputing=!1,s)for(let a of this.observers)a.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(r){if(this._isUpdating)throw new jr("Cyclic deriveds are not supported yet!");this.updateCount++,this._isUpdating=!0;try{let n=this.updateCount===1;if(this.state===3&&(this.state=1,!n))for(let i of this.observers)i.handlePossibleChange(this);if(n)for(let i of this.observers)i.beginUpdate(this)}finally{this._isUpdating=!1}}endUpdate(r){if(this.updateCount--,this.updateCount===0){let n=[...this.observers];for(let i of n)i.endUpdate(this);if(this._removedObserverToCallEndUpdateOn){let i=[...this._removedObserverToCallEndUpdateOn];this._removedObserverToCallEndUpdateOn=null;for(let s of i)s.endUpdate(this)}}Uc(()=>this.updateCount>=0)}handlePossibleChange(r){if(this.state===3&&this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){this.state=1;for(let n of this.observers)n.handlePossibleChange(this)}}handleChange(r,n){if(this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){Kr()?.handleDerivedDependencyChanged(this,r,n);let i=!1;try{i=this._handleChange?this._handleChange({changedObservable:r,change:n,didChange:o(a=>a===r,"didChange")},this.changeSummary):!0}catch(a){hf(a)}let s=this.state===3;if(i&&(this.state===1||s)&&(this.state=2,s))for(let a of this.observers)a.handlePossibleChange(this)}}readObservable(r){if(!this._isReaderValid)throw new jr("The reader object cannot be used outside its compute function!");r.addObserver(this);let n=r.get();return this.dependencies.add(r),this.dependenciesToBeRemoved.delete(r),n}addObserver(r){let n=!this.observers.has(r)&&this.updateCount>0;super.addObserver(r),n&&(this._removedObserverToCallEndUpdateOn&&this._removedObserverToCallEndUpdateOn.has(r)?this._removedObserverToCallEndUpdateOn.delete(r):r.beginUpdate(this))}removeObserver(r){this.observers.has(r)&&this.updateCount>0&&(this._removedObserverToCallEndUpdateOn||(this._removedObserverToCallEndUpdateOn=new Set),this._removedObserverToCallEndUpdateOn.add(r)),super.removeObserver(r)}};function IC(...e){let t,r,n;return e.length===3?[t,r,n]=e:[r,n]=e,new jc(new go(t,void 0,n),r,n,()=>jc.globalTransaction,fl)}o(IC,"observableFromEvent");var jc=class extends Bc{constructor(r,n,i,s,a){super();this._debugNameData=r;this.event=n;this._getValue=i;this._getTransaction=s;this._equalityComparator=a;this.hasValue=!1;this.handleEvent=o(r=>{let n=this._getValue(r),i=this.value,s=!this.hasValue||!this._equalityComparator(i,n),a=!1;s&&(this.value=n,this.hasValue&&(a=!0,EC(this._getTransaction(),l=>{Kr()?.handleObservableUpdated(this,{oldValue:i,newValue:n,change:void 0,didChange:s,hadValue:this.hasValue});for(let c of this.observers)l.updateObserver(c,this),c.handleChange(this,void 0)},()=>{let l=this.getDebugName();return"Event fired"+(l?`: ${l}`:"")})),this.hasValue=!0),a||Kr()?.handleObservableUpdated(this,{oldValue:i,newValue:n,change:void 0,didChange:s,hadValue:this.hasValue})},"handleEvent")}static{o(this,"FromEventObservable")}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){let r=this.getDebugName();return"From Event"+(r?`: ${r}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}};(r=>{r.Observer=jc;function t(n,i){let s=!1;jc.globalTransaction===void 0&&(jc.globalTransaction=n,s=!0);try{i()}finally{s&&(jc.globalTransaction=void 0)}}r.batchEventsGlobally=t,o(t,"batchEventsGlobally")})(IC||={});function s$(e){let t=new $b(!1,void 0);return e.addObserver(t),ra(()=>{e.removeObserver(t)})}o(s$,"keepObserved");n$(s$);function a$(e,t){let r=new $b(!0,t);return e.addObserver(r),t?t(e.get()):e.reportChanges(),ra(()=>{e.removeObserver(r)})}o(a$,"recomputeInitiallyAndOnChange");t$(a$);var $b=class{constructor(t,r){this._forceRecompute=t;this._handleValue=r;this._counter=0}static{o(this,"KeepAliveObserver")}beginUpdate(t){this._counter++}endUpdate(t){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(t.get()):t.reportChanges())}handlePossibleChange(t){}handleChange(t,r){}};function SC(e,t,r,n){let i=new Wb(r,n);return jb({debugReferenceFn:r,owner:e,onLastObserverRemoved:o(()=>{i.dispose(),i=new Wb(r)},"onLastObserverRemoved")},a=>(i.setItems(t.read(a)),i.getItems()))}o(SC,"mapObservableArrayCached");var Wb=class{constructor(t,r){this._map=t;this._keySelector=r;this._cache=new Map;this._items=[]}static{o(this,"ArrayMap")}dispose(){this._cache.forEach(t=>t.store.dispose()),this._cache.clear()}setItems(t){let r=[],n=new Set(this._cache.keys());for(let i of t){let s=this._keySelector?this._keySelector(i):i,a=this._cache.get(s);if(a)n.delete(s);else{let l=new o0;a={out:this._map(i,l),store:l},this._cache.set(s,a)}r.push(a.out)}for(let i of n)this._cache.get(i).store.dispose(),this._cache.delete(i);this._items=r}getItems(){return this._items}};var qb;function l$(e){qb||(qb=new fh,Fb(qb)),qb.addFilteredObj(e)}o(l$,"logObservableToConsole");var fh=class{constructor(){this.indentation=0;this.changedObservablesSets=new WeakMap}static{o(this,"ConsoleObservableLogger")}addFilteredObj(t){this._filteredObjects||(this._filteredObjects=new Set),this._filteredObjects.add(t)}_isIncluded(t){return this._filteredObjects?.has(t)??!0}textToConsoleArgs(t){return fue([n1(pue("|  ",this.indentation)),t])}formatInfo(t){return t.hadValue?t.didChange?[n1(" "),Ss(uh(t.oldValue,70),{color:"red",strikeThrough:!0}),n1(" "),Ss(uh(t.newValue,60),{color:"green"})]:[n1(" (unchanged)")]:[n1(" "),Ss(uh(t.newValue,60),{color:"green"}),n1(" (initial)")]}handleObservableCreated(t){if(t instanceof Cf){let r=t;if(this.changedObservablesSets.set(r,new Set),!1){let i=[];r.__debugUpdating=i;let s=r.beginUpdate;r.beginUpdate=l=>(i.push(l),s.apply(r,[l]));let a=r.endUpdate;r.endUpdate=l=>{let c=i.indexOf(l);return c===-1&&console.error("endUpdate called without beginUpdate",r.debugName,l.debugName),i.splice(c,1),a.apply(r,[l])}}}}handleOnListenerCountChanged(t,r){}handleObservableUpdated(t,r){if(this._isIncluded(t)){if(t instanceof Cf){this._handleDerivedRecomputed(t,r);return}console.log(...this.textToConsoleArgs([i1("observable value changed"),Ss(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r)]))}}formatChanges(t){if(t.size!==0)return Ss(" (changed deps: "+[...t].map(r=>r.debugName).join(", ")+")",{color:"gray"})}handleDerivedDependencyChanged(t,r,n){this._isIncluded(t)&&this.changedObservablesSets.get(t)?.add(r)}_handleDerivedRecomputed(t,r){if(!this._isIncluded(t))return;let n=this.changedObservablesSets.get(t);n&&(console.log(...this.textToConsoleArgs([i1("derived recomputed"),Ss(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r),this.formatChanges(n),{data:[{fn:t._debugNameData.referenceFn??t._computeFn}]}])),n.clear())}handleDerivedCleared(t){this._isIncluded(t)&&console.log(...this.textToConsoleArgs([i1("derived cleared"),Ss(t.debugName,{color:"BlueViolet"})]))}handleFromEventObservableTriggered(t,r){this._isIncluded(t)&&console.log(...this.textToConsoleArgs([i1("observable from event triggered"),Ss(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r),{data:[{fn:t._getValue}]}]))}handleAutorunCreated(t){this._isIncluded(t)&&this.changedObservablesSets.set(t,new Set)}handleAutorunDisposed(t){}handleAutorunDependencyChanged(t,r,n){this._isIncluded(t)&&this.changedObservablesSets.get(t).add(r)}handleAutorunStarted(t){let r=this.changedObservablesSets.get(t);r&&(this._isIncluded(t)&&console.log(...this.textToConsoleArgs([i1("autorun"),Ss(t.debugName,{color:"BlueViolet"}),this.formatChanges(r),{data:[{fn:t._debugNameData.referenceFn??t._runFn}]}])),r.clear(),this.indentation++)}handleAutorunFinished(t){this.indentation--}handleBeginTransaction(t){let r=t.getDebugName();r===void 0&&(r=""),this._isIncluded(t)&&console.log(...this.textToConsoleArgs([i1("transaction"),Ss(r,{color:"BlueViolet"}),{data:[{fn:t._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}};function fue(e){let t=new Array,r=[],n="";function i(a){if("length"in a)for(let l of a)l&&i(l);else"text"in a?(n+=`%c${a.text}`,t.push(a.style),a.data&&r.push(...a.data)):"data"in a&&r.push(...a.data)}o(i,"process"),i(e);let s=[n,...t];return s.push(...r),s}o(fue,"consoleTextToArgs");function n1(e){return Ss(e,{color:"black"})}o(n1,"normalText");function i1(e){return Ss(gue(`${e}: `,10),{color:"black",bold:!0})}o(i1,"formatKind");function Ss(e,t={color:"black"}){function r(i){return Object.entries(i).reduce((s,[a,l])=>`${s}${a}:${l};`,"")}o(r,"objToCss");let n={color:t.color};return t.strikeThrough&&(n["text-decoration"]="line-through"),t.bold&&(n["font-weight"]="bold"),{text:e,style:r(n)}}o(Ss,"styled");function uh(e,t){switch(typeof e){case"number":return""+e;case"string":return e.length+2<=t?`"${e}"`:`"${e.substr(0,t-7)}"+...`;case"boolean":return e?"true":"false";case"undefined":return"undefined";case"object":return e===null?"null":Array.isArray(e)?due(e,t):mue(e,t);case"symbol":return e.toString();case"function":return`[[Function${e.name?" "+e.name:""}]]`;default:return""+e}}o(uh,"formatValue");function due(e,t){let r="[ ",n=!0;for(let i of e){if(n||(r+=", "),r.length-5>t){r+="...";break}n=!1,r+=`${uh(i,t-r.length)}`}return r+=" ]",r}o(due,"formatArray");function mue(e,t){if(typeof e.toString=="function"&&e.toString!==Object.prototype.toString){let i=e.toString();return i.length<=t?i:i.substring(0,t-3)+"..."}let r="{ ",n=!0;for(let[i,s]of Object.entries(e)){if(n||(r+=", "),r.length-5>t){r+="...";break}n=!1,r+=`${i}: ${uh(s,t-r.length)}`}return r+=" }",r}o(mue,"formatObject");function pue(e,t){let r="";for(let n=1;n<=t;n++)r+=e;return r}o(pue,"repeat");function gue(e,t){for(;e.length<t;)e+=" ";return e}o(gue,"padStr");Zj(l$);var hue=!1;hue&&Fb(new fh);function c$(e,t,r){let n=new Map(Object.entries(t).map(([s,a])=>[a,s])),i=new Map(Object.keys(t).map(s=>[s,void 0]));return CC({owner:e,createEmptyChangeSummary:o(()=>({}),"createEmptyChangeSummary"),handleChange:o((s,a)=>{let l=n.get(s.changedObservable);return a[l]===void 0&&(a[l]={value:void 0,changes:[]}),a[l].changes.push(s.change),!0},"handleChange")},(s,a)=>{for(let[l,c]of Object.entries(t)){let u=c.read(s);a[l]===void 0&&(a[l]={value:u,changes:[],previous:i.get(l)}),a[l].value=u,a[l].previous=i.get(l)===void 0?void 0:i.get(l),i.set(l,u)}r(a)})}o(c$,"autorunWithChanges");var ml=class extends mo{constructor(r,n,i=!1){super();this.recentEditMap={};this.recentEdits=[];this.recentEditSummaries=new WeakMap;this.debounceTimeouts={};this.workspace=r,this._started=!1,this.recentEditsConfig=n,i||this.start()}static{o(this,"RecentEditsProvider")}getRecentEdits(){return this.recentEdits}getEditSummary(r){return this.recentEditSummaries.get(r)??null}updateRecentEdits(r,n){this.recentEditMap=Hj(this.recentEditMap,r,n,this.recentEditsConfig),this.recentEdits=qj(this.recentEditMap),this.recentEdits.forEach(i=>{if(!this.recentEditSummaries.has(i)){let s=Vj(i,this.recentEditsConfig);this.recentEditSummaries.set(i,s)}})}setConfig(r){this.recentEditsConfig=r}start(){this._started||(this._started=!0,SC(this,this.workspace.openDocuments,(r,n)=>{n.add(c$(this,{value:r.value,selection:r.selection,languageId:r.languageId},i=>{if(i.value.changes.length>0){let s=i.value.previous?.value,a=i.value.value.value,l=r.id.toString();clearTimeout(this.debounceTimeouts[l]),!this.recentEditMap[l]&&s?this.updateRecentEdits(l,s):this.recentEditsConfig.debounceTimeout===0?this.updateRecentEdits(l,a):this.debounceTimeouts[l]=setTimeout(()=>{this.updateRecentEdits(l,a)},this.recentEditsConfig.debounceTimeout??500)}}))},r=>r.id).recomputeInitiallyAndOnChange(this._store))}};var dh;(r=>{r.PlainText="plaintext";function t(n){return n}r.create=t,o(t,"create")})(dh||={});var fr=class e{constructor(t,r){this.start=t;this.endExclusive=r;if(t>r)throw new jr(`Invalid range: ${this.toString()}`)}static{o(this,"OffsetRange")}static fromTo(t,r){return new e(t,r)}static addRange(t,r){let n=0;for(;n<r.length&&r[n].endExclusive<t.start;)n++;let i=n;for(;i<r.length&&r[i].start<=t.endExclusive;)i++;if(n===i)r.splice(n,0,t);else{let s=Math.min(t.start,r[n].start),a=Math.max(t.endExclusive,r[i-1].endExclusive);r.splice(n,i-n,new e(s,a))}}static tryCreate(t,r){if(!(t>r))return new e(t,r)}static ofLength(t){return new e(0,t)}static ofStartAndLength(t,r){return new e(t,t+r)}static emptyAt(t){return new e(t,t)}get isEmpty(){return this.start===this.endExclusive}delta(t){return new e(this.start+t,this.endExclusive+t)}deltaStart(t){return new e(this.start+t,this.endExclusive)}deltaEnd(t){return new e(this.start,this.endExclusive+t)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(t){return this.start===t.start&&this.endExclusive===t.endExclusive}containsRange(t){return this.start<=t.start&&t.endExclusive<=this.endExclusive}contains(t){return this.start<=t&&t<this.endExclusive}join(t){return new e(Math.min(this.start,t.start),Math.max(this.endExclusive,t.endExclusive))}intersect(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);if(r<=n)return new e(r,n)}intersectionLength(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return Math.max(0,n-r)}intersects(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return r<n}intersectsOrTouches(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return r<=n}isBefore(t){return this.endExclusive<=t.start}isAfter(t){return this.start>=t.endExclusive}slice(t){return t.slice(this.start,this.endExclusive)}substring(t){return t.substring(this.start,this.endExclusive)}clip(t){if(this.isEmpty)throw new jr(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,t))}clipCyclic(t){if(this.isEmpty)throw new jr(`Invalid clipping range: ${this.toString()}`);return t<this.start?this.endExclusive-(this.start-t)%this.length:t>=this.endExclusive?this.start+(t-this.start)%this.length:t}map(t){let r=[];for(let n=this.start;n<this.endExclusive;n++)r.push(t(n));return r}forEach(t){for(let r=this.start;r<this.endExclusive;r++)t(r)}};var hn=class e{static{o(this,"Position")}constructor(t,r){this.lineNumber=t,this.column=r}with(t=this.lineNumber,r=this.column){return t===this.lineNumber&&r===this.column?this:new e(t,r)}delta(t=0,r=0){return this.with(this.lineNumber+t,this.column+r)}equals(t){return e.equals(this,t)}static equals(t,r){return!t&&!r?!0:!!t&&!!r&&t.lineNumber===r.lineNumber&&t.column===r.column}isBefore(t){return e.isBefore(this,t)}static isBefore(t,r){return t.lineNumber<r.lineNumber?!0:r.lineNumber<t.lineNumber?!1:t.column<r.column}isBeforeOrEqual(t){return e.isBeforeOrEqual(this,t)}static isBeforeOrEqual(t,r){return t.lineNumber<r.lineNumber?!0:r.lineNumber<t.lineNumber?!1:t.column<=r.column}static compare(t,r){let n=t.lineNumber|0,i=r.lineNumber|0;if(n===i){let s=t.column|0,a=r.column|0;return s-a}return n-i}clone(){return new e(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(t){return new e(t.lineNumber,t.column)}static isIPosition(t){return t&&typeof t.lineNumber=="number"&&typeof t.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}};var $r=class e{static{o(this,"Range")}constructor(t,r,n,i){t>n||t===n&&r>i?(this.startLineNumber=n,this.startColumn=i,this.endLineNumber=t,this.endColumn=r):(this.startLineNumber=t,this.startColumn=r,this.endLineNumber=n,this.endColumn=i)}isEmpty(){return e.isEmpty(this)}static isEmpty(t){return t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn}containsPosition(t){return e.containsPosition(this,t)}static containsPosition(t,r){return!(r.lineNumber<t.startLineNumber||r.lineNumber>t.endLineNumber||r.lineNumber===t.startLineNumber&&r.column<t.startColumn||r.lineNumber===t.endLineNumber&&r.column>t.endColumn)}static strictContainsPosition(t,r){return!(r.lineNumber<t.startLineNumber||r.lineNumber>t.endLineNumber||r.lineNumber===t.startLineNumber&&r.column<=t.startColumn||r.lineNumber===t.endLineNumber&&r.column>=t.endColumn)}containsRange(t){return e.containsRange(this,t)}static containsRange(t,r){return!(r.startLineNumber<t.startLineNumber||r.endLineNumber<t.startLineNumber||r.startLineNumber>t.endLineNumber||r.endLineNumber>t.endLineNumber||r.startLineNumber===t.startLineNumber&&r.startColumn<t.startColumn||r.endLineNumber===t.endLineNumber&&r.endColumn>t.endColumn)}strictContainsRange(t){return e.strictContainsRange(this,t)}static strictContainsRange(t,r){return!(r.startLineNumber<t.startLineNumber||r.endLineNumber<t.startLineNumber||r.startLineNumber>t.endLineNumber||r.endLineNumber>t.endLineNumber||r.startLineNumber===t.startLineNumber&&r.startColumn<=t.startColumn||r.endLineNumber===t.endLineNumber&&r.endColumn>=t.endColumn)}plusRange(t){return e.plusRange(this,t)}static plusRange(t,r){let n,i,s,a;return r.startLineNumber<t.startLineNumber?(n=r.startLineNumber,i=r.startColumn):r.startLineNumber===t.startLineNumber?(n=r.startLineNumber,i=Math.min(r.startColumn,t.startColumn)):(n=t.startLineNumber,i=t.startColumn),r.endLineNumber>t.endLineNumber?(s=r.endLineNumber,a=r.endColumn):r.endLineNumber===t.endLineNumber?(s=r.endLineNumber,a=Math.max(r.endColumn,t.endColumn)):(s=t.endLineNumber,a=t.endColumn),new e(n,i,s,a)}intersectRanges(t){return e.intersectRanges(this,t)}static intersectRanges(t,r){let n=t.startLineNumber,i=t.startColumn,s=t.endLineNumber,a=t.endColumn,l=r.startLineNumber,c=r.startColumn,u=r.endLineNumber,f=r.endColumn;return n<l?(n=l,i=c):n===l&&(i=Math.max(i,c)),s>u?(s=u,a=f):s===u&&(a=Math.min(a,f)),n>s||n===s&&i>a?null:new e(n,i,s,a)}equalsRange(t){return e.equalsRange(this,t)}static equalsRange(t,r){return!t&&!r?!0:!!t&&!!r&&t.startLineNumber===r.startLineNumber&&t.startColumn===r.startColumn&&t.endLineNumber===r.endLineNumber&&t.endColumn===r.endColumn}getEndPosition(){return e.getEndPosition(this)}static getEndPosition(t){return new hn(t.endLineNumber,t.endColumn)}getStartPosition(){return e.getStartPosition(this)}static getStartPosition(t){return new hn(t.startLineNumber,t.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(t,r){return new e(this.startLineNumber,this.startColumn,t,r)}setStartPosition(t,r){return new e(t,r,this.endLineNumber,this.endColumn)}collapseToStart(){return e.collapseToStart(this)}static collapseToStart(t){return new e(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn)}collapseToEnd(){return e.collapseToEnd(this)}static collapseToEnd(t){return new e(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn)}delta(t){return new e(this.startLineNumber+t,this.startColumn,this.endLineNumber+t,this.endColumn)}isSingleLine(){return this.startLineNumber===this.endLineNumber}static fromPositions(t,r=t){return new e(t.lineNumber,t.column,r.lineNumber,r.column)}static lift(t){return t?new e(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):null}static isIRange(t){return t&&typeof t.startLineNumber=="number"&&typeof t.startColumn=="number"&&typeof t.endLineNumber=="number"&&typeof t.endColumn=="number"}static areIntersectingOrTouching(t,r){return!(t.endLineNumber<r.startLineNumber||t.endLineNumber===r.startLineNumber&&t.endColumn<r.startColumn||r.endLineNumber<t.startLineNumber||r.endLineNumber===t.startLineNumber&&r.endColumn<t.startColumn)}static areIntersecting(t,r){return!(t.endLineNumber<r.startLineNumber||t.endLineNumber===r.startLineNumber&&t.endColumn<=r.startColumn||r.endLineNumber<t.startLineNumber||r.endLineNumber===t.startLineNumber&&r.endColumn<=t.startColumn)}static compareRangesUsingStarts(t,r){if(t&&r){let s=t.startLineNumber|0,a=r.startLineNumber|0;if(s===a){let l=t.startColumn|0,c=r.startColumn|0;if(l===c){let u=t.endLineNumber|0,f=r.endLineNumber|0;if(u===f){let d=t.endColumn|0,m=r.endColumn|0;return d-m}return u-f}return l-c}return s-a}return(t?1:0)-(r?1:0)}static compareRangesUsingEnds(t,r){return t.endLineNumber===r.endLineNumber?t.endColumn===r.endColumn?t.startLineNumber===r.startLineNumber?t.startColumn-r.startColumn:t.startLineNumber-r.startLineNumber:t.endColumn-r.endColumn:t.endLineNumber-r.endLineNumber}static spansMultipleLines(t){return t.endLineNumber>t.startLineNumber}toJSON(){return this}};var Yo=class e{static{o(this,"LineRange")}static fromRange(t){return new e(t.startLineNumber,t.endLineNumber)}static fromRangeInclusive(t){return new e(t.startLineNumber,t.endLineNumber+1)}static subtract(t,r){return r?t.startLineNumber<r.startLineNumber&&r.endLineNumberExclusive<t.endLineNumberExclusive?[new e(t.startLineNumber,r.startLineNumber),new e(r.endLineNumberExclusive,t.endLineNumberExclusive)]:r.startLineNumber<=t.startLineNumber&&t.endLineNumberExclusive<=r.endLineNumberExclusive?[]:r.endLineNumberExclusive<t.endLineNumberExclusive?[new e(Math.max(r.endLineNumberExclusive,t.startLineNumber),t.endLineNumberExclusive)]:[new e(t.startLineNumber,Math.min(r.startLineNumber,t.endLineNumberExclusive))]:[t]}static joinMany(t){if(t.length===0)return[];let r=new Gb(t[0].slice());for(let n=1;n<t.length;n++)r=r.getUnion(new Gb(t[n].slice()));return r.ranges}static join(t){if(t.length===0)throw new jr("lineRanges cannot be empty");let r=t[0].startLineNumber,n=t[0].endLineNumberExclusive;for(let i=1;i<t.length;i++)r=Math.min(r,t[i].startLineNumber),n=Math.max(n,t[i].endLineNumberExclusive);return new e(r,n)}static ofLength(t,r){return new e(t,t+r)}static deserialize(t){return new e(t[0],t[1])}constructor(t,r){if(t>r)throw new jr(`startLineNumber ${t} cannot be after endLineNumberExclusive ${r}`);this.startLineNumber=t,this.endLineNumberExclusive=r}contains(t){return this.startLineNumber<=t&&t<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(t){return new e(this.startLineNumber+t,this.endLineNumberExclusive+t)}deltaLength(t){return new e(this.startLineNumber,this.endLineNumberExclusive+t)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(t){return new e(Math.min(this.startLineNumber,t.startLineNumber),Math.max(this.endLineNumberExclusive,t.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(t){let r=Math.max(this.startLineNumber,t.startLineNumber),n=Math.min(this.endLineNumberExclusive,t.endLineNumberExclusive);if(r<=n)return new e(r,n)}intersectsStrict(t){return this.startLineNumber<t.endLineNumberExclusive&&t.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(t){return this.startLineNumber<=t.endLineNumberExclusive&&t.startLineNumber<=this.endLineNumberExclusive}equals(t){return this.startLineNumber===t.startLineNumber&&this.endLineNumberExclusive===t.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new $r(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new $r(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(t){let r=[];for(let n=this.startLineNumber;n<this.endLineNumberExclusive;n++)r.push(t(n));return r}forEach(t){for(let r=this.startLineNumber;r<this.endLineNumberExclusive;r++)t(r)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(t){return this.startLineNumber<=t&&t<this.endLineNumberExclusive}toOffsetRange(){return new fr(this.startLineNumber-1,this.endLineNumberExclusive-1)}distanceToRange(t){return this.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-this.endLineNumberExclusive:t.endLineNumberExclusive<=this.startLineNumber?this.startLineNumber-t.endLineNumberExclusive:0}distanceToLine(t){return this.contains(t)?0:t<this.startLineNumber?this.startLineNumber-t:t-this.endLineNumberExclusive}addMargin(t,r){return new e(this.startLineNumber-t,this.endLineNumberExclusive+r)}},Gb=class e{constructor(t=[]){this._normalizedRanges=t}static{o(this,"LineRangeSet")}get ranges(){return this._normalizedRanges}addRange(t){if(t.length===0)return;let r=N3(this._normalizedRanges,i=>i.endLineNumberExclusive>=t.startLineNumber),n=gf(this._normalizedRanges,i=>i.startLineNumber<=t.endLineNumberExclusive)+1;if(r===n)this._normalizedRanges.splice(r,0,t);else if(r===n-1){let i=this._normalizedRanges[r];this._normalizedRanges[r]=i.join(t)}else{let i=this._normalizedRanges[r].join(this._normalizedRanges[n-1]).join(t);this._normalizedRanges.splice(r,n-r,i)}}contains(t){let r=sE(this._normalizedRanges,n=>n.startLineNumber<=t);return!!r&&r.endLineNumberExclusive>t}intersects(t){let r=sE(this._normalizedRanges,n=>n.startLineNumber<t.endLineNumberExclusive);return!!r&&r.endLineNumberExclusive>t.startLineNumber}getUnion(t){if(this._normalizedRanges.length===0)return t;if(t._normalizedRanges.length===0)return this;let r=[],n=0,i=0,s=null;for(;n<this._normalizedRanges.length||i<t._normalizedRanges.length;){let a=null;if(n<this._normalizedRanges.length&&i<t._normalizedRanges.length){let l=this._normalizedRanges[n],c=t._normalizedRanges[i];l.startLineNumber<c.startLineNumber?(a=l,n++):(a=c,i++)}else n<this._normalizedRanges.length?(a=this._normalizedRanges[n],n++):(a=t._normalizedRanges[i],i++);s===null?s=a:s.endLineNumberExclusive>=a.startLineNumber?s=new Yo(s.startLineNumber,Math.max(s.endLineNumberExclusive,a.endLineNumberExclusive)):(r.push(s),s=a)}return s!==null&&r.push(s),new e(r)}subtractFrom(t){let r=N3(this._normalizedRanges,a=>a.endLineNumberExclusive>=t.startLineNumber),n=gf(this._normalizedRanges,a=>a.startLineNumber<=t.endLineNumberExclusive)+1;if(r===n)return new e([t]);let i=[],s=t.startLineNumber;for(let a=r;a<n;a++){let l=this._normalizedRanges[a];l.startLineNumber>s&&i.push(new Yo(s,l.startLineNumber)),s=l.endLineNumberExclusive}return s<t.endLineNumberExclusive&&i.push(new Yo(s,t.endLineNumberExclusive)),new e(i)}toString(){return this._normalizedRanges.map(t=>t.toString()).join(", ")}getIntersection(t){let r=[],n=0,i=0;for(;n<this._normalizedRanges.length&&i<t._normalizedRanges.length;){let s=this._normalizedRanges[n],a=t._normalizedRanges[i],l=s.intersect(a);l&&!l.isEmpty&&r.push(l),s.endLineNumberExclusive<a.endLineNumberExclusive?n++:i++}return new e(r)}getWithDelta(t){return new e(this._normalizedRanges.map(r=>r.delta(t)))}};var mh=class e{constructor(t,r){this.lineCount=t;this.columnCount=r}static{o(this,"TextLength")}static{this.zero=new e(0,0)}static lengthDiffNonNegative(t,r){return r.isLessThan(t)?e.zero:t.lineCount===r.lineCount?new e(0,r.columnCount-t.columnCount):new e(r.lineCount-t.lineCount,r.columnCount)}static betweenPositions(t,r){return t.lineNumber===r.lineNumber?new e(0,r.column-t.column):new e(r.lineNumber-t.lineNumber,r.column-1)}static fromPosition(t){return new e(t.lineNumber-1,t.column-1)}static ofRange(t){return e.betweenPositions(t.getStartPosition(),t.getEndPosition())}static ofText(t){let r=0,n=0;for(let i of t)i===`
`?(r++,n=0):n++;return new e(r,n)}isZero(){return this.lineCount===0&&this.columnCount===0}isLessThan(t){return this.lineCount!==t.lineCount?this.lineCount<t.lineCount:this.columnCount<t.columnCount}isGreaterThan(t){return this.lineCount!==t.lineCount?this.lineCount>t.lineCount:this.columnCount>t.columnCount}isGreaterThanOrEqualTo(t){return this.lineCount!==t.lineCount?this.lineCount>t.lineCount:this.columnCount>=t.columnCount}equals(t){return this.lineCount===t.lineCount&&this.columnCount===t.columnCount}compare(t){return this.lineCount!==t.lineCount?this.lineCount-t.lineCount:this.columnCount-t.columnCount}add(t){return t.lineCount===0?new e(this.lineCount,this.columnCount+t.columnCount):new e(this.lineCount+t.lineCount,t.columnCount)}createRange(t){return this.lineCount===0?new $r(t.lineNumber,t.column,t.lineNumber,t.column+this.columnCount):new $r(t.lineNumber,t.column,t.lineNumber+this.lineCount,this.columnCount+1)}toRange(){return new $r(1,1,this.lineCount+1,this.columnCount+1)}toLineRange(){return Yo.ofLength(1,this.lineCount)}addToPosition(t){return this.lineCount===0?new hn(t.lineNumber,t.column+this.columnCount):new hn(t.lineNumber+this.lineCount,this.columnCount+1)}addToRange(t){return $r.fromPositions(this.addToPosition(t.getStartPosition()),this.addToPosition(t.getEndPosition()))}toString(){return`${this.lineCount},${this.columnCount}`}};var ph=class e{constructor(t){this.value=t}static{o(this,"StringValue")}apply(t){return new e(t.apply(this.value))}equals(t){return this.value===t.value}getTransformer(){return this._transformer||(this._transformer=new wC(this.value)),this._transformer}getValueOfRange(t){return this.getTransformer().getOffsetRange(t).substring(this.value)}getLines(){return vb(this.value)}getLineAt(t){return this.getLines()[t-1]}toString(){return this.value}getTextLength(){return this.getTransformer().textLength}},wC=class{constructor(t){this.text=t;this.lineStartOffsetByLineIdx=[],this.lineEndOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let r=0;r<t.length;r++)t.charAt(r)===`
`&&(this.lineStartOffsetByLineIdx.push(r+1),r>0&&t.charAt(r-1)==="\r"?this.lineEndOffsetByLineIdx.push(r-1):this.lineEndOffsetByLineIdx.push(r));this.lineEndOffsetByLineIdx.push(t.length)}static{o(this,"PositionOffsetTransformer")}getOffset(t){return this.lineStartOffsetByLineIdx[t.lineNumber-1]+t.column-1}getOffsetRange(t){return new fr(this.getOffset(t.getStartPosition()),this.getOffset(t.getEndPosition()))}getPosition(t){let r=gf(this.lineStartOffsetByLineIdx,s=>s<=t),n=r+1,i=t-this.lineStartOffsetByLineIdx[r]+1;return new hn(n,i)}getRange(t){return $r.fromPositions(this.getPosition(t.start),this.getPosition(t.endExclusive))}getTextLength(t){return mh.ofRange(this.getRange(t))}get textLength(){let t=this.lineStartOffsetByLineIdx.length-1;return new mh(t,this.text.length-this.lineStartOffsetByLineIdx[t])}getLineLength(t){return this.lineEndOffsetByLineIdx[t-1]-this.lineStartOffsetByLineIdx[t-1]}};var zb=class{static{o(this,"ObservableWorkspace")}getDocument(t){return Promise.resolve(this.openDocuments.get().find(r=>r.id===t))}};var Hb=class extends mo{constructor(r,n,i,s,a,l){super();this.id=r;this.workspaceRoot=l;this.value=dl(this,n),this.selection=dl(this,i),this.languageId=dl(this,s),this._register(ra(a))}static{o(this,"MutableObservableDocument")}applyEdit(r,n=void 0){let i=this.value.get().apply(r);this.value.set(i,n,r)}updateSelection(r,n=void 0){this.selection.set(r,n)}};var C$=Lt(yi());var Kb=!1,Yb=!1,Vb=!1,xue=!1,bue=!1,u$=!1,_ue=!1,yue=!1,vue=!1,Tue=!1;var pl,gl=globalThis,ws;typeof gl.vscode<"u"&&typeof gl.vscode.process<"u"?ws=gl.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(ws=process);var f$=typeof ws?.versions?.electron=="string",Eue=f$&&ws?.type==="renderer";typeof ws=="object"?(Kb=ws.platform==="win32",Yb=ws.platform==="darwin",Vb=ws.platform==="linux",xue=Vb&&!!ws.env.SNAP&&!!ws.env.SNAP_REVISION,_ue=f$,vue=!!ws.env.CI||!!ws.env.BUILD_ARTIFACTSTAGINGDIRECTORY,bue=!0):typeof navigator=="object"&&!Eue?(pl=navigator.userAgent,Kb=pl.indexOf("Windows")>=0,Yb=pl.indexOf("Macintosh")>=0,yue=(pl.indexOf("Macintosh")>=0||pl.indexOf("iPad")>=0||pl.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,Vb=pl.indexOf("Linux")>=0,Tue=pl?.indexOf("Mobi")>=0,u$=!0):console.error("Unable to resolve platform.");var PC=0;Yb?PC=1:Kb?PC=3:Vb&&(PC=2);var If=Kb,d$=Yb;var Cue=u$&&typeof gl.importScripts=="function",grt=Cue?gl.origin:void 0;var ca=pl;var Iue=typeof gl.postMessage=="function"&&!gl.importScripts,hrt=(()=>{if(Iue){let e=[];gl.addEventListener("message",r=>{if(r.data&&r.data.vscodeScheduleAsyncWork)for(let n=0,i=e.length;n<i;n++){let s=e[n];if(s.id===r.data.vscodeScheduleAsyncWork){e.splice(n,1),s.callback();return}}});let t=0;return r=>{let n=++t;e.push({id:n,callback:r}),gl.postMessage({vscodeScheduleAsyncWork:n},"*")}}return e=>setTimeout(e)})();var Sue=!!(ca&&ca.indexOf("Chrome")>=0),xrt=!!(ca&&ca.indexOf("Firefox")>=0),brt=!!(!Sue&&ca&&ca.indexOf("Safari")>=0),_rt=!!(ca&&ca.indexOf("Edg/")>=0),yrt=!!(ca&&ca.indexOf("Android")>=0);var Sf,RC=globalThis.vscode;if(typeof RC<"u"&&typeof RC.process<"u"){let e=RC.process;Sf={get platform(){return e.platform},get arch(){return e.arch},get env(){return e.env},cwd(){return e.cwd()}}}else typeof process<"u"&&typeof process?.versions?.node=="string"?Sf={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:Sf={get platform(){return If?"win32":d$?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};var gh=Sf.cwd,m$=Sf.env,p$=Sf.platform,Irt=Sf.arch;var Pue=65,Rue=97,Due=90,Aue=122,qc=46,Vn=47,ho=92,$c=58,Nue=63,Jb=class extends Error{static{o(this,"ErrorInvalidArgType")}constructor(t,r,n){let i;typeof r=="string"&&r.indexOf("not ")===0?(i="must not be",r=r.replace(/^not /,"")):i="must be";let s=t.indexOf(".")!==-1?"property":"argument",a=`The "${t}" ${s} ${i} of type ${r}`;a+=`. Received type ${typeof n}`,super(a),this.code="ERR_INVALID_ARG_TYPE"}};function kue(e,t){if(e===null||typeof e!="object")throw new Jb(t,"Object",e)}o(kue,"validateObject");function sn(e,t){if(typeof e!="string")throw new Jb(t,"string",e)}o(sn,"validateString");var xo=p$==="win32";function Et(e){return e===Vn||e===ho}o(Et,"isPathSeparator");function DC(e){return e===Vn}o(DC,"isPosixPathSeparator");function Wc(e){return e>=Pue&&e<=Due||e>=Rue&&e<=Aue}o(Wc,"isWindowsDeviceRoot");function Xb(e,t,r,n){let i="",s=0,a=-1,l=0,c=0;for(let u=0;u<=e.length;++u){if(u<e.length)c=e.charCodeAt(u);else{if(n(c))break;c=Vn}if(n(c)){if(!(a===u-1||l===1))if(l===2){if(i.length<2||s!==2||i.charCodeAt(i.length-1)!==qc||i.charCodeAt(i.length-2)!==qc){if(i.length>2){let f=i.lastIndexOf(r);f===-1?(i="",s=0):(i=i.slice(0,f),s=i.length-1-i.lastIndexOf(r)),a=u,l=0;continue}else if(i.length!==0){i="",s=0,a=u,l=0;continue}}t&&(i+=i.length>0?`${r}..`:"..",s=2)}else i.length>0?i+=`${r}${e.slice(a+1,u)}`:i=e.slice(a+1,u),s=u-a-1;a=u,l=0}else c===qc&&l!==-1?++l:l=-1}return i}o(Xb,"normalizeString");function Oue(e){return e?`${e[0]==="."?"":"."}${e}`:""}o(Oue,"formatExt");function g$(e,t){kue(t,"pathObject");let r=t.dir||t.root,n=t.base||`${t.name||""}${Oue(t.ext)}`;return r?r===t.root?`${r}${n}`:`${r}${e}${n}`:n}o(g$,"_format");var an={resolve(...e){let t="",r="",n=!1;for(let i=e.length-1;i>=-1;i--){let s;if(i>=0){if(s=e[i],sn(s,`paths[${i}]`),s.length===0)continue}else t.length===0?s=gh():(s=m$[`=${t}`]||gh(),(s===void 0||s.slice(0,2).toLowerCase()!==t.toLowerCase()&&s.charCodeAt(2)===ho)&&(s=`${t}\\`));let a=s.length,l=0,c="",u=!1,f=s.charCodeAt(0);if(a===1)Et(f)&&(l=1,u=!0);else if(Et(f))if(u=!0,Et(s.charCodeAt(1))){let d=2,m=d;for(;d<a&&!Et(s.charCodeAt(d));)d++;if(d<a&&d!==m){let p=s.slice(m,d);for(m=d;d<a&&Et(s.charCodeAt(d));)d++;if(d<a&&d!==m){for(m=d;d<a&&!Et(s.charCodeAt(d));)d++;(d===a||d!==m)&&(c=`\\\\${p}\\${s.slice(m,d)}`,l=d)}}}else l=1;else Wc(f)&&s.charCodeAt(1)===$c&&(c=s.slice(0,2),l=2,a>2&&Et(s.charCodeAt(2))&&(u=!0,l=3));if(c.length>0)if(t.length>0){if(c.toLowerCase()!==t.toLowerCase())continue}else t=c;if(n){if(t.length>0)break}else if(r=`${s.slice(l)}\\${r}`,n=u,u&&t.length>0)break}return r=Xb(r,!n,"\\",Et),n?`${t}\\${r}`:`${t}${r}`||"."},normalize(e){sn(e,"path");let t=e.length;if(t===0)return".";let r=0,n,i=!1,s=e.charCodeAt(0);if(t===1)return DC(s)?"\\":e;if(Et(s))if(i=!0,Et(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!Et(e.charCodeAt(l));)l++;if(l<t&&l!==c){let u=e.slice(c,l);for(c=l;l<t&&Et(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!Et(e.charCodeAt(l));)l++;if(l===t)return`\\\\${u}\\${e.slice(c)}\\`;l!==c&&(n=`\\\\${u}\\${e.slice(c,l)}`,r=l)}}}else r=1;else Wc(s)&&e.charCodeAt(1)===$c&&(n=e.slice(0,2),r=2,t>2&&Et(e.charCodeAt(2))&&(i=!0,r=3));let a=r<t?Xb(e.slice(r),!i,"\\",Et):"";return a.length===0&&!i&&(a="."),a.length>0&&Et(e.charCodeAt(t-1))&&(a+="\\"),n===void 0?i?`\\${a}`:a:i?`${n}\\${a}`:`${n}${a}`},isAbsolute(e){sn(e,"path");let t=e.length;if(t===0)return!1;let r=e.charCodeAt(0);return Et(r)||t>2&&Wc(r)&&e.charCodeAt(1)===$c&&Et(e.charCodeAt(2))},join(...e){if(e.length===0)return".";let t,r;for(let s=0;s<e.length;++s){let a=e[s];sn(a,"path"),a.length>0&&(t===void 0?t=r=a:t+=`\\${a}`)}if(t===void 0)return".";let n=!0,i=0;if(typeof r=="string"&&Et(r.charCodeAt(0))){++i;let s=r.length;s>1&&Et(r.charCodeAt(1))&&(++i,s>2&&(Et(r.charCodeAt(2))?++i:n=!1))}if(n){for(;i<t.length&&Et(t.charCodeAt(i));)i++;i>=2&&(t=`\\${t.slice(i)}`)}return an.normalize(t)},relative(e,t){if(sn(e,"from"),sn(t,"to"),e===t)return"";let r=an.resolve(e),n=an.resolve(t);if(r===n||(e=r.toLowerCase(),t=n.toLowerCase(),e===t))return"";let i=0;for(;i<e.length&&e.charCodeAt(i)===ho;)i++;let s=e.length;for(;s-1>i&&e.charCodeAt(s-1)===ho;)s--;let a=s-i,l=0;for(;l<t.length&&t.charCodeAt(l)===ho;)l++;let c=t.length;for(;c-1>l&&t.charCodeAt(c-1)===ho;)c--;let u=c-l,f=a<u?a:u,d=-1,m=0;for(;m<f;m++){let g=e.charCodeAt(i+m);if(g!==t.charCodeAt(l+m))break;g===ho&&(d=m)}if(m!==f){if(d===-1)return n}else{if(u>f){if(t.charCodeAt(l+m)===ho)return n.slice(l+m+1);if(m===2)return n.slice(l+m)}a>f&&(e.charCodeAt(i+m)===ho?d=m:m===2&&(d=3)),d===-1&&(d=0)}let p="";for(m=i+d+1;m<=s;++m)(m===s||e.charCodeAt(m)===ho)&&(p+=p.length===0?"..":"\\..");return l+=d,p.length>0?`${p}${n.slice(l,c)}`:(n.charCodeAt(l)===ho&&++l,n.slice(l,c))},toNamespacedPath(e){if(typeof e!="string"||e.length===0)return e;let t=an.resolve(e);if(t.length<=2)return e;if(t.charCodeAt(0)===ho){if(t.charCodeAt(1)===ho){let r=t.charCodeAt(2);if(r!==Nue&&r!==qc)return`\\\\?\\UNC\\${t.slice(2)}`}}else if(Wc(t.charCodeAt(0))&&t.charCodeAt(1)===$c&&t.charCodeAt(2)===ho)return`\\\\?\\${t}`;return e},dirname(e){sn(e,"path");let t=e.length;if(t===0)return".";let r=-1,n=0,i=e.charCodeAt(0);if(t===1)return Et(i)?e:".";if(Et(i)){if(r=n=1,Et(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!Et(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&Et(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!Et(e.charCodeAt(l));)l++;if(l===t)return e;l!==c&&(r=n=l+1)}}}}else Wc(i)&&e.charCodeAt(1)===$c&&(r=t>2&&Et(e.charCodeAt(2))?3:2,n=r);let s=-1,a=!0;for(let l=t-1;l>=n;--l)if(Et(e.charCodeAt(l))){if(!a){s=l;break}}else a=!1;if(s===-1){if(r===-1)return".";s=r}return e.slice(0,s)},basename(e,t){t!==void 0&&sn(t,"suffix"),sn(e,"path");let r=0,n=-1,i=!0,s;if(e.length>=2&&Wc(e.charCodeAt(0))&&e.charCodeAt(1)===$c&&(r=2),t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(s=e.length-1;s>=r;--s){let c=e.charCodeAt(s);if(Et(c)){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=r;--s)if(Et(e.charCodeAt(s))){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){sn(e,"path");let t=0,r=-1,n=0,i=-1,s=!0,a=0;e.length>=2&&e.charCodeAt(1)===$c&&Wc(e.charCodeAt(0))&&(t=n=2);for(let l=e.length-1;l>=t;--l){let c=e.charCodeAt(l);if(Et(c)){if(!s){n=l+1;break}continue}i===-1&&(s=!1,i=l+1),c===qc?r===-1?r=l:a!==1&&(a=1):r!==-1&&(a=-1)}return r===-1||i===-1||a===0||a===1&&r===i-1&&r===n+1?"":e.slice(r,i)},format:g$.bind(null,"\\"),parse(e){sn(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.length,n=0,i=e.charCodeAt(0);if(r===1)return Et(i)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(Et(i)){if(n=1,Et(e.charCodeAt(1))){let d=2,m=d;for(;d<r&&!Et(e.charCodeAt(d));)d++;if(d<r&&d!==m){for(m=d;d<r&&Et(e.charCodeAt(d));)d++;if(d<r&&d!==m){for(m=d;d<r&&!Et(e.charCodeAt(d));)d++;d===r?n=d:d!==m&&(n=d+1)}}}}else if(Wc(i)&&e.charCodeAt(1)===$c){if(r<=2)return t.root=t.dir=e,t;if(n=2,Et(e.charCodeAt(2))){if(r===3)return t.root=t.dir=e,t;n=3}}n>0&&(t.root=e.slice(0,n));let s=-1,a=n,l=-1,c=!0,u=e.length-1,f=0;for(;u>=n;--u){if(i=e.charCodeAt(u),Et(i)){if(!c){a=u+1;break}continue}l===-1&&(c=!1,l=u+1),i===qc?s===-1?s=u:f!==1&&(f=1):s!==-1&&(f=-1)}return l!==-1&&(s===-1||f===0||f===1&&s===l-1&&s===a+1?t.base=t.name=e.slice(a,l):(t.name=e.slice(a,s),t.base=e.slice(a,l),t.ext=e.slice(s,l))),a>0&&a!==n?t.dir=e.slice(0,a-1):t.dir=t.root,t},sep:"\\",delimiter:";",win32:null,posix:null},Lue=(()=>{if(xo){let e=/\\/g;return()=>{let t=gh().replace(e,"/");return t.slice(t.indexOf("/"))}}return()=>gh()})(),xn={resolve(...e){let t="",r=!1;for(let n=e.length-1;n>=-1&&!r;n--){let i=n>=0?e[n]:Lue();sn(i,`paths[${n}]`),i.length!==0&&(t=`${i}/${t}`,r=i.charCodeAt(0)===Vn)}return t=Xb(t,!r,"/",DC),r?`/${t}`:t.length>0?t:"."},normalize(e){if(sn(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===Vn,r=e.charCodeAt(e.length-1)===Vn;return e=Xb(e,!t,"/",DC),e.length===0?t?"/":r?"./":".":(r&&(e+="/"),t?`/${e}`:e)},isAbsolute(e){return sn(e,"path"),e.length>0&&e.charCodeAt(0)===Vn},join(...e){if(e.length===0)return".";let t;for(let r=0;r<e.length;++r){let n=e[r];sn(n,"path"),n.length>0&&(t===void 0?t=n:t+=`/${n}`)}return t===void 0?".":xn.normalize(t)},relative(e,t){if(sn(e,"from"),sn(t,"to"),e===t||(e=xn.resolve(e),t=xn.resolve(t),e===t))return"";let r=1,n=e.length,i=n-r,s=1,a=t.length-s,l=i<a?i:a,c=-1,u=0;for(;u<l;u++){let d=e.charCodeAt(r+u);if(d!==t.charCodeAt(s+u))break;d===Vn&&(c=u)}if(u===l)if(a>l){if(t.charCodeAt(s+u)===Vn)return t.slice(s+u+1);if(u===0)return t.slice(s+u)}else i>l&&(e.charCodeAt(r+u)===Vn?c=u:u===0&&(c=0));let f="";for(u=r+c+1;u<=n;++u)(u===n||e.charCodeAt(u)===Vn)&&(f+=f.length===0?"..":"/..");return`${f}${t.slice(s+c)}`},toNamespacedPath(e){return e},dirname(e){if(sn(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===Vn,r=-1,n=!0;for(let i=e.length-1;i>=1;--i)if(e.charCodeAt(i)===Vn){if(!n){r=i;break}}else n=!1;return r===-1?t?"/":".":t&&r===1?"//":e.slice(0,r)},basename(e,t){t!==void 0&&sn(t,"ext"),sn(e,"path");let r=0,n=-1,i=!0,s;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(s=e.length-1;s>=0;--s){let c=e.charCodeAt(s);if(c===Vn){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===Vn){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){sn(e,"path");let t=-1,r=0,n=-1,i=!0,s=0;for(let a=e.length-1;a>=0;--a){let l=e.charCodeAt(a);if(l===Vn){if(!i){r=a+1;break}continue}n===-1&&(i=!1,n=a+1),l===qc?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||n===-1||s===0||s===1&&t===n-1&&t===r+1?"":e.slice(t,n)},format:g$.bind(null,"/"),parse(e){sn(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.charCodeAt(0)===Vn,n;r?(t.root="/",n=1):n=0;let i=-1,s=0,a=-1,l=!0,c=e.length-1,u=0;for(;c>=n;--c){let f=e.charCodeAt(c);if(f===Vn){if(!l){s=c+1;break}continue}a===-1&&(l=!1,a=c+1),f===qc?i===-1?i=c:u!==1&&(u=1):i!==-1&&(u=-1)}if(a!==-1){let f=s===0&&r?1:s;i===-1||u===0||u===1&&i===a-1&&i===s+1?t.base=t.name=e.slice(f,a):(t.name=e.slice(f,i),t.base=e.slice(f,a),t.ext=e.slice(i,a))}return s>0?t.dir=e.slice(0,s-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};xn.win32=an.win32=an;xn.posix=an.posix=xn;var Srt=xo?an.normalize:xn.normalize,wrt=xo?an.isAbsolute:xn.isAbsolute,Prt=xo?an.join:xn.join,Rrt=xo?an.resolve:xn.resolve,Drt=xo?an.relative:xn.relative,Art=xo?an.dirname:xn.dirname,h$=xo?an.basename:xn.basename,x$=xo?an.extname:xn.extname,Nrt=xo?an.format:xn.format,krt=xo?an.parse:xn.parse,Ort=xo?an.toNamespacedPath:xn.toNamespacedPath,Lrt=xo?an.sep:xn.sep,Frt=xo?an.delimiter:xn.delimiter;var Mue=/^\w[\w\d+.-]*$/,Uue=/^\//,Bue=/^\/\//;function jue(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!Mue.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path){if(e.authority){if(!Uue.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(Bue.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(jue,"_validateUri");function $ue(e,t){return!e&&!t?"file":e}o($ue,"_schemeFix");function Wue(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==u0&&(t=u0+t):t=u0;break}return t}o(Wue,"_referenceResolution");var Ir="",u0="/",que=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,hh=class e{static{o(this,"URI")}static isUri(t){return t instanceof e?!0:t?typeof t.authority=="string"&&typeof t.fragment=="string"&&typeof t.path=="string"&&typeof t.query=="string"&&typeof t.scheme=="string"&&typeof t.fsPath=="string"&&typeof t.with=="function"&&typeof t.toString=="function":!1}constructor(t,r,n,i,s,a=!1){typeof t=="object"?(this.scheme=t.scheme||Ir,this.authority=t.authority||Ir,this.path=t.path||Ir,this.query=t.query||Ir,this.fragment=t.fragment||Ir):(this.scheme=$ue(t,a),this.authority=r||Ir,this.path=Wue(this.scheme,n||Ir),this.query=i||Ir,this.fragment=s||Ir,jue(this,a))}get fsPath(){return AC(this,!1)}with(t){if(!t)return this;let{scheme:r,authority:n,path:i,query:s,fragment:a}=t;return r===void 0?r=this.scheme:r===null&&(r=Ir),n===void 0?n=this.authority:n===null&&(n=Ir),i===void 0?i=this.path:i===null&&(i=Ir),s===void 0?s=this.query:s===null&&(s=Ir),a===void 0?a=this.fragment:a===null&&(a=Ir),r===this.scheme&&n===this.authority&&i===this.path&&s===this.query&&a===this.fragment?this:new Gc(r,n,i,s,a)}static parse(t,r=!1){let n=que.exec(t);return n?new Gc(n[2]||Ir,Zb(n[4]||Ir),Zb(n[5]||Ir),Zb(n[7]||Ir),Zb(n[9]||Ir),r):new Gc(Ir,Ir,Ir,Ir,Ir)}static file(t){let r=Ir;if(If&&(t=t.replace(/\\/g,u0)),t[0]===u0&&t[1]===u0){let n=t.indexOf(u0,2);n===-1?(r=t.substring(2),t=u0):(r=t.substring(2,n),t=t.substring(n)||u0)}return new Gc("file",r,t,Ir,Ir)}static from(t,r){return new Gc(t.scheme,t.authority,t.path,t.query,t.fragment,r)}static joinPath(t,...r){if(!t.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let n;return If&&t.scheme==="file"?n=e.file(an.join(AC(t,!0),...r)).path:n=xn.join(t.path,...r),t.with({path:n})}toString(t=!1){return NC(this,t)}toJSON(){return this}static revive(t){if(t){if(t instanceof e)return t;{let r=new Gc(t);return r._formatted=t.external??null,r._fsPath=t._sep===y$?t.fsPath??null:null,r}}else return t}[Symbol.for("debug.description")](){return`URI(${this.toString()})`}};var y$=If?1:void 0,Gc=class extends hh{constructor(){super(...arguments);this._formatted=null;this._fsPath=null}static{o(this,"Uri")}get fsPath(){return this._fsPath||(this._fsPath=AC(this,!1)),this._fsPath}toString(r=!1){return r?NC(this,!0):(this._formatted||(this._formatted=NC(this,!1)),this._formatted)}toJSON(){let r={$mid:1};return this._fsPath&&(r.fsPath=this._fsPath,r._sep=y$),this._formatted&&(r.external=this._formatted),this.path&&(r.path=this.path),this.scheme&&(r.scheme=this.scheme),this.authority&&(r.authority=this.authority),this.query&&(r.query=this.query),this.fragment&&(r.fragment=this.fragment),r}},v$={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function b$(e,t,r){let n,i=-1;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);if(a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||a===45||a===46||a===95||a===126||t&&a===47||r&&a===91||r&&a===93||r&&a===58)i!==-1&&(n+=encodeURIComponent(e.substring(i,s)),i=-1),n!==void 0&&(n+=e.charAt(s));else{n===void 0&&(n=e.substr(0,s));let l=v$[a];l!==void 0?(i!==-1&&(n+=encodeURIComponent(e.substring(i,s)),i=-1),n+=l):i===-1&&(i=s)}}return i!==-1&&(n+=encodeURIComponent(e.substring(i))),n!==void 0?n:e}o(b$,"encodeURIComponentFast");function Gue(e){let t;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n===35||n===63?(t===void 0&&(t=e.substr(0,r)),t+=v$[n]):t!==void 0&&(t+=e[r])}return t!==void 0?t:e}o(Gue,"encodeURIComponentMinimal");function AC(e,t){let r;return e.authority&&e.path.length>1&&e.scheme==="file"?r=`//${e.authority}${e.path}`:e.path.charCodeAt(0)===47&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&e.path.charCodeAt(2)===58?t?r=e.path.substr(1):r=e.path[1].toLowerCase()+e.path.substr(2):r=e.path,If&&(r=r.replace(/\//g,"\\")),r}o(AC,"uriToFsPath");function NC(e,t){let r=t?Gue:b$,n="",{scheme:i,authority:s,path:a,query:l,fragment:c}=e;if(i&&(n+=i,n+=":"),(s||i==="file")&&(n+=u0,n+=u0),s){let u=s.indexOf("@");if(u!==-1){let f=s.substr(0,u);s=s.substr(u+1),u=f.lastIndexOf(":"),u===-1?n+=r(f,!1,!1):(n+=r(f.substr(0,u),!1,!1),n+=":",n+=r(f.substr(u+1),!1,!0)),n+="@"}s=s.toLowerCase(),u=s.lastIndexOf(":"),u===-1?n+=r(s,!1,!0):(n+=r(s.substr(0,u),!1,!0),n+=s.substr(u))}if(a){if(a.length>=3&&a.charCodeAt(0)===47&&a.charCodeAt(2)===58){let u=a.charCodeAt(1);u>=65&&u<=90&&(a=`/${String.fromCharCode(u+32)}:${a.substr(3)}`)}else if(a.length>=2&&a.charCodeAt(1)===58){let u=a.charCodeAt(0);u>=65&&u<=90&&(a=`${String.fromCharCode(u+32)}:${a.substr(2)}`)}n+=r(a,!0,!1)}return l&&(n+="?",n+=r(l,!1,!1)),c&&(n+="#",n+=t?c:b$(c,!1,!1)),n}o(NC,"_asFormatted");function T$(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substr(0,3)+T$(e.substr(3)):e}}o(T$,"decodeURIComponentGraceful");var _$=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Zb(e){return e.match(_$)?e.replace(_$,t=>T$(t)):e}o(Zb,"percentDecode");var wf=class e{constructor(t){this.uri=t;this._uri=hh.parse(vo(this.uri))}static{o(this,"DocumentId")}static{this._cache=new yb({getCacheKey:JSON.stringify},t=>new e(t.uri))}static create(t){return e._cache.get({uri:t})}get path(){return this._uri.path}get fragment(){return this._uri.fragment}toString(){return this.uri}get baseName(){return h$(this.uri)}get extension(){return x$(this.uri)}toUri(){return this._uri}};var xh=class e{constructor(t){this.edits=t;let r=-1;for(let n of t){if(!(n.replaceRange.start>=r))throw new jr(`Edits must be disjoint and sorted. Found ${n} after ${r}`);r=n.replaceRange.endExclusive}}static{o(this,"OffsetEdit")}static{this.empty=new e([])}static fromJson(t){return new e(t.map(bo.fromJson))}static from(t){let r=t.map(i=>new bo(fr.ofStartAndLength(i.rangeOffset,i.rangeLength),i.text));return r.reverse(),new e(r)}static single(t,r){return new e([new bo(t,r)])}normalize(){let t=[],r;for(let n of this.edits)n.newText.length===0&&n.replaceRange.length===0||(r&&r.replaceRange.endExclusive===n.replaceRange.start?r=new bo(r.replaceRange.join(n.replaceRange),r.newText+n.newText):(r&&t.push(r),r=n));return r&&t.push(r),new e(t)}normalizeEOL(t){return new e(this.edits.map(r=>r.normalizeEOL(t)))}isNoop(t){return this.edits.every(r=>r.isNoop(t))}toString(){return`[${this.edits.map(r=>r.toString()).join(", ")}]`}apply(t){let r=[],n=0;for(let i of this.edits)r.push(t.substring(n,i.replaceRange.start)),r.push(i.newText),n=i.replaceRange.endExclusive;return r.push(t.substring(n)),r.join("")}compose(t){return zue(this,t)}inverse(t){let r=[],n=0;for(let i of this.edits)r.push(new bo(fr.ofStartAndLength(i.replaceRange.start+n,i.newText.length),t.substring(i.replaceRange.start,i.replaceRange.endExclusive))),n+=i.newText.length-i.replaceRange.length;return new e(r)}getNewTextRanges(){let t=[],r=0;for(let n of this.edits)t.push(fr.ofStartAndLength(n.replaceRange.start+r,n.newText.length)),r+=n.newText.length-n.replaceRange.length;return t}get isEmpty(){return this.edits.length===0}tryRebase(t){let r=[],n=0,i=0,s=0;for(;i<this.edits.length||n<t.edits.length;){let a=t.edits[n],l=this.edits[i];if(l)a?l.replaceRange.intersects(a.replaceRange)?i++:l.replaceRange.start<a.replaceRange.start?(r.push(new bo(l.replaceRange.delta(s),l.newText)),i++):(n++,s+=a.newText.length-a.replaceRange.length):(r.push(new bo(l.replaceRange.delta(s),l.newText)),i++);else break}return new e(r)}removeCommonSuffixPrefix(t){let r=[];for(let n of this.edits){let i=n.removeCommonSuffixPrefix(t);i.isEmpty||r.push(i)}return new e(r)}applyToOffset(t){let r=0;for(let n of this.edits)if(n.replaceRange.start<=t){if(t<n.replaceRange.endExclusive)return n.replaceRange.start+r;r+=n.newText.length-n.replaceRange.length}else break;return t+r}applyToOffsetRange(t){return new fr(this.applyToOffset(t.start),this.applyToOffset(t.endExclusive))}applyToOffsetOrUndefined(t){let r=0;for(let n of this.edits)if(n.replaceRange.start<=t){if(t<n.replaceRange.endExclusive)return;r+=n.newText.length-n.replaceRange.length}else break;return t+r}applyToOffsetRangeOrUndefined(t){let r=this.applyToOffsetOrUndefined(t.start);if(r===void 0)return;let n=this.applyToOffsetOrUndefined(t.endExclusive);if(n!==void 0)return new fr(r,n)}applyInverseToOffset(t){let r=0;for(let n of this.edits){let i=n.newText.length;if(n.replaceRange.start<=t-r){if(t-r<n.replaceRange.start+i)return n.replaceRange.start;r+=i-n.replaceRange.length}else break}return t-r}},bo=class e{constructor(t,r){this.replaceRange=t;this.newText=r}static{o(this,"SingleOffsetEdit")}static delete(t){return new e(t,"")}static fromJson(t){return new e(fr.ofStartAndLength(t.pos,t.len),t.txt)}toString(){return`${this.replaceRange} -> "${this.newText}"`}removeCommonSuffixPrefix(t){let r=t.substring(this.replaceRange.start,this.replaceRange.endExclusive),n=bj(r,this.newText),i=Math.min(r.length-n,this.newText.length-n,_j(r,this.newText)),s=new fr(this.replaceRange.start+n,this.replaceRange.endExclusive-i),a=this.newText.substring(n,this.newText.length-i);return new e(s,a)}normalizeEOL(t){let r=this.newText.replace(/\r\n|\n/g,t);return new e(this.replaceRange,r)}isNoop(t){return this.newText===t.substring(this.replaceRange.start,this.replaceRange.endExclusive)}get isEmpty(){return this.newText.length===0&&this.replaceRange.length===0}};function zue(e,t){if(e=e.normalize(),t=t.normalize(),e.isEmpty)return t;if(t.isEmpty)return e;let r=[...e.edits],n=[],i=0;for(let s of t.edits){for(;;){let u=r[0];if(!u||u.replaceRange.start+i+u.newText.length>=s.replaceRange.start)break;r.shift(),n.push(u),i+=u.newText.length-u.replaceRange.length}let a=i,l,c;for(;;){let u=r[0];if(!u||u.replaceRange.start+i>s.replaceRange.endExclusive)break;l||(l=u),c=u,r.shift(),i+=u.newText.length-u.replaceRange.length}if(!l)n.push(new bo(s.replaceRange.delta(-i),s.newText));else{let u="",f=s.replaceRange.start-(l.replaceRange.start+a);f>0&&(u=l.newText.slice(0,f));let d=c.replaceRange.endExclusive+i-s.replaceRange.endExclusive;if(d>0){let g=new bo(fr.ofStartAndLength(c.replaceRange.endExclusive,0),c.newText.slice(-d));r.unshift(g),i-=g.newText.length-g.replaceRange.length}let m=u+s.newText,p=new fr(Math.min(l.replaceRange.start,s.replaceRange.start-a),s.replaceRange.endExclusive-i);n.push(new bo(p,m))}}for(;;){let s=r.shift();if(!s)break;n.push(s)}return new xh(n).normalize()}o(zue,"joinEdits");function E$(e,t){return e.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-e.endLineNumberExclusive:t.endLineNumberExclusive<=e.startLineNumber?e.startLineNumber-t.endLineNumberExclusive:0}o(E$,"lineRangeDistance");var Qb=class e{constructor(t){this.edits=t}static{o(this,"TextEdit")}static fromEdit(t,r){let n=t.edits.map(i=>new hl(r.getTransformer().getRange(i.range),i.newText));return new e(n)}toEdit(t){let r=this.edits.map(n=>ln.replace(t.getTransformer().getOffsetRange(n.range),n.newText));return _o.create(r)}mapEdits(t){return new e(this.edits.map(t))}},hl=class e{constructor(t,r){this.range=t;this.newText=r}static{o(this,"SingleTextEdit")}static joinEdits(t,r){if(t.length===0)throw new jr;if(t.length===1)return t[0];let n=t[0].range.getStartPosition(),i=t[t.length-1].range.getEndPosition(),s="";for(let a=0;a<t.length;a++){let l=t[a];if(s+=l.newText,a<t.length-1){let c=t[a+1],u=$r.fromPositions(l.range.getEndPosition(),c.range.getStartPosition()),f=r.getValueOfRange(u);s+=f}}return new e($r.fromPositions(n,i),s)}static fromSingleEdit(t,r){return new e(r.getTransformer().getRange(t.range),t.newText)}extendToCoverRange(t,r){if(this.range.containsRange(t))return this;let n=this.range.plusRange(t),i=r.getValueOfRange($r.fromPositions(n.getStartPosition(),this.range.getStartPosition())),s=r.getValueOfRange($r.fromPositions(this.range.getEndPosition(),n.getEndPosition())),a=i+this.newText+s;return new e(n,a)}extendToFullLine(t){let r=new $r(this.range.startLineNumber,1,this.range.endLineNumber,t.getTransformer().getLineLength(this.range.endLineNumber)+1);return this.extendToCoverRange(r,t)}toSingleEdit(t){let n=t.getTransformer().getOffsetRange(this.range);return ln.replace(n,this.newText)}};var Pf=class e{constructor(t){this.edits=t;ah(kb(t,(r,n)=>r.lineRange.endLineNumberExclusive<=n.lineRange.startLineNumber))}static{o(this,"LineEdit")}static{this.empty=new e([])}static deserialize(t){return new e(t.map(r=>o1.deserialize(r)))}static fromEdit(t){let r=Qb.fromEdit(t.edit,t.base);return e.fromTextEdit(r,t.base)}static fromTextEdit(t,r){let n=t.edits,i=[],s=[];for(let a=0;a<n.length;a++){let l=n[a],c=a+1<n.length?n[a+1]:void 0;if(s.push(l),c&&c.range.startLineNumber===l.range.endLineNumber)continue;let u=hl.joinEdits(s,r);s.length=0;let f=o1.fromSingleTextEdit(u,r);i.push(f)}return new e(i)}static createFromUnsorted(t){let r=t.slice();return r.sort(O3(n=>n.lineRange.startLineNumber,L3)),new e(r)}isEmpty(){return this.edits.length===0}toEdit(t){let r=[];for(let n of this.edits){let i=n.toSingleEdit(t);r.push(i)}return _o.create(r)}toString(){return this.edits.map(t=>t.toString()).join(",")}serialize(){return this.edits.map(t=>t.serialize())}getNewLineRanges(){let t=[],r=0;for(let n of this.edits)t.push(Yo.ofLength(n.lineRange.startLineNumber+r,n.newLines.length)),r+=n.newLines.length-n.lineRange.length;return t}mapLineNumber(t){let r=0;for(let n of this.edits){if(n.lineRange.endLineNumberExclusive>t)break;r+=n.newLines.length-n.lineRange.length}return t+r}mapLineRange(t){return new Yo(this.mapLineNumber(t.startLineNumber),this.mapLineNumber(t.endLineNumberExclusive))}mapBackLineRange(t,r){return this.inverse(r).mapLineRange(t)}touches(t){return this.edits.some(r=>t.edits.some(n=>r.lineRange.intersect(n.lineRange)))}rebase(t){return new e(this.edits.map(r=>new o1(t.mapLineRange(r.lineRange),r.newLines)))}humanReadablePatch(t){let r=[];function n(l,c,u,f){let d=u==="unmodified"?" ":u==="deleted"?"-":"+";f===void 0&&(f="[[[[[ WARNING: LINE DOES NOT EXIST ]]]]]");let m=l===-1?"   ":l.toString().padStart(3," "),p=c===-1?"   ":c.toString().padStart(3," ");r.push(`${d} ${m} ${p} ${f}`)}o(n,"pushLine");function i(){r.push("---")}o(i,"pushSeperator");let s=0,a=!0;for(let l of xU(this.edits,(c,u)=>E$(c.lineRange,u.lineRange)<=5)){a?a=!1:i();let c=l[0].lineRange.startLineNumber-2;for(let u of l){for(let m=Math.max(1,c);m<u.lineRange.startLineNumber;m++)n(m,m+s,"unmodified",t[m-1]);let f=u.lineRange,d=u.newLines;for(let m of f.mapToLineArray(p=>p)){let p=t[m-1];n(m,-1,"deleted",p)}for(let m=0;m<d.length;m++){let p=d[m];n(-1,f.startLineNumber+s+m,"added",p)}c=f.endLineNumberExclusive,s+=u.newLines.length-u.lineRange.length}for(let u=c;u<=Math.min(c+2,t.length);u++)n(u,u+s,"unmodified",t[u-1])}return r.join(`
`)}apply(t){let r=[],n=0;for(let i of this.edits){for(;n<i.lineRange.startLineNumber-1;)r.push(t[n]),n++;for(let s of i.newLines)r.push(s);n=i.lineRange.endLineNumberExclusive-1}for(;n<t.length;)r.push(t[n]),n++;return r}inverse(t){let r=this.getNewLineRanges();return new e(this.edits.map((n,i)=>new o1(r[i],t.slice(n.lineRange.startLineNumber-1,n.lineRange.endLineNumberExclusive-1))))}},o1=class e{constructor(t,r){this.lineRange=t;this.newLines=r}static{o(this,"SingleLineEdit")}static deserialize(t){return new e(Yo.ofLength(t[0],t[1]-t[0]),t[2])}static fromSingleTextEdit(t,r){let n=vb(t.newText),i=t.range.startLineNumber,s=r.getValueOfRange($r.fromPositions(new hn(t.range.startLineNumber,1),t.range.getStartPosition()));n[0]=s+n[0];let a=t.range.endLineNumber+1,l=r.getTransformer().getLineLength(t.range.endLineNumber)+1,c=r.getValueOfRange($r.fromPositions(t.range.getEndPosition(),new hn(t.range.endLineNumber,l)));n[n.length-1]=n[n.length-1]+c;let u=t.range.startColumn===r.getTransformer().getLineLength(t.range.startLineNumber)+1,f=t.range.endColumn===1;return u&&n[0].length===s.length&&(i++,n.shift()),n.length>0&&i<a&&f&&n[n.length-1].length===c.length&&(a--,n.pop()),new e(new Yo(i,a),n)}toLineEdit(){return new Pf([this])}toSingleTextEdit(t){if(this.newLines.length===0){let r=t.getTransformer().textLength;if(this.lineRange.endLineNumberExclusive===r.lineCount+2){let n;if(this.lineRange.startLineNumber>1){let s=this.lineRange.startLineNumber-1,a=t.getTransformer().getLineLength(s)+1;n=new hn(s,a)}else n=new hn(1,1);let i=r.addToPosition(new hn(1,1));return new hl($r.fromPositions(n,i),"")}else return new hl(new $r(this.lineRange.startLineNumber,1,this.lineRange.endLineNumberExclusive,1),"")}else if(this.lineRange.isEmpty){let r,n,i,s=this.lineRange.startLineNumber;return s===t.getTransformer().textLength.lineCount+2?(r=s-1,n=t.getTransformer().getLineLength(r)+1,i=this.newLines.map(a=>`
`+a).join("")):(r=s,n=1,i=this.newLines.map(a=>a+`
`).join("")),new hl($r.fromPositions(new hn(r,n)),i)}else{let r=this.lineRange.endLineNumberExclusive-1,n=t.getTransformer().getLineLength(r)+1,i=new $r(this.lineRange.startLineNumber,1,r,n),s=this.newLines.join(`
`);return new hl(i,s)}}toSingleEdit(t){let r=this.toSingleTextEdit(t),n=t.getTransformer().getOffsetRange(r.range);return ln.replace(n,r.newText)}toString(){return`${this.lineRange}->${JSON.stringify(this.newLines)}`}serialize(){return[this.lineRange.startLineNumber,this.lineRange.endLineNumberExclusive,this.newLines]}removeCommonSuffixPrefixLines(t){let r=this.lineRange.startLineNumber,n=this.lineRange.endLineNumberExclusive,i=0;for(;r<n&&i<this.newLines.length&&this.newLines[i]===t.getLineAt(r);)r++,i++;let s=0;for(;r<n&&s+i<this.newLines.length&&this.newLines[this.newLines.length-1-s]===t.getLineAt(n-1);)n--,s++;return i===0&&s===0?this:new e(new Yo(r,n),this.newLines.slice(i,this.newLines.length-s))}},Hue;(t=>{function e(r){return Array.isArray(r)&&r.length===3&&typeof r[0]=="number"&&typeof r[1]=="number"&&Array.isArray(r[2])&&r[2].every(n=>typeof n=="string")}t.is=e,o(e,"is")})(Hue||={});var e8=class e{constructor(t,r){this.base=t;this.edit=r}static{o(this,"RootedLineEdit")}static fromEdit(t){let r=Pf.fromEdit(t);return new e(t.base,r)}toString(){return this.edit.humanReadablePatch(this.base.getLines())}toEdit(){return this.edit.toEdit(this.base)}toRootedEdit(){return new bh(this.base,this.toEdit())}getEditedState(){let t=this.base.getLines();return this.edit.apply(t)}removeCommonSuffixPrefixLines(){let t=o(n=>!n.lineRange.isEmpty||n.newLines.length>0,"isNotEmptyEdit"),r=this.edit.edits.map(n=>n.removeCommonSuffixPrefixLines(this.base)).filter(n=>t(n));return new e(this.base,new Pf(r))}};var _o=class e{constructor(t){this.edits=t;ah(kb(t,(r,n)=>r.range.endExclusive<=n.range.start))}static{o(this,"Edit")}static deserialize(t){return new e(t.map(r=>ln.deserialize(r)))}static{this.empty=new e([])}static create(t){return new e(t)}static single(t){return new e([t])}static replace(t,r){return new e([ln.replace(t,r)])}static insert(t,r){return new e([ln.insert(t,r)])}static fromOffsetEdit(t){return new e(t.edits.map(r=>ln.replace(r.replaceRange,r.newText)))}static compose(t){let r;for(let n of t)r===void 0?r=n:r=r.compose(n);return r??e.empty}static trySwap(t,r){let n=t.inverse((a,l)=>" ".repeat(l-a)),i=r.tryRebase(n);if(!i)return;let s=t.tryRebase(i);if(s)return{e1:i,e2:s}}toOffsetEdit(){return new xh(this.edits.map(t=>new bo(t.range,t.newText)))}compose(t){return Vue(this,t)}getNewRanges(){return this.toOffsetEdit().getNewTextRanges()}apply(t){let r="",n=0;for(let i of this.edits)r+=t.substring(n,i.range.start),r+=i.newText,n=i.range.endExclusive;return r+=t.substring(n),r}normalize(){let t=[],r;for(let n of this.edits)if(!(n.newText.length===0&&n.range.length===0))if(r&&r.range.endExclusive===n.range.start){let i=r.data?.merge(n.data)??void 0;r=ln.replaceWithData(r.range.join(n.range),r.newText+n.newText,i)}else r&&t.push(r),r=n;return r&&t.push(r),new e(t)}normalizeOnSource(t){let r=this.apply(t),i=ln.replace(fr.ofLength(t.length),r).removeCommonSuffixAndPrefix(t);return i.isNeutral()?e.empty:i.toEdit()}toString(){return this.edits.map(t=>t.toString()).join("")}decompose(t){if(t===void 0){let i=[],s=0;for(let a of this.edits)i.push(ln.replaceWithData(fr.ofStartAndLength(a.range.start+s,a.range.length),a.newText,a.data)),s+=a.newText.length-a.range.length;return new t8(i)}if(this.edits.length!==t.arrayLength)throw gU(`Number of edits ${this.edits.length} does not match ${t.arrayLength}`);let r=[],n=this.edits.slice();for(let i=0;i<this.edits.length;++i){let s=t.mapIndexBack(i),a=n[s];r.push(a);for(let l=s;l<n.length;++l){let c=a.newText.length-a.range.length,u=n[l];n[l]=ln.replaceWithData(fr.ofStartAndLength(u.range.start+c,u.range.length),u.newText,u.data)}}return new t8(r)}getRange(){if(this.edits.length!==0)return this.edits[0].range.join(this.edits[this.edits.length-1].range)}isEmpty(){return this.edits.length===0}applyInverseToOffsetRange(t){let r=this.toOffsetEdit(),n=r.applyInverseToOffset(t.start),i=r.applyInverseToOffset(t.endExclusive);return new fr(n,i)}serialize(){return this.edits.map(t=>t.serialize())}equals(t){if(this.edits.length!==t.edits.length)return!1;for(let r=0;r<this.edits.length;++r)if(!this.edits[r].equals(t.edits[r]))return!1;return!0}inverse(t){let r=[],n=0;for(let i of this.edits)r.push(ln.replace(fr.ofStartAndLength(i.range.start+n,i.newText.length),t(i.range.start,i.range.endExclusive))),n+=i.newText.length-i.range.length;return new e(r)}inverseOnString(t){return this.inverse((r,n)=>t.substring(r,n))}mapData(t){return e.create(this.edits.map(r=>r.mapData(t)))}tryRebase(t){let r=[],n=0,i=0,s=0;for(;i<this.edits.length||n<t.edits.length;){let a=t.edits[n],l=this.edits[i];if(l)if(!a)r.push(ln.replace(l.range.delta(s),l.newText)),i++;else{if(l.range.intersectsOrTouches(a.range))return;l.range.start<a.range.start?(r.push(ln.replace(l.range.delta(s),l.newText)),i++):(n++,s+=a.newText.length-a.range.length)}else break}return new e(r)}};function Vue(e,t){if(e=e.normalize(),t=t.normalize(),e.isEmpty())return t;if(t.isEmpty())return e;let r=[...e.edits],n=[],i=0;for(let s of t.edits){for(;;){let u=r[0];if(!u||u.range.start+i+u.newText.length>=s.range.start)break;r.shift(),n.push(u),i+=u.newText.length-u.range.length}let a=i,l,c;for(;;){let u=r[0];if(!u||u.range.start+i>s.range.endExclusive)break;l||(l=u),c=u,r.shift(),i+=u.newText.length-u.range.length}if(!l)n.push(ln.replaceWithData(s.range.delta(-i),s.newText,s.data));else{let u=s.range.start-a-l.range.start;u>0&&n.push(ln.replaceWithData(fr.emptyAt(l.range.start),l.newText.slice(0,u),l.data));let f=c.range.endExclusive+i-s.range.endExclusive;if(f>0){let m=ln.replaceWithData(fr.emptyAt(c.range.endExclusive),c.newText.slice(-f),c.data);r.unshift(m),i-=m.newText.length-m.range.length}let d=new fr(Math.min(l.range.start,s.range.start-a),s.range.endExclusive-i);n.push(ln.replaceWithData(d,s.newText,s.data))}}for(;;){let s=r.shift();if(!s)break;n.push(s)}return _o.create(n).normalize()}o(Vue,"joinEdits");var ln=class e{constructor(t,r,n){this.range=t;this.newText=r;this.data=n}static{o(this,"SingleEdit")}static deserialize(t){return new e(new fr(t[0],t[1]),t[2],void 0)}static replace(t,r){return new e(t,r,void 0)}static insert(t,r){return new e(new fr(t,t),r,void 0)}static delete(t){return new e(t,"",void 0)}static replaceWithData(t,r,n){return new e(t,r,n)}static insertWithData(t,r,n){return new e(new fr(t,t),r,n)}static deleteWithData(t,r){return new e(t,"",r)}static fromSingleOffsetEdit(t){return new e(t.replaceRange,t.newText,void 0)}toString(){return`${this.range}->${JSON.stringify(this.newText)}`}serialize(){return[this.range.start,this.range.endExclusive,this.newText]}toEdit(){return _o.create([this])}equals(t){return this.range.equals(t.range)&&this.newText===t.newText}removeCommonSuffixAndPrefix(t){return this.removeCommonSuffix(t).removeCommonPrefix(t)}removeCommonPrefix(t){let r=this.range.substring(t),n=Kue(r,this.newText);return n===0?this:e.replaceWithData(this.range.deltaStart(n),this.newText.substring(n),this.data)}removeCommonSuffix(t){let r=this.range.substring(t),n=Yue(r,this.newText);return n===0?this:e.replaceWithData(this.range.deltaEnd(-n),this.newText.substring(0,this.newText.length-n),this.data)}isNeutral(){return this.newText.length===0&&this.range.length===0}mapData(t){return new e(this.range,this.newText,t(this.data))}};function Kue(e,t){let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];)r++;return r}o(Kue,"commonPrefixLength");function Yue(e,t){let r=0;for(;r<e.length&&r<t.length&&e[e.length-1-r]===t[t.length-1-r];)r++;return r}o(Yue,"commonSuffixLength");var bh=class e{constructor(t,r){this.base=t;this.edit=r}static{o(this,"RootedEdit")}getEditedState(){return this.base.apply(this.edit)}rebase(t){return Uc(()=>null.base.equals(this.base.apply(t))),Uc(()=>null.base.apply(null.edit).equals(this.base.apply(t).apply(this.edit))),null}toString(){return e8.fromEdit(this).toString()}normalize(){return new e(this.base,this.edit.normalizeOnSource(this.base.value))}equals(t){return this.base.equals(t.base)&&this.edit.equals(t.edit)}},t8=class e{constructor(t){this.edits=t}static{o(this,"SingleEdits")}static{this.empty=new e([])}compose(){return _o.compose(this.edits.map(t=>t.toEdit()))}apply(t){return this.compose().apply(t)}isEmpty(){return this.edits.length===0}toEdits(){return new _h(this.edits.map(t=>t.toEdit()))}},_h=class e{constructor(t){this.edits=t}static{o(this,"Edits")}static{this.empty=new e([])}static single(t){return new e([t])}compose(){return _o.compose(this.edits)}add(t){return new e([...this.edits,t])}apply(t){return this.compose().apply(t)}isEmpty(){return this.edits.length===0}swap(t){let r=t,n=[];for(let i of this.edits){let s=_o.trySwap(r,i);if(!s)return;n.push(s.e1),r=s.e2}return{edits:new e(n),editLast:r}}mapData(t){return new e(this.edits.map(r=>r.mapData(t)))}serialize(){return this.edits.map(t=>t.serialize())}static deserialize(t){return new e(t.map(r=>_o.deserialize(r)))}toHumanReadablePatch(t){let r=t,n=[];for(let i of this.edits){let s=Pf.fromEdit(new bh(r,i));n.push(s.humanReadablePatch(r.getLines())),r=r.apply(i)}return n.join(`
---
`)}};var s1=class extends zb{constructor(r,n=!1){super();this._openDocuments=dl(this,[]);this.openDocuments=this._openDocuments;this._documents=new Map;this._started=!1;this.ctx=r,this._started=!1,n||this.start()}static{o(this,"ObservableLspWorkspace")}start(){if(this._started)return;this._started=!0;let r=this.ctx.get(Gt);for(let n of r.getTextDocumentsUnsafe())n&&this.addLspDocument(n.uri,n.clientLanguageId,n.getText());r.onDidOpenTextDocument(async n=>{this.addLspDocument(n.document.uri,n.document.languageId,n.document.text)}),r.onDidCloseTextDocument(async n=>{this.removeClosedLspDocument(n.document.uri)}),r.onDidChangeTextDocument(async n=>{this.onDidChangeLspDocument(n.document.uri,n.contentChanges)})}addLspDocument(r,n,i){let s=wf.create(r);return this.addDocument({id:s,initialValue:i,languageId:dh.create(n)},void 0)}onDidChangeLspDocument(r,n){let i=wf.create(r),s=this._documents.get(i);s&&s.applyLspContentChanges(n)}onUserPositionChange(r,n){let i=wf.create(r),s=this._documents.get(i);s&&s.updateSelectionFromLspPosition(n)}removeClosedLspDocument(r){let n=wf.create(r);this._documents.get(n)?.dispose()}addDocument(r,n=void 0){let i=this._documents.get(r.id);if(i)return i;let s=new kC(r.id,new ph(r.initialValue??""),[],r.languageId??dh.PlainText,()=>{this._documents.delete(r.id);let a=this._openDocuments.get(),l=a.filter(c=>c.id!==s.id);l.length!==a.length&&this._openDocuments.set(l,n,{added:[],removed:[s]})},r.workspaceRoot);return this._documents.set(r.id,s),this._openDocuments.set([...this._openDocuments.get(),s],n,{added:[s],removed:[]}),s}async getDocument(r){if(await this.ctx.get(Gt).getTextDocument(r))return this._documents.get(r)}clear(){this._openDocuments.set([],void 0,{added:[],removed:this._openDocuments.get()});for(let r of this._documents.values())r.dispose();this._documents.clear()}getWorkspaceRoot(r){return this._documents.get(r)?.workspaceRoot}},kC=class extends Hb{static{o(this,"MutableObservableLspDocument")}constructor(t,r,n,i,s,a){super(t,r,n,i,s,a)}applyLspContentChanges(t){let r=this.editFromLspContentChanges(t);this.applyEdit(r.compose(),void 0)}updateSelectionFromLspPosition(t){let r=this.value.get().getTransformer().getOffset(new hn(t.lineNumber+1,t.column+1));this.updateSelection([new fr(r,r)])}editFromLspContentChanges(t){return new _h(t.map(n=>this.editFromLspContentChange(n)))}editFromLspContentChange(t){if(C$.TextDocumentContentChangeEvent.isIncremental(t)){let r=this.value.get().getTransformer(),n=r.getOffset(new hn(t.range.start.line+1,t.range.start.character+1)),i=r.getOffset(new hn(t.range.end.line+1,t.range.end.character+1));if(n>i)throw new jr(`Invalid range: [${n}, ${i}) from ${JSON.stringify(t.range)}`);return _o.replace(new fr(n,i),t.text)}throw new Error("Full replacement edits are not supported")}};function I$(e,t,r){return e.get(Rf).safeStartIfApplicable(t,r)}o(I$,"startRecentEditsPromptFeatureIfApplicable");var S$={maxFiles:5,maxEditsPerFile:5,diffContextLines:3,editMergeLineDistance:3,maxCharsPerEdit:2e3,debounceTimeout:500,summarizationFormat:"diff",removeDeletedLines:!1,insertionsBeforeDeletions:!1,appendNoReplyMarker:!1,activeDocDistanceLimitFromCursor:100,maxLinesPerEdit:10},Rf=class{constructor(t){this.ctx=t;this._started=!1;this._config=S$}static{o(this,"RecentEditsPromptFeature")}safeStartIfApplicable(t,r){this.shouldStart(t,r)&&this.safeStart(t,r)}get config(){return this._config}retrieveConfig(t,r){let n=Ze(this.ctx,de.RecentEditsRemoveDeletedLines)??r.recentEditsRemoveDeletedLines(t),i=Ze(this.ctx,de.InsertionsBeforeDeletions)??r.recentEditsInsertionsBeforeDeletions(t),s=Ze(this.ctx,de.RecentEditsAppendNoReplyMarker)??r.recentEditsAppendNoReplyMarker(t),a=Ze(this.ctx,de.RecentEditsActiveDocDistanceLimitFromCursor)??r.recentEditsActiveDocDistanceLimitFromCursor(t),l=Ze(this.ctx,de.RecentEditsSummarizationFormat)??r.recentEditsSummarizationFormat(t),c=Ze(this.ctx,de.RecentEditsMaxLinesPerEdit)??r.recentEditsMaxLinesPerEdit(t),u=Ze(this.ctx,de.RecentEditsEditCount)??r.recentEditsEditCount(t),f=Ze(this.ctx,de.RecentEditsMaxFiles)??r.recentEditsMaxFiles(t),d=Ze(this.ctx,de.RecentEditsContextLines)??r.recentEditsContextLines(t),m=Ze(this.ctx,de.RecentEditsEditMergeLineDistance)??r.recentEditsEditMergeLineDistance(t),p=Ze(this.ctx,de.RecentEditsMaxCharsPerEdit)??r.recentEditsMaxCharsPerEdit(t),g=Ze(this.ctx,de.RecentEditsDebounceTimeout)??r.recentEditsDebounceTimeout(t);return{maxFiles:f,maxEditsPerFile:u,diffContextLines:d,editMergeLineDistance:m,maxCharsPerEdit:p,debounceTimeout:g,summarizationFormat:l,removeDeletedLines:n,insertionsBeforeDeletions:i,appendNoReplyMarker:s,activeDocDistanceLimitFromCursor:a,maxLinesPerEdit:c}}setConfig(t){this._config=t,this.ctx.get(ml).setConfig(this._config)}shouldStart(t,r){return this._started?!1:OC(this.ctx,r,t)}safeStart(t,r){this._started||(this._started=!0,this.setConfig(this.retrieveConfig(t,r)),this.ctx.get(s1).start(),this.ctx.get(ml).start())}};function w$(e,t){let r=new s1(e,t);e.set(s1,r),e.set(ml,new ml(r,S$,t)),e.set(Rf,new Rf(e))}o(w$,"setupRecentEditsPromptFeature");function OC(e,t,r){return Ze(e,de.RecentEditsInPrompt)??t.recentEditsInPrompt(r)}o(OC,"isRecentEditsActive");var r8=o((e,t)=>{let r=e.get(Be);return OC(e,r,t)},"recentEditsPredicate");function Jue(e,t=!1,r=void 0,n){if(t&&(r===void 0||n===void 0))throw new Error("cursorLine and activeDocDistanceLimitFromCursor are required when filterByCursorLine is true");let i=e.startLine-1,s=e.endLine-1;return!!(t&&(Math.abs(i-r)<=n||Math.abs(s-r)<=n))}o(Jue,"editIsTooCloseToCursor");var n8=o((e,t)=>{let[r,n]=t.useState();return t.useData(Pi,i=>{if(!i.document)return;let s=i.telemetryData,a=e.ctx.get(Be);I$(e.ctx,s,a);let l=e.ctx.get(Rf).config,c=e.ctx.get(ml),u=c.getRecentEdits(),f=new Set,d=e.ctx.get(Gt),m=[];for(let g=u.length-1;g>=0&&!(m.length>=l.maxEditsPerFile);g--){let h=!f.has(u[g].file);if(f.size+(h?1:0)>l.maxFiles)break;let x=u[g],_=x.file===i.document?.uri,y=_?i.position.line:void 0;if(Jue(x,_,y,l.activeDocDistanceLimitFromCursor))continue;let I=c.getEditSummary(x);if(I){f.add(x.file);let R=d.getRelativePath({uri:x.file});m.unshift(oh(`File: ${R}`)+oh(I))}}if(m.length===0){n(void 0);return}let p=oh("These are recently edited files. Do not suggest code that has been deleted.")+m.join("")+oh("End of recent edits");n(p)}),r?qe(Mn,{children:r}):void 0},"RecentEdits");var LC=new _r;function P$(e){return[...e].sort((t,r)=>{let n=LC.get(t.uri)??0;return(LC.get(r.uri)??0)-n})}o(P$,"sortByAccessTimes");var R$=o(e=>e.get(Gt).onDidFocusTextDocument(t=>{t&&LC.set(t.document.uri.toString(),Date.now())}),"registerDocumentTracker");var i8=class{constructor(t){this.docManager=t}static{o(this,"OpenTabFiles")}async truncateDocs(t,r,n,i){let s=new Map,a=0;for(let l of t)if(!(a+l.getText().length>xl.MAX_NEIGHBOR_AGGREGATE_LENGTH)&&(l.uri.startsWith("file:")&&r.startsWith("file:")&&l.uri!==r&&o8(n,l.detectedLanguageId)&&(s.set(l.uri.toString(),{uri:l.uri.toString(),relativePath:this.docManager.getRelativePath(l),source:l.getText()}),a+=l.getText().length),s.size>=i))break;return s}async getNeighborFiles(t,r,n){let i=new Map,s=new Map;return i=await this.truncateDocs(P$(await this.docManager.textDocuments()),t,r,n),s.set("opentabs",Array.from(i.keys()).map(a=>a.toString())),{docs:i,neighborSource:s}}};function D$(e,t,r){return async function(...n){return await Promise.race([e.apply(this,n),new Promise(i=>{setTimeout(i,t,r)})])}}o(D$,"shortCircuit");function Zue(...e){return JSON.stringify(e,(t,r)=>typeof r=="object"?r:String(r))}o(Zue,"defaultHash");function FC(e,t={}){let{hash:r=Zue,cache:n=new Map}=t;return function(...i){let s=r.apply(this,i);if(n.has(s))return n.get(s);let a=e.apply(this,i);return a instanceof Promise&&(a=a.catch(l=>{throw n.delete(s),l})),n.set(s,a),a}}o(FC,"memoize");var BC={entries:[],traits:[]},s8={entries:new Map,traits:[]},MC=class extends _r{constructor(r,n=2*60*1e3){super(r);this.defaultEvictionTimeMs=n;this._cacheTimestamps=new Map}static{o(this,"PromiseExpirationCacheMap")}bumpRetryCount(r){let n=this._cacheTimestamps.get(r);return n?++n.retryCount:(this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),0)}has(r){return this.isValid(r)?super.has(r):(this.deleteExpiredEntry(r),!1)}get(r){let n=super.get(r);if(this.isValid(r))return n;this.deleteExpiredEntry(r)}set(r,n){let i=super.set(r,n);return this.isValid(r)||this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),i}clear(){super.clear(),this._cacheTimestamps.clear()}isValid(r){let n=this._cacheTimestamps.get(r);return n!==void 0&&Date.now()-n.timestamp<this.defaultEvictionTimeMs}deleteExpiredEntry(r){this._cacheTimestamps.has(r)&&this._cacheTimestamps.delete(r),super.delete(r)}},Kn=new wt("relatedFiles"),Que=1e3,a8=class extends Error{static{o(this,"RelatedFilesProviderFailure")}constructor(){super("The provider failed providing the list of relatedFiles")}},Df=class e{constructor(t){this.context=t}static{o(this,"RelatedFilesProvider")}async getRelatedFiles(t,r,n){let i=await this.getRelatedFilesResponse(t,r,n);if(i===void 0)return;let s={entries:new Map,traits:i.traits??[]};for(let a of i.entries){let l=s.entries.get(a.type);l||(l=new Map,s.entries.set(a.type,l));for(let c of a.uris)try{Kn.debug(this.context,`Processing ${c}`);let u=await this.getFileContent(c);if(!u||u.length==0){Kn.debug(this.context,`Skip ${c} due to empty content or loading issue.`);continue}if(await this.isContentExcluded(c,u)){Kn.debug(this.context,`Skip ${c} due content exclusion.`);continue}u=e.dropBOM(u),l.set(c,u)}catch(u){Kn.warn(this.context,u)}}return s}async getFileContent(t){try{return this.context.get(Zr).readFileString(t)}catch(r){Kn.debug(this.context,r)}}async isContentExcluded(t,r){try{return(await this.context.get(Is).evaluate(t,r)).isBlocked}catch(n){Kn.exception(this.context,n,"isContentExcluded")}return!0}static dropBOM(t){return t.charCodeAt(0)===65279?t.slice(1):t}},efe=3,A$=new MC(Que);async function N$(e,t,r,n,i){let s=performance.now(),a;try{a=await i.getRelatedFiles(t,r,n)}catch(c){Kn.exception(e,c,".getRelatedFiles"),a=void 0}a===void 0&&(A$.bumpRetryCount(t.uri)>=efe?a=s8:a=void 0);let l=performance.now()-s;if(Kn.debug(e,a!==void 0?`Fetched ${[...a.entries.values()].map(c=>c.size).reduce((c,u)=>c+u,0)} related files for '${t.uri}' in ${l}ms.`:`Failing fetching files for '${t.uri}' in ${l}ms.`),a===void 0)throw new a8;return a}o(N$,"getRelatedFiles");var UC=FC(N$,{cache:A$,hash:o((e,t,r,n,i)=>`${t.uri}`,"hash")});UC=D$(UC,200,s8);async function l8(e,t,r,n,i,s=!1){let a=e.get(Df),l=s8;try{let c={uri:t.uri,clientLanguageId:t.clientLanguageId,data:i};l=s?await N$(e,c,r,n,a):await UC(e,c,r,n,a)}catch(c){l=s8,c instanceof a8&&Se(e,"getRelatedFilesList",r)}return Kn.debug(e,l!=null?`Fetched following traits ${l.traits.map(c=>`{${c.name} : ${c.value}}`).join("")} for '${t.uri}'`:`Failing fecthing traits for '${t.uri}'.`),l}o(l8,"getRelatedFilesAndTraits");function o8(e,t){return rp(e)===rp(t)}o(o8,"considerNeighborFile");var xl=class e{static{o(this,"NeighborSource")}static{this.MAX_NEIGHBOR_AGGREGATE_LENGTH=2e5}static{this.MAX_NEIGHBOR_FILES=20}static{this.EXCLUDED_NEIGHBORS=["node_modules","dist","site-packages"]}static defaultEmptyResult(){return{docs:new Map,neighborSource:new Map,traits:[]}}static reset(){e.instance=void 0}static async getNeighborFilesAndTraits(t,r,n,i,s,a,l){let c=t.get(Gt);e.instance===void 0&&(e.instance=new i8(c));let u={...await e.instance.getNeighborFiles(r,n,e.MAX_NEIGHBOR_FILES),traits:[]};if(tfe(t,i))return u;let f=await c.getTextDocument({uri:r});if(!f)return Kn.debug(t,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: failed to get the document ${r}`),u;let d=c.getWorkspaceFolder(f);if(!d)return Kn.debug(t,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: ${r} is not under the workspace folder`),u;let m=await l8(t,f,i,s,a,l);return m.entries.size===0?(Kn.debug(t,"neighborFiles.getNeighborFilesAndTraits",`0 related files found for ${r}`),u.traits.push(...m.traits),u):(m.entries.forEach((p,g)=>{let h=[];p.forEach((b,x)=>{let _=e.getRelativePath(x,d.uri);if(!_||u.docs.has(x))return;let y={relativePath:_,uri:x,source:b};h.unshift(y),u.docs.set(x,y)}),h.length>0&&u.neighborSource.set(g,h.map(b=>b.uri.toString()))}),u.traits.push(...m.traits),u)}static basename(t){return decodeURIComponent(t.replace(/[#?].*$/,"").replace(/^.*[/:]/,""))}static getRelativePath(t,r){let n=r.toString().replace(/[#?].*/,"").replace(/\/?$/,"/");return t.toString().startsWith(n)?t.toString().slice(n.length):e.basename(t)}};function tfe(e,t){return e.get(Be).excludeRelatedFiles(t)||Ze(e,de.ExcludeRelatedFiles)}o(tfe,"isExcludeRelatedFilesActive");function k$(e,t){return e.get(Be).includeNeighboringFiles(t)||Ze(e,de.IncludeNeighboringFiles)}o(k$,"isIncludeNeighborFilesActive");var rfe={WorkspaceDocumentProvider:{UpdateInterval:500,Laziness:.5,MaxSupport:1e3,ProviderWeights:{recentDocumentProvider:1,relatedFilesShim:.8,fileDirectoryDocumentProvider:.2}},RecentDocumentProvider:{DebounceInterval:50,MaxClosedDocs:20,DistributionHalflife:1e3*60*5/Math.log(2),DocumentActivityWeights:{Edit:1,Focus:1,Open:1}},FileDirectoryDocumentProvider:{MaxDirectorySize:200,MaxResults:100,Decay:.5,CacheTime:1e3*60,InvalidCacheTime:1e3*60*60*24}},c8=class{constructor(t){this.ctx=t;this.params=rfe}static{o(this,"WorkspaceContextConfig")}get(t){let r=t(this.params);return r&&typeof r=="object"?JSON.parse(JSON.stringify(r)):r}getProviderWeight(t){return this.get(r=>r.WorkspaceDocumentProvider.ProviderWeights[t])}};function jC(e){let t=new Map;for(let{uri:r,weight:n}of e)t.set(r,(t.get(r)??0)+n);return t}o(jC,"asDistribution");function O$(e){let t=Array.from(e.values()).reduce((n,i)=>n+Math.max(i,0),0),r=new Map;if(t>0){for(let[n,i]of e)r.set(n,Math.max(i,0)/t);return r}}o(O$,"normalizeDistribution");var yh=class{constructor(t,r){this.ctx=t;this.config=r;this.id="workspaceDocumentProvider";this.distribution=void 0;this._documents=[];this.providers=new Map;this.interval=void 0;this._similarFiles=new Map;this.updateId=0;this.lastUpdateTime=performance.now();let n=this.config.get(i=>i.WorkspaceDocumentProvider.UpdateInterval);if(n<=0){gt.error(this.ctx,"Workspace document provider update interval is 0, skipping updates");return}this.interval=setInterval(()=>{let i=new tr.CancellationTokenSource;vf(n).then(()=>{i.cancel(),i.dispose()}),this.forceUpdate(i.token,!0).catch(s=>{gt.error(this.ctx,"Error resolving workspace documents:",s)})},n)}static{o(this,"WorkspaceDocumentProvider")}async forceUpdate(t,r=!1){if(this.providers.size===0)return;let n=performance.now(),i={updateId:this.updateId++,intervalTime:n-this.lastUpdateTime,resolveTime:0,updateTime:void 0,similarFilesTime:void 0,providerStatistics:[],wasCancelled:!1};this.lastUpdateTime=n;let{result:s,statistics:a}=await this.resolveAllProviders(this.documents,t),l=performance.now();if(i.resolveTime=l-n,i.providerStatistics=a,t?.isCancellationRequested&&!r){i.wasCancelled=!0,this.ctx.get(ji).pushTelemetry(i);return}this.updateDocuments(s);let c=performance.now();i.updateTime=c-l,await this.updateSimilarFiles(),i.similarFilesTime=performance.now()-c,this.ctx.get(ji).pushTelemetry(i)}get documents(){return[...this._documents]}getDocuments(){return Promise.resolve(this.documents)}getSimilarFiles(t){let r=Array.from(this._similarFiles.entries()).filter(([n])=>n!==t);return{docs:new Map(r)}}registerDocumentProvider(t){if(this.providers.has(t.id))throw new Error(`Document provider with id ${t.id} already registered`);let r=this.config.getProviderWeight(t.id);if(r===void 0)throw new Error(`Document provider ${t.id} not found in config`);this.providers.set(t.id,{provider:t,weight:r})}async resolveAllProviders(t,r){let n=new Map;for(let[l,{provider:c}]of this.providers.entries()){let u=c.getDocuments(t,r);n.set(l,u)}let i=await lb(n,r),s=new Map,a=[];for(let[l,c]of i.entries()){let u={id:l,status:c.status,resolutionTime:c.resolutionTime,resolvedItems:0,normalizedItems:0};if(a.push(u),c.status==="error"){gt.error(this.ctx,`Error resolving workspace documents from provider ${l}:`,c.reason);continue}if((c.status==="none"||c.status==="partial")&&gt.info(this.ctx,`Document provider ${l} exceeded time budget`),c.status==="partial"||c.status==="full"){u.resolvedItems=c.value.length;let f=O$(jC(c.value));u.normalizedItems=f?f.size:0,f?s.set(l,f):gt.info(this.ctx,`Document provider ${l} normalized to an empty distribution`)}}return{result:s,statistics:a}}updateDocuments(t){let r=new Map,n=0;for(let[a,l]of t.entries()){let c=!1,u=this.providers.get(a).weight??0;for(let[f,d]of l){let m=A2(f);if(m!==void 0){c=!0;let p=r.get(m)??0;r.set(m,p+d*u)}}c&&(n+=u)}if(n<=0){gt.info(this.ctx,"No documents proposed by any workspace document provider");return}if(this.distribution!==void 0){let a=this.config.get(l=>l.WorkspaceDocumentProvider.Laziness);this.distribution.size==0&&(a=0);for(let[l,c]of this.distribution){let u=r.get(l)??0;r.set(l,u+c*(n*a))}}let i=this.config.get(a=>a.WorkspaceDocumentProvider.MaxSupport),s=Array.from(r.entries()).sort((a,l)=>l[1]-a[1]).slice(0,i).map(([a,l])=>({uri:a,weight:l}));this.distribution=O$(jC(s)),this._documents=Array.from(this.distribution.entries()).map(([a,l])=>({uri:a,weight:l}))}async updateSimilarFiles(){let t=new Map,r=this.ctx.get(na);for(let n of this._documents){let i=await r.getOrReadTextDocument(n);if(i.status!=="valid")continue;let s={relativePath:r.getRelativePath(n),uri:n.uri,source:nfe(i.document.getText()),languageId:i.document.detectedLanguageId};if(t.set(n.uri,s),t.size>=Q1.maxNumberOfFiles)break}this._similarFiles=t}dispose(){this.interval&&(clearInterval(this.interval),this.interval=void 0)}};function nfe(e){return e.charCodeAt(0)===65279?e.slice(1):e}o(nfe,"dropBOM");var ji=class{constructor(t){this.ctx=t;this.didStart=!1;this.didDispose=!1;this.deferredStart=new Nc;this.telemetryQueue=new _r(20);let r=t.get(L0);this.tokenEventDisposable=r.onToken(()=>{this.maybeStart()}),this.maybeStart()}static{o(this,"WorkspaceContextCoordinator")}pushTelemetry(t){this.telemetryQueue.set(t.updateId,t)}popTelemetry(){let t=Array.from(this.telemetryQueue.values());return this.telemetryQueue.clear(),t}async maybeStart(){if(this.didStart||this.didDispose)return;let t=Ze(this.ctx,de.UseWorkspaceContextCoordinator);if(t===void 0)try{let r=await this.ctx.get(Be).updateExPValuesAndAssignments();t=this.isEnabled(r)}catch{}t&&(this.start(),this.tokenEventDisposable.dispose())}isActive(){return this.didStart&&!this.didDispose}isEnabled(t){return Ze(this.ctx,de.UseWorkspaceContextCoordinator)??this.ctx.get(Be).workspaceContextCoordinator(t)}getFeature(){if(this.isActive())return{config:this.config,documentProvider:this.wdp}}async getInitializedFeature(){return await this.deferredStart.promise,this.getFeature()}start(){this.didStart=!0,this.config=new c8(this.ctx),this.wdp=new yh(this.ctx,this.config),this.deferredStart.resolve()}dispose(){this.isActive()?this.wdp.dispose():this.didDispose&&!this.didStart&&this.tokenEventDisposable.dispose(),this.didDispose=!0}};var u8=o((e,t)=>{let[r,n]=t.useState(),[i,s]=t.useState([]);t.useData(Pi,async c=>{c.document.uri!==r?.uri&&s([]),n(c.document);let u=xl.defaultEmptyResult();if(!c.turnOffSimilarFiles){let d=e.ctx.get(ji);d.isEnabled(c.telemetryData)?d.isActive()?u=(await d.getInitializedFeature()).documentProvider.getSimilarFiles(c.document.uri):d.maybeStart():u=await xl.getNeighborFilesAndTraits(e.ctx,c.document.uri,c.document.detectedLanguageId,c.telemetryData,c.cancellationToken,c.data)}let f=await a(c.telemetryData,c.document,c,u);s(f)});async function a(c,u,f,d){let m=f8(e.ctx,c,u.detectedLanguageId);return(await l(m,c,u,f,d)).filter(g=>g.snippet.length>0).sort((g,h)=>g.score-h.score).map(g=>({...$D(g),score:g.score}))}o(a,"produceSimilarFiles");async function l(c,u,f,d,m){let p=c.similarFilesOptions||gb(e.ctx,u,f.detectedLanguageId),h=e.ctx.get(Gt).getRelativePath(f),b={uri:f.uri,source:f.getText(),offset:f.offsetAt(d.position),relativePath:h,languageId:f.detectedLanguageId};return await JD(b,Array.from(m.docs.values()),p)}return o(l,"findSimilarSnippets"),qe(a0,{children:[...i.map((c,u)=>qe(sfe,{snippet:c}))]})},"SimilarFiles"),sfe=o((e,t)=>qe(Zm,{children:[qe(Mn,{expElidableTextWeight:1,children:e.snippet.headline}),qe(Fc,{expElidableTextWeight:.99,children:e.snippet.snippet})]}),"SimilarFile");var d8=o((e,t)=>{let[r,n]=t.useState(),[i,s]=t.useState();if(t.useData(Pi,a=>{a.traits!==r&&n(a.traits);let l=rp(a.document.detectedLanguageId);l!==i&&s(l)}),!(!r||r.length===0||!i))return qe(a0,{children:[qe(Mn,{expElidableTextWeight:1,children:`Consider this related information:
`}),...r.map(a=>qe(Mn,{source:a,expElidableTextWeight:.99,children:`${a.name}: ${a.value}`},a.id))]})},"Traits");function L$(e,t){return Ze(e,de.UseSplitContextPrompt)??e.get(Be).enablePromptContextProxyField(t)}o(L$,"shouldUseSplitContextPrompt");function F$(e){return qe(a0,{children:[qe(QE,{children:[qe(Nb,{ctx:e,weight:.7,expElidableTextWeight:.9}),qe(d8,{weight:.6,expElidableTextWeight:.5}),qe(hb,{ctx:e,weight:.9,expElidableTextWeight:.7}),qe(u8,{ctx:e,weight:.8,expElidableTextWeight:.6})]}),qe(Cj,{weight:1,expElidableTextWeight:1}),qe(eC,{children:qe(Ab,{ctx:e,by:r8,children:qe(n8,{ctx:e,weight:.99,expElidableTextWeight:.9})})}),qe(Ej,{weight:1,expElidableTextWeight:1})]})}o(F$,"splitContextCompletionsPrompt");var M$=0;function afe(){M$=0}o(afe,"resetContextIndex");function lfe(){return M$++}o(lfe,"getNextContextIndex");var m8=class extends t1{constructor(){super(...arguments);this.formatPrefix=Lj;this.formatContext=Fj}static{o(this,"SplitContextPromptRenderer")}processSnapshot(r,n){let i=[],s=[],a=[],l=!1;if(afe(),new e1(r,cfe).walkSnapshot((f,d,m)=>{if(f===r||(f.statistics.updateDataTimeMs&&f.statistics.updateDataTimeMs>0&&a.push({componentPath:f.path,updateDataTimeMs:f.statistics.updateDataTimeMs}),f.name===Tf.name&&(l=!0),f.value===void 0||f.value===""))return!0;let p=m.chunks,g=m.isCode,h=m.type;if(h==="suffix")s.push({value:sh(f.value),type:"suffix",weight:m.weight,expElidableTextWeight:m.expElidableTextWeight,componentPath:f.path,nodeStatistics:f.statistics,chunks:p,source:m.source,isCode:g});else{let b=h==="prefix",x=b||f.value.endsWith(n)?f.value:f.value+n;i.push({type:b?"prefix":"context",value:sh(x),weight:m.weight,expElidableTextWeight:m.expElidableTextWeight,componentPath:f.path,nodeStatistics:f.statistics,chunks:p,source:m.source,isCode:g,index:b?void 0:m.index})}return!0}),!l)throw new Error(`Node of type ${Tf.name} not found`);if(s.length>1)throw new Error("Only one suffix is allowed");let u=s.length===1?s[0]:{componentPath:"",value:"",weight:1,expElidableTextWeight:1,nodeStatistics:{},type:"suffix"};return{prefixBlocks:i,suffixBlock:u,componentStatistics:a}}},cfe=[..._C,(e,t,r)=>xb(e)?{...r,index:lfe()}:r];function U$(e,t,r){let n=cb(r,"Trait");for(let s of n)ufe(e,t,s.data,s.providerId);return n.flatMap(s=>s.data).sort((s,a)=>(s.importance??0)-(a.importance??0))}o(U$,"getTraitsFromContextItems");function ufe(e,t,r,n){let i=e.get(Bi).getStatisticsForCompletion(t);r.forEach(s=>{i.addExpectations(n,[[s,"included"]])})}o(ufe,"setupExpectationsForTraits");var ffe=new Map([["TargetFrameworks","targetFrameworks"],["LanguageVersion","languageVersion"]]);function B$(e,t,r,n,i,s){if(r.length>0){let a={};a.detectedLanguageId=n,a.languageId=i;for(let c of r){let u=ffe.get(c.name);u&&(a[u]=c.value)}let l=s.extendedBy(a,{});return Se(t,e,l)}}o(B$,"ReportTraitsTelemetry");var p8=class{constructor(t){this.states=t;this.currentIndex=0;this.stateChanged=!1}static{o(this,"UseState")}useState(t){let r=this.currentIndex;if(this.states[r]===void 0){let i=typeof t=="function"?t():t;this.states[r]=i}let n=o(i=>{let s=typeof i=="function"?i(this.states[r]):i;this.states[r]=s,this.stateChanged=!0},"setState");return this.currentIndex++,[this.states[r],n]}hasChanged(){return this.stateChanged}},g8=class{constructor(t){this.measureUpdateTime=t;this.consumers=[]}static{o(this,"UseData")}useData(t,r){this.consumers.push(n=>{if(t(n))return r(n)})}async updateData(t){if(this.consumers.length>0){let r=performance.now();for(let n of this.consumers)await n(t);this.measureUpdateTime(performance.now()-r)}}};var h8=class{constructor(t){this.lifecycleData=new Map;this.vTree=this.virtualizeElement(t,"$",0)}static{o(this,"VirtualPromptReconciler")}reconcile(t){if(!this.vTree)throw new Error("No tree to reconcile, make sure to pass a valid prompt");return t?.isCancellationRequested?this.vTree:(this.vTree=this.reconcileNode(this.vTree,"$",0,t),this.vTree)}reconcileNode(t,r,n,i){if(!t.children&&!t.lifecycle)return t;let s=t;if(t.lifecycle?.isRemountRequired()){let l=this.collectChildPaths(t);s=this.virtualizeElement(t.component,r,n);let c=this.collectChildPaths(s);this.cleanupState(l,c)}else if(t.children){let l=[];for(let c=0;c<t.children.length;c++){let u=t.children[c];if(u){let f=this.reconcileNode(u,t.path,c,i);f!==void 0&&l.push(f)}}s.children=l}return s}virtualizeElement(t,r,n){if(!(typeof t>"u")){if(typeof t=="string"||typeof t=="number")return{name:typeof t,path:`${r}[${n}]`,props:{value:t},component:t};if(dfe(t.type)){let i=t.type(t.props.children),s=r!=="$"?`[${n}]`:"",a=`${r}${s}.${i.type}`,l=i.children.map((c,u)=>this.virtualizeElement(c,a,u));return this.ensureUniqueKeys(l),{name:i.type,path:a,children:l.flat().filter(c=>c!==void 0),component:t}}return this.virtualizeFunctionComponent(r,n,t,t.type)}}virtualizeFunctionComponent(t,r,n,i){let s=n.props.key?`["${n.props.key}"]`:`[${r}]`,a=`${t}${s}.${i.name}`,l=new WC(this.getOrCreateLifecycleData(a)),c=i(n.props,l),d=(Array.isArray(c)?c:[c]).map((m,p)=>this.virtualizeElement(m,a,p)).flat().filter(m=>m!==void 0);return this.ensureUniqueKeys(d),{name:i.name,path:a,props:n.props,children:d,component:n,lifecycle:l}}ensureUniqueKeys(t){let r=new Map;for(let i of t){if(!i)continue;let s=i.props?.key;s&&r.set(s,(r.get(s)||0)+1)}let n=Array.from(r.entries()).filter(([i,s])=>s>1).map(([i])=>i);if(n.length>0)throw new Error(`Duplicate keys found: ${n.join(", ")}`)}collectChildPaths(t){let r=[];if(t?.children)for(let n of t.children)n&&(r.push(n.path),r.push(...this.collectChildPaths(n)));return r}cleanupState(t,r){for(let n of t)r.includes(n)||this.lifecycleData.delete(n)}getOrCreateLifecycleData(t){return this.lifecycleData.has(t)||this.lifecycleData.set(t,new $C([])),this.lifecycleData.get(t)}createPipe(){return{pump:o(async t=>{await this.pumpData(t)},"pump")}}async pumpData(t){if(!this.vTree)throw new Error("No tree to pump data into. Pumping data before initializing?");await this.recursivelyPumpData(t,this.vTree)}async recursivelyPumpData(t,r){if(!r)throw new Error("Can't pump data into undefined node.");await r.lifecycle?.dataHook.updateData(t);for(let n of r.children||[])await this.recursivelyPumpData(t,n)}},$C=class{static{o(this,"PromptElementLifecycleData")}constructor(t){this.state=t,this._updateTimeMs=0}getUpdateTimeMsAndReset(){let t=this._updateTimeMs;return this._updateTimeMs=0,t}},WC=class{constructor(t){this.lifecycleData=t;this.stateHook=new p8(t.state),this.dataHook=new g8(r=>{t._updateTimeMs=r})}static{o(this,"PromptElementLifecycle")}useState(t){return this.stateHook.useState(t)}useData(t,r){this.dataHook.useData(t,r)}isRemountRequired(){return this.stateHook.hasChanged()}};function dfe(e){return typeof e=="function"&&"isFragmentFunction"in e}o(dfe,"isFragmentFunction");var vh=class{static{o(this,"VirtualPrompt")}constructor(t){this.reconciler=new h8(t)}snapshotNode(t,r){if(!t)return;if(r?.isCancellationRequested)return"cancelled";let n=[];for(let i of t.children??[]){let s=this.snapshotNode(i,r);if(s==="cancelled")return"cancelled";s!==void 0&&n.push(s)}return{value:t.props?.value?.toString(),name:t.name,path:t.path,props:t.props,children:n,statistics:{updateDataTimeMs:t.lifecycle?.lifecycleData.getUpdateTimeMsAndReset()}}}snapshot(t){try{let r=this.reconciler.reconcile(t);if(t?.isCancellationRequested)return{snapshot:void 0,status:"cancelled"};if(!r)throw new Error("Invalid virtual prompt tree");let n=this.snapshotNode(r,t);return n==="cancelled"||t?.isCancellationRequested?{snapshot:void 0,status:"cancelled"}:{snapshot:n,status:"ok"}}catch(r){return{snapshot:void 0,status:"error",error:r}}}createPipe(){return this.reconciler.createPipe()}};var bl=class{static{o(this,"CompletionsPromptFactory")}};function j$(e,t,r){return new GC(new zC(new HC(e,t,r)))}o(j$,"createCompletionsPromptFactory");var GC=class extends bl{constructor(r){super();this.delegate=r}static{o(this,"SequentialCompletionsPromptFactory")}prompt(r,n){return this.lastPromise=this.promptAsync(r,n),this.lastPromise}async promptAsync(r,n){if(await this.lastPromise,n?.isCancellationRequested)return a1;try{return await this.delegate.prompt(r,n)}catch{return VC}}},pfe=1200,zC=class extends bl{constructor(r){super();this.delegate=r}static{o(this,"TimeoutHandlingCompletionsPromptFactory")}async prompt(r,n){let i=new tr.CancellationTokenSource,s=i.token;return n?.onCancellationRequested(()=>{i.cancel()}),await Promise.race([this.delegate.prompt(r,s),new Promise(a=>{setTimeout(()=>{i.cancel(),a(H$)},pfe)})])}};function Pi(e){if(!e||typeof e!="object")return!1;let t=e;return!(!t.document||!t.position||t.position.line===void 0||t.position.character===void 0||!t.telemetryData)}o(Pi,"isCompletionRequestData");var qC={default:{promptFunction:$$,renderer:t1},splitContext:{promptFunction:F$,renderer:m8}};function $$(e){return qe(a0,{children:[qe(ZE,{children:[qe(Nb,{ctx:e,weight:.7,expElidableTextWeight:.9}),qe(d8,{weight:.6,expElidableTextWeight:.5}),qe(hb,{ctx:e,weight:.9,expElidableTextWeight:.7}),qe(u8,{ctx:e,weight:.8,expElidableTextWeight:.6}),qe(Ab,{ctx:e,by:r8,children:qe(n8,{ctx:e,weight:.99,expElidableTextWeight:.9})})]}),qe(Qg,{weight:1,expElidableTextWeight:1})]})}o($$,"defaultCompletionsPrompt");var HC=class extends bl{constructor(r,n,i){super();this.ctx=r;this.promptOrdering=i??"default",this.virtualPrompt=n??new vh(this.completionsPrompt()),this.pipe=this.virtualPrompt.createPipe(),this.renderer=this.getRenderer()}static{o(this,"ComponentsCompletionsPromptFactory")}async prompt(r,n){try{return await this.createPromptUnsafe(r,n)}catch(i){return this.errorPrompt(i)}}async createPromptUnsafe({completionId:r,completionState:n,telemetryData:i,promptOpts:s},a){let{maxPromptLength:l,suffixPercent:c,suffixMatchThreshold:u}=f8(this.ctx,i,n.textDocument.detectedLanguageId),f=await this.failFastPrompt(n.textDocument,n.position,c??0,a);if(f)return f;let d=s?.separateContext?"splitContext":"default";this.setPromptOrdering(d);let m=performance.now(),{traits:p,codeSnippets:g,turnOffSimilarFiles:h,resolvedContextItems:b}=await this.resolveContext(r,n,i,a,s);if(await this.updateComponentData(n.textDocument,n.position,p,g,i,h,l??tp,a,s,u,s?.tokenizer),a?.isCancellationRequested)return a1;let x=this.virtualPrompt.snapshot(a),_=x.status;if(_==="cancelled")return a1;if(_==="error")return this.errorPrompt(x.error);let y=this.renderer.render(x.snapshot,{delimiter:`
`,tokenizer:s?.tokenizer,promptTokenLimit:l??tp,suffixPercent:c??W5,elisionStrategy:this.ctx.get(Be).completionsElisionStrategy(i),approximateElision:this.ctx.get(Be).approximateElision(i),languageId:n.textDocument.detectedLanguageId},a);if(y.status==="cancelled")return a1;if(y.status==="error")return this.errorPrompt(y.error);let[v,I]=x8(y.prefix),R={...y,prefix:v},z;if(KE(this.ctx,i)){let $=GB(y.metadata.componentStatistics);this.ctx.get(Bi).getStatisticsForCompletion(r).computeMatch($),z=VB(this.ctx,r,b),gt.debug(this.ctx,`Context providers telemetry: '${JSON.stringify(z)}'`)}let V=performance.now();return this.resetIfEmpty(y),this.successPrompt(R,V,m,I,z)}async updateComponentData(r,n,i,s,a,l,c,u,f={},d,m){let p=this.createRequestData(r,n,a,u,f,c,i,s,l,d,m);await this.pipe.pump(p)}async resolveContext(r,n,i,s,a={}){let l=[],c,u,f=!1;if(KE(this.ctx,i)){l=await this.ctx.get(ul).resolution(r);let{textDocument:d}=n,m=l.filter(KB);gfe(this.ctx,d.detectedLanguageId,m,i)||(f=!0),c=U$(this.ctx,r,m),B$("contextProvider.traits",this.ctx,c,d.detectedLanguageId,d.detectedLanguageId,i),u=await sj(this.ctx,r,m,d.detectedLanguageId)}return{traits:c,codeSnippets:u,turnOffSimilarFiles:f,resolvedContextItems:l}}async failFastPrompt(r,n,i,s){if(s?.isCancellationRequested)return a1;if((await this.ctx.get(Is).evaluate(r.uri,r.getText(),"UPDATE")).isBlocked)return z$;if((i>0?r.getText().length:r.offsetAt(n))<q$)return G$}createRequestData(r,n,i,s,a,l,c,u,f,d,m){return{document:r,position:n,telemetryData:i,cancellationToken:s,data:a.data,traits:c,codeSnippets:u,turnOffSimilarFiles:f,suffixMatchThreshold:d,maxPromptTokens:l,tokenizer:m}}resetIfEmpty(r){r.prefix.length===0&&r.suffix.length===0&&this.reset()}successPrompt(r,n,i,s,a){return{type:"prompt",prompt:{prefix:r.prefix,prefixTokens:r.prefixTokens,suffix:r.suffix,suffixTokens:r.suffixTokens,context:r.context,isFimEnabled:r.suffix.length>0},computeTimeMs:n-i,trailingWs:s,neighborSource:new Map,metadata:r.metadata,contextProvidersTelemetry:a}}errorPrompt(r){return p0(this.ctx,r,"PromptComponents.CompletionsPromptFactory"),this.reset(),VC}reset(){this.renderer=this.getRenderer(),this.virtualPrompt=new vh(this.completionsPrompt()),this.pipe=this.virtualPrompt.createPipe()}setPromptOrdering(r){this.promptOrdering!==r&&(this.promptOrdering=r,this.reset())}completionsPrompt(){return(qC[this.promptOrdering]?.promptFunction??$$)(this.ctx)}getRenderer(){let r=qC[this.promptOrdering]??qC.default;return new r.renderer}};function gfe(e,t,r,n){let i=["cpp","c"];return k$(e,n)||i.includes(t)||!r.some(a=>a.data.some(l=>l.type==="CodeSnippet"))}o(gfe,"similarFilesEnabled");async function W$(e){try{await XR}catch(t){Lc(e,t,"initializeTokenizers")}}o(W$,"waitForTokenizers");var q$=10,G$={type:"contextTooShort"},z$={type:"copilotContentExclusion"},VC={type:"promptError"},a1={type:"promptCancelled"},H$={type:"promptTimeout"};function x8(e){let t=e.split(`
`),r=t[t.length-1],n=r.length-r.trimEnd().length,i=e.slice(0,e.length-n),s=e.slice(i.length);return[r.length==n?i:e,s]}o(x8,"trimLastLine");function b8(e,t,r,n,i,s={}){let l=e.get(Gt).findNotebook(r.textDocument),c=l?.getCellFor(r.textDocument);l&&c&&(r=xfe(r,l,c)),n.extendWithConfigProperties(e),n.sanitizeKeys();let u=L$(e,n);return e.get(bl).prompt({completionId:t,completionState:r,telemetryData:n,promptOpts:{...s,separateContext:u}},i)}o(b8,"extractPrompt");function hfe(e,t){let r=e.document.detectedLanguageId,n=e.document.getText();return r===t?n:Db(n,t)}o(hfe,"addNeighboringCellsToPrompt");function xfe(e,t,r){let i=t.getCells().filter(l=>l.index<r.index&&o8(r.document.detectedLanguageId,l.document.detectedLanguageId)),s=i.length>0?i.map(l=>hfe(l,r.document.detectedLanguageId)).join(`

`)+`

`:"",a={line:0,character:0};return e.applyEdits([{newText:s,range:{start:a,end:a}}])}o(xfe,"applyEditsForNotebook");function f8(e,t,r){let i=e.get(Be).maxPromptCompletionTokens(t)-ib(e),s=oj(t,r),a=gb(e,t,r),l={maxPromptLength:i,similarFilesOptions:a,numberOfSnippets:s},c=e.get(Be).suffixPercent(t),u=e.get(Be).suffixMatchThreshold(t);return c>0&&u>0&&(l={...l,suffixPercent:c,suffixMatchThreshold:u}),l}o(f8,"getPromptOptions");var V$=2.98410452738298,K$=-.838732736843507,Y$=1.50314646255716,J$=-.237798634012662,_8={python:.314368072478742},X$={"0.01":.225800751784931,"0.02":.290204307767402,"0.03":.333153496466045,"0.05":.404516749849559,"0.1":.513216040545626,"0.2":.626904979128674,"0.3":.694880719658273,"0.4":.743100684947291,"0.5":.782524520571946,"0.6":.816856186092243,"0.7":.84922977716585,"0.8":.883694877241999,"0.9":.921859050950077,"0.95":.944571268106974,"0.99":.969535563141733};var bfe={link:o(e=>Math.exp(e)/(1+Math.exp(e)),"link"),unlink:o(e=>Math.log(e/(1-e)),"unlink")};function _fe(e,t){let r=Math.min(...Array.from(t.keys()).filter(a=>a>=e)),n=Math.max(...Array.from(t.keys()).filter(a=>a<e)),i=t.get(r),s=t.get(n);return s+(i-s)*(e-n)/(r-n)}o(_fe,"linearInterpolation");var l1=class{static{o(this,"Regressor")}constructor(t,r,n){this.name=t,this.coefficient=r,this.transformation=n||(i=>i)}contribution(t){return this.coefficient*this.transformation(t)}},KC=class{constructor(t,r,n){this.link=bfe;if(this.intercept=t,this.coefficients=r,this.logitsToQuantiles=new Map,this.logitsToQuantiles.set(0,0),this.logitsToQuantiles.set(1,1),n)for(let i in n)this.logitsToQuantiles.set(n[i],Number(i))}static{o(this,"LogisticRegression")}predict(t,r){let n=this.intercept;for(let i of this.coefficients){let s=r[i.name];if(s===void 0)return NaN;n+=i.contribution(s)}return this.link.link(n)}quantile(t,r){let n=this.predict(t,r);return _fe(n,this.logitsToQuantiles)}},Z$=new KC(V$,[new l1("compCharLen",K$,e=>Math.log(1+e)),new l1("meanLogProb",Y$),new l1("meanAlternativeLogProb",J$)].concat(Object.entries(_8).map(e=>new l1(e[0],e[1]))),X$);function Q$(e,t){let r={...t.measurements};return Object.keys(_8).forEach(n=>{r[n]=t.properties["customDimensions.languageId"]==n?1:0}),Z$.predict(e,r)}o(Q$,"ghostTextScoreConfidence");function eW(e,t){let r={...t.measurements};return Object.keys(_8).forEach(n=>{r[n]=t.properties["customDimensions.languageId"]==n?1:0}),Z$.quantile(e,r)}o(eW,"ghostTextScoreQuantile");var yfe=[{max_token_sequence_length:1,last_tokens_to_consider:10},{max_token_sequence_length:10,last_tokens_to_consider:30},{max_token_sequence_length:20,last_tokens_to_consider:45},{max_token_sequence_length:30,last_tokens_to_consider:60}];function rW(e){let t=e.slice();return t.reverse(),tW(t)||tW(t.filter(r=>r.trim().length>0))}o(rW,"isRepetitive");function tW(e){let t=vfe(e);for(let r of yfe){if(e.length<r.last_tokens_to_consider)continue;if(r.last_tokens_to_consider-1-t[r.last_tokens_to_consider-1]<=r.max_token_sequence_length)return!0}return!1}o(tW,"isRepeatedPattern");function vfe(e){let t=Array(e.length).fill(0);t[0]=-1;let r=-1;for(let n=1;n<e.length;n++){for(;r>=0&&e[r+1]!==e[n];)r=t[r];e[r+1]===e[n]&&r++,t[n]=r}return t}o(vfe,"kmp_prefix_function");function Tfe(e,t,r,n){let i="}";try{i=KD(t.detectedLanguageId)??"}"}catch{}return Efe({getLineText:o(s=>t.lineAt(s).text,"getLineText"),getLineCount:o(()=>t.lineCount,"getLineCount")},r,n,i)}o(Tfe,"maybeSnipCompletion");function Efe(e,t,r,n){let i=Cfe(r),s=i.lines;if(s.length===1)return r;for(let a=1;a<s.length;a++){let l=!0,c=0,u=0;for(let f=0;f+a+u<s.length;f++){let d;for(;;){let h=t.line+1+f+c;if(d=h>=e.getLineCount()?void 0:e.getLineText(h),d!==void 0&&d.trim()==="")c++;else break}let m,p;for(;m=a+f+u,p=m>=s.length?void 0:s[m],p!==void 0&&p.trim()==="";)u++;let g=m===s.length-1;if(!p||!(d&&(g?d.startsWith(p)||p.startsWith(d):d===p&&p.trim()===n))){l=!1;break}}if(l)return s.slice(0,a).join(i.newLineCharacter)}return r}o(Efe,"maybeSnipCompletionImpl");function Cfe(e){let t=e.includes(`\r
`)?`\r
`:`
`;return{lines:e.split(t),newLineCharacter:t}}o(Cfe,"splitByNewLine");function Ife(e,t,r,n){let i="",s=t.line+1,a=n?r.trim():r;for(;i===""&&s<e.lineCount;){if(i=e.lineAt(s).text,n&&(i=i.trim()),i===a)return!0;s++}return!1}o(Ife,"matchesNextLine");function YC(e,t,r,n,i,s){if(rW(n.tokens)){let l=et.createAndMarkAsIssued();l.extendWithRequestId(n.requestId),Se(e,"repetition.detected",l,1),s.info(e,"Filtered out repetitive solution");return}let a={...n};if(Ife(t,r,a.completionText,!i)){let l=et.createAndMarkAsIssued();l.extendWithRequestId(n.requestId),Se(e,"completion.alreadyInDocument",l),Se(e,"completion.alreadyInDocument",l.extendedBy({completionTextJson:JSON.stringify(a.completionText)}),1),s.info(e,"Filtered out solution matching next line");return}return a.completionText=Tfe(e,t,r,a.completionText),a.completionText?a:void 0}o(YC,"postProcessChoiceInContext");function nW(e,t,r){let i=e.lineAt(t.line).text.substring(t.character);if(i.length>0){if(r.completionText.indexOf(i)!==-1)return i.length;{let s=-1,a=0;for(let l of i){let c=r.completionText.indexOf(l,s+1);if(c>s)a++,s=c;else break}return a}}return 0}o(nW,"checkSuffix");var aW=Lt(_1());var sr=new wt("ghostText");var Sfe=200,iW=20;async function lW(e,t,r,n,i,s,a){sr.debug(e,`Getting ${s} from network`),r=r.extendedBy();let l=t.isCycling?3:1,c=nb(e,l),u={language:t.languageId,next_indent:t.indentation.next??0,trim_by_indentation:eA(t.blockMode),prompt_tokens:t.prompt.prefixTokens??0,suffix_tokens:t.prompt.suffixTokens??0},f={n:l,temperature:c},d=Ze(e,de.ModelAlwaysTerminatesSingleline)??e.get(Be).modelAlwaysTerminatesSingleline(r),m=t.blockMode==="moremultiline"&&s0.isSupported(t.languageId)&&!d;!t.multiline&&!m?f.stop=[`
`]:t.stop&&(f.stop=t.stop),t.maxTokens!==void 0&&(f.max_tokens=t.maxTokens);let p=Date.now(),g={endpoint:"completions",uiKind:"ghostText",temperature:JSON.stringify(c),n:JSON.stringify(l),stop:JSON.stringify(f.stop)??"unset",logit_bias:JSON.stringify(null)};Object.assign(r.properties,g);try{let h={prompt:t.prompt,languageId:t.languageId,repoInfo:t.repoInfo,ourRequestId:t.ourRequestId,engineModelId:t.engineModelId,count:l,uiKind:"ghostText",postOptions:f,headers:t.headers,extra:u},b=await e.get(kc).fetchAndStreamCompletions(e,h,r,i,n);return b.type==="failed"?{type:"failed",reason:b.reason,telemetryData:tn(r)}:b.type==="canceled"?(sr.debug(e,"Cancelled after awaiting fetchCompletions"),{type:"canceled",reason:b.reason,telemetryData:sa(r)}):a(p,b.getProcessingTime(),b.choices)}catch(h){if(m0(h))return{type:"canceled",reason:"network request aborted",telemetryData:sa(r,{cancelledNetworkRequest:!0})};if(sr.exception(e,h,"Error on ghost text request"),e.get(F0).notifyUser(e,h),Bf(e))throw h;return{type:"failed",reason:"non-abort error on ghost text request",telemetryData:tn(r)}}}o(lW,"genericGetCompletionsFromNetwork");function JC(e,t,r){if(r||(r=[]),e.completionText=e.completionText.trimEnd(),!!e.completionText&&r.findIndex(n=>n.completionText.trim()===e.completionText.trim())===-1)return t.requestForNextLine&&(e.completionText=`
`+e.completionText),e}o(JC,"postProcessChoices");async function wfe(e,t,r,n,i){return lW(e,t,r,n,i,"completions",async(s,a,l)=>{let u=await l[Symbol.asyncIterator]().next();if(u.done)return sr.debug(e,"All choices redacted"),{type:"empty",reason:"all choices redacted",telemetryData:tn(r)};if(n?.isCancellationRequested)return sr.debug(e,"Cancelled after awaiting redactedChoices iterator"),{type:"canceled",reason:"after awaiting redactedChoices iterator",telemetryData:sa(r)};let f=u.value;if(f===void 0)return sr.debug(e,"Got undefined choice from redactedChoices iterator"),{type:"empty",reason:"got undefined choice from redactedChoices iterator",telemetryData:tn(r)};uW(e,"performance",f,s,a),sr.debug(e,`Awaited first result, id:  ${f.choiceIndex}`);let d=JC(f,t);d&&(y8(e,t,d),sr.debug(e,`GhostText first completion (index ${d?.choiceIndex}): ${JSON.stringify(d?.completionText)}`));let m=(async()=>{let p=d!==void 0?[d]:[];for await(let g of l){if(g===void 0)continue;sr.debug(e,`GhostText later completion (index ${g?.choiceIndex}): ${JSON.stringify(g.completionText)}`);let h=JC(g,t,p);h&&(p.push(h),y8(e,t,h))}})();return Ns(e)&&await m,d?{type:"success",value:[XC(d,{forceSingleLine:!1}),m],telemetryData:tn(r),telemetryBlob:r,resultType:0}:{type:"empty",reason:"got undefined processedFirstChoice",telemetryData:tn(r)}})}o(wfe,"getCompletionsFromNetwork");async function Pfe(e,t,r,n,i){return lW(e,t,r,n,i,"all completions",async(s,a,l)=>{let c=[];for await(let u of l){if(n?.isCancellationRequested)return sr.debug(e,"Cancelled after awaiting choices iterator"),{type:"canceled",reason:"after awaiting choices iterator",telemetryData:sa(r)};let f=JC(u,t,c);f&&c.push(f)}if(c.length>0){for(let u of c)y8(e,t,u);uW(e,"cyclingPerformance",c[0],s,a)}return{type:"success",value:[c,Promise.resolve()],telemetryData:tn(r),telemetryBlob:r,resultType:3}})}o(Pfe,"getAllCompletionsFromNetwork");function XC(e,t){let r={...e};if(t.forceSingleLine){let{completionText:n}=r,i=n.match(/^\r?\n/);i?r.completionText=i[0]+n.split(`
`)[1]:r.completionText=n.split(`
`)[0]}return r}o(XC,"makeGhostAPIChoice");function oW(e){return t=>{let r=t?.split(`
`)??[];if(r.length>e+1)return r.slice(0,e+1).join(`
`).length}}o(oW,"takeNLines");async function Rfe(e,t,r,n,i,s,a,l,c,u,f){let d=e.get(gu).forLanguage(e,t.textDocument.detectedLanguageId,f);switch(d){case"server":return a&&u?{blockMode:"parsing",requestMultiline:!0,finishedCb:oW(1),stop:[`

`],maxTokens:iW}:{blockMode:"server",requestMultiline:!0,finishedCb:o(m=>{},"finishedCb")};case"parsing":case"parsingandserver":case"moremultiline":default:{let m;try{m=await Mfe(e,d,t.textDocument,t.position,s,l,c,n)}catch{m={requestMultiline:!1}}if(m.requestMultiline){let p;return n.trailingWs.length>0&&!n.prompt.prefix.endsWith(n.trailingWs)?p=wi.position(t.position.line,Math.max(t.position.character-n.trailingWs.length,0)):p=t.position,{blockMode:d,requestMultiline:!0,...sW(e,d,t.textDocument,p,m.blockPosition,r,c,!0,n.prompt,f)}}if(a&&(u||d==="moremultiline")){let p={blockMode:"parsing",requestMultiline:!0,finishedCb:oW(1),stop:[`

`],maxTokens:iW};return d==="moremultiline"&&(p.blockMode="moremultiline"),p}return{blockMode:d,requestMultiline:!1,...sW(e,d,t.textDocument,t.position,m.blockPosition,r,c,!1,n.prompt,f)}}}}o(Rfe,"getGhostTextStrategy");function sW(e,t,r,n,i,s,a,l,c,u){if(l&&t==="moremultiline"&&s0.isSupported(r.detectedLanguageId)){let f=i==="empty-block"||i==="block-end"?e.get(Be).longLookaheadSize(u):e.get(Be).shortLookaheadSize(u);return{finishedCb:new ob(e,s,r.detectedLanguageId,!1,f,(m,p)=>{let g={prefix:s+m,prompt:{...c,prefix:c.prefix+m}};y8(e,g,p)}).getFinishedCallback(),maxTokens:Sfe}}return{finishedCb:l?tj(e,r,n,a):f=>{}}}o(sW,"buildFinishedCallback");var Dfe={isCycling:!1,promptOnly:!1,isSpeculative:!1};async function Afe(e,t,r,n,i,s){let a=n.issuedTime,l=[];function c(x){let _=kn();l.push([x,_-a]),a=_}o(c,"recordPerformance"),c("telemetry");let u=e.get(Be);if(i?.isCancellationRequested)return{type:"abortedBeforeIssued",reason:"cancelled before extractPrompt",telemetryData:tn(n)};let f=kfe(t.textDocument,t.position);if(f===void 0)return sr.debug(e,"Breaking, invalid middle of the line"),{type:"abortedBeforeIssued",reason:"Invalid middle of the line",telemetryData:tn(n)};let d=i,m=new tr.CancellationTokenSource;i=m.token;let p=bd(e,n),g={...Dfe,...s,tokenizer:p.tokenizer},h=await b8(e,r,t,n,i,g);return c("prompt"),h.type==="copilotContentExclusion"?(sr.debug(e,"Copilot not available, due to content exclusion"),{type:"abortedBeforeIssued",reason:"Copilot not available due to content exclusion",telemetryData:tn(n)}):h.type==="contextTooShort"?(sr.debug(e,"Breaking, not enough context"),{type:"abortedBeforeIssued",reason:"Not enough context",telemetryData:tn(n)}):h.type==="promptError"?(sr.debug(e,"Error while building the prompt"),{type:"abortedBeforeIssued",reason:"Error while building the prompt",telemetryData:tn(n)}):g.promptOnly?{type:"promptOnly",reason:"Breaking, promptOnly set to true",prompt:h}:h.type==="promptCancelled"?(sr.debug(e,"Cancelled during extractPrompt"),{type:"abortedBeforeIssued",reason:"Cancelled during extractPrompt",telemetryData:tn(n)}):h.type==="promptTimeout"?(sr.debug(e,"Timeout during extractPrompt"),{type:"abortedBeforeIssued",reason:"Timeout",telemetryData:tn(n)}):h.prompt.prefix.length===0&&h.prompt.suffix.length===0?(sr.debug(e,"Error empty prompt"),{type:"abortedBeforeIssued",reason:"Empty prompt",telemetryData:tn(n)}):i?.isCancellationRequested?(sr.debug(e,"Cancelled after extractPrompt"),{type:"abortedBeforeIssued",reason:"Cancelled after extractPrompt",telemetryData:tn(n)}):e.get(Br).withProgress(async()=>{let[x]=x8(t.textDocument.getText(wi.range(wi.position(0,0),t.position))),_=u.triggerCompletionAfterAccept(n),y=e.get(f0).hasAcceptedCurrentCompletion(x,h.prompt.suffix),v=Ze(e,de.MultilineAfterAccept)??u.enableMultilineAfterAccept(n),I=(Ze(e,de.AlwaysRequestMultiline)??u.enableProgressiveReveal(n))&&s0.isSupported(t.textDocument.detectedLanguageId),R=_&&!v&&!I?y:void 0,z=h.prompt;R&&(h.prompt={...h.prompt,prefix:h.prompt.prefix+`
`});let V=await Rfe(e,t,x,h,g.isCycling,f,y,g.isSpeculative,R??!1,v,n);if(c("strategy"),i?.isCancellationRequested)return sr.debug(e,"Cancelled after requestMultiline"),{type:"abortedBeforeIssued",reason:"Cancelled after requestMultiline",telemetryData:tn(n)};let $=Nfe(e,x,z,V.requestMultiline);c("cache");let Y=_d(e,t.textDocument.uri),P={blockMode:V.blockMode,languageId:t.textDocument.detectedLanguageId,repoInfo:Y,engineModelId:p.modelId,ourRequestId:r,prefix:x,prompt:h.prompt,multiline:V.requestMultiline,indentation:YE(t.textDocument,t.position),isCycling:g.isCycling,headers:p.headers,requestForNextLine:R,stop:V.stop,maxTokens:V.maxTokens};P.headers={...P.headers,"X-Copilot-Async":"true","X-Copilot-Speculative":g.isSpeculative?"true":"false"};let w=Wfe(e,t.textDocument,P,t.position,h,n,p,g);if($===void 0&&!g.isCycling&&e.get(Ko).shouldWaitForAsyncCompletions(x,h.prompt)){let O=await e.get(Ko).getFirstMatchingRequestWithTimeout(r,x,h.prompt,g.isSpeculative,w);if(c("asyncWait"),O){let M=!V.requestMultiline;$=[[XC(O[0],{forceSingleLine:M})],4]}if(d?.isCancellationRequested)return sr.debug(e,"Cancelled before requesting a new completion"),{type:"abortedBeforeIssued",reason:"Cancelled after waiting for async completion",telemetryData:tn(w)}}let H=V.blockMode==="moremultiline"&&s0.isSupported(t.textDocument.detectedLanguageId);if($!==void 0&&($[0]=$[0].map(O=>YC(e,t.textDocument,t.position,O,H,sr)).filter(O=>O!==void 0)),$!==void 0&&$[0].length===0)return sr.debug(e,`Found empty inline suggestions locally via ${Xm($[1])}`),{type:"empty",reason:"cached results empty after post-processing",telemetryData:tn(w)};if($!==void 0&&$[0].length>0&&(!g.isCycling||$[0].length>1))sr.debug(e,`Found inline suggestions locally via ${Xm($[1])}`);else{if(g.isCycling){let O=await Pfe(e,P,w,i,V.finishedCb);if(O.type==="success"){let M=$?.[0]??[];O.value[0].forEach(G=>{M.findIndex(se=>se.completionText.trim()===G.completionText.trim())===-1&&M.push(G)}),$=[M,3]}else if($===void 0)return O}else{if(i?.isCancellationRequested)return sr.debug(e,"Cancelled before request"),{type:"canceled",reason:"before request",telemetryData:sa(w)};let M=wfe(e,P,w,i,o((se,ye)=>(e.get(Ko).updateCompletion(r,se),V.finishedCb(se,ye)),"finishedCb"));e.get(Ko).queueCompletionRequest(r,x,h.prompt,m,M);let G=await e.get(Ko).getFirstMatchingRequest(r,x,h.prompt,g.isSpeculative);if(G===void 0)return{type:"empty",reason:"received no results from async completions",telemetryData:tn(w)};$=[[G[0]],4]}c("network")}if($===void 0)return{type:"failed",reason:"internal error: choices should be defined after network call",telemetryData:tn(w)};let[N,T]=$,E=N.map(O=>YC(e,t.textDocument,t.position,O,H,sr)).filter(O=>O!==void 0),D=[];for(let O of E){let M=$fe(e,t.textDocument,P,O,w),G=f?nW(t.textDocument,t.position,O):0,ye={completion:Ufe(O.choiceIndex,O.completionText,h.trailingWs),telemetry:M,isMiddleOfTheLine:f,suffixCoverage:G,copilotAnnotations:O.copilotAnnotations};D.push(ye)}if(d?.isCancellationRequested)return sr.debug(e,"Cancelled after post processing completions"),{type:"canceled",reason:"after post processing completions",telemetryData:sa(w)};w.properties.clientCompletionId=D?.[0]?.telemetry?.properties.clientCompletionId,w.measurements.foundOffset=D?.[0]?.telemetry?.measurements?.foundOffset??-1,sr.debug(e,`Produced ${D.length} results from ${Xm(T)} at ${w.measurements.foundOffset} offset`);let S=Ze(e,de.CompletionsDelay)??u.completionsDelay(n),A=kn()-n.issuedTime,k=Math.max(S-A,0);return T!==2&&!g.isCycling&&k>0&&(sr.debug(e,`Waiting ${k}ms before returning completion`),await vf(k),d?.isCancellationRequested)?(sr.debug(e,"Cancelled after completions delay"),{type:"canceled",reason:"after completions delay",telemetryData:sa(w)}):r!==e.get(f0).currentRequestId?(sr.debug(e,"Current request id changed before returning"),{type:"canceled",reason:"current request id changed before returning",telemetryData:sa(w)}):(g.isSpeculative||e.get(f0).setGhostText(x,h.prompt.suffix,E,T),c("complete"),{type:"success",value:[D,T],telemetryData:tn(w),telemetryBlob:w,resultType:T,performanceMetrics:l})})}o(Afe,"getGhostTextWithoutAbortHandling");async function ZC(e,t,r,n){let i=Li();e.get(f0).currentRequestId=i;let s=await jfe(e,t.textDocument,i,n);try{return e.get(ul).schedule(t,i,s,r,n),e.get(xf).notifyRequest(t,i,s,r,n),await Afe(e,t,i,s,r,n)}catch(a){if(m0(a))return{type:"canceled",reason:"aborted at unknown location",telemetryData:sa(s,{cancelledNetworkRequest:!0})};throw a}}o(ZC,"getGhostText");function Nfe(e,t,r,n){let i=e.get(f0).getCompletionsForUserTyping(t,r.suffix),s=Bfe(e,t,r.suffix,n);if(i&&i.length>0){let a=(s??[]).filter(l=>!i.some(c=>c.completionText===l.completionText));return[i.concat(a),2]}if(s&&s.length>0)return[s,1]}o(Nfe,"getLocalInlineSuggestion");function kfe(e,t){let r=Ofe(t,e),n=Lfe(t,e);return r&&!n?void 0:r&&n}o(kfe,"isInlineSuggestion");function Ofe(e,t){return t.lineAt(e).text.substr(e.character).trim().length!=0}o(Ofe,"isMiddleOfTheLine");function Lfe(e,t){let n=t.lineAt(e).text.substr(e.character).trim();return/^\s*[)>}\]"'`]*\s*[:{;,]?\s*$/.test(n)}o(Lfe,"isValidMiddleOfTheLinePosition");function Ffe(e,t){return t.lineAt(e).text.trim().length===0}o(Ffe,"isNewLine");var c1=class e{constructor(t=!1){this.requestMultilineOverride=t}static{o(this,"ForceMultiLine")}static{this.default=new e}};async function Mfe(e,t,r,n,i,s,a,l){if(e.get(c1).requestMultilineOverride)return{requestMultiline:!0};if(r.lineCount>=8e3)Se(e,"ghostText.longFileMultilineSkip",et.createAndMarkAsIssued({languageId:r.detectedLanguageId,lineCount:String(r.lineCount),currentLine:String(n.line)}));else{if(t=="moremultiline"&&s0.isSupported(r.detectedLanguageId))return s?{requestMultiline:!0,blockPosition:await hB(r,n)}:{requestMultiline:!1};if(a){let f=YE(r,n),d=f.current>0?r.lineAt(n).text[0]:void 0,m={range:{start:n,end:n},newText:`
`+(d?d.repeat(f.current):"")};r=r.applyEdits([m])}if(["typescript","typescriptreact"].includes(r.detectedLanguageId)&&Ffe(n,r))return{requestMultiline:!0};let u=!1;return!i&&w0(r.detectedLanguageId)?u=await pb(r,n):i&&w0(r.detectedLanguageId)&&(u=await pb(r,n)||await pb(r,r.lineAt(n).range.end)),u||["javascript","javascriptreact","python"].includes(r.detectedLanguageId)&&(u=yB(l.prompt,r.detectedLanguageId)>.5),{requestMultiline:u}}return{requestMultiline:!1}}o(Mfe,"shouldRequestMultiline");function y8(e,t,r){e.get(ia).append(t.prefix,t.prompt.suffix,r)}o(y8,"appendToCache");function Ufe(e,t,r){if(r.length>0){if(t.startsWith(r))return{completionIndex:e,completionText:t,displayText:t.substring(r.length),displayNeedsWsOffset:!1};{let n=t.substring(0,t.length-t.trimStart().length);return r.startsWith(n)?{completionIndex:e,completionText:t,displayText:t.trimStart(),displayNeedsWsOffset:!0}:{completionIndex:e,completionText:t,displayText:t,displayNeedsWsOffset:!1}}}else return{completionIndex:e,completionText:t,displayText:t,displayNeedsWsOffset:!1}}o(Ufe,"adjustLeadingWhitespace");function Bfe(e,t,r,n){let i=e.get(ia).findAll(t,r);return i.length===0?(sr.debug(e,"Found no completions in cache"),[]):(sr.debug(e,`Found ${i.length} completions in cache`),i.map(s=>XC(s,{forceSingleLine:!n})))}o(Bfe,"getCompletionsFromCache");async function jfe(e,t,r,n){let i={headerRequestId:r};n?.opportunityId&&(i.opportunityId=n.opportunityId),n?.selectedCompletionInfo?.text&&(i.completionsActive="true"),n?.isSpeculative&&(i.reason="speculative");let s=et.createAndMarkAsIssued(i);return await e.get(Be).updateExPValuesAndAssignments({uri:t.uri,languageId:t.detectedLanguageId},s)}o(jfe,"createTelemetryWithExp");function $fe(e,t,r,n,i){let s=n.requestId,a={choiceIndex:n.choiceIndex.toString(),clientCompletionId:n.clientCompletionId};n.generatedChoiceIndex!==void 0&&(a.originalChoiceIndex=a.choiceIndex,a.choiceIndex=(1e4*(n.generatedChoiceIndex+1)+n.choiceIndex).toString());let l=n.completionText.split(`
`).length,c={compCharLen:n.completionText.length,numLines:r.requestForNextLine?l-1:l};n.meanLogProb&&(c.meanLogProb=n.meanLogProb),n.meanAlternativeLogProb&&(c.meanAlternativeLogProb=n.meanAlternativeLogProb);let u=n.telemetryData.extendedBy(a,c);return u.issuedTime=i.issuedTime,u.measurements.timeToProduceMs=performance.now()-i.issuedTime,cW(u,t),u.extendWithRequestId(s),u.measurements.confidence=Q$(e,u),u.measurements.quantile=eW(e,u),sr.debug(e,`Extended telemetry for ${n.telemetryData.properties.headerRequestId} with retention confidence ${u.measurements.confidence} (expected as good or better than about ${u.measurements.quantile} of all suggestions)`),u}o($fe,"telemetryWithAddData");function Wfe(e,t,r,n,i,s,a,l){let c={languageId:t.detectedLanguageId};r.requestForNextLine!==void 0&&(c.requestForNextLine=r.requestForNextLine.toString()),c.isSpeculative=l.isSpeculative.toString();let u=s.extendedBy(c);cW(u,t);let f=r.repoInfo;u.properties.gitRepoInformation=f===void 0?"unavailable":f===0?"pending":"available",f!==void 0&&f!==0&&(u.properties.gitRepoUrl=f.url,u.properties.gitRepoHost=f.hostname,u.properties.gitRepoOwner=f.owner,u.properties.gitRepoName=f.repo,u.properties.gitRepoPath=f.pathname),u.properties.engineName=a.modelId,u.properties.engineChoiceSource=a.engineChoiceSource,u.properties.isMultiline=JSON.stringify(r.multiline),u.properties.isCycling=JSON.stringify(r.isCycling);let d=t.lineAt(n.line),m=t.getText(wi.range(d.range.start,n)),p=t.getText(wi.range(n,d.range.end)),g=Array.from(i.neighborSource.entries()).map(y=>[y[0],y[1].map(v=>(0,aW.SHA256)(v).toString())]),h={beforeCursorWhitespace:JSON.stringify(m.trim()===""),afterCursorWhitespace:JSON.stringify(p.trim()===""),neighborSource:JSON.stringify(g),blockMode:r.blockMode},b={...W4(i.prompt),promptEndPos:t.offsetAt(n),promptComputeTimeMs:i.computeTimeMs};i.metadata&&(h.promptMetadata=JSON.stringify(i.metadata)),i.contextProvidersTelemetry&&(h.contextProviders=JSON.stringify(i.contextProvidersTelemetry));let x=e.get(ji);if(x.isActive()){let y=x.popTelemetry();y.length>0&&(h.workspaceContextStatsJson=JSON.stringify(y))}let _=u.extendedBy(h,b);return Se(e,"ghostText.issued",_),u}o(Wfe,"telemetryIssued");function cW(e,t){e.measurements.documentLength=t.getText().length,e.measurements.documentLineCount=t.lineCount}o(cW,"addDocumentTelemetry");function uW(e,t,r,n,i){let s=Date.now()-n,a=s-i,l=r.telemetryData.extendedBy({},{completionCharLen:r.completionText.length,requestTimeMs:s,processingTimeMs:i,deltaMs:a,meanLogProb:r.meanLogProb||NaN,meanAlternativeLogProb:r.meanAlternativeLogProb||NaN});l.extendWithRequestId(r.requestId),Se(e,`ghostText.${t}`,l)}o(uW,"telemetryPerformance");var f0=class{constructor(){this.choices=[]}static{o(this,"CurrentGhostText")}get clientCompletionId(){return this.choices[0]?.clientCompletionId}setGhostText(t,r,n,i){i!==2&&(this.prefix=t,this.suffix=r,this.choices=n)}getCompletionsForUserTyping(t,r){let n=this.getRemainingPrefix(t,r);if(n!==void 0&&fW(this.choices[0].completionText,n))return qfe(this.choices,n)}hasAcceptedCurrentCompletion(t,r){let n=this.getRemainingPrefix(t,r);if(n===void 0)return!1;let i=n===this.choices?.[0].completionText,s=this.choices?.[0].finishReason;return i&&s==="stop"}getRemainingPrefix(t,r){if(!(this.prefix===void 0||this.suffix===void 0||this.choices.length===0)&&this.suffix===r&&t.startsWith(this.prefix))return t.substring(this.prefix.length)}};function qfe(e,t){return e.filter(r=>fW(r.completionText,t)).map(r=>({...r,completionText:r.completionText.substring(t.length)}))}o(qfe,"adjustChoicesStart");function fW(e,t){return e.startsWith(t)&&e.length>t.length}o(fW,"startsWithAndExceeds");var Af=class{constructor(t,r,n){this._referenceCount=0;this._isDisposed=!1;this._offset=n;let i=t.get(Gt);this._tracker=i.onDidChangeTextDocument(s=>{if(s.document.uri===r){for(let a of s.contentChanges)if(a.rangeOffset+a.rangeLength<=this.offset){let l=a.text.length-a.rangeLength;this._offset=this._offset+l}}})}static{o(this,"ChangeTracker")}get offset(){return this._offset}push(t,r){if(this._isDisposed)throw new Error("Unable to push new actions to a disposed ChangeTracker");this._referenceCount++,setTimeout(()=>{t(),this._referenceCount--,this._referenceCount===0&&(this._tracker.dispose(),this._isDisposed=!0)},r)}};var QC=class e{constructor(t,r,n=[],i,s,a){this._textDocument=t;this._position=r;this.originalPosition=i??tr.Position.create(r.line,r.character),this.originalVersion=s??t.version,this.originalOffset=a??t.offsetAt(this.originalPosition),this._editsWithPosition=[...n]}static{o(this,"CompletionState")}get textDocument(){return this._textDocument}get position(){return this._position}get editsWithPosition(){return[...this._editsWithPosition]}updateState(t,r,n){return new e(t,r,n??this.editsWithPosition,this.originalPosition,this.originalVersion,this.originalOffset)}updatePosition(t){return this.updateState(this._textDocument,t)}addSelectedCompletionInfo(t){if(this.editsWithPosition.find(n=>n.source==="selectedCompletionInfo"))throw new Error("Selected completion info already applied");let r={range:t.range,newText:t.text};return this.applyEdits([r],!0)}applyEdits(t,r=!1){if(r&&t.length>1)throw new Error("Selected completion info should be a single edit");let n=this._textDocument,i=this._position,s=n.offsetAt(i),a=this.editsWithPosition;for(let{range:l,newText:c}of t){let u=n.getText(l),f=n.offsetAt(l.end);if(n=n.applyEdits([{range:l,newText:c}]),s<n.offsetAt(l.start)){let m={range:l,newText:c,positionAfterEdit:tr.Position.create(i.line,i.character)};r&&(m.source="selectedCompletionInfo"),a.push(m);continue}s<f&&(s=f),s+=c.length-u.length,i=n.positionAt(s);let d={range:l,newText:c,positionAfterEdit:tr.Position.create(i.line,i.character)};r&&(d.source="selectedCompletionInfo"),a.push(d)}return this.updateState(n,i,a)}};function v8(e,t){return new QC(e,t)}o(v8,"createCompletionState");function eI(e,t,r=(n,i)=>n===i?0:1){if(t.length===0||e.length===0)return{distance:t.length,startOffset:0,endOffset:0};let n=new Array(t.length+1).fill(0),i=new Array(t.length+1).fill(0),s=new Array(e.length+1).fill(0),a=new Array(e.length+1).fill(0),l=t[0];for(let u=0;u<e.length+1;u++)u===0?n[u]=1:n[u]=r(e[u-1],l,u-1,0),i[u]=u>0?u-1:0;for(let u=1;u<t.length;u++){let f=s;s=n,n=f,f=a,a=i,i=f,l=t[u],n[0]=u+1;for(let d=1;d<e.length+1;d++){let m=1+s[d],p=1+n[d-1],g=r(e[d-1],l,d-1,u)+s[d-1];n[d]=Math.min(p,m,g),n[d]===g?i[d]=a[d-1]:n[d]===m?i[d]=a[d]:i[d]=i[d-1]}}let c=0;for(let u=0;u<e.length+1;u++)n[u]<n[c]&&(c=u);return{distance:n[c],startOffset:i[c],endOffset:c}}o(eI,"editDistance");function Gfe(){return new Map}o(Gfe,"emptyLexDictionary");function zfe(e){let t=new Array(e.size);for(let[r,n]of e)t[n]=r;return t}o(zfe,"reverseLexDictionary");function*Hfe(e){let t="",r;(l=>(l[l.Word=0]="Word",l[l.Space=1]="Space",l[l.Other=2]="Other"))(r||={});let n=0;for(let i of e){let s;/(\p{L}|\p{Nd}|_)/u.test(i)?s=0:i===" "?s=1:s=2,s===n&&s!==2?t+=i:(t.length>0&&(yield t),t=i,n=s)}t.length>0&&(yield t)}o(Hfe,"lexGeneratorWords");function dW(e,t,r,n){let i=[],s=0;for(let a of r(e))n(a)&&(t.has(a)||t.set(a,t.size),i.push([t.get(a),s])),s+=a.length;return[i,t]}o(dW,"lexicalAnalyzer");function mW(e){return e!==" "}o(mW,"notSingleSpace");function pW(e,t,r=Hfe){let[n,i]=dW(e,Gfe(),r,mW),[s,a]=dW(t,i,r,mW);if(s.length===0||n.length===0)return{lexDistance:s.length,startOffset:0,endOffset:0,haystackLexLength:n.length,needleLexLength:s.length};let l=zfe(a),c=s.length,u=l[s[0][0]],f=l[s[c-1][0]];function d(h,b,x,_){if(_===0||_===c-1){let y=l[n[x][0]];return _==0&&y.endsWith(u)||_==c-1&&y.startsWith(f)?0:1}else return h===b?0:1}o(d,"compare");let m=eI(n.map(h=>h[0]),s.map(h=>h[0]),d),p=n[m.startOffset][1],g=m.endOffset<n.length?n[m.endOffset][1]:e.length;return g>0&&e[g-1]===" "&&--g,{lexDistance:m.distance,startOffset:p,endOffset:g,haystackLexLength:n.length,needleLexLength:s.length}}o(pW,"lexEditDistance");function gW(e,t){return e.compType==="partial"?e.acceptedLength:t.length}o(gW,"computeCompCharLen");function hW(e,t){return t.compType==="partial"?e.substring(0,t.acceptedLength):e}o(hW,"computeCompletionText");function xW(e,t,r){return e.displayText!==e.insertText&&e.insertText.trim()===e.displayText||r===3?t:t-e.range.end.character+e.range.start.character}o(xW,"computePartialLength");var zc=new wt("postInsertion"),bW=[{seconds:15,captureCode:!1,captureRejection:!1},{seconds:30,captureCode:!0,captureRejection:!0},{seconds:120,captureCode:!1,captureRejection:!1},{seconds:300,captureCode:!1,captureRejection:!1},{seconds:600,captureCode:!1,captureRejection:!1}],_W=50,Vfe=1500,Kfe=.5,Yfe=500,tI={triggerPostInsertionSynchroneously:!1,captureCode:!1,captureRejection:!1};async function yW(e,t,r,n,i){let s=await e.get(na).getOrReadTextDocumentWithFakeClientProperties({uri:t});if(s.status!=="valid")return zc.info(e,`Could not get document for ${t}. Maybe it was closed by the editor.`),{prompt:{prefix:"",suffix:"",isFimEnabled:!1},capturedCode:"",terminationOffset:0};let a=s.document,l=a.getText(),c=l.substring(0,n),u=a.positionAt(n),f=await b8(e,r.properties.headerRequestId,v8(a,u),r),d=f.type==="prompt"?f.prompt:{prefix:c,suffix:"",isFimEnabled:!1};if(d.isFimEnabled&&i!==void 0){let m=l.substring(n,i);return d.suffix=l.substring(i),{prompt:d,capturedCode:m,terminationOffset:0}}else{let m=l.substring(n),p=JE(c,n,a.detectedLanguageId),h=await rj(p,void 0)(m),b=Math.min(l.length,n+(h?h*2:Yfe)),x=l.substring(n,b);return{prompt:d,capturedCode:x,terminationOffset:h??-1}}}o(yW,"captureCode");function vW(e,t,r,n,i){i.forEach(({completionText:c,completionTelemetryData:u})=>{zc.debug(e,`${t}.rejected choiceIndex: ${u.properties.choiceIndex}`),NB(e,t,u)});let s=new Af(e,n,r-1),a=new Af(e,n,r),l=o(async c=>{zc.debug(e,`Original offset: ${r}, Tracked offset: ${s.offset}`);let{completionTelemetryData:u}=i[0],{prompt:f,capturedCode:d,terminationOffset:m}=await yW(e,n,u,s.offset+1,a.offset),p;f.isFimEnabled?p={hypotheticalPromptPrefixJson:JSON.stringify(f.prefix),hypotheticalPromptSuffixJson:JSON.stringify(f.suffix)}:p={hypotheticalPromptJson:JSON.stringify(f.prefix)};let g=u.extendedBy({...p,capturedCodeJson:JSON.stringify(d)},{timeout:c.seconds,insertionOffset:r,trackedOffset:s.offset,terminationOffsetInCapturedCode:m});zc.debug(e,`${t}.capturedAfterRejected choiceIndex: ${u.properties.choiceIndex}`,g),Se(e,t+".capturedAfterRejected",g,1)},"checkInCode");bW.filter(c=>c.captureRejection).map(c=>s.push(Jl(e,()=>l(c),"postRejectionTasks"),c.seconds*1e3))}o(vW,"postRejectionTasks");function nI(e,t,r,n,i,s,a,l){let c=s.extendedBy({compType:a.compType},{compCharLen:gW(a,r)});zc.debug(e,`${t}.accepted choiceIndex: ${c.properties.choiceIndex}`),AB(e,t,c);let u=r;r=hW(r,a);let f=r.trim(),d=new Af(e,i,n),m=new Af(e,i,n+r.length),p=o(async g=>{await Qfe(e,t,f,n,i,g,c,d,m)},"stillInCodeCheck");if(tI.triggerPostInsertionSynchroneously&&Ns(e)){let g=p({seconds:0,captureCode:tI.captureCode,captureRejection:tI.captureRejection});e.get(Zi).register(g)}else bW.map(g=>d.push(Jl(e,()=>p(g),"postInsertionTasks"),g.seconds*1e3));Jl(e,Jfe,"post insertion citation check")(e,i,u,r,n,l)}o(nI,"postInsertionTasks");async function Jfe(e,t,r,n,i,s){if(!s||(s.ip_code_citations?.length??0)<1)return;let a=await e.get(Gt).getTextDocument({uri:t});if(a){let l=rI(a.getText(),n,_W,i);l.stillInCodeHeuristic&&(i=l.foundOffset)}for(let l of s.ip_code_citations){let c=Xfe(r.length,n.length,l.start_offset);if(c===void 0){zc.info(e,`Full completion for ${t} contains a reference matching public code, but the partially inserted text did not include the match.`);continue}let u=i+c,f=a?.positionAt(u),d=i+Zfe(r.length,n.length,l.stop_offset),m=a?.positionAt(d),p=f&&m?a?.getText({start:f,end:m}):"<unknown>";await e.get(Pc).handleIPCodeCitation(e,{inDocumentUri:t,offsetStart:u,offsetEnd:d,version:a?.version,location:f&&m?{start:f,end:m}:void 0,matchingText:p,details:l.details.citations})}}o(Jfe,"citationCheck");function Xfe(e,t,r){if(!(t<e&&r>t))return r}o(Xfe,"computeCitationStart");function Zfe(e,t,r){return t<e?Math.min(r,t):r}o(Zfe,"computeCitationEnd");function rI(e,t,r,n){let i=e.substring(Math.max(0,n-r),Math.min(e.length,n+t.length+r)),s=pW(i,t),a=s.lexDistance/s.needleLexLength,{distance:l}=eI(i.substring(s.startOffset,s.endOffset),t);return{relativeLexEditDistance:a,charEditDistance:l,completionLexLength:s.needleLexLength,foundOffset:s.startOffset+Math.max(0,n-r),lexEditDistance:s.lexDistance,stillInCodeHeuristic:a<=Kfe?1:0}}o(rI,"find");async function Qfe(e,t,r,n,i,s,a,l,c){let u=await e.get(na).getOrReadTextDocument({uri:i});if(u.status==="valid"){let d=u.document.getText(),m=rI(d,r,_W,l.offset);m.stillInCodeHeuristic||(m=rI(d,r,Vfe,l.offset)),zc.debug(e,`stillInCode: ${m.stillInCodeHeuristic?"Found":"Not found"}! Completion '${r}' in file ${i}. lexEditDistance fraction was ${m.relativeLexEditDistance}. Char edit distance was ${m.charEditDistance}. Inserted at ${n}, tracked at ${l.offset}, found at ${m.foundOffset}. choiceIndex: ${a.properties.choiceIndex}`);let p=a.extendedBy({},{timeout:s.seconds,insertionOffset:n,trackedOffset:l.offset}).extendedBy({},m);if(Se(e,t+".stillInCode",p),s.captureCode){let{prompt:g,capturedCode:h,terminationOffset:b}=await yW(e,i,p,l.offset,c.offset),x;g.isFimEnabled?x={hypotheticalPromptPrefixJson:JSON.stringify(g.prefix),hypotheticalPromptSuffixJson:JSON.stringify(g.suffix)}:x={hypotheticalPromptJson:JSON.stringify(g.prefix)};let _=a.extendedBy({...x,capturedCodeJson:JSON.stringify(h)},{timeout:s.seconds,insertionOffset:n,trackedOffset:l.offset,terminationOffsetInCapturedCode:b});zc.debug(e,`${t}.capturedAfterAccepted choiceIndex: ${a.properties.choiceIndex}`,p),Se(e,t+".capturedAfterAccepted",_,1)}}}o(Qfe,"checkStillInCode");var iI=new wt("ghostText"),ua=class{static{o(this,"LastGhostText")}#e;#t;#i=[];get position(){return this.#e}get shownCompletions(){return this.#i||[]}get uri(){return this.#t}resetState(){this.#t=void 0,this.#e=void 0,this.#i=[]}setState({uri:t},r){this.#t=t,this.#e=r,this.#i=[]}resetPartialAcceptanceState(){this.partiallyAcceptedLength=0}};function ede(e){let t=[];return e.shownCompletions.forEach(r=>{if(r.displayText&&r.telemetry){let n,i;e.partiallyAcceptedLength?(n=r.displayText.substring(e.partiallyAcceptedLength-1),i=r.telemetry.extendedBy({compType:"partial"},{compCharLen:n.length})):(n=r.displayText,i=r.telemetry);let s={completionText:n,completionTelemetryData:i,offset:r.offset};t.push(s)}}),t}o(ede,"computeRejectedCompletions");function tde(e,t){let r=e.get(ua);if(!r.position||!r.uri)return;let n=ede(r);n.length>0&&vW(e,"ghostText",t??n[0].offset,r.uri,n),r.resetState(),r.resetPartialAcceptanceState()}o(tde,"rejectLastShown");function TW(e,t,r,n){let i=e.get(ua);return i.position&&i.uri&&!(i.position.line===r.line&&i.position.character===r.character&&i.uri.toString()===t.uri.toString())&&n!==2&&tde(e,t.offsetAt(i.position)),i.setState(t,r),i.index}o(TW,"setLastShown");function EW(e,t){let r=e.get(ua);if(r.index=t.index,!r.shownCompletions.find(n=>n.index===t.index)&&(t.uri===r.uri&&r.position?.line===t.position.line&&r.position?.character==t.position.character&&r.shownCompletions.push(t),t.displayText)){let n=t.resultType!==0;iI.debug(e,`[${t.telemetry.properties.headerRequestId}] shown choiceIndex: ${t.telemetry.properties.choiceIndex}, fromCache ${n}`),t.telemetry.measurements.compCharLen=t.displayText.length,DB(e,"ghostText",t)}}o(EW,"handleGhostTextShown");function CW(e,t){let r=e.get(ua);r.resetState(),iI.debug(e,"Ghost text post insert");let n=r.partiallyAcceptedLength?{compType:"partial",acceptedLength:t.displayText.length}:{compType:"full"};return r.resetPartialAcceptanceState(),nI(e,"ghostText",t.displayText,t.offset,t.uri,t.telemetry,n,t.copilotAnnotations)}o(CW,"handleGhostTextPostInsert");function IW(e,t,r,n=0){let i=e.get(ua);r===t.insertText.length&&i.resetState(),iI.debug(e,"Ghost text partial post insert");let s=xW(t,r,n);if(s)return i.partiallyAcceptedLength=r,nI(e,"ghostText",t.displayText,t.offset,t.uri,t.telemetry,{compType:"partial",acceptedLength:s},t.copilotAnnotations)}o(IW,"handlePartialGhostTextPostInsert");function SW(e){let t=new B3;return t.set(Aa,e),t.set(Kc,new Kc),t.set(Nn,new Nn),t.set(ia,new ia),t.set(L0,new L0),t.set(Be,new Be(t)),t.set(hu,new hu),t.set(Xi,new Xi(t)),t.set(ko,new ko),t.set(sl,new sl),t.set(F0,new F0),t.set(kc,new Kg),t.set(gu,new q5),t.set(Yc,new E2),t.set(Zi,new Zi),t.set(xf,new xf(t)),t.set(na,new na(t)),w$(t,!0),t.set(ji,new ji(t)),t.set(bl,j$(t)),t.set(ua,new ua),t.set(f0,new f0),t.set(c1,c1.default),t.set(ll,new ll(t)),t.set(S0,new S0(t)),t.set(dp,new dp),t.set(Ko,new Ko(t)),t.set(Mg,new Mg),t.set(Ug,new Ug(t)),t}o(SW,"createCommonContext");var Wct=new wt("exp");function wW(e){let t=e.get(Be);t.registerStaticFilters(ide(e)),t.registerDynamicFilter("X-Copilot-OverrideEngine",()=>Ze(e,de.DebugOverrideEngine)||Ze(e,de.DebugOverrideEngineLegacy)),t.registerDynamicFilter("X-VSCode-ExtensionName",()=>Zl()?"copilot-web":e.get(cr).getEditorPluginInfo().name),t.registerDynamicFilter("X-VSCode-ExtensionVersion",()=>oI(!e.get(Nn).isProduction()&&e.get(cr).getEditorPluginInfo().name==="copilot"?"1.999.0":e.get(cr).getEditorPluginInfo().version)),t.registerDynamicFilter("X-VSCode-ExtensionRelease",()=>rde(e)),t.registerDynamicFilter("X-VSCode-Build",()=>e.get(cr).getEditorInfo().name),t.registerDynamicFilter("X-VSCode-AppVersion",()=>oI(e.get(cr).getEditorInfo().version)),t.registerDynamicFilter("X-VSCode-TargetPopulation",()=>nde(e)),t.registerDynamicFilterGroup(()=>{let r={};for(let n of e.get(cr).getRelatedPluginInfo()){let i=Xo+n.name.replace(/[^A-Za-z]/g,"").toLowerCase();if(!Object.values(v1).includes(i)){v2(e,{reason:`A filter could not be registered for the unrecognized related plugin "${n.name}".`});continue}r[i]=oI(n.version)}return r})}o(wW,"setupExperimentationService");function rde(e){let t=e.get(cr).getEditorPluginInfo();return t.name==="copilot"&&mp(e)==="nightly"||t.name==="copilot-intellij"&&t.version.endsWith("nightly")?"nightly":"stable"}o(rde,"getPluginRelease");function nde(e){let t=e.get(cr).getEditorInfo();return t.name==="vscode"&&t.version.endsWith("-insider")?"insider":"public"}o(nde,"getTargetPopulation");function ide(e){return ode(e)}o(ide,"createAllFilters");function ode(e){let t=e.get(bn);return{"X-MSEdge-ClientId":t.machineId,"X-Copilot-ClientVersion":e.get(Nn).isProduction()?pp(e):"1.999.0"}}o(ode,"createDefaultFilters");function oI(e){return e.split("-")[0]}o(oI,"trimVersionSuffix");var T8=class extends Sl{static{o(this,"TelemetryLogSenderWeb")}sendError(t,r,...n){Xs(t,"log",et.createAndMarkAsIssued({context:r,level:O2[1],message:sde(...n)}),1)}sendException(t,r,n){p0(t,r,n)}};function sde(...e){return e.map(t=>ade(t)).join(" ")}o(sde,"telemetryMessage");function ade(e){if(typeof e=="string"||typeof e=="number"||typeof e=="boolean"||e===null||e===void 0)return`${e}`;try{return JSON.stringify(e)}catch{return e}}o(ade,"safeStringify");var E8=class extends Yn{constructor(r){super();this.ctx=r;this.name="FetchFetcher";this.userAgent=`GithubCopilot/${this.ctx.get(Nn).getVersion()}`}static{o(this,"FetchFetcher")}async fetch(r,n){let i=n.headers||{};i["User-Agent"]=this.userAgent;let s=n.body;if(n.json){if(n.body)throw new Error("Illegal arguments! Cannot pass in both 'body' and 'json'!");i["Content-Type"]="application/json",s=JSON.stringify(n.json)}let a=n.method||"GET";if(a!=="GET"&&a!=="POST")throw new Error("Illegal arguments! 'method' must be either 'GET' or 'POST'!");if(n.signal&&!(n.signal instanceof AbortSignal))throw new Error("Illegal arguments! 'signal' must be an instance of AbortSignal!");let l=AbortSignal.any([...n.signal?[n.signal]:[],...n.timeout?[AbortSignal.timeout(n.timeout)]:[]]),c=await fetch(r,{method:a,headers:i,body:s,signal:l});return new T2(c.status,c.statusText,c.headers,()=>c.text(),()=>c.body)}async disconnectAll(){}makeAbortController(){return new AbortController}};var PW=100,RW=1e3*60*5;function DW(e){let t=new sI(e);e.get(aa).registerContextProvider(t),e.get(Oc).add(t.id),e.get(ji).getInitializedFeature().then(r=>{r.documentProvider.registerDocumentProvider(t)}).catch(r=>{Lc(e,r,"registerRelatedFilesShim")})}o(DW,"registerRelatedFilesShim");var sI=class{constructor(t){this.ctx=t;this.id="relatedFilesShim";this.selector=["*"];this.traitCache=new y1(PW,RW);this.relatedFilesCache=new y1(PW,RW);this.resolver={resolve:o(async(r,n)=>{let i=r.documentContext.uri,s=r.documentContext.languageId;return await this.getTraits(i,s,n)},"resolve")}}static{o(this,"RelatedFilesShim")}async getTraits(t,r,n){return this.traitCache.has(t)||await this.requestRelatedFilesAndTraits(t,r,r,n),this.traitCache.get(t)??[]}async requestRelatedFilesAndTraits(t,r,n,i){try{let s=await this.ctx.get(Be).updateExPValuesAndAssignments({uri:t,languageId:n}),a={uri:t,clientLanguageId:r,detectedLanguageId:n},l=await l8(this.ctx,a,s,i,!0);if(i?.isCancellationRequested)return;let c=l.traits.filter(f=>f.includeInPrompt).map(f=>f.promptTextOverride?{name:"OtherInformation",value:f.promptTextOverride}:f),u=new Set;for(let f of l.entries.values())for(let d of f.keys())u.add(d);this.traitCache.set(t,c),this.relatedFilesCache.set(t,Array.from(u))}catch(s){Lc(this.ctx,s,"relatedFilesShim")}}async*getDocuments(t,r){for(let n of t.slice(0,xl.MAX_NEIGHBOR_FILES)){if(r?.isCancellationRequested)return;if(!this.relatedFilesCache.has(n.uri)){let a=Hm({uri:n.uri})??"UNKNOWN";await this.requestRelatedFilesAndTraits(n.uri,a,a,r)}let i=this.relatedFilesCache.get(n.uri)??[];if(i.length===0)continue;let s=n.weight/i.length;for(let a of i)yield{uri:a,weight:s}}}};var AW=["cpp","c","cuda-cpp"],NW=["typescript","javascript","typescriptreact","javascriptreact"],kW=["csharp"],lde=new Map([...AW.map(e=>[e,"related/cpp"]),...NW.map(e=>[e,"related/typescript"]),...kW.map(e=>[e,"related/csharproslyn"])]);function cde(e){return lde.get(e)??"related/other"}o(cde,"getNeighboringFileType");var C8=class extends Df{constructor(r){super(r);this.providers=new Map;this.telemetrySent=!1;this.reportedUnknownProviders=new Set}static{o(this,"CompositeRelatedFilesProvider")}async getRelatedFilesResponse(r,n,i){let s=Date.now(),a=r.clientLanguageId.toLowerCase();if(cde(a)==="related/other"&&!this.reportedUnknownProviders.has(a)&&(this.reportedUnknownProviders.add(a),Kn.warn(this.context,`unknown language ${a}`)),this.relatedFilesTelemetry(n),Kn.debug(this.context,`Fetching related files for ${r.uri}`),!this.isActive(a,n))return Kn.debug(this.context,"language-server related-files experiment is not active."),BC;let c=this.providers.get(a);if(!c)return BC;try{return this.convert(r.uri,c,s,n,i)}catch{this.relatedFileNonresponseTelemetry(a,n);return}}async convert(r,n,i,s,a){a||(a={isCancellationRequested:!1,onCancellationRequested:o(()=>({dispose(){}}),"onCancellationRequested")});let l={entries:[],traits:[]},c=n.size>0;for(let u of n.values()){let f=await u.callback(r,{flags:{}},a);if(f){c=!1,l.entries.push(...f.entries),f.traits&&l.traits.push(...f.traits);for(let d of f.entries)for(let m of d.uris)Kn.debug(this.context,m.toString())}}return this.performanceTelemetry(Date.now()-i,s),c?void 0:l}registerRelatedFilesProvider(r,n,i){let s=this.providers.get(n);s?s.set(r,{extensionId:r,languageId:n,callback:i}):this.providers.set(n,new Map([[r,{extensionId:r,languageId:n,callback:i}]]))}unregisterRelatedFilesProvider(r,n,i){let s=this.providers.get(n);if(s){let a=s.get(r);a&&a.callback===i&&s.delete(r)}}isActive(r,n){return kW.includes(r)?this.context.get(Be).relatedFilesVSCodeCSharp(n)||Ze(this.context,de.RelatedFilesVSCodeCSharp):NW.includes(r)?this.context.get(Be).relatedFilesVSCodeTypeScript(n)||Ze(this.context,de.RelatedFilesVSCodeTypeScript):AW.includes(r)?this.context.get(Be).cppHeadersEnableSwitch(n)||Ze(this.context,de.DebugOverrideCppHeadersEnableSwitch):this.context.get(Be).relatedFilesVSCode(n)||Ze(this.context,de.RelatedFilesVSCode)}relatedFilesTelemetry(r){}relatedFileNonresponseTelemetry(r,n){}performanceTelemetry(r,n){}};var MW=Lt(Xc());var ude=new wt("repository"),Nf="\\\\",UW="(?:[#;].*)",u1=`(?:[^"${Nf}]|${Nf}.)`,fde="[0-9A-Za-z-]",OW=`[A-Za-z]${fde}*`,BW=`\\s*${UW}?$`,jW=`(?:[^"${Nf};#]|${Nf}.)`,dde=`(?:"${u1}*"|"${u1}*(?<strCont>${Nf})$)`,mde=`(?:${jW}|${dde})+`,pde=`(?:(?<cont>${Nf})$)`,$W=`(?<value>${mde})${pde}?${BW}`,LW=new RegExp(`^${$W}`),gde=new RegExp(`^(?<value>${u1}*(?:(?<strCont>${Nf})$|(?<quote>")))`),hde=new RegExp(`^\\s*(?:(?<key>${OW})\\s*=\\s*${$W}|(?<soloKey>${OW})${BW})`),xde=new RegExp(`(?<value>${jW}+)|"(?<string>${u1}*)"`,"g"),FW="[-.0-9A-Za-z]+",bde=`\\s+"(?<ext>${u1}*)"`,_de=`\\s+"(?<extOnly>${u1}*)"`,yde=new RegExp(`^\\s*\\[(?:(?<simple>${FW})${bde}|${_de}|(?<simpleOnly>${FW}))\\]`),vde=new RegExp(`^\\s*${UW}$`),aI=class{constructor(t){this.content=t;this.stopped=!1;this.section="";this.line="";this.lineNum=0;this.lines=[];this.linesWithErrors=[]}static{o(this,"GitConfigParser")}parse(t){for(this.stopped=!1,this.section="",this.line="",this.linesWithErrors=[],this.configValueHandler=t,this.lines=this.content.split(/\r?\n/),this.lineNum=0;!this.stopped&&this.lineNum<this.lines.length;this.lineNum++)this.line=this.lines[this.lineNum],this.parseSectionStart(),this.parseConfigPair(),this.parseComment(),/^\s*$/.test(this.line)||this.errorAt(this.lineNum+1)}stop(){this.stopped=!0}hasErrors(){return this.linesWithErrors.length>0}errorAt(t){this.linesWithErrors.push(t)}parseSectionStart(){let t=this.line.match(yde);t&&(t.groups?.simple?this.section=t.groups.simple.toLowerCase()+"."+this.unescapeBaseValue(t.groups.ext):t.groups?.extOnly?this.section="."+this.unescapeBaseValue(t.groups.extOnly):this.section=t.groups.simpleOnly.toLowerCase(),this.line=this.line.slice(t[0].length))}unescapeBaseValue(t){return t.replace(/\\(.)/g,"$1")}parseConfigPair(){let t=this.line.match(hde);if(t){if(t.groups?.key){let r=this.handleContinued(t);this.configValueHandler?.(this.nameWithSection(t.groups.key.toLowerCase()),r)}else t.groups?.soloKey&&this.configValueHandler?.(this.nameWithSection(t.groups.soloKey.toLowerCase()),"");this.line=""}}handleContinued(t){let r=t,n=[this.matchedValue(r)];for(;r?.groups?.cont||r?.groups?.strCont;){if(this.line=this.lines[++this.lineNum],this.lineNum>=this.lines.length){this.errorAt(this.lineNum);break}r.groups.strCont?(r=this.line.match(gde),r?(n.push(this.matchedValue(r)),r.groups?.quote&&(r=this.line.slice(r[0].length).match(LW),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))):this.errorAt(this.lineNum+1)):(r=this.line.match(LW),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))}return this.normalizeValue(n.join(""))}matchedValue(t){return t.groups.strCont?t.groups.value.slice(0,-1):t.groups.value}normalizeValue(t){let r=!1,n=[...t.matchAll(xde)].map(i=>i.groups?.value?(r=!0,this.unescapeValue(i.groups.value.replace(/\s/g," "))):(r=!1,this.unescapeValue(i.groups.string))).join("");return r?n.trimEnd():n}unescapeValue(t){let r={n:`
`,t:"	",b:"\b"};return t.replace(/\\(.)/g,(n,i)=>r[i]||i)}nameWithSection(t){return this.section?this.section+"."+t:t}parseComment(){vde.test(this.line)&&(this.line="")}},I8=class extends Dc{static{o(this,"GitParsingConfigLoader")}async getConfig(t,r){let n=await ll.getRepoConfigLocation(t,r);if(!n)return;let i=await this.getParsedConfig(t,n);if(i)return this.mergeConfig(await this.baseConfig(t,n),i)}mergeConfig(...t){return t.filter(r=>r!==void 0).reduce((r,n)=>r.concat(n),new Wg)}async getParsedConfig(t,r,n=!0){let i=await this.tryLoadConfig(t,r,n);if(!i)return;let s=new aI(i),a=new Wg;return s.parse((l,c)=>a.add(l,c)),a}async tryLoadConfig(t,r,n){try{return await t.get(Zr).readFileString(r)}catch(i){(n||!(i instanceof Error)||i.code!=="ENOENT")&&ude.warn(t,`Failed to load git config from ${JSON.stringify(r)}:`,i);return}}async baseConfig(t,r){let n=await this.commondirConfigUri(t,r),i=Dn(this.xdgConfigUri(),"git","config"),s=Dn(this.homeUri(),".gitconfig");return this.mergeConfig(await this.getParsedConfig(t,i,!1),await this.getParsedConfig(t,s,!1),n?await this.getParsedConfig(t,n,!1):void 0)}async commondirConfigUri(t,r){if(Il(r).toLowerCase()!=="config.worktree")return;let n=h0(r),i=Dn(n,"commondir");try{let s=(await t.get(Zr).readFileString(i)).trimEnd();return Dn(Zc(n,s),"config")}catch{return}}xdgConfigUri(){return typeof process<"u"&&process.env.XDG_CONFIG_HOME?R2(process.env.XDG_CONFIG_HOME):Dn(this.homeUri(),".config")}homeUri(){return R2((0,MW.homedir)())}};var dr=require("vscode");var WW={AuthNotifyShown:"auth.auth_notify_shown",AuthNotifyDismissed:"auth.auth_notify_dismissed",NewGitHubLogin:"auth.new_github_login",GitHubLoginSuccess:"auth.github_login_success"};function qW(e,t){let r=et.createAndMarkAsIssued({authSource:t});return Se(e,WW.AuthNotifyShown,r)}o(qW,"telemetryAuthNotifyShown");function GW(e,t,r){let n=et.createAndMarkAsIssued({authSource:t,authType:r});return Se(e,WW.NewGitHubLogin,n)}o(GW,"telemetryNewGitHubLogin");var Of=require("vscode");var zW=["user:email"];var kf=require("vscode");var VW="github.com",HW=`https://${VW}`,S8=class extends x0{constructor(r,n={}){super();this.env=n;this.recalculateUrlDefaults(HW),dn(r,i=>this.onCopilotToken(r,i))}static{o(this,"DefaultNetworkConfiguration")}onCopilotToken(r,n){this.updateServiceEndpoints(r,n.envelope.endpoints)}getAuthAuthority(){return this.baseUrlObject.host}getConfiguredUrls(){return{serverUrl:this.baseUrlObject.href,apiUrl:this.apiUrl}}getTelemetryUrl(r){return this.join(this.telemetryUrl,r)}setTelemetryUrlForTesting(r){this.telemetryUrl=r}validateBaseUrl(r,n){return this.isPermittedUrl(r,n)?!0:(r.get(no).showWarningMessage(`Ignoring invalid or unsupported authentication URL "${n}".`),!1)}updateBaseUrl(r,n){n||=HW;let i=this.baseUrlObject;this.validateBaseUrl(r,n)&&this.withTelemetryReInitialization(r,()=>{this.recalculateUrlDefaults(n),i.href!==this.baseUrlObject.href&&r.get(Yr).resetToken()})}updateBaseUrlFromTokenEndpoint(r,n){try{let i=new URL(n);i.hostname.startsWith("api.")?this.updateBaseUrl(r,`https://${i.hostname.substring(4)}`):this.updateBaseUrl(r)}catch{this.updateBaseUrl(r)}}updateServiceEndpoints(r,n){n&&this.isPermittedUrl(r,n.telemetry)&&this.withTelemetryReInitialization(r,()=>{this.telemetryUrl=this.join(n.telemetry,"telemetry")})}withTelemetryReInitialization(r,n){let i=this.telemetryUrl;if(n(),i===this.telemetryUrl)return;let s=r.get(sl);s.isInitialized&&s.reInitialize(r)}recalculateUrlDefaults(r){let n=this.parseUrls(r);this.baseUrlObject=n.base;let i=n.api,s=this.baseUrlObject.host!==VW;this.apiUrl=i.href,this.telemetryUrl=this.join(s?this.prefixWith("copilot-telemetry-service.",this.baseUrlObject).href:E1.telemetry,"/telemetry")}parseUrls(r){if(this.env.CODESPACES==="true"&&this.env.GITHUB_TOKEN&&this.env.GITHUB_SERVER_URL&&this.env.GITHUB_API_URL&&!this.env.GITHUB_COPILOT_TOKEN&&!this.env.GH_COPILOT_TOKEN)try{return{base:new URL(this.env.GITHUB_SERVER_URL),api:new URL(this.env.GITHUB_API_URL)}}catch{}let n=new URL(r),i=this.prefixWith("api.",n);return{base:n,api:i}}isPermittedUrl(r,n){return this.isValidUrl(n)&&this.hasSupportedProtocol(r,n)}isValidUrl(r){try{if(r)return new URL(r),!0}catch{}return!1}hasSupportedProtocol(r,n){let i=new URL(n).protocol;return i==="https:"||!k2(r)&&i==="http:"}join(r,n){return n?new URL(n,r).href:r}prefixWith(r,n){return new URL(`${n.protocol}//${r}${n.host}`)}};var lI=require("vscode");var YW="github-enterprise",KW="https://github.com";function P8(){return lI.workspace.getConfiguration(Dr).get("advanced")?.authProvider==="github-enterprise"&&lI.workspace.getConfiguration(YW).get("uri")||KW}o(P8,"configuredBaseUrl");var w8=class extends S8{static{o(this,"VSCodeNetworkConfiguration")}constructor(t){super(t);let r=P8();this.validateBaseUrl(t,r)&&this.recalculateUrlDefaults(r)}};function JW(e,t){(e.affectsConfiguration(`${Dr}.advanced`)||e.affectsConfiguration(`${YW}.uri`))&&t.get(x0).updateBaseUrl(t,P8())}o(JW,"onDidChangeConfigurationHandler");var Tde=["read:user"],Ede=["read:user","user:email","repo","workflow"];function cI(){return kf.workspace.getConfiguration(Dr).get("advanced")?.authProvider==="github-enterprise"?"github-enterprise":"github"}o(cI,"authProviderId");function Cde(){return kf.workspace.getConfiguration(Dr).get("advanced")?.authPermissions==="minimal"}o(Cde,"isAuthMinimalMode");async function XW(e){let t=P8(),r=cI(),n={silent:!0};e.forceNewSession&&(n=e);let i;try{Cde()||(i=await kf.authentication.getSession(r,Ede,n),i??=await kf.authentication.getSession(r,Tde,n)),i??=await kf.authentication.getSession(r,zW,e)}catch(s){throw typeof s=="string"?new Ts({reason:"NotSignedIn",message:s}):s instanceof Error&&s.message==="Cancelled"?new Ts({reason:"NotSignedIn",message:s.message}):s}if(i)return{accessToken:i.accessToken,account:i.account,...zy({serverUrl:t})}}o(XW,"getSessionHelper");async function R8(){return await XW({createIfNone:!1})}o(R8,"getExistingSession");async function ZW(){return XW({createIfNone:!0})}o(ZW,"getOrCreateSession");function QW(e){return Of.authentication.onDidChangeSessions(async t=>{if(t.provider.id!==cI())return;let r=e.get(Yr);r.resetToken(),await r.primeToken()})}o(QW,"registerAuthentication");async function eq(e){qW(e,"command"),GW(e,"command","editorAuth"),await ZW(),await e.get(Yr).primeToken()}o(eq,"signInCommand");var D8=class extends A3{constructor(){super(...arguments);this.everActivated=!1;this.shown401Message=!1}static{o(this,"VSCodeCopilotTokenManager")}async getGitHubSession(){return await R8()}async getToken(){try{let r=await super.getToken();return this.everActivated=!0,Of.commands.executeCommand("setContext","github.copilot.activated",!0),r}catch(r){if(Of.commands.executeCommand("setContext","github.copilot.activated",!1),r instanceof Ts&&r.result.reason==="HTTP401"){let n="Your GitHub token is invalid. Please sign out from your GitHub account using the Visual Studio Code UI and try again.";this.everActivated&&!this.shown401Message&&(this.shown401Message=!0,Of.window.showWarningMessage(n))}throw r}}};var A8="codereferencing.showOutputPane",tq="code-referencing";var Th=new wt(tq);var bI=require("vscode");var Ide=/^[1-6][0-9][0-9]$/,Sde=/([A-Z][a-z]+)/,wde="code_referencing",Eh=class{constructor(t){this.baseKey=t}static{o(this,"CodeQuoteTelemetry")}buildKey(...t){return[wde,this.baseKey,...t].join(".")}},uI=class extends Eh{static{o(this,"CopilotOutputLogTelemetry")}constructor(){super("github_copilot_log")}handleOpen({context:t}){let r=this.buildKey("open","count"),n=et.createAndMarkAsIssued();Se(t,r,n)}handleFocus({context:t}){let r=et.createAndMarkAsIssued(),n=this.buildKey("focus","count");Se(t,n,r)}handleWrite({context:t}){let r=et.createAndMarkAsIssued(),n=this.buildKey("write","count");Se(t,n,r)}},Ch=new uI,fI=class extends Eh{static{o(this,"MatchNotificationTelemetry")}constructor(){super("match_notification")}handleDoAction({context:t,actor:r}){let n=et.createAndMarkAsIssued({actor:r}),i=this.buildKey("acknowledge","count");Se(t,i,n)}handleDismiss({context:t,actor:r}){let n=et.createAndMarkAsIssued({actor:r}),i=this.buildKey("ignore","count");Se(t,i,n)}},mI=new fI,dI=class extends Eh{static{o(this,"SnippyTelemetry")}constructor(){super("snippy")}handleUnexpectedError({context:t,origin:r,reason:n}){let i=et.createAndMarkAsIssued({origin:r,reason:n});Xs(t,this.buildKey("unexpectedError"),i)}handleCompletionMissing({context:t,origin:r,reason:n}){let i=et.createAndMarkAsIssued({origin:r,reason:n});Xs(t,this.buildKey("completionMissing"),i)}handleSnippyNetworkError({context:t,origin:r,reason:n,message:i}){if(!r.match(Ide)){Th.debug(t,"Invalid status code, not sending telemetry",{origin:r});return}let s=n.split(Sde).filter(l=>!!l).join("_").toLowerCase(),a=et.createAndMarkAsIssued({message:i});Xs(t,this.buildKey(s,r),a)}},xft=new dI;var hI=require("vscode");var rq=require("vscode");var gI="GitHub Copilot Log (Code References)";function Pde(){let e=o(n=>n<10?`0${n}`:n,"toTwoDigits"),t=o(n=>n<10?`00${n}`:n<100?`0${n}`:n,"toThreeDigits"),r=new Date;return`${r.getFullYear()}-${e(r.getMonth()+1)}-${e(r.getDate())} ${e(r.getHours())}:${e(r.getMinutes())}:${e(r.getSeconds())}.${t(r.getMilliseconds())}`}o(Pde,"getCurrentTimestamp");var pI=class{constructor(t){this.output=t}static{o(this,"CodeReferenceOutputChannel")}info(...t){this.output.appendLine(`${Pde()} [info] ${t.join(" ")}`)}show(t){this.output.show(t)}dispose(){this.output.dispose()}},N8=class e{constructor(t){this.checkCopilotToken=o(t=>{t.envelope.code_quote_enabled?this.output=this.createChannel():this.output?.dispose()},"checkCopilotToken");this.#e=dn(t,r=>this.checkCopilotToken(r)),this.output=this.createChannel()}static{o(this,"GitHubCopilotLogger")}#e;static create(t){return new e(t)}createChannel(){return this.output?this.output:new pI(rq.window.createOutputChannel(gI,"code-referencing"))}log(t,...r){this.output||(this.output=this.createChannel());let[n,...i]=r;this.output[t](n,...i)}info(...t){this.log("info",...t)}forceShow(){this.output?.show(!0)}dispose(){this.output?.dispose(),this.#e.dispose()}};var xI=class{constructor(t){this.ctx=t;this.activeLog=!1;this.subscriptions=[];this.onActiveEditorChange=o(t=>{this.isOutputLog(t)&&Ch.handleFocus({context:this.ctx})},"onActiveEditorChange");this.onVisibleEditorsChange=o(t=>{let r=t.find(this.isOutputLog);this.activeLog?r||(this.activeLog=!1):r&&(this.activeLog=!0,Ch.handleOpen({context:this.ctx}))},"onVisibleEditorsChange");this.isOutputLog=o(t=>t&&t.document.uri.scheme==="output"&&t.document.uri.path.includes(gI),"isOutputLog")}static{o(this,"CodeRefEngagementTracker")}register(){let t=hI.window.onDidChangeActiveTextEditor(this.onActiveEditorChange),r=hI.window.onDidChangeVisibleTextEditors(this.onVisibleEditorsChange);this.subscriptions.push(r),this.subscriptions.push(t)}dispose(){for(let t of this.subscriptions)t.dispose();this.subscriptions=[]}get logVisible(){return this.activeLog}};function nq(e){let t=new xI(e);return t.register(),t}o(nq,"registerCodeRefEngagementTracker");var k8=class{constructor(t){this.ctx=t;this.enabled=!1;this.onCopilotToken=o(t=>{if(this.enabled=t.envelope.code_quote_enabled||!1,!t.envelope.code_quote_enabled){this.subscriptions?.dispose(),this.subscriptions=void 0,Th.debug(this.ctx,"Public code references are disabled.");return}Th.info(this.ctx,"Public code references are enabled."),this.addDisposable(nq(this.ctx))},"onCopilotToken")}static{o(this,"CodeReference")}dispose(){this.subscriptions?.dispose(),this.event?.dispose()}register(){return Ns(this.ctx)||(this.event=dn(this.ctx,this.onCopilotToken)),this}addDisposable(t){this.subscriptions?this.subscriptions=bI.Disposable.from(this.subscriptions,t):this.subscriptions=bI.Disposable.from(t)}};var lq=require("vscode");var f1=require("vscode");var $i=class{constructor(t){this.context=t}static{o(this,"Extension")}addSubscription(...t){this.context.subscriptions.push(...t)}};var Rde="We found a reference to public code in a recent suggestion. To learn more about public code references, review the [documentation](https://aka.ms/github-copilot-match-public-code).",iq="View reference",oq="Change setting",sq="codeReference.notified";function aq(e){let t=e.get($i);if(t.context.globalState.get(sq))return;let n=e.get(no),i=[{title:iq},{title:oq}];return n.showWarningMessage(Rde,...i).then(async s=>{let a={context:e,actor:"user"};switch(s?.title){case iq:{mI.handleDoAction(a),await f1.commands.executeCommand(A8);break}case oq:{await f1.env.openExternal(f1.Uri.parse("https://aka.ms/github-copilot-settings"));break}case void 0:{mI.handleDismiss(a);break}}}),t.context.globalState.update(sq,!0)}o(aq,"notify");var O8=class extends Pc{constructor(r){super();this.codeReference=r;let n=dn(r.ctx,i=>{if(this.logger)return;this.logger=N8.create(r.ctx);let s=lq.commands.registerCommand(A8,()=>this.logger?.forceShow());this.codeReference.addDisposable(s)});this.codeReference.addDisposable(n)}static{o(this,"LoggingCitationManager")}async handleIPCodeCitation(r,n){if(!this.codeReference.enabled||!this.logger||n.details.length===0)return;let i=n.location?.start,s=i?`[Ln ${i.line+1}, Col ${i.character+1}]`:"Location not available",a=`${n.matchingText?.slice(0,100).replace(/[\r\n\t]+|^[ \t]+/gm," ").trim()}...`;this.logger.info(n.inDocumentUri,"Similar code at ",s,a);for(let l of n.details){let{license:c,url:u}=l;this.logger.info(`License: ${c.replace("NOASSERTION","unknown")}, URL: ${u}`)}Ch.handleWrite({context:r}),await aq(r)}};var zt=Lt(require("vscode"));var cq=new wt("extensionConfig"),L8=class extends Aa{static{o(this,"VSCodeConfigProvider")}constructor(){super(),this.config=zt.workspace.getConfiguration(Dr),zt.workspace.onDidChangeConfiguration(t=>{t.affectsConfiguration(Dr)&&(this.config=zt.workspace.getConfiguration(Dr))})}getConfig(t){return e9(this.config,t)??tA(t)}getOptionalConfig(t){return e9(this.config,t)??rA(t)}dumpForTelemetry(){return{}}},Dde=new Set(["ssh-remote","dev-container","attached-container","wsl","tunnel","codespaces","amlext"]),F8=class extends cr{static{o(this,"VSCodeEditorInfo")}getEditorInfo(){let t=zt.env.uriScheme;zt.version.endsWith("-insider")&&(t=t.replace(/-insiders$/,""));let r=zt.env.remoteName;return r&&(t+=`@${Dde.has(r)?r:"other"}`),{name:"vscode",devName:t,version:zt.version,root:zt.env.appRoot}}getEditorPluginInfo(){return{name:"copilot",version:pu.version}}getRelatedPluginInfo(){return["ms-vscode.cpptools","ms-vscode.cmake-tools","ms-vscode.makefile-tools","ms-dotnettools.csdevkit","ms-python.python","ms-python.vscode-pylance","vscjava.vscode-java-pack","vscode.typescript-language-features","ms-vscode.vscode-typescript-next","ms-dotnettools.csharp"].map(t=>{let r=zt.extensions.getExtension(t)?.packageJSON;if(r&&typeof r=="object"&&"version"in r&&typeof r.version=="string")return{name:t,version:r.version}}).filter(t=>t!==void 0)}};function _I(e){return{"*":!0,...e.get(Aa).getConfig(de.Enable)??{}}}o(_I,"getEnabledConfigObject");function Ade(e,t){let r=_I(e);return r[t]??r["*"]??!0}o(Ade,"getEnabledConfig");function Hc(e){let t=zt.window.activeTextEditor;if(t)return Nde(e,t.document)}o(Hc,"isCompletionEnabled");function Nde(e,t){return Ade(e,t.languageId)}o(Nde,"isCompletionEnabledForDocument");function d1(){return zt.workspace.getConfiguration("editor.inlineSuggest").get("enabled")}o(d1,"isInlineSuggestEnabled");var kde=[["workspaceFolderLanguageValue",zt.ConfigurationTarget.WorkspaceFolder,!0],["workspaceFolderValue",zt.ConfigurationTarget.WorkspaceFolder,!1],["workspaceLanguageValue",zt.ConfigurationTarget.Workspace,!0],["workspaceValue",zt.ConfigurationTarget.Workspace,!1],["globalLanguageValue",zt.ConfigurationTarget.Global,!0],["globalValue",zt.ConfigurationTarget.Global,!1]];function uq(){let e=zt.workspace.getConfiguration(Dr).inspect(de.Enable);return e?.workspaceFolderValue!==void 0?zt.ConfigurationTarget.WorkspaceFolder:e?.workspaceValue!==void 0?zt.ConfigurationTarget.Workspace:zt.ConfigurationTarget.Global}o(uq,"getConfigurationTargetForEnabledConfig");async function yI(e){let t=zt.window.activeTextEditor?.document;for(let[s,a]of[["","editor.inlineSuggest.enabled"],[Dr,de.EnableAutoCompletions]]){let l=zt.workspace.getConfiguration(s,t),c=l.inspect(a);for(let[u,f,d]of kde){if(zt.workspace.getConfiguration(s,t).get(a))break;c?.[u]===!1&&await l.update(a,!0,f,d)}}let r=zt.window.activeTextEditor?.document.languageId;if(!r)return;let n=zt.workspace.getConfiguration(Dr),i={..._I(e)};if(r in i?i[r]=!0:i["*"]=!0,await n.update(de.Enable,i,uq()),!Hc(e)){let s=zt.workspace.getConfiguration(Dr).inspect(de.Enable),a=new Error(`Failed to enable completions for ${r}: ${JSON.stringify(s)}`);cq.exception(e,a,".enable")}}o(yI,"enableCompletions");async function vI(e){let t=zt.window.activeTextEditor?.document.languageId;if(!t)return;let r=zt.workspace.getConfiguration(Dr),n={..._I(e)};if(t in n?n[t]&&(n[t]=!1):n["*"]=!1,await r.update(de.Enable,n,uq()),Hc(e)){let i=zt.workspace.getConfiguration(Dr).inspect(de.Enable),s=new Error(`Failed to disable completions for ${t}: ${JSON.stringify(i)}`);cq.exception(e,s,".disable")}}o(vI,"disableCompletions");async function fq(e){Hc(e)&&d1()?await vI(e):await yI(e)}o(fq,"toggleCompletions");var dq="github.copilot.generate",M8="github.copilot.completions.enable",U8="github.copilot.completions.disable",mq="github.copilot.completions.toggle",B8="github.copilot.toggleStatusMenu",j8="github.copilot.sendFeedback",$8="github.copilot.openDocs",pq="github.copilot.collectDiagnostics",W8="github.copilot.signIn",Ih="github.copilot.openLogs",q8="github.copilot.openModelPicker";var G8=require("vscode");async function hq(e,t,r){let n=G8.workspace.textDocuments.find(s=>s.uri.toString()===r.uri);return!n||(await yf(e,r,n.getText())).status!=="valid"?0:G8.languages.match(t,n)}o(hq,"contextProviderMatch");var xq=require("vscode");var z8=class extends no{constructor(){super(...arguments);this.recentNotifications=new Map}static{o(this,"ExtensionNotificationSender")}async showWarningMessage(r,...n){return this.recentNotifications.get(r)?void 0:{title:await xq.window.showWarningMessage(r,...n.map(a=>a.title))}}async showWarningMessageOnlyOnce(r,n,...i){if(r==="free_over_limits"||r==="not_signed_up"||this.recentNotifications.get(n))return;let a=this.showWarningMessage(n,...i),l=Y4();return this.recentNotifications.set(n,l),a}};var fa=class{constructor(t="Normal",r,n=!1,i){this.kind=t;this.message=r;this.busy=n;this.command=i}static{o(this,"CopilotExtensionStatus")}};var Vc=require("vscode");var TI=class extends Zr{static{o(this,"ExtensionFileSystem")}async readFileString(t){return typeof t!="string"&&(t=t.uri),new TextDecoder().decode(await Vc.workspace.fs.readFile(Vc.Uri.parse(t,!0)))}async stat(t){return typeof t!="string"&&(t=t.uri),await Vc.workspace.fs.stat(Vc.Uri.parse(t,!0))}async readDirectory(t){return typeof t!="string"&&(t=t.uri),await Vc.workspace.fs.readDirectory(Vc.Uri.parse(t,!0))}},bq=new TI;function _q(e,t,r){function n(s,a,l){let c=new RegExp(`^(${a})+`,"g");return s.split(`
`).map(u=>{let f=u.replace(c,""),d=u.length-f.length;return l(d)+f}).join(`
`)}o(n,"replace");let i;if(e.tabSize===void 0||typeof e.tabSize=="string"?i=4:i=e.tabSize,e.insertSpaces===!1){let s=o(a=>n(a," ",l=>"	".repeat(Math.floor(l/i))+" ".repeat(l%i)),"r");t.displayText=s(t.displayText),t.completionText=s(t.completionText)}else if(e.insertSpaces===!0){let s=o(a=>n(a,"	",l=>" ".repeat(l*i)),"r");if(t.displayText=s(t.displayText),t.completionText=s(t.completionText),r){let a=o(l=>{if(l==="")return l;let c=l.split(`
`)[0],u=c.length-c.trimStart().length,f=u%i;if(f!==0&&u>0){let d=" ".repeat(f);return n(l,d,m=>" ".repeat((Math.floor(m/i)+1)*i))}else return l},"re");t.displayText=a(t.displayText),t.completionText=a(t.completionText)}}return t}o(_q,"normalizeIndentCharacter");function yq(e,t,r,n,i,s,a){let l=n.lineAt(i),c=t.map(u=>{let f=wi.range(wi.position(i.line,0),wi.position(i.line,i.character+u.suffixCoverage)),d="";if(s&&(u.completion=_q(s,u.completion,l.isEmptyOrWhitespace)),l.isEmptyOrWhitespace&&(u.completion.displayNeedsWsOffset||u.completion.completionText.startsWith(l.text)))d=u.completion.completionText;else{let p=wi.range(f.start,i);d=n.getText(p)+u.completion.displayText}return{uuid:Li(),insertText:d,range:f,uri:n.uri,index:u.completion.completionIndex,telemetry:u.telemetry,displayText:u.completion.displayText,position:i,offset:n.offsetAt(i),resultType:r,copilotAnnotations:u.copilotAnnotations}});if(r===2&&a!==void 0){let u=c.find(f=>f.index===a);if(u){let f=c.filter(d=>d.index!==a);c=[u,...f]}}return c}o(yq,"completionsFromGhostTextResults");async function Lde(e,t,r,n={}){let i=0;n.selectedCompletionInfo?.text&&!n.selectedCompletionInfo.text.includes(")")&&(t=t.addSelectedCompletionInfo(n.selectedCompletionInfo),i=t.position.character-n.selectedCompletionInfo.range.end.character);let s=await ZC(e,t,r,n);if(s.type!=="success")return s;let[a,l]=s.value;if(r?.isCancellationRequested)return{type:"canceled",reason:"after getGhostText",telemetryData:{telemetryBlob:s.telemetryBlob}};let c=TW(e,t.textDocument,t.position,l),u=yq(e,a,l,t.textDocument,t.position,n.formattingOptions,c);if(u.length===0)return{type:"empty",reason:"no completions in final result",telemetryData:s.telemetryData};let f=e.get(Be),d=(Ze(e,de.AlwaysRequestMultiline)??f.enableProgressiveReveal(s.telemetryBlob))&&s0.isSupported(t.textDocument.detectedLanguageId),m=Ze(e,de.EnableSpeculativeRequests),p=f.enableSpeculativeRequests(s.telemetryBlob);(d||(m??p))&&l!==2&&(t=t.applyEdits([{newText:u[0].insertText,range:u[0].range}]),Promise.resolve().then(()=>{ZC(e,t,void 0,{isSpeculative:!0,opportunityId:n.opportunityId})}));let h=u.map(b=>{let{start:x,end:_}=b.range,y=tr.Range.create(x,tr.Position.create(_.line,_.character-i));return{...b,range:y}});return{...s,value:h}}o(Lde,"getInlineCompletionsResult");async function vq(e,t,r,n,i={}){Fde(e,t,r);let s=await Lde(e,v8(t,r),n,i);return kB(e,s)}o(vq,"getInlineCompletions");function Fde(e,t,r){let n=t.getText({start:{line:Math.max(r.line-1,0),character:0},end:r}),i=t.getText({start:r,end:{line:Math.min(r.line+2,t.lineCount-1),character:t.lineCount-1>r.line?0:r.character}});sb.debug(e,`Requesting for ${t.uri} at ${r.line}:${r.character}`,`between ${JSON.stringify(n)} and ${JSON.stringify(i)}.`)}o(Fde,"logCompletionLocation");var Jo=require("vscode");var _l=require("vscode");var Mde=new Set(["output","search-editor","comment"]);function Sh(e,t){if(Mde.has(t.uri.scheme))return;let r;try{r=t.getText()}catch(i){if(i instanceof RangeError)return;throw i}let n=Hm({uri:t.uri.toString(),languageId:t.languageId});return bf.create(t.uri.toString(),t.languageId,t.version,r,n)}o(Sh,"wrapDoc");var H8=class extends Gt{constructor(r){super(r);this.onDidFocusTextDocument=o((r,n)=>_l.window.onDidChangeActiveTextEditor(i=>{let s=i?.document.uri;s?r.call(n,{document:{uri:s.toString()}}):r.call(n,void 0)}),"onDidFocusTextDocument");this.onDidChangeTextDocument=o((r,n,i)=>_l.workspace.onDidChangeTextDocument(s=>{let a=Sh(this.ctx,s.document);a&&r({document:a,contentChanges:s.contentChanges})},n,i),"onDidChangeTextDocument");this.onDidOpenTextDocument=o((r,n,i)=>_l.workspace.onDidOpenTextDocument(s=>{let a=Sh(this.ctx,s)?.getText();a!==void 0&&r({document:{uri:s.uri.toString(),languageId:s.languageId,version:s.version,text:a}})},n,i),"onDidOpenTextDocument");this.onDidCloseTextDocument=o((r,n,i)=>_l.workspace.onDidCloseTextDocument(s=>{r({document:{uri:vo(s.uri.toString())}})},n,i),"onDidCloseTextDocument")}static{o(this,"ExtensionTextDocumentManager")}getTextDocumentsUnsafe(){let r=[];for(let n of _l.workspace.textDocuments){let i=Sh(this.ctx,n);i&&r.push(i)}return r}findNotebook(r){for(let n of _l.workspace.notebookDocuments)if(n.getCells().some(i=>i.document.uri.toString()===r.uri.toString()))return{getCells:o(()=>n.getCells().map(i=>this.wrapCell(i)),"getCells"),getCellFor:o(({uri:i})=>{let s=n.getCells().find(a=>a.document.uri.toString()===i.toString());return s?this.wrapCell(s):void 0},"getCellFor")}}wrapCell(r){return{...r,get document(){return bf.create(r.document.uri.toString(),r.document.languageId,r.document.version,r.document.getText(),r.document.languageId)}}}getWorkspaceFolders(){return _l.workspace.workspaceFolders?.map(r=>({uri:r.uri.toString(),name:r.name}))??[]}};var Tq="_github.copilot.ghostTextPostInsert",V8=class{constructor(t){this.ctx=t}static{o(this,"GhostTextProvider")}async provideInlineCompletionItems(t,r,n,i){let s=Sh(this.ctx,t);if(!s)return;let a=n.requestUuid,l=Jo.window.visibleTextEditors.find(f=>f.document.uri===t.uri)?.options,c=await vq(this.ctx,s,r,i,{isCycling:n.triggerKind===Jo.InlineCompletionTriggerKind.Invoke,selectedCompletionInfo:n.selectedCompletionInfo,formattingOptions:l,opportunityId:a});return c?{items:c.map(f=>{let{start:d,end:m}=f.range,p=new Jo.Range(d.line,d.character,m.line,m.character);return new Jo.InlineCompletionItem(f.insertText,p,{title:"Completion Accepted",command:Tq,arguments:[f]})})}:void 0}handleDidShowCompletionItem(t){let r=t.command.arguments[0];EW(this.ctx,r)}handleDidPartiallyAcceptCompletionItem(t,r){if(typeof r=="number")return;let n=t.command.arguments[0];IW(this.ctx,n,r.acceptedLength,r.kind)}handleEndOfLifetime(t,r){if(r.kind!==Jo.InlineCompletionEndOfLifeReasonKind.Rejected)return;let n=t.command?.arguments?.[0];n&&Se(this.ctx,"ghostText.dismissed",n.telemetry)}};function Eq(e){return Jo.commands.registerCommand(Tq,async r=>{CW(e,r);try{await Jo.commands.executeCommand("github.copilot.survey.signalUsage","completions")}catch{}})}o(Eq,"registerGhostTextDependencies");var K8=class{static{o(this,"InstallationManager")}async startup(t){await this.isNewInstall(t)?(await this.markInstalled(t),this.handleInstall(t,await this.wasPreviouslyInstalled(t))):await this.isNewUpgrade(t)&&(await this.markUpgraded(t),this.handleUpgrade(t))}uninstall(t){return this.handleUninstall(t)}handleInstall(t,r){r?Se(t,"installed.reinstall"):Se(t,"installed.new")}handleUpgrade(t){Se(t,"installed.upgrade")}handleUninstall(t){Se(t,"uninstalled")}};var Oh=Lt(pz());var s6=class extends K8{static{o(this,"VsCodeInstallationManager")}async isNewInstall(t){return!t.get($i).context.globalState.get("installedVersion")&&!await R8()}async markInstalled(t){let r=t.get(cr).getEditorPluginInfo();await t.get($i).context.globalState.update("installedVersion",r.version)}wasPreviouslyInstalled(){return!1}isNewUpgrade(t){let r=t.get(cr).getEditorPluginInfo(),n=t.get($i).context.globalState.get("installedVersion");if(n===void 0)return!0;try{return(0,Oh.gt)((0,Oh.coerce)(r.version),(0,Oh.coerce)(n))}catch{return!1}}async markUpgraded(t){await this.markInstalled(t)}};var ma=require("vscode");var g1=require("vscode");function kpe(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(kpe,"escapeForRegExp");var Ope=new RegExp(kpe("".replace(/[\\/]extension[\\/]src$|[\\/]dist$/,""))+`[\\\\/]?([^:)'"\\s]*)`,"gi"),Lpe=new Set(["node_modules/diagnostic-channel/dist/src/patchRequire.js"]),a6=class{constructor(t){this.handler=t}static{o(this,"TelemetryDelegator")}sendEventData(){}sendErrorData(t){let r=!1;for(let n of(t.stack??"").matchAll(Ope))if(!Lpe.has(n[1].replace(/\\/g,"/"))){r=!0;break}r&&this.handler(t)}};function gz(e,t,r,n){t instanceof Error&&t.name==="Canceled"||t instanceof Error&&t.name==="CodeExpectedError"||Lc(e,t,r,n)}o(gz,"exception");function Ds(e,t,r){let n=g1.commands.registerCommand(t,async(...i)=>{try{await r(...i)}catch(s){gz(e,s,t)}});e.get($i).addSubscription(n)}o(Ds,"registerCommandWrapper");function hz(e,t,r,n){t.subscriptions.push(g1.env.onDidChangeTelemetryEnabled(async i=>{await oE(e,r,i&&g1.env.isTelemetryEnabled)})),t.subscriptions.push(g1.env.createTelemetryLogger(new a6(i=>gz(e,i,"unhandlederror")))),oE(e,r,n)}o(hz,"setupTelemetry");var xz=new wt("modelPicker"),Fpe=[{label:"",kind:ma.QuickPickItemKind.Separator,modelId:"separator",type:"separator",alwaysShow:!0},{modelId:"learn-more",label:"Learn more $(link-external)",description:"",alwaysShow:!0,type:"learn-more"}],h1=class{constructor(t){this._ctx=t;this.MODELS_INFO_URL="https://aka.ms/CopilotCompletionsModelPickerLearnMore"}static{o(this,"ModelPickerManager")}get models(){return this._ctx.get(S0).getGenericCompletionModels()}getDefaultModelId(){return this._ctx.get(S0).getDefaultModelId()}async setUserSelectedCompletionModel(t){return ma.workspace.getConfiguration(Dr).update(de.UserSelectedCompletionModel,t??"",!0)}async handleModelSelection(t){let r=t.activeItems[0];if(r!==void 0){if(t.hide(),r.type==="learn-more"){await ma.env.openExternal(ma.Uri.parse(this.MODELS_INFO_URL)),Se(this._ctx,"modelPicker.learnMoreClicked");return}await this.selectModel(r)}}async selectModel(t){$1(this._ctx)!==t.modelId&&(this._ctx.get(ia).clear(),this._ctx.get(Ko).clear());let n=t.modelId===this.getDefaultModelId()?null:t.modelId;await this.setUserSelectedCompletionModel(n),n===null?xz.info(this._ctx,"User selected default model; setting null"):xz.info(this._ctx,`Selected model: ${t.modelId}`),Se(this._ctx,"modelPicker.modelSelected",et.createAndMarkAsIssued({engineName:n??"default"}))}modelsForModelPicker(){let t=$1(this._ctx),r=this.models.map(n=>({modelId:n.modelId,label:`${n.label}${n.preview?" (Preview)":""}`,description:`(${n.modelId})`,alwaysShow:n.modelId==this.getDefaultModelId(),type:"model"}));return[t,r]}showModelPicker(){let[t,r]=this.modelsForModelPicker(),n=ma.window.createQuickPick();n.title="Change Completions Model",n.items=[...r,...Fpe],n.onDidAccept(()=>this.handleModelSelection(n));let i=t??this.getDefaultModelId(),s=n.items.find(a=>a.modelId===i);return s&&(n.activeItems=[s]),n.show(),n}registerCommands(){Ds(this._ctx,q8,this.showModelPicker.bind(this))}};function bz(e){e.get(h1).registerCommands()}o(bz,"registerModelPickerCommands");var li=require("vscode");var Lh=class extends Br{constructor(r,n,i="github.copilot.languageStatus"){super();this.ctx=r;this.outputChannel=n;this.showingMessage=!1;this.disposables=[];this.item=li.languages.createLanguageStatusItem(i,"*"),this.disposables.push(this.item),this.state=r.get(fa),this.updateStatusBarIndicator(),this.disposables.push(li.window.onDidChangeActiveTextEditor(()=>{this.updateStatusBarIndicator()})),this.disposables.push(li.workspace.onDidCloseTextDocument(()=>{this.updateStatusBarIndicator()})),this.disposables.push(li.workspace.onDidOpenTextDocument(()=>{this.updateStatusBarIndicator()})),this.disposables.push(li.workspace.onDidChangeConfiguration(s=>{s.affectsConfiguration(Dr)&&this.updateStatusBarIndicator()}))}static{o(this,"CopilotStatusBar")}didChange(r){this.state.kind=r.kind,this.state.message=r.message,this.state.command=r.command,this.updateStatusBarIndicator()}checkEnabledForLanguage(){return Hc(this.ctx)??!0}updateStatusBarIndicator(){if(this.isDisposed())return;li.commands.executeCommand("setContext","github.copilot.completions.quotaExceeded",this.state.command?.command===Yg);let r=this.checkEnabledForLanguage();switch(li.commands.executeCommand("setContext","github.copilot.completions.enabled",r),this.item.command={command:B8,title:"View Details"},this.state.kind){case"Error":this.item.severity=li.LanguageStatusSeverity.Error,this.item.text="$(copilot-warning) Completions",this.item.detail="Error";break;case"Warning":this.item.severity=li.LanguageStatusSeverity.Warning,this.item.text="$(copilot-warning) Completions",this.item.detail="Temporary issues";break;case"Inactive":this.item.severity=li.LanguageStatusSeverity.Information,this.item.text="$(copilot-blocked) Completions",this.item.detail="Inactive";break;case"Normal":this.item.severity=li.LanguageStatusSeverity.Information,d1()?r?(this.item.text="$(copilot) Completions",this.item.detail=""):(this.item.text="$(copilot-not-connected) Completions",this.item.detail="Disabled"):(this.item.text="$(copilot-not-connected) Completions",this.item.detail="VS Code inline suggestions disabled"),this.item.command.title="Open Menu";break}this.item.accessibilityInformation={label:"Copilot Completions"},this.state.command&&(this.item.command=this.state.command,this.item.detail=this.state.message)}setError(r,n,i=!n){super.setError(r,n),i&&this.showErrorMessage()}showErrorMessage(){if(this.showingMessage)return;this.showingMessage=!0;let r="Show Output Log",n=[r];li.window.showWarningMessage(this.state.message,...n).then(i=>{switch(this.showingMessage=!1,i){case r:this.outputChannel.show();break}})}dispose(){for(let r of this.disposables)r.dispose();this.disposables=[]}isDisposed(){return this.disposables.length===0}};var Ff=require("vscode");var l6=class{constructor(t){this.ctx=t;this.state=t.get(fa)}static{o(this,"CopilotStatusBarPickMenu")}showStatusMenu(){let t=Ff.window.createQuickPick();return t.placeholder="Select an option",t.title="Configure Copilot Completions",t.items=this.collectQuickPickItems(),t.onDidAccept(()=>this.handleItemSelection(t)),t.show(),t}async handleItemSelection(t){let r=t.selectedItems[0];if(r!==void 0)if("command"in r){let n=r;await Ff.commands.executeCommand(n.command,...n.commandArgs),t.hide()}else throw new Error("Unexpected Copilot quick picker selection")}collectQuickPickItems(){return[this.newStatusItem(),this.newSeparator(),...this.collectLanguageSpecificItems(),this.newKeyboardItem(),this.newSettingsItem(),...this.collectDiagnosticsItems(),this.newOpenLogsItem(),this.newSeparator(),this.newDocsItem(),this.newForumItem(),...this.collectQuickPickSignInItems()]}collectQuickPickSignInItems(){return this.hasWarningOrErrorStatus()?[this.newSeparator(),this.newSignInItem()]:[]}collectLanguageSpecificItems(){let t=[];if(!this.hasActiveStatus())return t;let r=Ff.window.activeTextEditor;return!Zl()&&r&&t.push(this.newPanelItem()),Zl()||t.push(this.newChangeModelItem()),r&&t.push(...this.newEnableLanguageItem()),t.length&&t.push(this.newSeparator()),t}hasActiveStatus(){return["Normal"].includes(this.state.kind)}hasWarningOrErrorStatus(){return["Error","Warning"].includes(this.state.kind)}isCompletionEnabled(){return d1()&&Hc(this.ctx)}newEnableLanguageItem(){let t=this.isCompletionEnabled();return t?[this.newCommandItem("Disable Completions",U8)]:t===!1?[this.newCommandItem("Enable Completions",M8)]:[]}newStatusItem(){let t,r="$(copilot)";switch(this.state.kind){case"Normal":t="Ready",d1()===!1?t+=" (VS Code inline suggestions disabled)":Hc(this.ctx)===!1&&(t+=" (Disabled)");break;case"Inactive":t=this.state.message||"Copilot is currently inactive",r="$(copilot-blocked)";break;default:t=this.state.message||"Copilot has encountered an error",r="$(copilot-not-connected)";break}return this.newCommandItem(`${r} Status: ${t}`,Ih)}newSignInItem(){return this.newCommandItem("Sign in to GitHub",W8)}newOpenLogsItem(){return this.newCommandItem("Open Logs...",Ih)}collectDiagnosticsItems(){return Zl()?[]:[this.newCommandItem("Show Diagnostics...",pq)]}newKeyboardItem(){return this.newCommandItem("$(keyboard) Edit Keyboard Shortcuts...","workbench.action.openGlobalKeybindings",["copilot"])}newSettingsItem(){return this.newCommandItem("$(settings-gear) Edit Settings...","workbench.action.openSettings",["GitHub Copilot"])}newPanelItem(){return this.newCommandItem("Open Completions Panel...",dq)}newChangeModelItem(){return this.newCommandItem("Change Completions Model...",q8)}newForumItem(){return this.newCommandItem("$(comments-view-icon) View Copilot Forum...",j8)}newDocsItem(){return this.newCommandItem("$(remote-explorer-documentation) View Copilot Documentation...",$8)}newCommandItem(t,r,n){return new $I(t,r,n||[])}newSeparator(){return{label:"",kind:Ff.QuickPickItemKind.Separator}}},$I=class{constructor(t,r,n){this.label=t;this.command=r;this.commandArgs=n}static{o(this,"CommandQuickItem")}};var GI=dr.window.createOutputChannel("GitHub Copilot",{log:!0}),Upe="userAcknowledgedStatusBarDeprecation";function Bpe(e,t){let r=new Lh(e,t);e.get($i).addSubscription(r),Ds(e,M8,async()=>{await yI(e)}),Ds(e,U8,async()=>{await vI(e)}),Ds(e,mq,async()=>{await fq(e)}),Ds(e,Yg,async()=>{try{await dr.commands.executeCommand("workbench.action.chat.openQuotaExceededDialog")}catch(n){if(!(n instanceof Error&&/not found/.test(n.message)))throw n;await dr.env.openExternal(dr.Uri.parse("https://github.com/github-copilot/signup/copilot_individual"))}}),Ds(e,B8,async()=>{e.get(fa).kind==="Error"&&await Promise.race([e.get(Yr).primeToken(),new Promise(n=>setTimeout(n,100))]),new l6(e).showStatusMenu()}),e.set(Lh,r),e.set(Br,r)}o(Bpe,"registerStatusBar");async function jpe(e){let t=et.createAndMarkAsIssued(),r=zpe(e);Bpe(r,GI),r.set(Is,new Is(r)),qpe(r),Ds(r,W8,()=>eq(r));let n=new k8(r);r.set(Pc,new O8(n)),e.subscriptions.push(n.register()),e.subscriptions.push(_z(r)),bz(r),$pe(r),e.subscriptions.push(R$(r)),e.subscriptions.push(dr.window.onDidChangeActiveTextEditor(s=>s&&_d(r,s.document.uri.toString()))),e.subscriptions.push(dr.workspace.onDidChangeConfiguration(s=>JW(s,r))),e.subscriptions.push(QW(r)),r.get(Yr).primeToken().then(async s=>{Se(r,"extension.activate",t),s&&(dr.window?.activeTextEditor&&r.get(Is).evaluate(dr.window.activeTextEditor.document.uri.toString(),dr.window.activeTextEditor.document.getText(),"UPDATE"),await W$(r))}),new s6().startup(r)}o(jpe,"activate");function $pe(e){let t=e.get($i);try{t.addSubscription(Eq(e)),t.addSubscription(Wpe(e));let n=dr.workspace.getConfiguration().inspect("editor.inlineSuggest.enabled");(n?.globalValue===!1||n?.workspaceValue===!1)&&gt.warn(e,"editor.inlineSuggest.enabled is disabled. Enabling recommended to use Copilot.")}catch(r){p0(e,r,"registerGhostTextSupport")}}o($pe,"registerGhostTextSupport");function Wpe(e){let t=new V8(e);return dr.languages.registerInlineCompletionItemProvider({pattern:"**"},t,{})}o(Wpe,"registerInlineCompletion");function qpe(e){Ds(e,j8,()=>dr.env.openExternal(dr.Uri.parse("https://github.com/microsoft/vscode-copilot-release/issues"))),Ds(e,$8,()=>dr.env.openExternal(dr.Uri.parse("https://docs.github.com/en/copilot/getting-started-with-github-copilot?tool=vscode"))),Ds(e,Ih,()=>{GI.show()})}o(qpe,"registerDiagnosticCommands");var WI=class extends La{static{o(this,"VSCodeUrlOpener")}async open(t){await dr.env.openExternal(dr.Uri.parse(t))}};function Gpe(e){switch(e){case dr.UIKind.Desktop:return"desktop";case dr.UIKind.Web:return"web"}return"unknown"}o(Gpe,"uiKindToString");function zpe(e){let t=SW(new L8);return t.set(Dc,new I8),t.set(El,El.fromEnvironment(!1,[],{})),t.set(Sl,new T8),t.set(no,new z8),t.set(x0,new w8(t)),t.set(Yn,new E8(t)),t.set(Wf,new qI(GI)),t.set(cr,new F8),t.set(bn,new bn(dr.env.sessionId,dr.env.machineId,dr.env.remoteName,Gpe(dr.env.uiKind))),t.set($i,new $i(e)),wW(t),t.set(fa,new fa),t.set(Yr,new D8(t)),t.set(La,new WI),hz(t,e,pu.name,dr.env.isTelemetryEnabled),t.set(Gt,new H8(t)),t.set(Zr,bq),t.set(Df,new C8(t)),t.set(Bi,new Bi),t.set(h1,new h1(t)),t.set(aa,HB(t,hq)),t.set(ul,new ul(t)),t.set(Oc,new ub),DW(t),t}o(zpe,"createExtensionContext");function _z(e){return{dispose:o(()=>{Se(e,"extension.deactivate"),e.get(ko).deactivate()},"dispose")}}o(_z,"onDeactivate");var qI=class extends Wf{constructor(r){super();this.output=r}static{o(this,"WebLogTarget")}logIt(r,n,i,...s){let a=`[${i}]`;n==1?this.output.error(a,...s):n==2?this.output.warn(a,...s):n==3?this.output.info(a,...s):n==4&&this.output.debug(a,...s)}};
//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
/*! Bundled license information:

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cdric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

git-url-parse/lib/index.js:
  (*!
   * buildToken
   * Builds OAuth token prefix (helper function)
   *
   * @name buildToken
   * @function
   * @param {GitUrl} obj The parsed Git url object.
   * @return {String} token prefix
   *)

@nevware21/ts-utils/dist/es5/mod/ts-utils.js:
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)

@nevware21/ts-async/dist/es5/mod/ts-async.js:
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.4
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)
*/
//# sourceMappingURL=web.js.map
